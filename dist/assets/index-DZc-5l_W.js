(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();function n1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var xh={exports:{}},na={};var V0;function oT(){if(V0)return na;V0=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,s,a){var c=null;if(a!==void 0&&(c=""+a),s.key!==void 0&&(c=""+s.key),"key"in s){a={};for(var u in s)u!=="key"&&(a[u]=s[u])}else a=s;return s=a.ref,{$$typeof:t,type:i,key:c,ref:s!==void 0?s:null,props:a}}return na.Fragment=e,na.jsx=n,na.jsxs=n,na}var P0;function cT(){return P0||(P0=1,xh.exports=oT()),xh.exports}var b=cT(),vh={exports:{}},de={};var $0;function uT(){if($0)return de;$0=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),x=Symbol.iterator;function v(O){return O===null||typeof O!="object"?null:(O=x&&O[x]||O["@@iterator"],typeof O=="function"?O:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,k={};function T(O,K,W){this.props=O,this.context=K,this.refs=k,this.updater=W||S}T.prototype.isReactComponent={},T.prototype.setState=function(O,K){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,K,"setState")},T.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function M(){}M.prototype=T.prototype;function D(O,K,W){this.props=O,this.context=K,this.refs=k,this.updater=W||S}var V=D.prototype=new M;V.constructor=D,E(V,T.prototype),V.isPureReactComponent=!0;var z=Array.isArray;function P(){}var L={H:null,A:null,T:null,S:null},G=Object.prototype.hasOwnProperty;function Z(O,K,W){var te=W.ref;return{$$typeof:t,type:O,key:K,ref:te!==void 0?te:null,props:W}}function he(O,K){return Z(O.type,K,O.props)}function st(O){return typeof O=="object"&&O!==null&&O.$$typeof===t}function _e(O){var K={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(W){return K[W]})}var lt=/\/+/g;function Oe(O,K){return typeof O=="object"&&O!==null&&O.key!=null?_e(""+O.key):K.toString(36)}function je(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(P,P):(O.status="pending",O.then(function(K){O.status==="pending"&&(O.status="fulfilled",O.value=K)},function(K){O.status==="pending"&&(O.status="rejected",O.reason=K)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function U(O,K,W,te,fe){var be=typeof O;(be==="undefined"||be==="boolean")&&(O=null);var Re=!1;if(O===null)Re=!0;else switch(be){case"bigint":case"string":case"number":Re=!0;break;case"object":switch(O.$$typeof){case t:case e:Re=!0;break;case m:return Re=O._init,U(Re(O._payload),K,W,te,fe)}}if(Re)return fe=fe(O),Re=te===""?"."+Oe(O,0):te,z(fe)?(W="",Re!=null&&(W=Re.replace(lt,"$&/")+"/"),U(fe,K,W,"",function(cl){return cl})):fe!=null&&(st(fe)&&(fe=he(fe,W+(fe.key==null||O&&O.key===fe.key?"":(""+fe.key).replace(lt,"$&/")+"/")+Re)),K.push(fe)),1;Re=0;var _t=te===""?".":te+":";if(z(O))for(var tt=0;tt<O.length;tt++)te=O[tt],be=_t+Oe(te,tt),Re+=U(te,K,W,be,fe);else if(tt=v(O),typeof tt=="function")for(O=tt.call(O),tt=0;!(te=O.next()).done;)te=te.value,be=_t+Oe(te,tt++),Re+=U(te,K,W,be,fe);else if(be==="object"){if(typeof O.then=="function")return U(je(O),K,W,te,fe);throw K=String(O),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return Re}function Q(O,K,W){if(O==null)return O;var te=[],fe=0;return U(O,te,"","",function(be){return K.call(W,be,fe++)}),te}function re(O){if(O._status===-1){var K=O._result;K=K(),K.then(function(W){(O._status===0||O._status===-1)&&(O._status=1,O._result=W)},function(W){(O._status===0||O._status===-1)&&(O._status=2,O._result=W)}),O._status===-1&&(O._status=0,O._result=K)}if(O._status===1)return O._result.default;throw O._result}var Ce=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},De={map:Q,forEach:function(O,K,W){Q(O,function(){K.apply(this,arguments)},W)},count:function(O){var K=0;return Q(O,function(){K++}),K},toArray:function(O){return Q(O,function(K){return K})||[]},only:function(O){if(!st(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return de.Activity=y,de.Children=De,de.Component=T,de.Fragment=n,de.Profiler=s,de.PureComponent=D,de.StrictMode=i,de.Suspense=d,de.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=L,de.__COMPILER_RUNTIME={__proto__:null,c:function(O){return L.H.useMemoCache(O)}},de.cache=function(O){return function(){return O.apply(null,arguments)}},de.cacheSignal=function(){return null},de.cloneElement=function(O,K,W){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var te=E({},O.props),fe=O.key;if(K!=null)for(be in K.key!==void 0&&(fe=""+K.key),K)!G.call(K,be)||be==="key"||be==="__self"||be==="__source"||be==="ref"&&K.ref===void 0||(te[be]=K[be]);var be=arguments.length-2;if(be===1)te.children=W;else if(1<be){for(var Re=Array(be),_t=0;_t<be;_t++)Re[_t]=arguments[_t+2];te.children=Re}return Z(O.type,fe,te)},de.createContext=function(O){return O={$$typeof:c,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:a,_context:O},O},de.createElement=function(O,K,W){var te,fe={},be=null;if(K!=null)for(te in K.key!==void 0&&(be=""+K.key),K)G.call(K,te)&&te!=="key"&&te!=="__self"&&te!=="__source"&&(fe[te]=K[te]);var Re=arguments.length-2;if(Re===1)fe.children=W;else if(1<Re){for(var _t=Array(Re),tt=0;tt<Re;tt++)_t[tt]=arguments[tt+2];fe.children=_t}if(O&&O.defaultProps)for(te in Re=O.defaultProps,Re)fe[te]===void 0&&(fe[te]=Re[te]);return Z(O,be,fe)},de.createRef=function(){return{current:null}},de.forwardRef=function(O){return{$$typeof:u,render:O}},de.isValidElement=st,de.lazy=function(O){return{$$typeof:m,_payload:{_status:-1,_result:O},_init:re}},de.memo=function(O,K){return{$$typeof:h,type:O,compare:K===void 0?null:K}},de.startTransition=function(O){var K=L.T,W={};L.T=W;try{var te=O(),fe=L.S;fe!==null&&fe(W,te),typeof te=="object"&&te!==null&&typeof te.then=="function"&&te.then(P,Ce)}catch(be){Ce(be)}finally{K!==null&&W.types!==null&&(K.types=W.types),L.T=K}},de.unstable_useCacheRefresh=function(){return L.H.useCacheRefresh()},de.use=function(O){return L.H.use(O)},de.useActionState=function(O,K,W){return L.H.useActionState(O,K,W)},de.useCallback=function(O,K){return L.H.useCallback(O,K)},de.useContext=function(O){return L.H.useContext(O)},de.useDebugValue=function(){},de.useDeferredValue=function(O,K){return L.H.useDeferredValue(O,K)},de.useEffect=function(O,K){return L.H.useEffect(O,K)},de.useEffectEvent=function(O){return L.H.useEffectEvent(O)},de.useId=function(){return L.H.useId()},de.useImperativeHandle=function(O,K,W){return L.H.useImperativeHandle(O,K,W)},de.useInsertionEffect=function(O,K){return L.H.useInsertionEffect(O,K)},de.useLayoutEffect=function(O,K){return L.H.useLayoutEffect(O,K)},de.useMemo=function(O,K){return L.H.useMemo(O,K)},de.useOptimistic=function(O,K){return L.H.useOptimistic(O,K)},de.useReducer=function(O,K,W){return L.H.useReducer(O,K,W)},de.useRef=function(O){return L.H.useRef(O)},de.useState=function(O){return L.H.useState(O)},de.useSyncExternalStore=function(O,K,W){return L.H.useSyncExternalStore(O,K,W)},de.useTransition=function(){return L.H.useTransition()},de.version="19.2.4",de}var F0;function _a(){return F0||(F0=1,vh.exports=uT()),vh.exports}var A=_a();const Gr=n1(A);var Sh={exports:{}},ia={},wh={exports:{}},kh={};var K0;function fT(){return K0||(K0=1,(function(t){function e(U,Q){var re=U.length;U.push(Q);e:for(;0<re;){var Ce=re-1>>>1,De=U[Ce];if(0<s(De,Q))U[Ce]=Q,U[re]=De,re=Ce;else break e}}function n(U){return U.length===0?null:U[0]}function i(U){if(U.length===0)return null;var Q=U[0],re=U.pop();if(re!==Q){U[0]=re;e:for(var Ce=0,De=U.length,O=De>>>1;Ce<O;){var K=2*(Ce+1)-1,W=U[K],te=K+1,fe=U[te];if(0>s(W,re))te<De&&0>s(fe,W)?(U[Ce]=fe,U[te]=re,Ce=te):(U[Ce]=W,U[K]=re,Ce=K);else if(te<De&&0>s(fe,re))U[Ce]=fe,U[te]=re,Ce=te;else break e}}return Q}function s(U,Q){var re=U.sortIndex-Q.sortIndex;return re!==0?re:U.id-Q.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var c=Date,u=c.now();t.unstable_now=function(){return c.now()-u}}var d=[],h=[],m=1,y=null,x=3,v=!1,S=!1,E=!1,k=!1,T=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function V(U){for(var Q=n(h);Q!==null;){if(Q.callback===null)i(h);else if(Q.startTime<=U)i(h),Q.sortIndex=Q.expirationTime,e(d,Q);else break;Q=n(h)}}function z(U){if(E=!1,V(U),!S)if(n(d)!==null)S=!0,P||(P=!0,_e());else{var Q=n(h);Q!==null&&je(z,Q.startTime-U)}}var P=!1,L=-1,G=5,Z=-1;function he(){return k?!0:!(t.unstable_now()-Z<G)}function st(){if(k=!1,P){var U=t.unstable_now();Z=U;var Q=!0;try{e:{S=!1,E&&(E=!1,M(L),L=-1),v=!0;var re=x;try{t:{for(V(U),y=n(d);y!==null&&!(y.expirationTime>U&&he());){var Ce=y.callback;if(typeof Ce=="function"){y.callback=null,x=y.priorityLevel;var De=Ce(y.expirationTime<=U);if(U=t.unstable_now(),typeof De=="function"){y.callback=De,V(U),Q=!0;break t}y===n(d)&&i(d),V(U)}else i(d);y=n(d)}if(y!==null)Q=!0;else{var O=n(h);O!==null&&je(z,O.startTime-U),Q=!1}}break e}finally{y=null,x=re,v=!1}Q=void 0}}finally{Q?_e():P=!1}}}var _e;if(typeof D=="function")_e=function(){D(st)};else if(typeof MessageChannel<"u"){var lt=new MessageChannel,Oe=lt.port2;lt.port1.onmessage=st,_e=function(){Oe.postMessage(null)}}else _e=function(){T(st,0)};function je(U,Q){L=T(function(){U(t.unstable_now())},Q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_next=function(U){switch(x){case 1:case 2:case 3:var Q=3;break;default:Q=x}var re=x;x=Q;try{return U()}finally{x=re}},t.unstable_requestPaint=function(){k=!0},t.unstable_runWithPriority=function(U,Q){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var re=x;x=U;try{return Q()}finally{x=re}},t.unstable_scheduleCallback=function(U,Q,re){var Ce=t.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?Ce+re:Ce):re=Ce,U){case 1:var De=-1;break;case 2:De=250;break;case 5:De=1073741823;break;case 4:De=1e4;break;default:De=5e3}return De=re+De,U={id:m++,callback:Q,priorityLevel:U,startTime:re,expirationTime:De,sortIndex:-1},re>Ce?(U.sortIndex=re,e(h,U),n(d)===null&&U===n(h)&&(E?(M(L),L=-1):E=!0,je(z,re-Ce))):(U.sortIndex=De,e(d,U),S||v||(S=!0,P||(P=!0,_e()))),U},t.unstable_shouldYield=he,t.unstable_wrapCallback=function(U){var Q=x;return function(){var re=x;x=Q;try{return U.apply(this,arguments)}finally{x=re}}}})(kh)),kh}var G0;function dT(){return G0||(G0=1,wh.exports=fT()),wh.exports}var Eh={exports:{}},jt={};var Y0;function hT(){if(Y0)return jt;Y0=1;var t=_a();function e(d){var h="https://react.dev/errors/"+d;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)h+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+d+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function a(d,h,m){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:y==null?null:""+y,children:d,containerInfo:h,implementation:m}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(d,h){if(d==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return jt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,jt.createPortal=function(d,h){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return a(d,h,null,m)},jt.flushSync=function(d){var h=c.T,m=i.p;try{if(c.T=null,i.p=2,d)return d()}finally{c.T=h,i.p=m,i.d.f()}},jt.preconnect=function(d,h){typeof d=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,i.d.C(d,h))},jt.prefetchDNS=function(d){typeof d=="string"&&i.d.D(d)},jt.preinit=function(d,h){if(typeof d=="string"&&h&&typeof h.as=="string"){var m=h.as,y=u(m,h.crossOrigin),x=typeof h.integrity=="string"?h.integrity:void 0,v=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;m==="style"?i.d.S(d,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:y,integrity:x,fetchPriority:v}):m==="script"&&i.d.X(d,{crossOrigin:y,integrity:x,fetchPriority:v,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},jt.preinitModule=function(d,h){if(typeof d=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var m=u(h.as,h.crossOrigin);i.d.M(d,{crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&i.d.M(d)},jt.preload=function(d,h){if(typeof d=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var m=h.as,y=u(m,h.crossOrigin);i.d.L(d,m,{crossOrigin:y,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},jt.preloadModule=function(d,h){if(typeof d=="string")if(h){var m=u(h.as,h.crossOrigin);i.d.m(d,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else i.d.m(d)},jt.requestFormReset=function(d){i.d.r(d)},jt.unstable_batchedUpdates=function(d,h){return d(h)},jt.useFormState=function(d,h,m){return c.H.useFormState(d,h,m)},jt.useFormStatus=function(){return c.H.useHostTransitionStatus()},jt.version="19.2.4",jt}var J0;function i1(){if(J0)return Eh.exports;J0=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Eh.exports=hT(),Eh.exports}var X0;function pT(){if(X0)return ia;X0=1;var t=dT(),e=_a(),n=i1();function i(r){var l="https://react.dev/errors/"+r;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)l+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function a(r){var l=r,o=r;if(r.alternate)for(;l.return;)l=l.return;else{r=l;do l=r,(l.flags&4098)!==0&&(o=l.return),r=l.return;while(r)}return l.tag===3?o:null}function c(r){if(r.tag===13){var l=r.memoizedState;if(l===null&&(r=r.alternate,r!==null&&(l=r.memoizedState)),l!==null)return l.dehydrated}return null}function u(r){if(r.tag===31){var l=r.memoizedState;if(l===null&&(r=r.alternate,r!==null&&(l=r.memoizedState)),l!==null)return l.dehydrated}return null}function d(r){if(a(r)!==r)throw Error(i(188))}function h(r){var l=r.alternate;if(!l){if(l=a(r),l===null)throw Error(i(188));return l!==r?null:r}for(var o=r,f=l;;){var p=o.return;if(p===null)break;var g=p.alternate;if(g===null){if(f=p.return,f!==null){o=f;continue}break}if(p.child===g.child){for(g=p.child;g;){if(g===o)return d(p),r;if(g===f)return d(p),l;g=g.sibling}throw Error(i(188))}if(o.return!==f.return)o=p,f=g;else{for(var w=!1,N=p.child;N;){if(N===o){w=!0,o=p,f=g;break}if(N===f){w=!0,f=p,o=g;break}N=N.sibling}if(!w){for(N=g.child;N;){if(N===o){w=!0,o=g,f=p;break}if(N===f){w=!0,f=g,o=p;break}N=N.sibling}if(!w)throw Error(i(189))}}if(o.alternate!==f)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?r:l}function m(r){var l=r.tag;if(l===5||l===26||l===27||l===6)return r;for(r=r.child;r!==null;){if(l=m(r),l!==null)return l;r=r.sibling}return null}var y=Object.assign,x=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),M=Symbol.for("react.consumer"),D=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),z=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),G=Symbol.for("react.lazy"),Z=Symbol.for("react.activity"),he=Symbol.for("react.memo_cache_sentinel"),st=Symbol.iterator;function _e(r){return r===null||typeof r!="object"?null:(r=st&&r[st]||r["@@iterator"],typeof r=="function"?r:null)}var lt=Symbol.for("react.client.reference");function Oe(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===lt?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case E:return"Fragment";case T:return"Profiler";case k:return"StrictMode";case z:return"Suspense";case P:return"SuspenseList";case Z:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case S:return"Portal";case D:return r.displayName||"Context";case M:return(r._context.displayName||"Context")+".Consumer";case V:var l=r.render;return r=r.displayName,r||(r=l.displayName||l.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case L:return l=r.displayName||null,l!==null?l:Oe(r.type)||"Memo";case G:l=r._payload,r=r._init;try{return Oe(r(l))}catch{}}return null}var je=Array.isArray,U=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re={pending:!1,data:null,method:null,action:null},Ce=[],De=-1;function O(r){return{current:r}}function K(r){0>De||(r.current=Ce[De],Ce[De]=null,De--)}function W(r,l){De++,Ce[De]=r.current,r.current=l}var te=O(null),fe=O(null),be=O(null),Re=O(null);function _t(r,l){switch(W(be,l),W(fe,r),W(te,null),l.nodeType){case 9:case 11:r=(r=l.documentElement)&&(r=r.namespaceURI)?f0(r):0;break;default:if(r=l.tagName,l=l.namespaceURI)l=f0(l),r=d0(l,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}K(te),W(te,r)}function tt(){K(te),K(fe),K(be)}function cl(r){r.memoizedState!==null&&W(Re,r);var l=te.current,o=d0(l,r.type);l!==o&&(W(fe,r),W(te,o))}function Xa(r){fe.current===r&&(K(te),K(fe)),Re.current===r&&(K(Re),Wl._currentValue=re)}var ef,Im;function mr(r){if(ef===void 0)try{throw Error()}catch(o){var l=o.stack.trim().match(/\n( *(at )?)/);ef=l&&l[1]||"",Im=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ef+r+Im}var tf=!1;function nf(r,l){if(!r||tf)return"";tf=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(l){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(q){var H=q}Reflect.construct(r,[],Y)}else{try{Y.call()}catch(q){H=q}r.call(Y.prototype)}}else{try{throw Error()}catch(q){H=q}(Y=r())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(q){if(q&&H&&typeof q.stack=="string")return[q.stack,H.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=f.DetermineComponentFrameRoot(),w=g[0],N=g[1];if(w&&N){var C=w.split(`
`),B=N.split(`
`);for(p=f=0;f<C.length&&!C[f].includes("DetermineComponentFrameRoot");)f++;for(;p<B.length&&!B[p].includes("DetermineComponentFrameRoot");)p++;if(f===C.length||p===B.length)for(f=C.length-1,p=B.length-1;1<=f&&0<=p&&C[f]!==B[p];)p--;for(;1<=f&&0<=p;f--,p--)if(C[f]!==B[p]){if(f!==1||p!==1)do if(f--,p--,0>p||C[f]!==B[p]){var $=`
`+C[f].replace(" at new "," at ");return r.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",r.displayName)),$}while(1<=f&&0<=p);break}}}finally{tf=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?mr(o):""}function Uk(r,l){switch(r.tag){case 26:case 27:case 5:return mr(r.type);case 16:return mr("Lazy");case 13:return r.child!==l&&l!==null?mr("Suspense Fallback"):mr("Suspense");case 19:return mr("SuspenseList");case 0:case 15:return nf(r.type,!1);case 11:return nf(r.type.render,!1);case 1:return nf(r.type,!0);case 31:return mr("Activity");default:return""}}function Vm(r){try{var l="",o=null;do l+=Uk(r,o),o=r,r=r.return;while(r);return l}catch(f){return`
Error generating stack: `+f.message+`
`+f.stack}}var rf=Object.prototype.hasOwnProperty,sf=t.unstable_scheduleCallback,lf=t.unstable_cancelCallback,qk=t.unstable_shouldYield,Ik=t.unstable_requestPaint,Zt=t.unstable_now,Vk=t.unstable_getCurrentPriorityLevel,Pm=t.unstable_ImmediatePriority,$m=t.unstable_UserBlockingPriority,Qa=t.unstable_NormalPriority,Pk=t.unstable_LowPriority,Fm=t.unstable_IdlePriority,$k=t.log,Fk=t.unstable_setDisableYieldValue,ul=null,en=null;function Ni(r){if(typeof $k=="function"&&Fk(r),en&&typeof en.setStrictMode=="function")try{en.setStrictMode(ul,r)}catch{}}var tn=Math.clz32?Math.clz32:Yk,Kk=Math.log,Gk=Math.LN2;function Yk(r){return r>>>=0,r===0?32:31-(Kk(r)/Gk|0)|0}var Wa=256,Za=262144,eo=4194304;function gr(r){var l=r&42;if(l!==0)return l;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return r&261888;case 262144:case 524288:case 1048576:case 2097152:return r&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function to(r,l,o){var f=r.pendingLanes;if(f===0)return 0;var p=0,g=r.suspendedLanes,w=r.pingedLanes;r=r.warmLanes;var N=f&134217727;return N!==0?(f=N&~g,f!==0?p=gr(f):(w&=N,w!==0?p=gr(w):o||(o=N&~r,o!==0&&(p=gr(o))))):(N=f&~g,N!==0?p=gr(N):w!==0?p=gr(w):o||(o=f&~r,o!==0&&(p=gr(o)))),p===0?0:l!==0&&l!==p&&(l&g)===0&&(g=p&-p,o=l&-l,g>=o||g===32&&(o&4194048)!==0)?l:p}function fl(r,l){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&l)===0}function Jk(r,l){switch(r){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Km(){var r=eo;return eo<<=1,(eo&62914560)===0&&(eo=4194304),r}function af(r){for(var l=[],o=0;31>o;o++)l.push(r);return l}function dl(r,l){r.pendingLanes|=l,l!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Xk(r,l,o,f,p,g){var w=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var N=r.entanglements,C=r.expirationTimes,B=r.hiddenUpdates;for(o=w&~o;0<o;){var $=31-tn(o),Y=1<<$;N[$]=0,C[$]=-1;var H=B[$];if(H!==null)for(B[$]=null,$=0;$<H.length;$++){var q=H[$];q!==null&&(q.lane&=-536870913)}o&=~Y}f!==0&&Gm(r,f,0),g!==0&&p===0&&r.tag!==0&&(r.suspendedLanes|=g&~(w&~l))}function Gm(r,l,o){r.pendingLanes|=l,r.suspendedLanes&=~l;var f=31-tn(l);r.entangledLanes|=l,r.entanglements[f]=r.entanglements[f]|1073741824|o&261930}function Ym(r,l){var o=r.entangledLanes|=l;for(r=r.entanglements;o;){var f=31-tn(o),p=1<<f;p&l|r[f]&l&&(r[f]|=l),o&=~p}}function Jm(r,l){var o=l&-l;return o=(o&42)!==0?1:of(o),(o&(r.suspendedLanes|l))!==0?0:o}function of(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function cf(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Xm(){var r=Q.p;return r!==0?r:(r=window.event,r===void 0?32:L0(r.type))}function Qm(r,l){var o=Q.p;try{return Q.p=r,l()}finally{Q.p=o}}var Ti=Math.random().toString(36).slice(2),kt="__reactFiber$"+Ti,Vt="__reactProps$"+Ti,rs="__reactContainer$"+Ti,uf="__reactEvents$"+Ti,Qk="__reactListeners$"+Ti,Wk="__reactHandles$"+Ti,Wm="__reactResources$"+Ti,hl="__reactMarker$"+Ti;function ff(r){delete r[kt],delete r[Vt],delete r[uf],delete r[Qk],delete r[Wk]}function ss(r){var l=r[kt];if(l)return l;for(var o=r.parentNode;o;){if(l=o[rs]||o[kt]){if(o=l.alternate,l.child!==null||o!==null&&o.child!==null)for(r=x0(r);r!==null;){if(o=r[kt])return o;r=x0(r)}return l}r=o,o=r.parentNode}return null}function ls(r){if(r=r[kt]||r[rs]){var l=r.tag;if(l===5||l===6||l===13||l===31||l===26||l===27||l===3)return r}return null}function pl(r){var l=r.tag;if(l===5||l===26||l===27||l===6)return r.stateNode;throw Error(i(33))}function as(r){var l=r[Wm];return l||(l=r[Wm]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function gt(r){r[hl]=!0}var Zm=new Set,eg={};function yr(r,l){cs(r,l),cs(r+"Capture",l)}function cs(r,l){for(eg[r]=l,r=0;r<l.length;r++)Zm.add(l[r])}var Zk=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),tg={},ng={};function eE(r){return rf.call(ng,r)?!0:rf.call(tg,r)?!1:Zk.test(r)?ng[r]=!0:(tg[r]=!0,!1)}function no(r,l,o){if(eE(l))if(o===null)r.removeAttribute(l);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(l);return;case"boolean":var f=l.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){r.removeAttribute(l);return}}r.setAttribute(l,""+o)}}function io(r,l,o){if(o===null)r.removeAttribute(l);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(l);return}r.setAttribute(l,""+o)}}function Xn(r,l,o,f){if(f===null)r.removeAttribute(o);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(l,o,""+f)}}function hn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function ig(r){var l=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function tE(r,l,o){var f=Object.getOwnPropertyDescriptor(r.constructor.prototype,l);if(!r.hasOwnProperty(l)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var p=f.get,g=f.set;return Object.defineProperty(r,l,{configurable:!0,get:function(){return p.call(this)},set:function(w){o=""+w,g.call(this,w)}}),Object.defineProperty(r,l,{enumerable:f.enumerable}),{getValue:function(){return o},setValue:function(w){o=""+w},stopTracking:function(){r._valueTracker=null,delete r[l]}}}}function df(r){if(!r._valueTracker){var l=ig(r)?"checked":"value";r._valueTracker=tE(r,l,""+r[l])}}function rg(r){if(!r)return!1;var l=r._valueTracker;if(!l)return!0;var o=l.getValue(),f="";return r&&(f=ig(r)?r.checked?"true":"false":r.value),r=f,r!==o?(l.setValue(r),!0):!1}function ro(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var nE=/[\n"\\]/g;function pn(r){return r.replace(nE,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function hf(r,l,o,f,p,g,w,N){r.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?r.type=w:r.removeAttribute("type"),l!=null?w==="number"?(l===0&&r.value===""||r.value!=l)&&(r.value=""+hn(l)):r.value!==""+hn(l)&&(r.value=""+hn(l)):w!=="submit"&&w!=="reset"||r.removeAttribute("value"),l!=null?pf(r,w,hn(l)):o!=null?pf(r,w,hn(o)):f!=null&&r.removeAttribute("value"),p==null&&g!=null&&(r.defaultChecked=!!g),p!=null&&(r.checked=p&&typeof p!="function"&&typeof p!="symbol"),N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?r.name=""+hn(N):r.removeAttribute("name")}function sg(r,l,o,f,p,g,w,N){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(r.type=g),l!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||l!=null)){df(r);return}o=o!=null?""+hn(o):"",l=l!=null?""+hn(l):o,N||l===r.value||(r.value=l),r.defaultValue=l}f=f??p,f=typeof f!="function"&&typeof f!="symbol"&&!!f,r.checked=N?r.checked:!!f,r.defaultChecked=!!f,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(r.name=w),df(r)}function pf(r,l,o){l==="number"&&ro(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function us(r,l,o,f){if(r=r.options,l){l={};for(var p=0;p<o.length;p++)l["$"+o[p]]=!0;for(o=0;o<r.length;o++)p=l.hasOwnProperty("$"+r[o].value),r[o].selected!==p&&(r[o].selected=p),p&&f&&(r[o].defaultSelected=!0)}else{for(o=""+hn(o),l=null,p=0;p<r.length;p++){if(r[p].value===o){r[p].selected=!0,f&&(r[p].defaultSelected=!0);return}l!==null||r[p].disabled||(l=r[p])}l!==null&&(l.selected=!0)}}function lg(r,l,o){if(l!=null&&(l=""+hn(l),l!==r.value&&(r.value=l),o==null)){r.defaultValue!==l&&(r.defaultValue=l);return}r.defaultValue=o!=null?""+hn(o):""}function ag(r,l,o,f){if(l==null){if(f!=null){if(o!=null)throw Error(i(92));if(je(f)){if(1<f.length)throw Error(i(93));f=f[0]}o=f}o==null&&(o=""),l=o}o=hn(l),r.defaultValue=o,f=r.textContent,f===o&&f!==""&&f!==null&&(r.value=f),df(r)}function fs(r,l){if(l){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=l;return}}r.textContent=l}var iE=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function og(r,l,o){var f=l.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?f?r.setProperty(l,""):l==="float"?r.cssFloat="":r[l]="":f?r.setProperty(l,o):typeof o!="number"||o===0||iE.has(l)?l==="float"?r.cssFloat=o:r[l]=(""+o).trim():r[l]=o+"px"}function cg(r,l,o){if(l!=null&&typeof l!="object")throw Error(i(62));if(r=r.style,o!=null){for(var f in o)!o.hasOwnProperty(f)||l!=null&&l.hasOwnProperty(f)||(f.indexOf("--")===0?r.setProperty(f,""):f==="float"?r.cssFloat="":r[f]="");for(var p in l)f=l[p],l.hasOwnProperty(p)&&o[p]!==f&&og(r,p,f)}else for(var g in l)l.hasOwnProperty(g)&&og(r,g,l[g])}function mf(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rE=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),sE=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function so(r){return sE.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}function Qn(){}var gf=null;function yf(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var ds=null,hs=null;function ug(r){var l=ls(r);if(l&&(r=l.stateNode)){var o=r[Vt]||null;e:switch(r=l.stateNode,l.type){case"input":if(hf(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),l=o.name,o.type==="radio"&&l!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+pn(""+l)+'"][type="radio"]'),l=0;l<o.length;l++){var f=o[l];if(f!==r&&f.form===r.form){var p=f[Vt]||null;if(!p)throw Error(i(90));hf(f,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(l=0;l<o.length;l++)f=o[l],f.form===r.form&&rg(f)}break e;case"textarea":lg(r,o.value,o.defaultValue);break e;case"select":l=o.value,l!=null&&us(r,!!o.multiple,l,!1)}}}var bf=!1;function fg(r,l,o){if(bf)return r(l,o);bf=!0;try{var f=r(l);return f}finally{if(bf=!1,(ds!==null||hs!==null)&&(Go(),ds&&(l=ds,r=hs,hs=ds=null,ug(l),r)))for(l=0;l<r.length;l++)ug(r[l])}}function ml(r,l){var o=r.stateNode;if(o===null)return null;var f=o[Vt]||null;if(f===null)return null;o=f[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(r=r.type,f=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!f;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(i(231,l,typeof o));return o}var Wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xf=!1;if(Wn)try{var gl={};Object.defineProperty(gl,"passive",{get:function(){xf=!0}}),window.addEventListener("test",gl,gl),window.removeEventListener("test",gl,gl)}catch{xf=!1}var Ci=null,vf=null,lo=null;function dg(){if(lo)return lo;var r,l=vf,o=l.length,f,p="value"in Ci?Ci.value:Ci.textContent,g=p.length;for(r=0;r<o&&l[r]===p[r];r++);var w=o-r;for(f=1;f<=w&&l[o-f]===p[g-f];f++);return lo=p.slice(r,1<f?1-f:void 0)}function ao(r){var l=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&l===13&&(r=13)):r=l,r===10&&(r=13),32<=r||r===13?r:0}function oo(){return!0}function hg(){return!1}function Pt(r){function l(o,f,p,g,w){this._reactName=o,this._targetInst=p,this.type=f,this.nativeEvent=g,this.target=w,this.currentTarget=null;for(var N in r)r.hasOwnProperty(N)&&(o=r[N],this[N]=o?o(g):g[N]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?oo:hg,this.isPropagationStopped=hg,this}return y(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=oo)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=oo)},persist:function(){},isPersistent:oo}),l}var br={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},co=Pt(br),yl=y({},br,{view:0,detail:0}),lE=Pt(yl),Sf,wf,bl,uo=y({},yl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ef,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==bl&&(bl&&r.type==="mousemove"?(Sf=r.screenX-bl.screenX,wf=r.screenY-bl.screenY):wf=Sf=0,bl=r),Sf)},movementY:function(r){return"movementY"in r?r.movementY:wf}}),pg=Pt(uo),aE=y({},uo,{dataTransfer:0}),oE=Pt(aE),cE=y({},yl,{relatedTarget:0}),kf=Pt(cE),uE=y({},br,{animationName:0,elapsedTime:0,pseudoElement:0}),fE=Pt(uE),dE=y({},br,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),hE=Pt(dE),pE=y({},br,{data:0}),mg=Pt(pE),mE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bE(r){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(r):(r=yE[r])?!!l[r]:!1}function Ef(){return bE}var xE=y({},yl,{key:function(r){if(r.key){var l=mE[r.key]||r.key;if(l!=="Unidentified")return l}return r.type==="keypress"?(r=ao(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?gE[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ef,charCode:function(r){return r.type==="keypress"?ao(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?ao(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),vE=Pt(xE),SE=y({},uo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gg=Pt(SE),wE=y({},yl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ef}),kE=Pt(wE),EE=y({},br,{propertyName:0,elapsedTime:0,pseudoElement:0}),NE=Pt(EE),TE=y({},uo,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),CE=Pt(TE),AE=y({},br,{newState:0,oldState:0}),ME=Pt(AE),OE=[9,13,27,32],Nf=Wn&&"CompositionEvent"in window,xl=null;Wn&&"documentMode"in document&&(xl=document.documentMode);var RE=Wn&&"TextEvent"in window&&!xl,yg=Wn&&(!Nf||xl&&8<xl&&11>=xl),bg=" ",xg=!1;function vg(r,l){switch(r){case"keyup":return OE.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sg(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var ps=!1;function jE(r,l){switch(r){case"compositionend":return Sg(l);case"keypress":return l.which!==32?null:(xg=!0,bg);case"textInput":return r=l.data,r===bg&&xg?null:r;default:return null}}function DE(r,l){if(ps)return r==="compositionend"||!Nf&&vg(r,l)?(r=dg(),lo=vf=Ci=null,ps=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return yg&&l.locale!=="ko"?null:l.data;default:return null}}var zE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wg(r){var l=r&&r.nodeName&&r.nodeName.toLowerCase();return l==="input"?!!zE[r.type]:l==="textarea"}function kg(r,l,o,f){ds?hs?hs.push(f):hs=[f]:ds=f,l=ec(l,"onChange"),0<l.length&&(o=new co("onChange","change",null,o,f),r.push({event:o,listeners:l}))}var vl=null,Sl=null;function LE(r){s0(r,0)}function fo(r){var l=pl(r);if(rg(l))return r}function Eg(r,l){if(r==="change")return l}var Ng=!1;if(Wn){var Tf;if(Wn){var Cf="oninput"in document;if(!Cf){var Tg=document.createElement("div");Tg.setAttribute("oninput","return;"),Cf=typeof Tg.oninput=="function"}Tf=Cf}else Tf=!1;Ng=Tf&&(!document.documentMode||9<document.documentMode)}function Cg(){vl&&(vl.detachEvent("onpropertychange",Ag),Sl=vl=null)}function Ag(r){if(r.propertyName==="value"&&fo(Sl)){var l=[];kg(l,Sl,r,yf(r)),fg(LE,l)}}function _E(r,l,o){r==="focusin"?(Cg(),vl=l,Sl=o,vl.attachEvent("onpropertychange",Ag)):r==="focusout"&&Cg()}function BE(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return fo(Sl)}function HE(r,l){if(r==="click")return fo(l)}function UE(r,l){if(r==="input"||r==="change")return fo(l)}function qE(r,l){return r===l&&(r!==0||1/r===1/l)||r!==r&&l!==l}var nn=typeof Object.is=="function"?Object.is:qE;function wl(r,l){if(nn(r,l))return!0;if(typeof r!="object"||r===null||typeof l!="object"||l===null)return!1;var o=Object.keys(r),f=Object.keys(l);if(o.length!==f.length)return!1;for(f=0;f<o.length;f++){var p=o[f];if(!rf.call(l,p)||!nn(r[p],l[p]))return!1}return!0}function Mg(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Og(r,l){var o=Mg(r);r=0;for(var f;o;){if(o.nodeType===3){if(f=r+o.textContent.length,r<=l&&f>=l)return{node:o,offset:l-r};r=f}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Mg(o)}}function Rg(r,l){return r&&l?r===l?!0:r&&r.nodeType===3?!1:l&&l.nodeType===3?Rg(r,l.parentNode):"contains"in r?r.contains(l):r.compareDocumentPosition?!!(r.compareDocumentPosition(l)&16):!1:!1}function jg(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var l=ro(r.document);l instanceof r.HTMLIFrameElement;){try{var o=typeof l.contentWindow.location.href=="string"}catch{o=!1}if(o)r=l.contentWindow;else break;l=ro(r.document)}return l}function Af(r){var l=r&&r.nodeName&&r.nodeName.toLowerCase();return l&&(l==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||l==="textarea"||r.contentEditable==="true")}var IE=Wn&&"documentMode"in document&&11>=document.documentMode,ms=null,Mf=null,kl=null,Of=!1;function Dg(r,l,o){var f=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Of||ms==null||ms!==ro(f)||(f=ms,"selectionStart"in f&&Af(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),kl&&wl(kl,f)||(kl=f,f=ec(Mf,"onSelect"),0<f.length&&(l=new co("onSelect","select",null,l,o),r.push({event:l,listeners:f}),l.target=ms)))}function xr(r,l){var o={};return o[r.toLowerCase()]=l.toLowerCase(),o["Webkit"+r]="webkit"+l,o["Moz"+r]="moz"+l,o}var gs={animationend:xr("Animation","AnimationEnd"),animationiteration:xr("Animation","AnimationIteration"),animationstart:xr("Animation","AnimationStart"),transitionrun:xr("Transition","TransitionRun"),transitionstart:xr("Transition","TransitionStart"),transitioncancel:xr("Transition","TransitionCancel"),transitionend:xr("Transition","TransitionEnd")},Rf={},zg={};Wn&&(zg=document.createElement("div").style,"AnimationEvent"in window||(delete gs.animationend.animation,delete gs.animationiteration.animation,delete gs.animationstart.animation),"TransitionEvent"in window||delete gs.transitionend.transition);function vr(r){if(Rf[r])return Rf[r];if(!gs[r])return r;var l=gs[r],o;for(o in l)if(l.hasOwnProperty(o)&&o in zg)return Rf[r]=l[o];return r}var Lg=vr("animationend"),_g=vr("animationiteration"),Bg=vr("animationstart"),VE=vr("transitionrun"),PE=vr("transitionstart"),$E=vr("transitioncancel"),Hg=vr("transitionend"),Ug=new Map,jf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");jf.push("scrollEnd");function On(r,l){Ug.set(r,l),yr(l,[r])}var ho=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)},mn=[],ys=0,Df=0;function po(){for(var r=ys,l=Df=ys=0;l<r;){var o=mn[l];mn[l++]=null;var f=mn[l];mn[l++]=null;var p=mn[l];mn[l++]=null;var g=mn[l];if(mn[l++]=null,f!==null&&p!==null){var w=f.pending;w===null?p.next=p:(p.next=w.next,w.next=p),f.pending=p}g!==0&&qg(o,p,g)}}function mo(r,l,o,f){mn[ys++]=r,mn[ys++]=l,mn[ys++]=o,mn[ys++]=f,Df|=f,r.lanes|=f,r=r.alternate,r!==null&&(r.lanes|=f)}function zf(r,l,o,f){return mo(r,l,o,f),go(r)}function Sr(r,l){return mo(r,null,null,l),go(r)}function qg(r,l,o){r.lanes|=o;var f=r.alternate;f!==null&&(f.lanes|=o);for(var p=!1,g=r.return;g!==null;)g.childLanes|=o,f=g.alternate,f!==null&&(f.childLanes|=o),g.tag===22&&(r=g.stateNode,r===null||r._visibility&1||(p=!0)),r=g,g=g.return;return r.tag===3?(g=r.stateNode,p&&l!==null&&(p=31-tn(o),r=g.hiddenUpdates,f=r[p],f===null?r[p]=[l]:f.push(l),l.lane=o|536870912),g):null}function go(r){if(50<Fl)throw Fl=0,Pd=null,Error(i(185));for(var l=r.return;l!==null;)r=l,l=r.return;return r.tag===3?r.stateNode:null}var bs={};function FE(r,l,o,f){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rn(r,l,o,f){return new FE(r,l,o,f)}function Lf(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Zn(r,l){var o=r.alternate;return o===null?(o=rn(r.tag,l,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=l,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&65011712,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,l=r.dependencies,o.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function Ig(r,l){r.flags&=65011714;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=l,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,l=o.dependencies,r.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),r}function yo(r,l,o,f,p,g){var w=0;if(f=r,typeof r=="function")Lf(r)&&(w=1);else if(typeof r=="string")w=XN(r,o,te.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case Z:return r=rn(31,o,l,p),r.elementType=Z,r.lanes=g,r;case E:return wr(o.children,p,g,l);case k:w=8,p|=24;break;case T:return r=rn(12,o,l,p|2),r.elementType=T,r.lanes=g,r;case z:return r=rn(13,o,l,p),r.elementType=z,r.lanes=g,r;case P:return r=rn(19,o,l,p),r.elementType=P,r.lanes=g,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case D:w=10;break e;case M:w=9;break e;case V:w=11;break e;case L:w=14;break e;case G:w=16,f=null;break e}w=29,o=Error(i(130,r===null?"null":typeof r,"")),f=null}return l=rn(w,o,l,p),l.elementType=r,l.type=f,l.lanes=g,l}function wr(r,l,o,f){return r=rn(7,r,f,l),r.lanes=o,r}function _f(r,l,o){return r=rn(6,r,null,l),r.lanes=o,r}function Vg(r){var l=rn(18,null,null,0);return l.stateNode=r,l}function Bf(r,l,o){return l=rn(4,r.children!==null?r.children:[],r.key,l),l.lanes=o,l.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},l}var Pg=new WeakMap;function gn(r,l){if(typeof r=="object"&&r!==null){var o=Pg.get(r);return o!==void 0?o:(l={value:r,source:l,stack:Vm(l)},Pg.set(r,l),l)}return{value:r,source:l,stack:Vm(l)}}var xs=[],vs=0,bo=null,El=0,yn=[],bn=0,Ai=null,Un=1,qn="";function ei(r,l){xs[vs++]=El,xs[vs++]=bo,bo=r,El=l}function $g(r,l,o){yn[bn++]=Un,yn[bn++]=qn,yn[bn++]=Ai,Ai=r;var f=Un;r=qn;var p=32-tn(f)-1;f&=~(1<<p),o+=1;var g=32-tn(l)+p;if(30<g){var w=p-p%5;g=(f&(1<<w)-1).toString(32),f>>=w,p-=w,Un=1<<32-tn(l)+p|o<<p|f,qn=g+r}else Un=1<<g|o<<p|f,qn=r}function Hf(r){r.return!==null&&(ei(r,1),$g(r,1,0))}function Uf(r){for(;r===bo;)bo=xs[--vs],xs[vs]=null,El=xs[--vs],xs[vs]=null;for(;r===Ai;)Ai=yn[--bn],yn[bn]=null,qn=yn[--bn],yn[bn]=null,Un=yn[--bn],yn[bn]=null}function Fg(r,l){yn[bn++]=Un,yn[bn++]=qn,yn[bn++]=Ai,Un=l.id,qn=l.overflow,Ai=r}var Et=null,Ve=null,ke=!1,Mi=null,xn=!1,qf=Error(i(519));function Oi(r){var l=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Nl(gn(l,r)),qf}function Kg(r){var l=r.stateNode,o=r.type,f=r.memoizedProps;switch(l[kt]=r,l[Vt]=f,o){case"dialog":ve("cancel",l),ve("close",l);break;case"iframe":case"object":case"embed":ve("load",l);break;case"video":case"audio":for(o=0;o<Gl.length;o++)ve(Gl[o],l);break;case"source":ve("error",l);break;case"img":case"image":case"link":ve("error",l),ve("load",l);break;case"details":ve("toggle",l);break;case"input":ve("invalid",l),sg(l,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0);break;case"select":ve("invalid",l);break;case"textarea":ve("invalid",l),ag(l,f.value,f.defaultValue,f.children)}o=f.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||l.textContent===""+o||f.suppressHydrationWarning===!0||c0(l.textContent,o)?(f.popover!=null&&(ve("beforetoggle",l),ve("toggle",l)),f.onScroll!=null&&ve("scroll",l),f.onScrollEnd!=null&&ve("scrollend",l),f.onClick!=null&&(l.onclick=Qn),l=!0):l=!1,l||Oi(r,!0)}function Gg(r){for(Et=r.return;Et;)switch(Et.tag){case 5:case 31:case 13:xn=!1;return;case 27:case 3:xn=!0;return;default:Et=Et.return}}function Ss(r){if(r!==Et)return!1;if(!ke)return Gg(r),ke=!0,!1;var l=r.tag,o;if((o=l!==3&&l!==27)&&((o=l===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||rh(r.type,r.memoizedProps)),o=!o),o&&Ve&&Oi(r),Gg(r),l===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));Ve=b0(r)}else if(l===31){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));Ve=b0(r)}else l===27?(l=Ve,$i(r.type)?(r=ch,ch=null,Ve=r):Ve=l):Ve=Et?Sn(r.stateNode.nextSibling):null;return!0}function kr(){Ve=Et=null,ke=!1}function If(){var r=Mi;return r!==null&&(Gt===null?Gt=r:Gt.push.apply(Gt,r),Mi=null),r}function Nl(r){Mi===null?Mi=[r]:Mi.push(r)}var Vf=O(null),Er=null,ti=null;function Ri(r,l,o){W(Vf,l._currentValue),l._currentValue=o}function ni(r){r._currentValue=Vf.current,K(Vf)}function Pf(r,l,o){for(;r!==null;){var f=r.alternate;if((r.childLanes&l)!==l?(r.childLanes|=l,f!==null&&(f.childLanes|=l)):f!==null&&(f.childLanes&l)!==l&&(f.childLanes|=l),r===o)break;r=r.return}}function $f(r,l,o,f){var p=r.child;for(p!==null&&(p.return=r);p!==null;){var g=p.dependencies;if(g!==null){var w=p.child;g=g.firstContext;e:for(;g!==null;){var N=g;g=p;for(var C=0;C<l.length;C++)if(N.context===l[C]){g.lanes|=o,N=g.alternate,N!==null&&(N.lanes|=o),Pf(g.return,o,r),f||(w=null);break e}g=N.next}}else if(p.tag===18){if(w=p.return,w===null)throw Error(i(341));w.lanes|=o,g=w.alternate,g!==null&&(g.lanes|=o),Pf(w,o,r),w=null}else w=p.child;if(w!==null)w.return=p;else for(w=p;w!==null;){if(w===r){w=null;break}if(p=w.sibling,p!==null){p.return=w.return,w=p;break}w=w.return}p=w}}function ws(r,l,o,f){r=null;for(var p=l,g=!1;p!==null;){if(!g){if((p.flags&524288)!==0)g=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var w=p.alternate;if(w===null)throw Error(i(387));if(w=w.memoizedProps,w!==null){var N=p.type;nn(p.pendingProps.value,w.value)||(r!==null?r.push(N):r=[N])}}else if(p===Re.current){if(w=p.alternate,w===null)throw Error(i(387));w.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(r!==null?r.push(Wl):r=[Wl])}p=p.return}r!==null&&$f(l,r,o,f),l.flags|=262144}function xo(r){for(r=r.firstContext;r!==null;){if(!nn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Nr(r){Er=r,ti=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Nt(r){return Yg(Er,r)}function vo(r,l){return Er===null&&Nr(r),Yg(r,l)}function Yg(r,l){var o=l._currentValue;if(l={context:l,memoizedValue:o,next:null},ti===null){if(r===null)throw Error(i(308));ti=l,r.dependencies={lanes:0,firstContext:l},r.flags|=524288}else ti=ti.next=l;return o}var KE=typeof AbortController<"u"?AbortController:function(){var r=[],l=this.signal={aborted:!1,addEventListener:function(o,f){r.push(f)}};this.abort=function(){l.aborted=!0,r.forEach(function(o){return o()})}},GE=t.unstable_scheduleCallback,YE=t.unstable_NormalPriority,at={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ff(){return{controller:new KE,data:new Map,refCount:0}}function Tl(r){r.refCount--,r.refCount===0&&GE(YE,function(){r.controller.abort()})}var Cl=null,Kf=0,ks=0,Es=null;function JE(r,l){if(Cl===null){var o=Cl=[];Kf=0,ks=Jd(),Es={status:"pending",value:void 0,then:function(f){o.push(f)}}}return Kf++,l.then(Jg,Jg),l}function Jg(){if(--Kf===0&&Cl!==null){Es!==null&&(Es.status="fulfilled");var r=Cl;Cl=null,ks=0,Es=null;for(var l=0;l<r.length;l++)(0,r[l])()}}function XE(r,l){var o=[],f={status:"pending",value:null,reason:null,then:function(p){o.push(p)}};return r.then(function(){f.status="fulfilled",f.value=l;for(var p=0;p<o.length;p++)(0,o[p])(l)},function(p){for(f.status="rejected",f.reason=p,p=0;p<o.length;p++)(0,o[p])(void 0)}),f}var Xg=U.S;U.S=function(r,l){Db=Zt(),typeof l=="object"&&l!==null&&typeof l.then=="function"&&JE(r,l),Xg!==null&&Xg(r,l)};var Tr=O(null);function Gf(){var r=Tr.current;return r!==null?r:qe.pooledCache}function So(r,l){l===null?W(Tr,Tr.current):W(Tr,l.pool)}function Qg(){var r=Gf();return r===null?null:{parent:at._currentValue,pool:r}}var Ns=Error(i(460)),Yf=Error(i(474)),wo=Error(i(542)),ko={then:function(){}};function Wg(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Zg(r,l,o){switch(o=r[o],o===void 0?r.push(l):o!==l&&(l.then(Qn,Qn),l=o),l.status){case"fulfilled":return l.value;case"rejected":throw r=l.reason,ty(r),r;default:if(typeof l.status=="string")l.then(Qn,Qn);else{if(r=qe,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=l,r.status="pending",r.then(function(f){if(l.status==="pending"){var p=l;p.status="fulfilled",p.value=f}},function(f){if(l.status==="pending"){var p=l;p.status="rejected",p.reason=f}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw r=l.reason,ty(r),r}throw Ar=l,Ns}}function Cr(r){try{var l=r._init;return l(r._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Ar=o,Ns):o}}var Ar=null;function ey(){if(Ar===null)throw Error(i(459));var r=Ar;return Ar=null,r}function ty(r){if(r===Ns||r===wo)throw Error(i(483))}var Ts=null,Al=0;function Eo(r){var l=Al;return Al+=1,Ts===null&&(Ts=[]),Zg(Ts,r,l)}function Ml(r,l){l=l.props.ref,r.ref=l!==void 0?l:null}function No(r,l){throw l.$$typeof===x?Error(i(525)):(r=Object.prototype.toString.call(l),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":r)))}function ny(r){function l(j,R){if(r){var _=j.deletions;_===null?(j.deletions=[R],j.flags|=16):_.push(R)}}function o(j,R){if(!r)return null;for(;R!==null;)l(j,R),R=R.sibling;return null}function f(j){for(var R=new Map;j!==null;)j.key!==null?R.set(j.key,j):R.set(j.index,j),j=j.sibling;return R}function p(j,R){return j=Zn(j,R),j.index=0,j.sibling=null,j}function g(j,R,_){return j.index=_,r?(_=j.alternate,_!==null?(_=_.index,_<R?(j.flags|=67108866,R):_):(j.flags|=67108866,R)):(j.flags|=1048576,R)}function w(j){return r&&j.alternate===null&&(j.flags|=67108866),j}function N(j,R,_,F){return R===null||R.tag!==6?(R=_f(_,j.mode,F),R.return=j,R):(R=p(R,_),R.return=j,R)}function C(j,R,_,F){var le=_.type;return le===E?$(j,R,_.props.children,F,_.key):R!==null&&(R.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===G&&Cr(le)===R.type)?(R=p(R,_.props),Ml(R,_),R.return=j,R):(R=yo(_.type,_.key,_.props,null,j.mode,F),Ml(R,_),R.return=j,R)}function B(j,R,_,F){return R===null||R.tag!==4||R.stateNode.containerInfo!==_.containerInfo||R.stateNode.implementation!==_.implementation?(R=Bf(_,j.mode,F),R.return=j,R):(R=p(R,_.children||[]),R.return=j,R)}function $(j,R,_,F,le){return R===null||R.tag!==7?(R=wr(_,j.mode,F,le),R.return=j,R):(R=p(R,_),R.return=j,R)}function Y(j,R,_){if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return R=_f(""+R,j.mode,_),R.return=j,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case v:return _=yo(R.type,R.key,R.props,null,j.mode,_),Ml(_,R),_.return=j,_;case S:return R=Bf(R,j.mode,_),R.return=j,R;case G:return R=Cr(R),Y(j,R,_)}if(je(R)||_e(R))return R=wr(R,j.mode,_,null),R.return=j,R;if(typeof R.then=="function")return Y(j,Eo(R),_);if(R.$$typeof===D)return Y(j,vo(j,R),_);No(j,R)}return null}function H(j,R,_,F){var le=R!==null?R.key:null;if(typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint")return le!==null?null:N(j,R,""+_,F);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case v:return _.key===le?C(j,R,_,F):null;case S:return _.key===le?B(j,R,_,F):null;case G:return _=Cr(_),H(j,R,_,F)}if(je(_)||_e(_))return le!==null?null:$(j,R,_,F,null);if(typeof _.then=="function")return H(j,R,Eo(_),F);if(_.$$typeof===D)return H(j,R,vo(j,_),F);No(j,_)}return null}function q(j,R,_,F,le){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return j=j.get(_)||null,N(R,j,""+F,le);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case v:return j=j.get(F.key===null?_:F.key)||null,C(R,j,F,le);case S:return j=j.get(F.key===null?_:F.key)||null,B(R,j,F,le);case G:return F=Cr(F),q(j,R,_,F,le)}if(je(F)||_e(F))return j=j.get(_)||null,$(R,j,F,le,null);if(typeof F.then=="function")return q(j,R,_,Eo(F),le);if(F.$$typeof===D)return q(j,R,_,vo(R,F),le);No(R,F)}return null}function ne(j,R,_,F){for(var le=null,Ne=null,ie=R,me=R=0,we=null;ie!==null&&me<_.length;me++){ie.index>me?(we=ie,ie=null):we=ie.sibling;var Te=H(j,ie,_[me],F);if(Te===null){ie===null&&(ie=we);break}r&&ie&&Te.alternate===null&&l(j,ie),R=g(Te,R,me),Ne===null?le=Te:Ne.sibling=Te,Ne=Te,ie=we}if(me===_.length)return o(j,ie),ke&&ei(j,me),le;if(ie===null){for(;me<_.length;me++)ie=Y(j,_[me],F),ie!==null&&(R=g(ie,R,me),Ne===null?le=ie:Ne.sibling=ie,Ne=ie);return ke&&ei(j,me),le}for(ie=f(ie);me<_.length;me++)we=q(ie,j,me,_[me],F),we!==null&&(r&&we.alternate!==null&&ie.delete(we.key===null?me:we.key),R=g(we,R,me),Ne===null?le=we:Ne.sibling=we,Ne=we);return r&&ie.forEach(function(Ji){return l(j,Ji)}),ke&&ei(j,me),le}function oe(j,R,_,F){if(_==null)throw Error(i(151));for(var le=null,Ne=null,ie=R,me=R=0,we=null,Te=_.next();ie!==null&&!Te.done;me++,Te=_.next()){ie.index>me?(we=ie,ie=null):we=ie.sibling;var Ji=H(j,ie,Te.value,F);if(Ji===null){ie===null&&(ie=we);break}r&&ie&&Ji.alternate===null&&l(j,ie),R=g(Ji,R,me),Ne===null?le=Ji:Ne.sibling=Ji,Ne=Ji,ie=we}if(Te.done)return o(j,ie),ke&&ei(j,me),le;if(ie===null){for(;!Te.done;me++,Te=_.next())Te=Y(j,Te.value,F),Te!==null&&(R=g(Te,R,me),Ne===null?le=Te:Ne.sibling=Te,Ne=Te);return ke&&ei(j,me),le}for(ie=f(ie);!Te.done;me++,Te=_.next())Te=q(ie,j,me,Te.value,F),Te!==null&&(r&&Te.alternate!==null&&ie.delete(Te.key===null?me:Te.key),R=g(Te,R,me),Ne===null?le=Te:Ne.sibling=Te,Ne=Te);return r&&ie.forEach(function(aT){return l(j,aT)}),ke&&ei(j,me),le}function Ue(j,R,_,F){if(typeof _=="object"&&_!==null&&_.type===E&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case v:e:{for(var le=_.key;R!==null;){if(R.key===le){if(le=_.type,le===E){if(R.tag===7){o(j,R.sibling),F=p(R,_.props.children),F.return=j,j=F;break e}}else if(R.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===G&&Cr(le)===R.type){o(j,R.sibling),F=p(R,_.props),Ml(F,_),F.return=j,j=F;break e}o(j,R);break}else l(j,R);R=R.sibling}_.type===E?(F=wr(_.props.children,j.mode,F,_.key),F.return=j,j=F):(F=yo(_.type,_.key,_.props,null,j.mode,F),Ml(F,_),F.return=j,j=F)}return w(j);case S:e:{for(le=_.key;R!==null;){if(R.key===le)if(R.tag===4&&R.stateNode.containerInfo===_.containerInfo&&R.stateNode.implementation===_.implementation){o(j,R.sibling),F=p(R,_.children||[]),F.return=j,j=F;break e}else{o(j,R);break}else l(j,R);R=R.sibling}F=Bf(_,j.mode,F),F.return=j,j=F}return w(j);case G:return _=Cr(_),Ue(j,R,_,F)}if(je(_))return ne(j,R,_,F);if(_e(_)){if(le=_e(_),typeof le!="function")throw Error(i(150));return _=le.call(_),oe(j,R,_,F)}if(typeof _.then=="function")return Ue(j,R,Eo(_),F);if(_.$$typeof===D)return Ue(j,R,vo(j,_),F);No(j,_)}return typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint"?(_=""+_,R!==null&&R.tag===6?(o(j,R.sibling),F=p(R,_),F.return=j,j=F):(o(j,R),F=_f(_,j.mode,F),F.return=j,j=F),w(j)):o(j,R)}return function(j,R,_,F){try{Al=0;var le=Ue(j,R,_,F);return Ts=null,le}catch(ie){if(ie===Ns||ie===wo)throw ie;var Ne=rn(29,ie,null,j.mode);return Ne.lanes=F,Ne.return=j,Ne}}}var Mr=ny(!0),iy=ny(!1),ji=!1;function Jf(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Xf(r,l){r=r.updateQueue,l.updateQueue===r&&(l.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Di(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function zi(r,l,o){var f=r.updateQueue;if(f===null)return null;if(f=f.shared,(Ae&2)!==0){var p=f.pending;return p===null?l.next=l:(l.next=p.next,p.next=l),f.pending=l,l=go(r),qg(r,null,o),l}return mo(r,f,l,o),go(r)}function Ol(r,l,o){if(l=l.updateQueue,l!==null&&(l=l.shared,(o&4194048)!==0)){var f=l.lanes;f&=r.pendingLanes,o|=f,l.lanes=o,Ym(r,o)}}function Qf(r,l){var o=r.updateQueue,f=r.alternate;if(f!==null&&(f=f.updateQueue,o===f)){var p=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var w={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?p=g=w:g=g.next=w,o=o.next}while(o!==null);g===null?p=g=l:g=g.next=l}else p=g=l;o={baseState:f.baseState,firstBaseUpdate:p,lastBaseUpdate:g,shared:f.shared,callbacks:f.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=l:r.next=l,o.lastBaseUpdate=l}var Wf=!1;function Rl(){if(Wf){var r=Es;if(r!==null)throw r}}function jl(r,l,o,f){Wf=!1;var p=r.updateQueue;ji=!1;var g=p.firstBaseUpdate,w=p.lastBaseUpdate,N=p.shared.pending;if(N!==null){p.shared.pending=null;var C=N,B=C.next;C.next=null,w===null?g=B:w.next=B,w=C;var $=r.alternate;$!==null&&($=$.updateQueue,N=$.lastBaseUpdate,N!==w&&(N===null?$.firstBaseUpdate=B:N.next=B,$.lastBaseUpdate=C))}if(g!==null){var Y=p.baseState;w=0,$=B=C=null,N=g;do{var H=N.lane&-536870913,q=H!==N.lane;if(q?(Se&H)===H:(f&H)===H){H!==0&&H===ks&&(Wf=!0),$!==null&&($=$.next={lane:0,tag:N.tag,payload:N.payload,callback:null,next:null});e:{var ne=r,oe=N;H=l;var Ue=o;switch(oe.tag){case 1:if(ne=oe.payload,typeof ne=="function"){Y=ne.call(Ue,Y,H);break e}Y=ne;break e;case 3:ne.flags=ne.flags&-65537|128;case 0:if(ne=oe.payload,H=typeof ne=="function"?ne.call(Ue,Y,H):ne,H==null)break e;Y=y({},Y,H);break e;case 2:ji=!0}}H=N.callback,H!==null&&(r.flags|=64,q&&(r.flags|=8192),q=p.callbacks,q===null?p.callbacks=[H]:q.push(H))}else q={lane:H,tag:N.tag,payload:N.payload,callback:N.callback,next:null},$===null?(B=$=q,C=Y):$=$.next=q,w|=H;if(N=N.next,N===null){if(N=p.shared.pending,N===null)break;q=N,N=q.next,q.next=null,p.lastBaseUpdate=q,p.shared.pending=null}}while(!0);$===null&&(C=Y),p.baseState=C,p.firstBaseUpdate=B,p.lastBaseUpdate=$,g===null&&(p.shared.lanes=0),Ui|=w,r.lanes=w,r.memoizedState=Y}}function ry(r,l){if(typeof r!="function")throw Error(i(191,r));r.call(l)}function sy(r,l){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)ry(o[r],l)}var Cs=O(null),To=O(0);function ly(r,l){r=fi,W(To,r),W(Cs,l),fi=r|l.baseLanes}function Zf(){W(To,fi),W(Cs,Cs.current)}function ed(){fi=To.current,K(Cs),K(To)}var sn=O(null),vn=null;function Li(r){var l=r.alternate;W(nt,nt.current&1),W(sn,r),vn===null&&(l===null||Cs.current!==null||l.memoizedState!==null)&&(vn=r)}function td(r){W(nt,nt.current),W(sn,r),vn===null&&(vn=r)}function ay(r){r.tag===22?(W(nt,nt.current),W(sn,r),vn===null&&(vn=r)):_i()}function _i(){W(nt,nt.current),W(sn,sn.current)}function ln(r){K(sn),vn===r&&(vn=null),K(nt)}var nt=O(0);function Co(r){for(var l=r;l!==null;){if(l.tag===13){var o=l.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||ah(o)||oh(o)))return l}else if(l.tag===19&&(l.memoizedProps.revealOrder==="forwards"||l.memoizedProps.revealOrder==="backwards"||l.memoizedProps.revealOrder==="unstable_legacy-backwards"||l.memoizedProps.revealOrder==="together")){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===r)break;for(;l.sibling===null;){if(l.return===null||l.return===r)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var ii=0,pe=null,Be=null,ot=null,Ao=!1,As=!1,Or=!1,Mo=0,Dl=0,Ms=null,QE=0;function Je(){throw Error(i(321))}function nd(r,l){if(l===null)return!1;for(var o=0;o<l.length&&o<r.length;o++)if(!nn(r[o],l[o]))return!1;return!0}function id(r,l,o,f,p,g){return ii=g,pe=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,U.H=r===null||r.memoizedState===null?$y:bd,Or=!1,g=o(f,p),Or=!1,As&&(g=cy(l,o,f,p)),oy(r),g}function oy(r){U.H=_l;var l=Be!==null&&Be.next!==null;if(ii=0,ot=Be=pe=null,Ao=!1,Dl=0,Ms=null,l)throw Error(i(300));r===null||ct||(r=r.dependencies,r!==null&&xo(r)&&(ct=!0))}function cy(r,l,o,f){pe=r;var p=0;do{if(As&&(Ms=null),Dl=0,As=!1,25<=p)throw Error(i(301));if(p+=1,ot=Be=null,r.updateQueue!=null){var g=r.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}U.H=Fy,g=l(o,f)}while(As);return g}function WE(){var r=U.H,l=r.useState()[0];return l=typeof l.then=="function"?zl(l):l,r=r.useState()[0],(Be!==null?Be.memoizedState:null)!==r&&(pe.flags|=1024),l}function rd(){var r=Mo!==0;return Mo=0,r}function sd(r,l,o){l.updateQueue=r.updateQueue,l.flags&=-2053,r.lanes&=~o}function ld(r){if(Ao){for(r=r.memoizedState;r!==null;){var l=r.queue;l!==null&&(l.pending=null),r=r.next}Ao=!1}ii=0,ot=Be=pe=null,As=!1,Dl=Mo=0,Ms=null}function Bt(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ot===null?pe.memoizedState=ot=r:ot=ot.next=r,ot}function it(){if(Be===null){var r=pe.alternate;r=r!==null?r.memoizedState:null}else r=Be.next;var l=ot===null?pe.memoizedState:ot.next;if(l!==null)ot=l,Be=r;else{if(r===null)throw pe.alternate===null?Error(i(467)):Error(i(310));Be=r,r={memoizedState:Be.memoizedState,baseState:Be.baseState,baseQueue:Be.baseQueue,queue:Be.queue,next:null},ot===null?pe.memoizedState=ot=r:ot=ot.next=r}return ot}function Oo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function zl(r){var l=Dl;return Dl+=1,Ms===null&&(Ms=[]),r=Zg(Ms,r,l),l=pe,(ot===null?l.memoizedState:ot.next)===null&&(l=l.alternate,U.H=l===null||l.memoizedState===null?$y:bd),r}function Ro(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return zl(r);if(r.$$typeof===D)return Nt(r)}throw Error(i(438,String(r)))}function ad(r){var l=null,o=pe.updateQueue;if(o!==null&&(l=o.memoCache),l==null){var f=pe.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(l={data:f.data.map(function(p){return p.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),o===null&&(o=Oo(),pe.updateQueue=o),o.memoCache=l,o=l.data[l.index],o===void 0)for(o=l.data[l.index]=Array(r),f=0;f<r;f++)o[f]=he;return l.index++,o}function ri(r,l){return typeof l=="function"?l(r):l}function jo(r){var l=it();return od(l,Be,r)}function od(r,l,o){var f=r.queue;if(f===null)throw Error(i(311));f.lastRenderedReducer=o;var p=r.baseQueue,g=f.pending;if(g!==null){if(p!==null){var w=p.next;p.next=g.next,g.next=w}l.baseQueue=p=g,f.pending=null}if(g=r.baseState,p===null)r.memoizedState=g;else{l=p.next;var N=w=null,C=null,B=l,$=!1;do{var Y=B.lane&-536870913;if(Y!==B.lane?(Se&Y)===Y:(ii&Y)===Y){var H=B.revertLane;if(H===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),Y===ks&&($=!0);else if((ii&H)===H){B=B.next,H===ks&&($=!0);continue}else Y={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},C===null?(N=C=Y,w=g):C=C.next=Y,pe.lanes|=H,Ui|=H;Y=B.action,Or&&o(g,Y),g=B.hasEagerState?B.eagerState:o(g,Y)}else H={lane:Y,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},C===null?(N=C=H,w=g):C=C.next=H,pe.lanes|=Y,Ui|=Y;B=B.next}while(B!==null&&B!==l);if(C===null?w=g:C.next=N,!nn(g,r.memoizedState)&&(ct=!0,$&&(o=Es,o!==null)))throw o;r.memoizedState=g,r.baseState=w,r.baseQueue=C,f.lastRenderedState=g}return p===null&&(f.lanes=0),[r.memoizedState,f.dispatch]}function cd(r){var l=it(),o=l.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=r;var f=o.dispatch,p=o.pending,g=l.memoizedState;if(p!==null){o.pending=null;var w=p=p.next;do g=r(g,w.action),w=w.next;while(w!==p);nn(g,l.memoizedState)||(ct=!0),l.memoizedState=g,l.baseQueue===null&&(l.baseState=g),o.lastRenderedState=g}return[g,f]}function uy(r,l,o){var f=pe,p=it(),g=ke;if(g){if(o===void 0)throw Error(i(407));o=o()}else o=l();var w=!nn((Be||p).memoizedState,o);if(w&&(p.memoizedState=o,ct=!0),p=p.queue,dd(hy.bind(null,f,p,r),[r]),p.getSnapshot!==l||w||ot!==null&&ot.memoizedState.tag&1){if(f.flags|=2048,Os(9,{destroy:void 0},dy.bind(null,f,p,o,l),null),qe===null)throw Error(i(349));g||(ii&127)!==0||fy(f,l,o)}return o}function fy(r,l,o){r.flags|=16384,r={getSnapshot:l,value:o},l=pe.updateQueue,l===null?(l=Oo(),pe.updateQueue=l,l.stores=[r]):(o=l.stores,o===null?l.stores=[r]:o.push(r))}function dy(r,l,o,f){l.value=o,l.getSnapshot=f,py(l)&&my(r)}function hy(r,l,o){return o(function(){py(l)&&my(r)})}function py(r){var l=r.getSnapshot;r=r.value;try{var o=l();return!nn(r,o)}catch{return!0}}function my(r){var l=Sr(r,2);l!==null&&Yt(l,r,2)}function ud(r){var l=Bt();if(typeof r=="function"){var o=r;if(r=o(),Or){Ni(!0);try{o()}finally{Ni(!1)}}}return l.memoizedState=l.baseState=r,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ri,lastRenderedState:r},l}function gy(r,l,o,f){return r.baseState=o,od(r,Be,typeof f=="function"?f:ri)}function ZE(r,l,o,f,p){if(Lo(r))throw Error(i(485));if(r=l.action,r!==null){var g={payload:p,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){g.listeners.push(w)}};U.T!==null?o(!0):g.isTransition=!1,f(g),o=l.pending,o===null?(g.next=l.pending=g,yy(l,g)):(g.next=o.next,l.pending=o.next=g)}}function yy(r,l){var o=l.action,f=l.payload,p=r.state;if(l.isTransition){var g=U.T,w={};U.T=w;try{var N=o(p,f),C=U.S;C!==null&&C(w,N),by(r,l,N)}catch(B){fd(r,l,B)}finally{g!==null&&w.types!==null&&(g.types=w.types),U.T=g}}else try{g=o(p,f),by(r,l,g)}catch(B){fd(r,l,B)}}function by(r,l,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(f){xy(r,l,f)},function(f){return fd(r,l,f)}):xy(r,l,o)}function xy(r,l,o){l.status="fulfilled",l.value=o,vy(l),r.state=o,l=r.pending,l!==null&&(o=l.next,o===l?r.pending=null:(o=o.next,l.next=o,yy(r,o)))}function fd(r,l,o){var f=r.pending;if(r.pending=null,f!==null){f=f.next;do l.status="rejected",l.reason=o,vy(l),l=l.next;while(l!==f)}r.action=null}function vy(r){r=r.listeners;for(var l=0;l<r.length;l++)(0,r[l])()}function Sy(r,l){return l}function wy(r,l){if(ke){var o=qe.formState;if(o!==null){e:{var f=pe;if(ke){if(Ve){t:{for(var p=Ve,g=xn;p.nodeType!==8;){if(!g){p=null;break t}if(p=Sn(p.nextSibling),p===null){p=null;break t}}g=p.data,p=g==="F!"||g==="F"?p:null}if(p){Ve=Sn(p.nextSibling),f=p.data==="F!";break e}}Oi(f)}f=!1}f&&(l=o[0])}}return o=Bt(),o.memoizedState=o.baseState=l,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sy,lastRenderedState:l},o.queue=f,o=Iy.bind(null,pe,f),f.dispatch=o,f=ud(!1),g=yd.bind(null,pe,!1,f.queue),f=Bt(),p={state:l,dispatch:null,action:r,pending:null},f.queue=p,o=ZE.bind(null,pe,p,g,o),p.dispatch=o,f.memoizedState=r,[l,o,!1]}function ky(r){var l=it();return Ey(l,Be,r)}function Ey(r,l,o){if(l=od(r,l,Sy)[0],r=jo(ri)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var f=zl(l)}catch(w){throw w===Ns?wo:w}else f=l;l=it();var p=l.queue,g=p.dispatch;return o!==l.memoizedState&&(pe.flags|=2048,Os(9,{destroy:void 0},eN.bind(null,p,o),null)),[f,g,r]}function eN(r,l){r.action=l}function Ny(r){var l=it(),o=Be;if(o!==null)return Ey(l,o,r);it(),l=l.memoizedState,o=it();var f=o.queue.dispatch;return o.memoizedState=r,[l,f,!1]}function Os(r,l,o,f){return r={tag:r,create:o,deps:f,inst:l,next:null},l=pe.updateQueue,l===null&&(l=Oo(),pe.updateQueue=l),o=l.lastEffect,o===null?l.lastEffect=r.next=r:(f=o.next,o.next=r,r.next=f,l.lastEffect=r),r}function Ty(){return it().memoizedState}function Do(r,l,o,f){var p=Bt();pe.flags|=r,p.memoizedState=Os(1|l,{destroy:void 0},o,f===void 0?null:f)}function zo(r,l,o,f){var p=it();f=f===void 0?null:f;var g=p.memoizedState.inst;Be!==null&&f!==null&&nd(f,Be.memoizedState.deps)?p.memoizedState=Os(l,g,o,f):(pe.flags|=r,p.memoizedState=Os(1|l,g,o,f))}function Cy(r,l){Do(8390656,8,r,l)}function dd(r,l){zo(2048,8,r,l)}function tN(r){pe.flags|=4;var l=pe.updateQueue;if(l===null)l=Oo(),pe.updateQueue=l,l.events=[r];else{var o=l.events;o===null?l.events=[r]:o.push(r)}}function Ay(r){var l=it().memoizedState;return tN({ref:l,nextImpl:r}),function(){if((Ae&2)!==0)throw Error(i(440));return l.impl.apply(void 0,arguments)}}function My(r,l){return zo(4,2,r,l)}function Oy(r,l){return zo(4,4,r,l)}function Ry(r,l){if(typeof l=="function"){r=r();var o=l(r);return function(){typeof o=="function"?o():l(null)}}if(l!=null)return r=r(),l.current=r,function(){l.current=null}}function jy(r,l,o){o=o!=null?o.concat([r]):null,zo(4,4,Ry.bind(null,l,r),o)}function hd(){}function Dy(r,l){var o=it();l=l===void 0?null:l;var f=o.memoizedState;return l!==null&&nd(l,f[1])?f[0]:(o.memoizedState=[r,l],r)}function zy(r,l){var o=it();l=l===void 0?null:l;var f=o.memoizedState;if(l!==null&&nd(l,f[1]))return f[0];if(f=r(),Or){Ni(!0);try{r()}finally{Ni(!1)}}return o.memoizedState=[f,l],f}function pd(r,l,o){return o===void 0||(ii&1073741824)!==0&&(Se&261930)===0?r.memoizedState=l:(r.memoizedState=o,r=Lb(),pe.lanes|=r,Ui|=r,o)}function Ly(r,l,o,f){return nn(o,l)?o:Cs.current!==null?(r=pd(r,o,f),nn(r,l)||(ct=!0),r):(ii&42)===0||(ii&1073741824)!==0&&(Se&261930)===0?(ct=!0,r.memoizedState=o):(r=Lb(),pe.lanes|=r,Ui|=r,l)}function _y(r,l,o,f,p){var g=Q.p;Q.p=g!==0&&8>g?g:8;var w=U.T,N={};U.T=N,yd(r,!1,l,o);try{var C=p(),B=U.S;if(B!==null&&B(N,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var $=XE(C,f);Ll(r,l,$,cn(r))}else Ll(r,l,f,cn(r))}catch(Y){Ll(r,l,{then:function(){},status:"rejected",reason:Y},cn())}finally{Q.p=g,w!==null&&N.types!==null&&(w.types=N.types),U.T=w}}function nN(){}function md(r,l,o,f){if(r.tag!==5)throw Error(i(476));var p=By(r).queue;_y(r,p,l,re,o===null?nN:function(){return Hy(r),o(f)})}function By(r){var l=r.memoizedState;if(l!==null)return l;l={memoizedState:re,baseState:re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ri,lastRenderedState:re},next:null};var o={};return l.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ri,lastRenderedState:o},next:null},r.memoizedState=l,r=r.alternate,r!==null&&(r.memoizedState=l),l}function Hy(r){var l=By(r);l.next===null&&(l=r.alternate.memoizedState),Ll(r,l.next.queue,{},cn())}function gd(){return Nt(Wl)}function Uy(){return it().memoizedState}function qy(){return it().memoizedState}function iN(r){for(var l=r.return;l!==null;){switch(l.tag){case 24:case 3:var o=cn();r=Di(o);var f=zi(l,r,o);f!==null&&(Yt(f,l,o),Ol(f,l,o)),l={cache:Ff()},r.payload=l;return}l=l.return}}function rN(r,l,o){var f=cn();o={lane:f,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Lo(r)?Vy(l,o):(o=zf(r,l,o,f),o!==null&&(Yt(o,r,f),Py(o,l,f)))}function Iy(r,l,o){var f=cn();Ll(r,l,o,f)}function Ll(r,l,o,f){var p={lane:f,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Lo(r))Vy(l,p);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=l.lastRenderedReducer,g!==null))try{var w=l.lastRenderedState,N=g(w,o);if(p.hasEagerState=!0,p.eagerState=N,nn(N,w))return mo(r,l,p,0),qe===null&&po(),!1}catch{}if(o=zf(r,l,p,f),o!==null)return Yt(o,r,f),Py(o,l,f),!0}return!1}function yd(r,l,o,f){if(f={lane:2,revertLane:Jd(),gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},Lo(r)){if(l)throw Error(i(479))}else l=zf(r,o,f,2),l!==null&&Yt(l,r,2)}function Lo(r){var l=r.alternate;return r===pe||l!==null&&l===pe}function Vy(r,l){As=Ao=!0;var o=r.pending;o===null?l.next=l:(l.next=o.next,o.next=l),r.pending=l}function Py(r,l,o){if((o&4194048)!==0){var f=l.lanes;f&=r.pendingLanes,o|=f,l.lanes=o,Ym(r,o)}}var _l={readContext:Nt,use:Ro,useCallback:Je,useContext:Je,useEffect:Je,useImperativeHandle:Je,useLayoutEffect:Je,useInsertionEffect:Je,useMemo:Je,useReducer:Je,useRef:Je,useState:Je,useDebugValue:Je,useDeferredValue:Je,useTransition:Je,useSyncExternalStore:Je,useId:Je,useHostTransitionStatus:Je,useFormState:Je,useActionState:Je,useOptimistic:Je,useMemoCache:Je,useCacheRefresh:Je};_l.useEffectEvent=Je;var $y={readContext:Nt,use:Ro,useCallback:function(r,l){return Bt().memoizedState=[r,l===void 0?null:l],r},useContext:Nt,useEffect:Cy,useImperativeHandle:function(r,l,o){o=o!=null?o.concat([r]):null,Do(4194308,4,Ry.bind(null,l,r),o)},useLayoutEffect:function(r,l){return Do(4194308,4,r,l)},useInsertionEffect:function(r,l){Do(4,2,r,l)},useMemo:function(r,l){var o=Bt();l=l===void 0?null:l;var f=r();if(Or){Ni(!0);try{r()}finally{Ni(!1)}}return o.memoizedState=[f,l],f},useReducer:function(r,l,o){var f=Bt();if(o!==void 0){var p=o(l);if(Or){Ni(!0);try{o(l)}finally{Ni(!1)}}}else p=l;return f.memoizedState=f.baseState=p,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:p},f.queue=r,r=r.dispatch=rN.bind(null,pe,r),[f.memoizedState,r]},useRef:function(r){var l=Bt();return r={current:r},l.memoizedState=r},useState:function(r){r=ud(r);var l=r.queue,o=Iy.bind(null,pe,l);return l.dispatch=o,[r.memoizedState,o]},useDebugValue:hd,useDeferredValue:function(r,l){var o=Bt();return pd(o,r,l)},useTransition:function(){var r=ud(!1);return r=_y.bind(null,pe,r.queue,!0,!1),Bt().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,l,o){var f=pe,p=Bt();if(ke){if(o===void 0)throw Error(i(407));o=o()}else{if(o=l(),qe===null)throw Error(i(349));(Se&127)!==0||fy(f,l,o)}p.memoizedState=o;var g={value:o,getSnapshot:l};return p.queue=g,Cy(hy.bind(null,f,g,r),[r]),f.flags|=2048,Os(9,{destroy:void 0},dy.bind(null,f,g,o,l),null),o},useId:function(){var r=Bt(),l=qe.identifierPrefix;if(ke){var o=qn,f=Un;o=(f&~(1<<32-tn(f)-1)).toString(32)+o,l="_"+l+"R_"+o,o=Mo++,0<o&&(l+="H"+o.toString(32)),l+="_"}else o=QE++,l="_"+l+"r_"+o.toString(32)+"_";return r.memoizedState=l},useHostTransitionStatus:gd,useFormState:wy,useActionState:wy,useOptimistic:function(r){var l=Bt();l.memoizedState=l.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=o,l=yd.bind(null,pe,!0,o),o.dispatch=l,[r,l]},useMemoCache:ad,useCacheRefresh:function(){return Bt().memoizedState=iN.bind(null,pe)},useEffectEvent:function(r){var l=Bt(),o={impl:r};return l.memoizedState=o,function(){if((Ae&2)!==0)throw Error(i(440));return o.impl.apply(void 0,arguments)}}},bd={readContext:Nt,use:Ro,useCallback:Dy,useContext:Nt,useEffect:dd,useImperativeHandle:jy,useInsertionEffect:My,useLayoutEffect:Oy,useMemo:zy,useReducer:jo,useRef:Ty,useState:function(){return jo(ri)},useDebugValue:hd,useDeferredValue:function(r,l){var o=it();return Ly(o,Be.memoizedState,r,l)},useTransition:function(){var r=jo(ri)[0],l=it().memoizedState;return[typeof r=="boolean"?r:zl(r),l]},useSyncExternalStore:uy,useId:Uy,useHostTransitionStatus:gd,useFormState:ky,useActionState:ky,useOptimistic:function(r,l){var o=it();return gy(o,Be,r,l)},useMemoCache:ad,useCacheRefresh:qy};bd.useEffectEvent=Ay;var Fy={readContext:Nt,use:Ro,useCallback:Dy,useContext:Nt,useEffect:dd,useImperativeHandle:jy,useInsertionEffect:My,useLayoutEffect:Oy,useMemo:zy,useReducer:cd,useRef:Ty,useState:function(){return cd(ri)},useDebugValue:hd,useDeferredValue:function(r,l){var o=it();return Be===null?pd(o,r,l):Ly(o,Be.memoizedState,r,l)},useTransition:function(){var r=cd(ri)[0],l=it().memoizedState;return[typeof r=="boolean"?r:zl(r),l]},useSyncExternalStore:uy,useId:Uy,useHostTransitionStatus:gd,useFormState:Ny,useActionState:Ny,useOptimistic:function(r,l){var o=it();return Be!==null?gy(o,Be,r,l):(o.baseState=r,[r,o.queue.dispatch])},useMemoCache:ad,useCacheRefresh:qy};Fy.useEffectEvent=Ay;function xd(r,l,o,f){l=r.memoizedState,o=o(f,l),o=o==null?l:y({},l,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var vd={enqueueSetState:function(r,l,o){r=r._reactInternals;var f=cn(),p=Di(f);p.payload=l,o!=null&&(p.callback=o),l=zi(r,p,f),l!==null&&(Yt(l,r,f),Ol(l,r,f))},enqueueReplaceState:function(r,l,o){r=r._reactInternals;var f=cn(),p=Di(f);p.tag=1,p.payload=l,o!=null&&(p.callback=o),l=zi(r,p,f),l!==null&&(Yt(l,r,f),Ol(l,r,f))},enqueueForceUpdate:function(r,l){r=r._reactInternals;var o=cn(),f=Di(o);f.tag=2,l!=null&&(f.callback=l),l=zi(r,f,o),l!==null&&(Yt(l,r,o),Ol(l,r,o))}};function Ky(r,l,o,f,p,g,w){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(f,g,w):l.prototype&&l.prototype.isPureReactComponent?!wl(o,f)||!wl(p,g):!0}function Gy(r,l,o,f){r=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(o,f),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(o,f),l.state!==r&&vd.enqueueReplaceState(l,l.state,null)}function Rr(r,l){var o=l;if("ref"in l){o={};for(var f in l)f!=="ref"&&(o[f]=l[f])}if(r=r.defaultProps){o===l&&(o=y({},o));for(var p in r)o[p]===void 0&&(o[p]=r[p])}return o}function Yy(r){ho(r)}function Jy(r){console.error(r)}function Xy(r){ho(r)}function _o(r,l){try{var o=r.onUncaughtError;o(l.value,{componentStack:l.stack})}catch(f){setTimeout(function(){throw f})}}function Qy(r,l,o){try{var f=r.onCaughtError;f(o.value,{componentStack:o.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Sd(r,l,o){return o=Di(o),o.tag=3,o.payload={element:null},o.callback=function(){_o(r,l)},o}function Wy(r){return r=Di(r),r.tag=3,r}function Zy(r,l,o,f){var p=o.type.getDerivedStateFromError;if(typeof p=="function"){var g=f.value;r.payload=function(){return p(g)},r.callback=function(){Qy(l,o,f)}}var w=o.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(r.callback=function(){Qy(l,o,f),typeof p!="function"&&(qi===null?qi=new Set([this]):qi.add(this));var N=f.stack;this.componentDidCatch(f.value,{componentStack:N!==null?N:""})})}function sN(r,l,o,f,p){if(o.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(l=o.alternate,l!==null&&ws(l,o,p,!0),o=sn.current,o!==null){switch(o.tag){case 31:case 13:return vn===null?Yo():o.alternate===null&&Xe===0&&(Xe=3),o.flags&=-257,o.flags|=65536,o.lanes=p,f===ko?o.flags|=16384:(l=o.updateQueue,l===null?o.updateQueue=new Set([f]):l.add(f),Kd(r,f,p)),!1;case 22:return o.flags|=65536,f===ko?o.flags|=16384:(l=o.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([f])},o.updateQueue=l):(o=l.retryQueue,o===null?l.retryQueue=new Set([f]):o.add(f)),Kd(r,f,p)),!1}throw Error(i(435,o.tag))}return Kd(r,f,p),Yo(),!1}if(ke)return l=sn.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=p,f!==qf&&(r=Error(i(422),{cause:f}),Nl(gn(r,o)))):(f!==qf&&(l=Error(i(423),{cause:f}),Nl(gn(l,o))),r=r.current.alternate,r.flags|=65536,p&=-p,r.lanes|=p,f=gn(f,o),p=Sd(r.stateNode,f,p),Qf(r,p),Xe!==4&&(Xe=2)),!1;var g=Error(i(520),{cause:f});if(g=gn(g,o),$l===null?$l=[g]:$l.push(g),Xe!==4&&(Xe=2),l===null)return!0;f=gn(f,o),o=l;do{switch(o.tag){case 3:return o.flags|=65536,r=p&-p,o.lanes|=r,r=Sd(o.stateNode,f,r),Qf(o,r),!1;case 1:if(l=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(qi===null||!qi.has(g))))return o.flags|=65536,p&=-p,o.lanes|=p,p=Wy(p),Zy(p,r,o,f),Qf(o,p),!1}o=o.return}while(o!==null);return!1}var wd=Error(i(461)),ct=!1;function Tt(r,l,o,f){l.child=r===null?iy(l,null,o,f):Mr(l,r.child,o,f)}function eb(r,l,o,f,p){o=o.render;var g=l.ref;if("ref"in f){var w={};for(var N in f)N!=="ref"&&(w[N]=f[N])}else w=f;return Nr(l),f=id(r,l,o,w,g,p),N=rd(),r!==null&&!ct?(sd(r,l,p),si(r,l,p)):(ke&&N&&Hf(l),l.flags|=1,Tt(r,l,f,p),l.child)}function tb(r,l,o,f,p){if(r===null){var g=o.type;return typeof g=="function"&&!Lf(g)&&g.defaultProps===void 0&&o.compare===null?(l.tag=15,l.type=g,nb(r,l,g,f,p)):(r=yo(o.type,null,f,l,l.mode,p),r.ref=l.ref,r.return=l,l.child=r)}if(g=r.child,!Od(r,p)){var w=g.memoizedProps;if(o=o.compare,o=o!==null?o:wl,o(w,f)&&r.ref===l.ref)return si(r,l,p)}return l.flags|=1,r=Zn(g,f),r.ref=l.ref,r.return=l,l.child=r}function nb(r,l,o,f,p){if(r!==null){var g=r.memoizedProps;if(wl(g,f)&&r.ref===l.ref)if(ct=!1,l.pendingProps=f=g,Od(r,p))(r.flags&131072)!==0&&(ct=!0);else return l.lanes=r.lanes,si(r,l,p)}return kd(r,l,o,f,p)}function ib(r,l,o,f){var p=f.children,g=r!==null?r.memoizedState:null;if(r===null&&l.stateNode===null&&(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),f.mode==="hidden"){if((l.flags&128)!==0){if(g=g!==null?g.baseLanes|o:o,r!==null){for(f=l.child=r.child,p=0;f!==null;)p=p|f.lanes|f.childLanes,f=f.sibling;f=p&~g}else f=0,l.child=null;return rb(r,l,g,o,f)}if((o&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},r!==null&&So(l,g!==null?g.cachePool:null),g!==null?ly(l,g):Zf(),ay(l);else return f=l.lanes=536870912,rb(r,l,g!==null?g.baseLanes|o:o,o,f)}else g!==null?(So(l,g.cachePool),ly(l,g),_i(),l.memoizedState=null):(r!==null&&So(l,null),Zf(),_i());return Tt(r,l,p,o),l.child}function Bl(r,l){return r!==null&&r.tag===22||l.stateNode!==null||(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.sibling}function rb(r,l,o,f,p){var g=Gf();return g=g===null?null:{parent:at._currentValue,pool:g},l.memoizedState={baseLanes:o,cachePool:g},r!==null&&So(l,null),Zf(),ay(l),r!==null&&ws(r,l,f,!0),l.childLanes=p,null}function Bo(r,l){return l=Uo({mode:l.mode,children:l.children},r.mode),l.ref=r.ref,r.child=l,l.return=r,l}function sb(r,l,o){return Mr(l,r.child,null,o),r=Bo(l,l.pendingProps),r.flags|=2,ln(l),l.memoizedState=null,r}function lN(r,l,o){var f=l.pendingProps,p=(l.flags&128)!==0;if(l.flags&=-129,r===null){if(ke){if(f.mode==="hidden")return r=Bo(l,f),l.lanes=536870912,Bl(null,r);if(td(l),(r=Ve)?(r=y0(r,xn),r=r!==null&&r.data==="&"?r:null,r!==null&&(l.memoizedState={dehydrated:r,treeContext:Ai!==null?{id:Un,overflow:qn}:null,retryLane:536870912,hydrationErrors:null},o=Vg(r),o.return=l,l.child=o,Et=l,Ve=null)):r=null,r===null)throw Oi(l);return l.lanes=536870912,null}return Bo(l,f)}var g=r.memoizedState;if(g!==null){var w=g.dehydrated;if(td(l),p)if(l.flags&256)l.flags&=-257,l=sb(r,l,o);else if(l.memoizedState!==null)l.child=r.child,l.flags|=128,l=null;else throw Error(i(558));else if(ct||ws(r,l,o,!1),p=(o&r.childLanes)!==0,ct||p){if(f=qe,f!==null&&(w=Jm(f,o),w!==0&&w!==g.retryLane))throw g.retryLane=w,Sr(r,w),Yt(f,r,w),wd;Yo(),l=sb(r,l,o)}else r=g.treeContext,Ve=Sn(w.nextSibling),Et=l,ke=!0,Mi=null,xn=!1,r!==null&&Fg(l,r),l=Bo(l,f),l.flags|=4096;return l}return r=Zn(r.child,{mode:f.mode,children:f.children}),r.ref=l.ref,l.child=r,r.return=l,r}function Ho(r,l){var o=l.ref;if(o===null)r!==null&&r.ref!==null&&(l.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(r===null||r.ref!==o)&&(l.flags|=4194816)}}function kd(r,l,o,f,p){return Nr(l),o=id(r,l,o,f,void 0,p),f=rd(),r!==null&&!ct?(sd(r,l,p),si(r,l,p)):(ke&&f&&Hf(l),l.flags|=1,Tt(r,l,o,p),l.child)}function lb(r,l,o,f,p,g){return Nr(l),l.updateQueue=null,o=cy(l,f,o,p),oy(r),f=rd(),r!==null&&!ct?(sd(r,l,g),si(r,l,g)):(ke&&f&&Hf(l),l.flags|=1,Tt(r,l,o,g),l.child)}function ab(r,l,o,f,p){if(Nr(l),l.stateNode===null){var g=bs,w=o.contextType;typeof w=="object"&&w!==null&&(g=Nt(w)),g=new o(f,g),l.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=vd,l.stateNode=g,g._reactInternals=l,g=l.stateNode,g.props=f,g.state=l.memoizedState,g.refs={},Jf(l),w=o.contextType,g.context=typeof w=="object"&&w!==null?Nt(w):bs,g.state=l.memoizedState,w=o.getDerivedStateFromProps,typeof w=="function"&&(xd(l,o,w,f),g.state=l.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(w=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),w!==g.state&&vd.enqueueReplaceState(g,g.state,null),jl(l,f,g,p),Rl(),g.state=l.memoizedState),typeof g.componentDidMount=="function"&&(l.flags|=4194308),f=!0}else if(r===null){g=l.stateNode;var N=l.memoizedProps,C=Rr(o,N);g.props=C;var B=g.context,$=o.contextType;w=bs,typeof $=="object"&&$!==null&&(w=Nt($));var Y=o.getDerivedStateFromProps;$=typeof Y=="function"||typeof g.getSnapshotBeforeUpdate=="function",N=l.pendingProps!==N,$||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(N||B!==w)&&Gy(l,g,f,w),ji=!1;var H=l.memoizedState;g.state=H,jl(l,f,g,p),Rl(),B=l.memoizedState,N||H!==B||ji?(typeof Y=="function"&&(xd(l,o,Y,f),B=l.memoizedState),(C=ji||Ky(l,o,C,f,H,B,w))?($||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(l.flags|=4194308)):(typeof g.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=f,l.memoizedState=B),g.props=f,g.state=B,g.context=w,f=C):(typeof g.componentDidMount=="function"&&(l.flags|=4194308),f=!1)}else{g=l.stateNode,Xf(r,l),w=l.memoizedProps,$=Rr(o,w),g.props=$,Y=l.pendingProps,H=g.context,B=o.contextType,C=bs,typeof B=="object"&&B!==null&&(C=Nt(B)),N=o.getDerivedStateFromProps,(B=typeof N=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(w!==Y||H!==C)&&Gy(l,g,f,C),ji=!1,H=l.memoizedState,g.state=H,jl(l,f,g,p),Rl();var q=l.memoizedState;w!==Y||H!==q||ji||r!==null&&r.dependencies!==null&&xo(r.dependencies)?(typeof N=="function"&&(xd(l,o,N,f),q=l.memoizedState),($=ji||Ky(l,o,$,f,H,q,C)||r!==null&&r.dependencies!==null&&xo(r.dependencies))?(B||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(f,q,C),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(f,q,C)),typeof g.componentDidUpdate=="function"&&(l.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof g.componentDidUpdate!="function"||w===r.memoizedProps&&H===r.memoizedState||(l.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||w===r.memoizedProps&&H===r.memoizedState||(l.flags|=1024),l.memoizedProps=f,l.memoizedState=q),g.props=f,g.state=q,g.context=C,f=$):(typeof g.componentDidUpdate!="function"||w===r.memoizedProps&&H===r.memoizedState||(l.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||w===r.memoizedProps&&H===r.memoizedState||(l.flags|=1024),f=!1)}return g=f,Ho(r,l),f=(l.flags&128)!==0,g||f?(g=l.stateNode,o=f&&typeof o.getDerivedStateFromError!="function"?null:g.render(),l.flags|=1,r!==null&&f?(l.child=Mr(l,r.child,null,p),l.child=Mr(l,null,o,p)):Tt(r,l,o,p),l.memoizedState=g.state,r=l.child):r=si(r,l,p),r}function ob(r,l,o,f){return kr(),l.flags|=256,Tt(r,l,o,f),l.child}var Ed={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Nd(r){return{baseLanes:r,cachePool:Qg()}}function Td(r,l,o){return r=r!==null?r.childLanes&~o:0,l&&(r|=on),r}function cb(r,l,o){var f=l.pendingProps,p=!1,g=(l.flags&128)!==0,w;if((w=g)||(w=r!==null&&r.memoizedState===null?!1:(nt.current&2)!==0),w&&(p=!0,l.flags&=-129),w=(l.flags&32)!==0,l.flags&=-33,r===null){if(ke){if(p?Li(l):_i(),(r=Ve)?(r=y0(r,xn),r=r!==null&&r.data!=="&"?r:null,r!==null&&(l.memoizedState={dehydrated:r,treeContext:Ai!==null?{id:Un,overflow:qn}:null,retryLane:536870912,hydrationErrors:null},o=Vg(r),o.return=l,l.child=o,Et=l,Ve=null)):r=null,r===null)throw Oi(l);return oh(r)?l.lanes=32:l.lanes=536870912,null}var N=f.children;return f=f.fallback,p?(_i(),p=l.mode,N=Uo({mode:"hidden",children:N},p),f=wr(f,p,o,null),N.return=l,f.return=l,N.sibling=f,l.child=N,f=l.child,f.memoizedState=Nd(o),f.childLanes=Td(r,w,o),l.memoizedState=Ed,Bl(null,f)):(Li(l),Cd(l,N))}var C=r.memoizedState;if(C!==null&&(N=C.dehydrated,N!==null)){if(g)l.flags&256?(Li(l),l.flags&=-257,l=Ad(r,l,o)):l.memoizedState!==null?(_i(),l.child=r.child,l.flags|=128,l=null):(_i(),N=f.fallback,p=l.mode,f=Uo({mode:"visible",children:f.children},p),N=wr(N,p,o,null),N.flags|=2,f.return=l,N.return=l,f.sibling=N,l.child=f,Mr(l,r.child,null,o),f=l.child,f.memoizedState=Nd(o),f.childLanes=Td(r,w,o),l.memoizedState=Ed,l=Bl(null,f));else if(Li(l),oh(N)){if(w=N.nextSibling&&N.nextSibling.dataset,w)var B=w.dgst;w=B,f=Error(i(419)),f.stack="",f.digest=w,Nl({value:f,source:null,stack:null}),l=Ad(r,l,o)}else if(ct||ws(r,l,o,!1),w=(o&r.childLanes)!==0,ct||w){if(w=qe,w!==null&&(f=Jm(w,o),f!==0&&f!==C.retryLane))throw C.retryLane=f,Sr(r,f),Yt(w,r,f),wd;ah(N)||Yo(),l=Ad(r,l,o)}else ah(N)?(l.flags|=192,l.child=r.child,l=null):(r=C.treeContext,Ve=Sn(N.nextSibling),Et=l,ke=!0,Mi=null,xn=!1,r!==null&&Fg(l,r),l=Cd(l,f.children),l.flags|=4096);return l}return p?(_i(),N=f.fallback,p=l.mode,C=r.child,B=C.sibling,f=Zn(C,{mode:"hidden",children:f.children}),f.subtreeFlags=C.subtreeFlags&65011712,B!==null?N=Zn(B,N):(N=wr(N,p,o,null),N.flags|=2),N.return=l,f.return=l,f.sibling=N,l.child=f,Bl(null,f),f=l.child,N=r.child.memoizedState,N===null?N=Nd(o):(p=N.cachePool,p!==null?(C=at._currentValue,p=p.parent!==C?{parent:C,pool:C}:p):p=Qg(),N={baseLanes:N.baseLanes|o,cachePool:p}),f.memoizedState=N,f.childLanes=Td(r,w,o),l.memoizedState=Ed,Bl(r.child,f)):(Li(l),o=r.child,r=o.sibling,o=Zn(o,{mode:"visible",children:f.children}),o.return=l,o.sibling=null,r!==null&&(w=l.deletions,w===null?(l.deletions=[r],l.flags|=16):w.push(r)),l.child=o,l.memoizedState=null,o)}function Cd(r,l){return l=Uo({mode:"visible",children:l},r.mode),l.return=r,r.child=l}function Uo(r,l){return r=rn(22,r,null,l),r.lanes=0,r}function Ad(r,l,o){return Mr(l,r.child,null,o),r=Cd(l,l.pendingProps.children),r.flags|=2,l.memoizedState=null,r}function ub(r,l,o){r.lanes|=l;var f=r.alternate;f!==null&&(f.lanes|=l),Pf(r.return,l,o)}function Md(r,l,o,f,p,g){var w=r.memoizedState;w===null?r.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:f,tail:o,tailMode:p,treeForkCount:g}:(w.isBackwards=l,w.rendering=null,w.renderingStartTime=0,w.last=f,w.tail=o,w.tailMode=p,w.treeForkCount=g)}function fb(r,l,o){var f=l.pendingProps,p=f.revealOrder,g=f.tail;f=f.children;var w=nt.current,N=(w&2)!==0;if(N?(w=w&1|2,l.flags|=128):w&=1,W(nt,w),Tt(r,l,f,o),f=ke?El:0,!N&&r!==null&&(r.flags&128)!==0)e:for(r=l.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&ub(r,o,l);else if(r.tag===19)ub(r,o,l);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===l)break e;for(;r.sibling===null;){if(r.return===null||r.return===l)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}switch(p){case"forwards":for(o=l.child,p=null;o!==null;)r=o.alternate,r!==null&&Co(r)===null&&(p=o),o=o.sibling;o=p,o===null?(p=l.child,l.child=null):(p=o.sibling,o.sibling=null),Md(l,!1,p,o,g,f);break;case"backwards":case"unstable_legacy-backwards":for(o=null,p=l.child,l.child=null;p!==null;){if(r=p.alternate,r!==null&&Co(r)===null){l.child=p;break}r=p.sibling,p.sibling=o,o=p,p=r}Md(l,!0,o,null,g,f);break;case"together":Md(l,!1,null,null,void 0,f);break;default:l.memoizedState=null}return l.child}function si(r,l,o){if(r!==null&&(l.dependencies=r.dependencies),Ui|=l.lanes,(o&l.childLanes)===0)if(r!==null){if(ws(r,l,o,!1),(o&l.childLanes)===0)return null}else return null;if(r!==null&&l.child!==r.child)throw Error(i(153));if(l.child!==null){for(r=l.child,o=Zn(r,r.pendingProps),l.child=o,o.return=l;r.sibling!==null;)r=r.sibling,o=o.sibling=Zn(r,r.pendingProps),o.return=l;o.sibling=null}return l.child}function Od(r,l){return(r.lanes&l)!==0?!0:(r=r.dependencies,!!(r!==null&&xo(r)))}function aN(r,l,o){switch(l.tag){case 3:_t(l,l.stateNode.containerInfo),Ri(l,at,r.memoizedState.cache),kr();break;case 27:case 5:cl(l);break;case 4:_t(l,l.stateNode.containerInfo);break;case 10:Ri(l,l.type,l.memoizedProps.value);break;case 31:if(l.memoizedState!==null)return l.flags|=128,td(l),null;break;case 13:var f=l.memoizedState;if(f!==null)return f.dehydrated!==null?(Li(l),l.flags|=128,null):(o&l.child.childLanes)!==0?cb(r,l,o):(Li(l),r=si(r,l,o),r!==null?r.sibling:null);Li(l);break;case 19:var p=(r.flags&128)!==0;if(f=(o&l.childLanes)!==0,f||(ws(r,l,o,!1),f=(o&l.childLanes)!==0),p){if(f)return fb(r,l,o);l.flags|=128}if(p=l.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),W(nt,nt.current),f)break;return null;case 22:return l.lanes=0,ib(r,l,o,l.pendingProps);case 24:Ri(l,at,r.memoizedState.cache)}return si(r,l,o)}function db(r,l,o){if(r!==null)if(r.memoizedProps!==l.pendingProps)ct=!0;else{if(!Od(r,o)&&(l.flags&128)===0)return ct=!1,aN(r,l,o);ct=(r.flags&131072)!==0}else ct=!1,ke&&(l.flags&1048576)!==0&&$g(l,El,l.index);switch(l.lanes=0,l.tag){case 16:e:{var f=l.pendingProps;if(r=Cr(l.elementType),l.type=r,typeof r=="function")Lf(r)?(f=Rr(r,f),l.tag=1,l=ab(null,l,r,f,o)):(l.tag=0,l=kd(null,l,r,f,o));else{if(r!=null){var p=r.$$typeof;if(p===V){l.tag=11,l=eb(null,l,r,f,o);break e}else if(p===L){l.tag=14,l=tb(null,l,r,f,o);break e}}throw l=Oe(r)||r,Error(i(306,l,""))}}return l;case 0:return kd(r,l,l.type,l.pendingProps,o);case 1:return f=l.type,p=Rr(f,l.pendingProps),ab(r,l,f,p,o);case 3:e:{if(_t(l,l.stateNode.containerInfo),r===null)throw Error(i(387));f=l.pendingProps;var g=l.memoizedState;p=g.element,Xf(r,l),jl(l,f,null,o);var w=l.memoizedState;if(f=w.cache,Ri(l,at,f),f!==g.cache&&$f(l,[at],o,!0),Rl(),f=w.element,g.isDehydrated)if(g={element:f,isDehydrated:!1,cache:w.cache},l.updateQueue.baseState=g,l.memoizedState=g,l.flags&256){l=ob(r,l,f,o);break e}else if(f!==p){p=gn(Error(i(424)),l),Nl(p),l=ob(r,l,f,o);break e}else for(r=l.stateNode.containerInfo,r.nodeType===9?r=r.body:r=r.nodeName==="HTML"?r.ownerDocument.body:r,Ve=Sn(r.firstChild),Et=l,ke=!0,Mi=null,xn=!0,o=iy(l,null,f,o),l.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(kr(),f===p){l=si(r,l,o);break e}Tt(r,l,f,o)}l=l.child}return l;case 26:return Ho(r,l),r===null?(o=k0(l.type,null,l.pendingProps,null))?l.memoizedState=o:ke||(o=l.type,r=l.pendingProps,f=tc(be.current).createElement(o),f[kt]=l,f[Vt]=r,Ct(f,o,r),gt(f),l.stateNode=f):l.memoizedState=k0(l.type,r.memoizedProps,l.pendingProps,r.memoizedState),null;case 27:return cl(l),r===null&&ke&&(f=l.stateNode=v0(l.type,l.pendingProps,be.current),Et=l,xn=!0,p=Ve,$i(l.type)?(ch=p,Ve=Sn(f.firstChild)):Ve=p),Tt(r,l,l.pendingProps.children,o),Ho(r,l),r===null&&(l.flags|=4194304),l.child;case 5:return r===null&&ke&&((p=f=Ve)&&(f=BN(f,l.type,l.pendingProps,xn),f!==null?(l.stateNode=f,Et=l,Ve=Sn(f.firstChild),xn=!1,p=!0):p=!1),p||Oi(l)),cl(l),p=l.type,g=l.pendingProps,w=r!==null?r.memoizedProps:null,f=g.children,rh(p,g)?f=null:w!==null&&rh(p,w)&&(l.flags|=32),l.memoizedState!==null&&(p=id(r,l,WE,null,null,o),Wl._currentValue=p),Ho(r,l),Tt(r,l,f,o),l.child;case 6:return r===null&&ke&&((r=o=Ve)&&(o=HN(o,l.pendingProps,xn),o!==null?(l.stateNode=o,Et=l,Ve=null,r=!0):r=!1),r||Oi(l)),null;case 13:return cb(r,l,o);case 4:return _t(l,l.stateNode.containerInfo),f=l.pendingProps,r===null?l.child=Mr(l,null,f,o):Tt(r,l,f,o),l.child;case 11:return eb(r,l,l.type,l.pendingProps,o);case 7:return Tt(r,l,l.pendingProps,o),l.child;case 8:return Tt(r,l,l.pendingProps.children,o),l.child;case 12:return Tt(r,l,l.pendingProps.children,o),l.child;case 10:return f=l.pendingProps,Ri(l,l.type,f.value),Tt(r,l,f.children,o),l.child;case 9:return p=l.type._context,f=l.pendingProps.children,Nr(l),p=Nt(p),f=f(p),l.flags|=1,Tt(r,l,f,o),l.child;case 14:return tb(r,l,l.type,l.pendingProps,o);case 15:return nb(r,l,l.type,l.pendingProps,o);case 19:return fb(r,l,o);case 31:return lN(r,l,o);case 22:return ib(r,l,o,l.pendingProps);case 24:return Nr(l),f=Nt(at),r===null?(p=Gf(),p===null&&(p=qe,g=Ff(),p.pooledCache=g,g.refCount++,g!==null&&(p.pooledCacheLanes|=o),p=g),l.memoizedState={parent:f,cache:p},Jf(l),Ri(l,at,p)):((r.lanes&o)!==0&&(Xf(r,l),jl(l,null,null,o),Rl()),p=r.memoizedState,g=l.memoizedState,p.parent!==f?(p={parent:f,cache:f},l.memoizedState=p,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=p),Ri(l,at,f)):(f=g.cache,Ri(l,at,f),f!==p.cache&&$f(l,[at],o,!0))),Tt(r,l,l.pendingProps.children,o),l.child;case 29:throw l.pendingProps}throw Error(i(156,l.tag))}function li(r){r.flags|=4}function Rd(r,l,o,f,p){if((l=(r.mode&32)!==0)&&(l=!1),l){if(r.flags|=16777216,(p&335544128)===p)if(r.stateNode.complete)r.flags|=8192;else if(Ub())r.flags|=8192;else throw Ar=ko,Yf}else r.flags&=-16777217}function hb(r,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!A0(l))if(Ub())r.flags|=8192;else throw Ar=ko,Yf}function qo(r,l){l!==null&&(r.flags|=4),r.flags&16384&&(l=r.tag!==22?Km():536870912,r.lanes|=l,zs|=l)}function Hl(r,l){if(!ke)switch(r.tailMode){case"hidden":l=r.tail;for(var o=null;l!==null;)l.alternate!==null&&(o=l),l=l.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var f=null;o!==null;)o.alternate!==null&&(f=o),o=o.sibling;f===null?l||r.tail===null?r.tail=null:r.tail.sibling=null:f.sibling=null}}function Pe(r){var l=r.alternate!==null&&r.alternate.child===r.child,o=0,f=0;if(l)for(var p=r.child;p!==null;)o|=p.lanes|p.childLanes,f|=p.subtreeFlags&65011712,f|=p.flags&65011712,p.return=r,p=p.sibling;else for(p=r.child;p!==null;)o|=p.lanes|p.childLanes,f|=p.subtreeFlags,f|=p.flags,p.return=r,p=p.sibling;return r.subtreeFlags|=f,r.childLanes=o,l}function oN(r,l,o){var f=l.pendingProps;switch(Uf(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pe(l),null;case 1:return Pe(l),null;case 3:return o=l.stateNode,f=null,r!==null&&(f=r.memoizedState.cache),l.memoizedState.cache!==f&&(l.flags|=2048),ni(at),tt(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(Ss(l)?li(l):r===null||r.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,If())),Pe(l),null;case 26:var p=l.type,g=l.memoizedState;return r===null?(li(l),g!==null?(Pe(l),hb(l,g)):(Pe(l),Rd(l,p,null,f,o))):g?g!==r.memoizedState?(li(l),Pe(l),hb(l,g)):(Pe(l),l.flags&=-16777217):(r=r.memoizedProps,r!==f&&li(l),Pe(l),Rd(l,p,r,f,o)),null;case 27:if(Xa(l),o=be.current,p=l.type,r!==null&&l.stateNode!=null)r.memoizedProps!==f&&li(l);else{if(!f){if(l.stateNode===null)throw Error(i(166));return Pe(l),null}r=te.current,Ss(l)?Kg(l):(r=v0(p,f,o),l.stateNode=r,li(l))}return Pe(l),null;case 5:if(Xa(l),p=l.type,r!==null&&l.stateNode!=null)r.memoizedProps!==f&&li(l);else{if(!f){if(l.stateNode===null)throw Error(i(166));return Pe(l),null}if(g=te.current,Ss(l))Kg(l);else{var w=tc(be.current);switch(g){case 1:g=w.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:g=w.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":g=w.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":g=w.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":g=w.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof f.is=="string"?w.createElement("select",{is:f.is}):w.createElement("select"),f.multiple?g.multiple=!0:f.size&&(g.size=f.size);break;default:g=typeof f.is=="string"?w.createElement(p,{is:f.is}):w.createElement(p)}}g[kt]=l,g[Vt]=f;e:for(w=l.child;w!==null;){if(w.tag===5||w.tag===6)g.appendChild(w.stateNode);else if(w.tag!==4&&w.tag!==27&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===l)break e;for(;w.sibling===null;){if(w.return===null||w.return===l)break e;w=w.return}w.sibling.return=w.return,w=w.sibling}l.stateNode=g;e:switch(Ct(g,p,f),p){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}f&&li(l)}}return Pe(l),Rd(l,l.type,r===null?null:r.memoizedProps,l.pendingProps,o),null;case 6:if(r&&l.stateNode!=null)r.memoizedProps!==f&&li(l);else{if(typeof f!="string"&&l.stateNode===null)throw Error(i(166));if(r=be.current,Ss(l)){if(r=l.stateNode,o=l.memoizedProps,f=null,p=Et,p!==null)switch(p.tag){case 27:case 5:f=p.memoizedProps}r[kt]=l,r=!!(r.nodeValue===o||f!==null&&f.suppressHydrationWarning===!0||c0(r.nodeValue,o)),r||Oi(l,!0)}else r=tc(r).createTextNode(f),r[kt]=l,l.stateNode=r}return Pe(l),null;case 31:if(o=l.memoizedState,r===null||r.memoizedState!==null){if(f=Ss(l),o!==null){if(r===null){if(!f)throw Error(i(318));if(r=l.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(557));r[kt]=l}else kr(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Pe(l),r=!1}else o=If(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=o),r=!0;if(!r)return l.flags&256?(ln(l),l):(ln(l),null);if((l.flags&128)!==0)throw Error(i(558))}return Pe(l),null;case 13:if(f=l.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(p=Ss(l),f!==null&&f.dehydrated!==null){if(r===null){if(!p)throw Error(i(318));if(p=l.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(i(317));p[kt]=l}else kr(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Pe(l),p=!1}else p=If(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=p),p=!0;if(!p)return l.flags&256?(ln(l),l):(ln(l),null)}return ln(l),(l.flags&128)!==0?(l.lanes=o,l):(o=f!==null,r=r!==null&&r.memoizedState!==null,o&&(f=l.child,p=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(p=f.alternate.memoizedState.cachePool.pool),g=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(g=f.memoizedState.cachePool.pool),g!==p&&(f.flags|=2048)),o!==r&&o&&(l.child.flags|=8192),qo(l,l.updateQueue),Pe(l),null);case 4:return tt(),r===null&&Zd(l.stateNode.containerInfo),Pe(l),null;case 10:return ni(l.type),Pe(l),null;case 19:if(K(nt),f=l.memoizedState,f===null)return Pe(l),null;if(p=(l.flags&128)!==0,g=f.rendering,g===null)if(p)Hl(f,!1);else{if(Xe!==0||r!==null&&(r.flags&128)!==0)for(r=l.child;r!==null;){if(g=Co(r),g!==null){for(l.flags|=128,Hl(f,!1),r=g.updateQueue,l.updateQueue=r,qo(l,r),l.subtreeFlags=0,r=o,o=l.child;o!==null;)Ig(o,r),o=o.sibling;return W(nt,nt.current&1|2),ke&&ei(l,f.treeForkCount),l.child}r=r.sibling}f.tail!==null&&Zt()>Fo&&(l.flags|=128,p=!0,Hl(f,!1),l.lanes=4194304)}else{if(!p)if(r=Co(g),r!==null){if(l.flags|=128,p=!0,r=r.updateQueue,l.updateQueue=r,qo(l,r),Hl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!g.alternate&&!ke)return Pe(l),null}else 2*Zt()-f.renderingStartTime>Fo&&o!==536870912&&(l.flags|=128,p=!0,Hl(f,!1),l.lanes=4194304);f.isBackwards?(g.sibling=l.child,l.child=g):(r=f.last,r!==null?r.sibling=g:l.child=g,f.last=g)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=Zt(),r.sibling=null,o=nt.current,W(nt,p?o&1|2:o&1),ke&&ei(l,f.treeForkCount),r):(Pe(l),null);case 22:case 23:return ln(l),ed(),f=l.memoizedState!==null,r!==null?r.memoizedState!==null!==f&&(l.flags|=8192):f&&(l.flags|=8192),f?(o&536870912)!==0&&(l.flags&128)===0&&(Pe(l),l.subtreeFlags&6&&(l.flags|=8192)):Pe(l),o=l.updateQueue,o!==null&&qo(l,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==o&&(l.flags|=2048),r!==null&&K(Tr),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),l.memoizedState.cache!==o&&(l.flags|=2048),ni(at),Pe(l),null;case 25:return null;case 30:return null}throw Error(i(156,l.tag))}function cN(r,l){switch(Uf(l),l.tag){case 1:return r=l.flags,r&65536?(l.flags=r&-65537|128,l):null;case 3:return ni(at),tt(),r=l.flags,(r&65536)!==0&&(r&128)===0?(l.flags=r&-65537|128,l):null;case 26:case 27:case 5:return Xa(l),null;case 31:if(l.memoizedState!==null){if(ln(l),l.alternate===null)throw Error(i(340));kr()}return r=l.flags,r&65536?(l.flags=r&-65537|128,l):null;case 13:if(ln(l),r=l.memoizedState,r!==null&&r.dehydrated!==null){if(l.alternate===null)throw Error(i(340));kr()}return r=l.flags,r&65536?(l.flags=r&-65537|128,l):null;case 19:return K(nt),null;case 4:return tt(),null;case 10:return ni(l.type),null;case 22:case 23:return ln(l),ed(),r!==null&&K(Tr),r=l.flags,r&65536?(l.flags=r&-65537|128,l):null;case 24:return ni(at),null;case 25:return null;default:return null}}function pb(r,l){switch(Uf(l),l.tag){case 3:ni(at),tt();break;case 26:case 27:case 5:Xa(l);break;case 4:tt();break;case 31:l.memoizedState!==null&&ln(l);break;case 13:ln(l);break;case 19:K(nt);break;case 10:ni(l.type);break;case 22:case 23:ln(l),ed(),r!==null&&K(Tr);break;case 24:ni(at)}}function Ul(r,l){try{var o=l.updateQueue,f=o!==null?o.lastEffect:null;if(f!==null){var p=f.next;o=p;do{if((o.tag&r)===r){f=void 0;var g=o.create,w=o.inst;f=g(),w.destroy=f}o=o.next}while(o!==p)}}catch(N){Le(l,l.return,N)}}function Bi(r,l,o){try{var f=l.updateQueue,p=f!==null?f.lastEffect:null;if(p!==null){var g=p.next;f=g;do{if((f.tag&r)===r){var w=f.inst,N=w.destroy;if(N!==void 0){w.destroy=void 0,p=l;var C=o,B=N;try{B()}catch($){Le(p,C,$)}}}f=f.next}while(f!==g)}}catch($){Le(l,l.return,$)}}function mb(r){var l=r.updateQueue;if(l!==null){var o=r.stateNode;try{sy(l,o)}catch(f){Le(r,r.return,f)}}}function gb(r,l,o){o.props=Rr(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(f){Le(r,l,f)}}function ql(r,l){try{var o=r.ref;if(o!==null){switch(r.tag){case 26:case 27:case 5:var f=r.stateNode;break;case 30:f=r.stateNode;break;default:f=r.stateNode}typeof o=="function"?r.refCleanup=o(f):o.current=f}}catch(p){Le(r,l,p)}}function In(r,l){var o=r.ref,f=r.refCleanup;if(o!==null)if(typeof f=="function")try{f()}catch(p){Le(r,l,p)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(p){Le(r,l,p)}else o.current=null}function yb(r){var l=r.type,o=r.memoizedProps,f=r.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":o.autoFocus&&f.focus();break e;case"img":o.src?f.src=o.src:o.srcSet&&(f.srcset=o.srcSet)}}catch(p){Le(r,r.return,p)}}function jd(r,l,o){try{var f=r.stateNode;RN(f,r.type,o,l),f[Vt]=l}catch(p){Le(r,r.return,p)}}function bb(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&$i(r.type)||r.tag===4}function Dd(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||bb(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&$i(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function zd(r,l,o){var f=r.tag;if(f===5||f===6)r=r.stateNode,l?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(r,l):(l=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,l.appendChild(r),o=o._reactRootContainer,o!=null||l.onclick!==null||(l.onclick=Qn));else if(f!==4&&(f===27&&$i(r.type)&&(o=r.stateNode,l=null),r=r.child,r!==null))for(zd(r,l,o),r=r.sibling;r!==null;)zd(r,l,o),r=r.sibling}function Io(r,l,o){var f=r.tag;if(f===5||f===6)r=r.stateNode,l?o.insertBefore(r,l):o.appendChild(r);else if(f!==4&&(f===27&&$i(r.type)&&(o=r.stateNode),r=r.child,r!==null))for(Io(r,l,o),r=r.sibling;r!==null;)Io(r,l,o),r=r.sibling}function xb(r){var l=r.stateNode,o=r.memoizedProps;try{for(var f=r.type,p=l.attributes;p.length;)l.removeAttributeNode(p[0]);Ct(l,f,o),l[kt]=r,l[Vt]=o}catch(g){Le(r,r.return,g)}}var ai=!1,ut=!1,Ld=!1,vb=typeof WeakSet=="function"?WeakSet:Set,yt=null;function uN(r,l){if(r=r.containerInfo,nh=oc,r=jg(r),Af(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var f=o.getSelection&&o.getSelection();if(f&&f.rangeCount!==0){o=f.anchorNode;var p=f.anchorOffset,g=f.focusNode;f=f.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var w=0,N=-1,C=-1,B=0,$=0,Y=r,H=null;t:for(;;){for(var q;Y!==o||p!==0&&Y.nodeType!==3||(N=w+p),Y!==g||f!==0&&Y.nodeType!==3||(C=w+f),Y.nodeType===3&&(w+=Y.nodeValue.length),(q=Y.firstChild)!==null;)H=Y,Y=q;for(;;){if(Y===r)break t;if(H===o&&++B===p&&(N=w),H===g&&++$===f&&(C=w),(q=Y.nextSibling)!==null)break;Y=H,H=Y.parentNode}Y=q}o=N===-1||C===-1?null:{start:N,end:C}}else o=null}o=o||{start:0,end:0}}else o=null;for(ih={focusedElem:r,selectionRange:o},oc=!1,yt=l;yt!==null;)if(l=yt,r=l.child,(l.subtreeFlags&1028)!==0&&r!==null)r.return=l,yt=r;else for(;yt!==null;){switch(l=yt,g=l.alternate,r=l.flags,l.tag){case 0:if((r&4)!==0&&(r=l.updateQueue,r=r!==null?r.events:null,r!==null))for(o=0;o<r.length;o++)p=r[o],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((r&1024)!==0&&g!==null){r=void 0,o=l,p=g.memoizedProps,g=g.memoizedState,f=o.stateNode;try{var ne=Rr(o.type,p);r=f.getSnapshotBeforeUpdate(ne,g),f.__reactInternalSnapshotBeforeUpdate=r}catch(oe){Le(o,o.return,oe)}}break;case 3:if((r&1024)!==0){if(r=l.stateNode.containerInfo,o=r.nodeType,o===9)lh(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":lh(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=l.sibling,r!==null){r.return=l.return,yt=r;break}yt=l.return}}function Sb(r,l,o){var f=o.flags;switch(o.tag){case 0:case 11:case 15:ci(r,o),f&4&&Ul(5,o);break;case 1:if(ci(r,o),f&4)if(r=o.stateNode,l===null)try{r.componentDidMount()}catch(w){Le(o,o.return,w)}else{var p=Rr(o.type,l.memoizedProps);l=l.memoizedState;try{r.componentDidUpdate(p,l,r.__reactInternalSnapshotBeforeUpdate)}catch(w){Le(o,o.return,w)}}f&64&&mb(o),f&512&&ql(o,o.return);break;case 3:if(ci(r,o),f&64&&(r=o.updateQueue,r!==null)){if(l=null,o.child!==null)switch(o.child.tag){case 27:case 5:l=o.child.stateNode;break;case 1:l=o.child.stateNode}try{sy(r,l)}catch(w){Le(o,o.return,w)}}break;case 27:l===null&&f&4&&xb(o);case 26:case 5:ci(r,o),l===null&&f&4&&yb(o),f&512&&ql(o,o.return);break;case 12:ci(r,o);break;case 31:ci(r,o),f&4&&Eb(r,o);break;case 13:ci(r,o),f&4&&Nb(r,o),f&64&&(r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(o=xN.bind(null,o),UN(r,o))));break;case 22:if(f=o.memoizedState!==null||ai,!f){l=l!==null&&l.memoizedState!==null||ut,p=ai;var g=ut;ai=f,(ut=l)&&!g?ui(r,o,(o.subtreeFlags&8772)!==0):ci(r,o),ai=p,ut=g}break;case 30:break;default:ci(r,o)}}function wb(r){var l=r.alternate;l!==null&&(r.alternate=null,wb(l)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(l=r.stateNode,l!==null&&ff(l)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Fe=null,$t=!1;function oi(r,l,o){for(o=o.child;o!==null;)kb(r,l,o),o=o.sibling}function kb(r,l,o){if(en&&typeof en.onCommitFiberUnmount=="function")try{en.onCommitFiberUnmount(ul,o)}catch{}switch(o.tag){case 26:ut||In(o,l),oi(r,l,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:ut||In(o,l);var f=Fe,p=$t;$i(o.type)&&(Fe=o.stateNode,$t=!1),oi(r,l,o),Jl(o.stateNode),Fe=f,$t=p;break;case 5:ut||In(o,l);case 6:if(f=Fe,p=$t,Fe=null,oi(r,l,o),Fe=f,$t=p,Fe!==null)if($t)try{(Fe.nodeType===9?Fe.body:Fe.nodeName==="HTML"?Fe.ownerDocument.body:Fe).removeChild(o.stateNode)}catch(g){Le(o,l,g)}else try{Fe.removeChild(o.stateNode)}catch(g){Le(o,l,g)}break;case 18:Fe!==null&&($t?(r=Fe,m0(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,o.stateNode),Vs(r)):m0(Fe,o.stateNode));break;case 4:f=Fe,p=$t,Fe=o.stateNode.containerInfo,$t=!0,oi(r,l,o),Fe=f,$t=p;break;case 0:case 11:case 14:case 15:Bi(2,o,l),ut||Bi(4,o,l),oi(r,l,o);break;case 1:ut||(In(o,l),f=o.stateNode,typeof f.componentWillUnmount=="function"&&gb(o,l,f)),oi(r,l,o);break;case 21:oi(r,l,o);break;case 22:ut=(f=ut)||o.memoizedState!==null,oi(r,l,o),ut=f;break;default:oi(r,l,o)}}function Eb(r,l){if(l.memoizedState===null&&(r=l.alternate,r!==null&&(r=r.memoizedState,r!==null))){r=r.dehydrated;try{Vs(r)}catch(o){Le(l,l.return,o)}}}function Nb(r,l){if(l.memoizedState===null&&(r=l.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Vs(r)}catch(o){Le(l,l.return,o)}}function fN(r){switch(r.tag){case 31:case 13:case 19:var l=r.stateNode;return l===null&&(l=r.stateNode=new vb),l;case 22:return r=r.stateNode,l=r._retryCache,l===null&&(l=r._retryCache=new vb),l;default:throw Error(i(435,r.tag))}}function Vo(r,l){var o=fN(r);l.forEach(function(f){if(!o.has(f)){o.add(f);var p=vN.bind(null,r,f);f.then(p,p)}})}function Ft(r,l){var o=l.deletions;if(o!==null)for(var f=0;f<o.length;f++){var p=o[f],g=r,w=l,N=w;e:for(;N!==null;){switch(N.tag){case 27:if($i(N.type)){Fe=N.stateNode,$t=!1;break e}break;case 5:Fe=N.stateNode,$t=!1;break e;case 3:case 4:Fe=N.stateNode.containerInfo,$t=!0;break e}N=N.return}if(Fe===null)throw Error(i(160));kb(g,w,p),Fe=null,$t=!1,g=p.alternate,g!==null&&(g.return=null),p.return=null}if(l.subtreeFlags&13886)for(l=l.child;l!==null;)Tb(l,r),l=l.sibling}var Rn=null;function Tb(r,l){var o=r.alternate,f=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Ft(l,r),Kt(r),f&4&&(Bi(3,r,r.return),Ul(3,r),Bi(5,r,r.return));break;case 1:Ft(l,r),Kt(r),f&512&&(ut||o===null||In(o,o.return)),f&64&&ai&&(r=r.updateQueue,r!==null&&(f=r.callbacks,f!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?f:o.concat(f))));break;case 26:var p=Rn;if(Ft(l,r),Kt(r),f&512&&(ut||o===null||In(o,o.return)),f&4){var g=o!==null?o.memoizedState:null;if(f=r.memoizedState,o===null)if(f===null)if(r.stateNode===null){e:{f=r.type,o=r.memoizedProps,p=p.ownerDocument||p;t:switch(f){case"title":g=p.getElementsByTagName("title")[0],(!g||g[hl]||g[kt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=p.createElement(f),p.head.insertBefore(g,p.querySelector("head > title"))),Ct(g,f,o),g[kt]=r,gt(g),f=g;break e;case"link":var w=T0("link","href",p).get(f+(o.href||""));if(w){for(var N=0;N<w.length;N++)if(g=w[N],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){w.splice(N,1);break t}}g=p.createElement(f),Ct(g,f,o),p.head.appendChild(g);break;case"meta":if(w=T0("meta","content",p).get(f+(o.content||""))){for(N=0;N<w.length;N++)if(g=w[N],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){w.splice(N,1);break t}}g=p.createElement(f),Ct(g,f,o),p.head.appendChild(g);break;default:throw Error(i(468,f))}g[kt]=r,gt(g),f=g}r.stateNode=f}else C0(p,r.type,r.stateNode);else r.stateNode=N0(p,f,r.memoizedProps);else g!==f?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,f===null?C0(p,r.type,r.stateNode):N0(p,f,r.memoizedProps)):f===null&&r.stateNode!==null&&jd(r,r.memoizedProps,o.memoizedProps)}break;case 27:Ft(l,r),Kt(r),f&512&&(ut||o===null||In(o,o.return)),o!==null&&f&4&&jd(r,r.memoizedProps,o.memoizedProps);break;case 5:if(Ft(l,r),Kt(r),f&512&&(ut||o===null||In(o,o.return)),r.flags&32){p=r.stateNode;try{fs(p,"")}catch(ne){Le(r,r.return,ne)}}f&4&&r.stateNode!=null&&(p=r.memoizedProps,jd(r,p,o!==null?o.memoizedProps:p)),f&1024&&(Ld=!0);break;case 6:if(Ft(l,r),Kt(r),f&4){if(r.stateNode===null)throw Error(i(162));f=r.memoizedProps,o=r.stateNode;try{o.nodeValue=f}catch(ne){Le(r,r.return,ne)}}break;case 3:if(rc=null,p=Rn,Rn=nc(l.containerInfo),Ft(l,r),Rn=p,Kt(r),f&4&&o!==null&&o.memoizedState.isDehydrated)try{Vs(l.containerInfo)}catch(ne){Le(r,r.return,ne)}Ld&&(Ld=!1,Cb(r));break;case 4:f=Rn,Rn=nc(r.stateNode.containerInfo),Ft(l,r),Kt(r),Rn=f;break;case 12:Ft(l,r),Kt(r);break;case 31:Ft(l,r),Kt(r),f&4&&(f=r.updateQueue,f!==null&&(r.updateQueue=null,Vo(r,f)));break;case 13:Ft(l,r),Kt(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&($o=Zt()),f&4&&(f=r.updateQueue,f!==null&&(r.updateQueue=null,Vo(r,f)));break;case 22:p=r.memoizedState!==null;var C=o!==null&&o.memoizedState!==null,B=ai,$=ut;if(ai=B||p,ut=$||C,Ft(l,r),ut=$,ai=B,Kt(r),f&8192)e:for(l=r.stateNode,l._visibility=p?l._visibility&-2:l._visibility|1,p&&(o===null||C||ai||ut||jr(r)),o=null,l=r;;){if(l.tag===5||l.tag===26){if(o===null){C=o=l;try{if(g=C.stateNode,p)w=g.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{N=C.stateNode;var Y=C.memoizedProps.style,H=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;N.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(ne){Le(C,C.return,ne)}}}else if(l.tag===6){if(o===null){C=l;try{C.stateNode.nodeValue=p?"":C.memoizedProps}catch(ne){Le(C,C.return,ne)}}}else if(l.tag===18){if(o===null){C=l;try{var q=C.stateNode;p?g0(q,!0):g0(C.stateNode,!1)}catch(ne){Le(C,C.return,ne)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===r)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===r)break e;for(;l.sibling===null;){if(l.return===null||l.return===r)break e;o===l&&(o=null),l=l.return}o===l&&(o=null),l.sibling.return=l.return,l=l.sibling}f&4&&(f=r.updateQueue,f!==null&&(o=f.retryQueue,o!==null&&(f.retryQueue=null,Vo(r,o))));break;case 19:Ft(l,r),Kt(r),f&4&&(f=r.updateQueue,f!==null&&(r.updateQueue=null,Vo(r,f)));break;case 30:break;case 21:break;default:Ft(l,r),Kt(r)}}function Kt(r){var l=r.flags;if(l&2){try{for(var o,f=r.return;f!==null;){if(bb(f)){o=f;break}f=f.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var p=o.stateNode,g=Dd(r);Io(r,g,p);break;case 5:var w=o.stateNode;o.flags&32&&(fs(w,""),o.flags&=-33);var N=Dd(r);Io(r,N,w);break;case 3:case 4:var C=o.stateNode.containerInfo,B=Dd(r);zd(r,B,C);break;default:throw Error(i(161))}}catch($){Le(r,r.return,$)}r.flags&=-3}l&4096&&(r.flags&=-4097)}function Cb(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var l=r;Cb(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),r=r.sibling}}function ci(r,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)Sb(r,l.alternate,l),l=l.sibling}function jr(r){for(r=r.child;r!==null;){var l=r;switch(l.tag){case 0:case 11:case 14:case 15:Bi(4,l,l.return),jr(l);break;case 1:In(l,l.return);var o=l.stateNode;typeof o.componentWillUnmount=="function"&&gb(l,l.return,o),jr(l);break;case 27:Jl(l.stateNode);case 26:case 5:In(l,l.return),jr(l);break;case 22:l.memoizedState===null&&jr(l);break;case 30:jr(l);break;default:jr(l)}r=r.sibling}}function ui(r,l,o){for(o=o&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var f=l.alternate,p=r,g=l,w=g.flags;switch(g.tag){case 0:case 11:case 15:ui(p,g,o),Ul(4,g);break;case 1:if(ui(p,g,o),f=g,p=f.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(B){Le(f,f.return,B)}if(f=g,p=f.updateQueue,p!==null){var N=f.stateNode;try{var C=p.shared.hiddenCallbacks;if(C!==null)for(p.shared.hiddenCallbacks=null,p=0;p<C.length;p++)ry(C[p],N)}catch(B){Le(f,f.return,B)}}o&&w&64&&mb(g),ql(g,g.return);break;case 27:xb(g);case 26:case 5:ui(p,g,o),o&&f===null&&w&4&&yb(g),ql(g,g.return);break;case 12:ui(p,g,o);break;case 31:ui(p,g,o),o&&w&4&&Eb(p,g);break;case 13:ui(p,g,o),o&&w&4&&Nb(p,g);break;case 22:g.memoizedState===null&&ui(p,g,o),ql(g,g.return);break;case 30:break;default:ui(p,g,o)}l=l.sibling}}function _d(r,l){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(r=l.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&Tl(o))}function Bd(r,l){r=null,l.alternate!==null&&(r=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==r&&(l.refCount++,r!=null&&Tl(r))}function jn(r,l,o,f){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)Ab(r,l,o,f),l=l.sibling}function Ab(r,l,o,f){var p=l.flags;switch(l.tag){case 0:case 11:case 15:jn(r,l,o,f),p&2048&&Ul(9,l);break;case 1:jn(r,l,o,f);break;case 3:jn(r,l,o,f),p&2048&&(r=null,l.alternate!==null&&(r=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==r&&(l.refCount++,r!=null&&Tl(r)));break;case 12:if(p&2048){jn(r,l,o,f),r=l.stateNode;try{var g=l.memoizedProps,w=g.id,N=g.onPostCommit;typeof N=="function"&&N(w,l.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(C){Le(l,l.return,C)}}else jn(r,l,o,f);break;case 31:jn(r,l,o,f);break;case 13:jn(r,l,o,f);break;case 23:break;case 22:g=l.stateNode,w=l.alternate,l.memoizedState!==null?g._visibility&2?jn(r,l,o,f):Il(r,l):g._visibility&2?jn(r,l,o,f):(g._visibility|=2,Rs(r,l,o,f,(l.subtreeFlags&10256)!==0||!1)),p&2048&&_d(w,l);break;case 24:jn(r,l,o,f),p&2048&&Bd(l.alternate,l);break;default:jn(r,l,o,f)}}function Rs(r,l,o,f,p){for(p=p&&((l.subtreeFlags&10256)!==0||!1),l=l.child;l!==null;){var g=r,w=l,N=o,C=f,B=w.flags;switch(w.tag){case 0:case 11:case 15:Rs(g,w,N,C,p),Ul(8,w);break;case 23:break;case 22:var $=w.stateNode;w.memoizedState!==null?$._visibility&2?Rs(g,w,N,C,p):Il(g,w):($._visibility|=2,Rs(g,w,N,C,p)),p&&B&2048&&_d(w.alternate,w);break;case 24:Rs(g,w,N,C,p),p&&B&2048&&Bd(w.alternate,w);break;default:Rs(g,w,N,C,p)}l=l.sibling}}function Il(r,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var o=r,f=l,p=f.flags;switch(f.tag){case 22:Il(o,f),p&2048&&_d(f.alternate,f);break;case 24:Il(o,f),p&2048&&Bd(f.alternate,f);break;default:Il(o,f)}l=l.sibling}}var Vl=8192;function js(r,l,o){if(r.subtreeFlags&Vl)for(r=r.child;r!==null;)Mb(r,l,o),r=r.sibling}function Mb(r,l,o){switch(r.tag){case 26:js(r,l,o),r.flags&Vl&&r.memoizedState!==null&&QN(o,Rn,r.memoizedState,r.memoizedProps);break;case 5:js(r,l,o);break;case 3:case 4:var f=Rn;Rn=nc(r.stateNode.containerInfo),js(r,l,o),Rn=f;break;case 22:r.memoizedState===null&&(f=r.alternate,f!==null&&f.memoizedState!==null?(f=Vl,Vl=16777216,js(r,l,o),Vl=f):js(r,l,o));break;default:js(r,l,o)}}function Ob(r){var l=r.alternate;if(l!==null&&(r=l.child,r!==null)){l.child=null;do l=r.sibling,r.sibling=null,r=l;while(r!==null)}}function Pl(r){var l=r.deletions;if((r.flags&16)!==0){if(l!==null)for(var o=0;o<l.length;o++){var f=l[o];yt=f,jb(f,r)}Ob(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Rb(r),r=r.sibling}function Rb(r){switch(r.tag){case 0:case 11:case 15:Pl(r),r.flags&2048&&Bi(9,r,r.return);break;case 3:Pl(r);break;case 12:Pl(r);break;case 22:var l=r.stateNode;r.memoizedState!==null&&l._visibility&2&&(r.return===null||r.return.tag!==13)?(l._visibility&=-3,Po(r)):Pl(r);break;default:Pl(r)}}function Po(r){var l=r.deletions;if((r.flags&16)!==0){if(l!==null)for(var o=0;o<l.length;o++){var f=l[o];yt=f,jb(f,r)}Ob(r)}for(r=r.child;r!==null;){switch(l=r,l.tag){case 0:case 11:case 15:Bi(8,l,l.return),Po(l);break;case 22:o=l.stateNode,o._visibility&2&&(o._visibility&=-3,Po(l));break;default:Po(l)}r=r.sibling}}function jb(r,l){for(;yt!==null;){var o=yt;switch(o.tag){case 0:case 11:case 15:Bi(8,o,l);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var f=o.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:Tl(o.memoizedState.cache)}if(f=o.child,f!==null)f.return=o,yt=f;else e:for(o=r;yt!==null;){f=yt;var p=f.sibling,g=f.return;if(wb(f),f===o){yt=null;break e}if(p!==null){p.return=g,yt=p;break e}yt=g}}}var dN={getCacheForType:function(r){var l=Nt(at),o=l.data.get(r);return o===void 0&&(o=r(),l.data.set(r,o)),o},cacheSignal:function(){return Nt(at).controller.signal}},hN=typeof WeakMap=="function"?WeakMap:Map,Ae=0,qe=null,xe=null,Se=0,ze=0,an=null,Hi=!1,Ds=!1,Hd=!1,fi=0,Xe=0,Ui=0,Dr=0,Ud=0,on=0,zs=0,$l=null,Gt=null,qd=!1,$o=0,Db=0,Fo=1/0,Ko=null,qi=null,pt=0,Ii=null,Ls=null,di=0,Id=0,Vd=null,zb=null,Fl=0,Pd=null;function cn(){return(Ae&2)!==0&&Se!==0?Se&-Se:U.T!==null?Jd():Xm()}function Lb(){if(on===0)if((Se&536870912)===0||ke){var r=Za;Za<<=1,(Za&3932160)===0&&(Za=262144),on=r}else on=536870912;return r=sn.current,r!==null&&(r.flags|=32),on}function Yt(r,l,o){(r===qe&&(ze===2||ze===9)||r.cancelPendingCommit!==null)&&(_s(r,0),Vi(r,Se,on,!1)),dl(r,o),((Ae&2)===0||r!==qe)&&(r===qe&&((Ae&2)===0&&(Dr|=o),Xe===4&&Vi(r,Se,on,!1)),Vn(r))}function _b(r,l,o){if((Ae&6)!==0)throw Error(i(327));var f=!o&&(l&127)===0&&(l&r.expiredLanes)===0||fl(r,l),p=f?gN(r,l):Fd(r,l,!0),g=f;do{if(p===0){Ds&&!f&&Vi(r,l,0,!1);break}else{if(o=r.current.alternate,g&&!pN(o)){p=Fd(r,l,!1),g=!1;continue}if(p===2){if(g=l,r.errorRecoveryDisabledLanes&g)var w=0;else w=r.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){l=w;e:{var N=r;p=$l;var C=N.current.memoizedState.isDehydrated;if(C&&(_s(N,w).flags|=256),w=Fd(N,w,!1),w!==2){if(Hd&&!C){N.errorRecoveryDisabledLanes|=g,Dr|=g,p=4;break e}g=Gt,Gt=p,g!==null&&(Gt===null?Gt=g:Gt.push.apply(Gt,g))}p=w}if(g=!1,p!==2)continue}}if(p===1){_s(r,0),Vi(r,l,0,!0);break}e:{switch(f=r,g=p,g){case 0:case 1:throw Error(i(345));case 4:if((l&4194048)!==l)break;case 6:Vi(f,l,on,!Hi);break e;case 2:Gt=null;break;case 3:case 5:break;default:throw Error(i(329))}if((l&62914560)===l&&(p=$o+300-Zt(),10<p)){if(Vi(f,l,on,!Hi),to(f,0,!0)!==0)break e;di=l,f.timeoutHandle=h0(Bb.bind(null,f,o,Gt,Ko,qd,l,on,Dr,zs,Hi,g,"Throttled",-0,0),p);break e}Bb(f,o,Gt,Ko,qd,l,on,Dr,zs,Hi,g,null,-0,0)}}break}while(!0);Vn(r)}function Bb(r,l,o,f,p,g,w,N,C,B,$,Y,H,q){if(r.timeoutHandle=-1,Y=l.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Qn},Mb(l,g,Y);var ne=(g&62914560)===g?$o-Zt():(g&4194048)===g?Db-Zt():0;if(ne=WN(Y,ne),ne!==null){di=g,r.cancelPendingCommit=ne(Fb.bind(null,r,l,g,o,f,p,w,N,C,$,Y,null,H,q)),Vi(r,g,w,!B);return}}Fb(r,l,g,o,f,p,w,N,C)}function pN(r){for(var l=r;;){var o=l.tag;if((o===0||o===11||o===15)&&l.flags&16384&&(o=l.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var f=0;f<o.length;f++){var p=o[f],g=p.getSnapshot;p=p.value;try{if(!nn(g(),p))return!1}catch{return!1}}if(o=l.child,l.subtreeFlags&16384&&o!==null)o.return=l,l=o;else{if(l===r)break;for(;l.sibling===null;){if(l.return===null||l.return===r)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Vi(r,l,o,f){l&=~Ud,l&=~Dr,r.suspendedLanes|=l,r.pingedLanes&=~l,f&&(r.warmLanes|=l),f=r.expirationTimes;for(var p=l;0<p;){var g=31-tn(p),w=1<<g;f[g]=-1,p&=~w}o!==0&&Gm(r,o,l)}function Go(){return(Ae&6)===0?(Kl(0),!1):!0}function $d(){if(xe!==null){if(ze===0)var r=xe.return;else r=xe,ti=Er=null,ld(r),Ts=null,Al=0,r=xe;for(;r!==null;)pb(r.alternate,r),r=r.return;xe=null}}function _s(r,l){var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,zN(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),di=0,$d(),qe=r,xe=o=Zn(r.current,null),Se=l,ze=0,an=null,Hi=!1,Ds=fl(r,l),Hd=!1,zs=on=Ud=Dr=Ui=Xe=0,Gt=$l=null,qd=!1,(l&8)!==0&&(l|=l&32);var f=r.entangledLanes;if(f!==0)for(r=r.entanglements,f&=l;0<f;){var p=31-tn(f),g=1<<p;l|=r[p],f&=~g}return fi=l,po(),o}function Hb(r,l){pe=null,U.H=_l,l===Ns||l===wo?(l=ey(),ze=3):l===Yf?(l=ey(),ze=4):ze=l===wd?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,an=l,xe===null&&(Xe=1,_o(r,gn(l,r.current)))}function Ub(){var r=sn.current;return r===null?!0:(Se&4194048)===Se?vn===null:(Se&62914560)===Se||(Se&536870912)!==0?r===vn:!1}function qb(){var r=U.H;return U.H=_l,r===null?_l:r}function Ib(){var r=U.A;return U.A=dN,r}function Yo(){Xe=4,Hi||(Se&4194048)!==Se&&sn.current!==null||(Ds=!0),(Ui&134217727)===0&&(Dr&134217727)===0||qe===null||Vi(qe,Se,on,!1)}function Fd(r,l,o){var f=Ae;Ae|=2;var p=qb(),g=Ib();(qe!==r||Se!==l)&&(Ko=null,_s(r,l)),l=!1;var w=Xe;e:do try{if(ze!==0&&xe!==null){var N=xe,C=an;switch(ze){case 8:$d(),w=6;break e;case 3:case 2:case 9:case 6:sn.current===null&&(l=!0);var B=ze;if(ze=0,an=null,Bs(r,N,C,B),o&&Ds){w=0;break e}break;default:B=ze,ze=0,an=null,Bs(r,N,C,B)}}mN(),w=Xe;break}catch($){Hb(r,$)}while(!0);return l&&r.shellSuspendCounter++,ti=Er=null,Ae=f,U.H=p,U.A=g,xe===null&&(qe=null,Se=0,po()),w}function mN(){for(;xe!==null;)Vb(xe)}function gN(r,l){var o=Ae;Ae|=2;var f=qb(),p=Ib();qe!==r||Se!==l?(Ko=null,Fo=Zt()+500,_s(r,l)):Ds=fl(r,l);e:do try{if(ze!==0&&xe!==null){l=xe;var g=an;t:switch(ze){case 1:ze=0,an=null,Bs(r,l,g,1);break;case 2:case 9:if(Wg(g)){ze=0,an=null,Pb(l);break}l=function(){ze!==2&&ze!==9||qe!==r||(ze=7),Vn(r)},g.then(l,l);break e;case 3:ze=7;break e;case 4:ze=5;break e;case 7:Wg(g)?(ze=0,an=null,Pb(l)):(ze=0,an=null,Bs(r,l,g,7));break;case 5:var w=null;switch(xe.tag){case 26:w=xe.memoizedState;case 5:case 27:var N=xe;if(w?A0(w):N.stateNode.complete){ze=0,an=null;var C=N.sibling;if(C!==null)xe=C;else{var B=N.return;B!==null?(xe=B,Jo(B)):xe=null}break t}}ze=0,an=null,Bs(r,l,g,5);break;case 6:ze=0,an=null,Bs(r,l,g,6);break;case 8:$d(),Xe=6;break e;default:throw Error(i(462))}}yN();break}catch($){Hb(r,$)}while(!0);return ti=Er=null,U.H=f,U.A=p,Ae=o,xe!==null?0:(qe=null,Se=0,po(),Xe)}function yN(){for(;xe!==null&&!qk();)Vb(xe)}function Vb(r){var l=db(r.alternate,r,fi);r.memoizedProps=r.pendingProps,l===null?Jo(r):xe=l}function Pb(r){var l=r,o=l.alternate;switch(l.tag){case 15:case 0:l=lb(o,l,l.pendingProps,l.type,void 0,Se);break;case 11:l=lb(o,l,l.pendingProps,l.type.render,l.ref,Se);break;case 5:ld(l);default:pb(o,l),l=xe=Ig(l,fi),l=db(o,l,fi)}r.memoizedProps=r.pendingProps,l===null?Jo(r):xe=l}function Bs(r,l,o,f){ti=Er=null,ld(l),Ts=null,Al=0;var p=l.return;try{if(sN(r,p,l,o,Se)){Xe=1,_o(r,gn(o,r.current)),xe=null;return}}catch(g){if(p!==null)throw xe=p,g;Xe=1,_o(r,gn(o,r.current)),xe=null;return}l.flags&32768?(ke||f===1?r=!0:Ds||(Se&536870912)!==0?r=!1:(Hi=r=!0,(f===2||f===9||f===3||f===6)&&(f=sn.current,f!==null&&f.tag===13&&(f.flags|=16384))),$b(l,r)):Jo(l)}function Jo(r){var l=r;do{if((l.flags&32768)!==0){$b(l,Hi);return}r=l.return;var o=oN(l.alternate,l,fi);if(o!==null){xe=o;return}if(l=l.sibling,l!==null){xe=l;return}xe=l=r}while(l!==null);Xe===0&&(Xe=5)}function $b(r,l){do{var o=cN(r.alternate,r);if(o!==null){o.flags&=32767,xe=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!l&&(r=r.sibling,r!==null)){xe=r;return}xe=r=o}while(r!==null);Xe=6,xe=null}function Fb(r,l,o,f,p,g,w,N,C){r.cancelPendingCommit=null;do Xo();while(pt!==0);if((Ae&6)!==0)throw Error(i(327));if(l!==null){if(l===r.current)throw Error(i(177));if(g=l.lanes|l.childLanes,g|=Df,Xk(r,o,g,w,N,C),r===qe&&(xe=qe=null,Se=0),Ls=l,Ii=r,di=o,Id=g,Vd=p,zb=f,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,SN(Qa,function(){return Xb(),null})):(r.callbackNode=null,r.callbackPriority=0),f=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||f){f=U.T,U.T=null,p=Q.p,Q.p=2,w=Ae,Ae|=4;try{uN(r,l,o)}finally{Ae=w,Q.p=p,U.T=f}}pt=1,Kb(),Gb(),Yb()}}function Kb(){if(pt===1){pt=0;var r=Ii,l=Ls,o=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||o){o=U.T,U.T=null;var f=Q.p;Q.p=2;var p=Ae;Ae|=4;try{Tb(l,r);var g=ih,w=jg(r.containerInfo),N=g.focusedElem,C=g.selectionRange;if(w!==N&&N&&N.ownerDocument&&Rg(N.ownerDocument.documentElement,N)){if(C!==null&&Af(N)){var B=C.start,$=C.end;if($===void 0&&($=B),"selectionStart"in N)N.selectionStart=B,N.selectionEnd=Math.min($,N.value.length);else{var Y=N.ownerDocument||document,H=Y&&Y.defaultView||window;if(H.getSelection){var q=H.getSelection(),ne=N.textContent.length,oe=Math.min(C.start,ne),Ue=C.end===void 0?oe:Math.min(C.end,ne);!q.extend&&oe>Ue&&(w=Ue,Ue=oe,oe=w);var j=Og(N,oe),R=Og(N,Ue);if(j&&R&&(q.rangeCount!==1||q.anchorNode!==j.node||q.anchorOffset!==j.offset||q.focusNode!==R.node||q.focusOffset!==R.offset)){var _=Y.createRange();_.setStart(j.node,j.offset),q.removeAllRanges(),oe>Ue?(q.addRange(_),q.extend(R.node,R.offset)):(_.setEnd(R.node,R.offset),q.addRange(_))}}}}for(Y=[],q=N;q=q.parentNode;)q.nodeType===1&&Y.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof N.focus=="function"&&N.focus(),N=0;N<Y.length;N++){var F=Y[N];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}oc=!!nh,ih=nh=null}finally{Ae=p,Q.p=f,U.T=o}}r.current=l,pt=2}}function Gb(){if(pt===2){pt=0;var r=Ii,l=Ls,o=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||o){o=U.T,U.T=null;var f=Q.p;Q.p=2;var p=Ae;Ae|=4;try{Sb(r,l.alternate,l)}finally{Ae=p,Q.p=f,U.T=o}}pt=3}}function Yb(){if(pt===4||pt===3){pt=0,Ik();var r=Ii,l=Ls,o=di,f=zb;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?pt=5:(pt=0,Ls=Ii=null,Jb(r,r.pendingLanes));var p=r.pendingLanes;if(p===0&&(qi=null),cf(o),l=l.stateNode,en&&typeof en.onCommitFiberRoot=="function")try{en.onCommitFiberRoot(ul,l,void 0,(l.current.flags&128)===128)}catch{}if(f!==null){l=U.T,p=Q.p,Q.p=2,U.T=null;try{for(var g=r.onRecoverableError,w=0;w<f.length;w++){var N=f[w];g(N.value,{componentStack:N.stack})}}finally{U.T=l,Q.p=p}}(di&3)!==0&&Xo(),Vn(r),p=r.pendingLanes,(o&261930)!==0&&(p&42)!==0?r===Pd?Fl++:(Fl=0,Pd=r):Fl=0,Kl(0)}}function Jb(r,l){(r.pooledCacheLanes&=l)===0&&(l=r.pooledCache,l!=null&&(r.pooledCache=null,Tl(l)))}function Xo(){return Kb(),Gb(),Yb(),Xb()}function Xb(){if(pt!==5)return!1;var r=Ii,l=Id;Id=0;var o=cf(di),f=U.T,p=Q.p;try{Q.p=32>o?32:o,U.T=null,o=Vd,Vd=null;var g=Ii,w=di;if(pt=0,Ls=Ii=null,di=0,(Ae&6)!==0)throw Error(i(331));var N=Ae;if(Ae|=4,Rb(g.current),Ab(g,g.current,w,o),Ae=N,Kl(0,!1),en&&typeof en.onPostCommitFiberRoot=="function")try{en.onPostCommitFiberRoot(ul,g)}catch{}return!0}finally{Q.p=p,U.T=f,Jb(r,l)}}function Qb(r,l,o){l=gn(o,l),l=Sd(r.stateNode,l,2),r=zi(r,l,2),r!==null&&(dl(r,2),Vn(r))}function Le(r,l,o){if(r.tag===3)Qb(r,r,o);else for(;l!==null;){if(l.tag===3){Qb(l,r,o);break}else if(l.tag===1){var f=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(qi===null||!qi.has(f))){r=gn(o,r),o=Wy(2),f=zi(l,o,2),f!==null&&(Zy(o,f,l,r),dl(f,2),Vn(f));break}}l=l.return}}function Kd(r,l,o){var f=r.pingCache;if(f===null){f=r.pingCache=new hN;var p=new Set;f.set(l,p)}else p=f.get(l),p===void 0&&(p=new Set,f.set(l,p));p.has(o)||(Hd=!0,p.add(o),r=bN.bind(null,r,l,o),l.then(r,r))}function bN(r,l,o){var f=r.pingCache;f!==null&&f.delete(l),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,qe===r&&(Se&o)===o&&(Xe===4||Xe===3&&(Se&62914560)===Se&&300>Zt()-$o?(Ae&2)===0&&_s(r,0):Ud|=o,zs===Se&&(zs=0)),Vn(r)}function Wb(r,l){l===0&&(l=Km()),r=Sr(r,l),r!==null&&(dl(r,l),Vn(r))}function xN(r){var l=r.memoizedState,o=0;l!==null&&(o=l.retryLane),Wb(r,o)}function vN(r,l){var o=0;switch(r.tag){case 31:case 13:var f=r.stateNode,p=r.memoizedState;p!==null&&(o=p.retryLane);break;case 19:f=r.stateNode;break;case 22:f=r.stateNode._retryCache;break;default:throw Error(i(314))}f!==null&&f.delete(l),Wb(r,o)}function SN(r,l){return sf(r,l)}var Qo=null,Hs=null,Gd=!1,Wo=!1,Yd=!1,Pi=0;function Vn(r){r!==Hs&&r.next===null&&(Hs===null?Qo=Hs=r:Hs=Hs.next=r),Wo=!0,Gd||(Gd=!0,kN())}function Kl(r,l){if(!Yd&&Wo){Yd=!0;do for(var o=!1,f=Qo;f!==null;){if(r!==0){var p=f.pendingLanes;if(p===0)var g=0;else{var w=f.suspendedLanes,N=f.pingedLanes;g=(1<<31-tn(42|r)+1)-1,g&=p&~(w&~N),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,n0(f,g))}else g=Se,g=to(f,f===qe?g:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(g&3)===0||fl(f,g)||(o=!0,n0(f,g));f=f.next}while(o);Yd=!1}}function wN(){Zb()}function Zb(){Wo=Gd=!1;var r=0;Pi!==0&&DN()&&(r=Pi);for(var l=Zt(),o=null,f=Qo;f!==null;){var p=f.next,g=e0(f,l);g===0?(f.next=null,o===null?Qo=p:o.next=p,p===null&&(Hs=o)):(o=f,(r!==0||(g&3)!==0)&&(Wo=!0)),f=p}pt!==0&&pt!==5||Kl(r),Pi!==0&&(Pi=0)}function e0(r,l){for(var o=r.suspendedLanes,f=r.pingedLanes,p=r.expirationTimes,g=r.pendingLanes&-62914561;0<g;){var w=31-tn(g),N=1<<w,C=p[w];C===-1?((N&o)===0||(N&f)!==0)&&(p[w]=Jk(N,l)):C<=l&&(r.expiredLanes|=N),g&=~N}if(l=qe,o=Se,o=to(r,r===l?o:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),f=r.callbackNode,o===0||r===l&&(ze===2||ze===9)||r.cancelPendingCommit!==null)return f!==null&&f!==null&&lf(f),r.callbackNode=null,r.callbackPriority=0;if((o&3)===0||fl(r,o)){if(l=o&-o,l===r.callbackPriority)return l;switch(f!==null&&lf(f),cf(o)){case 2:case 8:o=$m;break;case 32:o=Qa;break;case 268435456:o=Fm;break;default:o=Qa}return f=t0.bind(null,r),o=sf(o,f),r.callbackPriority=l,r.callbackNode=o,l}return f!==null&&f!==null&&lf(f),r.callbackPriority=2,r.callbackNode=null,2}function t0(r,l){if(pt!==0&&pt!==5)return r.callbackNode=null,r.callbackPriority=0,null;var o=r.callbackNode;if(Xo()&&r.callbackNode!==o)return null;var f=Se;return f=to(r,r===qe?f:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),f===0?null:(_b(r,f,l),e0(r,Zt()),r.callbackNode!=null&&r.callbackNode===o?t0.bind(null,r):null)}function n0(r,l){if(Xo())return null;_b(r,l,!0)}function kN(){LN(function(){(Ae&6)!==0?sf(Pm,wN):Zb()})}function Jd(){if(Pi===0){var r=ks;r===0&&(r=Wa,Wa<<=1,(Wa&261888)===0&&(Wa=256)),Pi=r}return Pi}function i0(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:so(""+r)}function r0(r,l){var o=l.ownerDocument.createElement("input");return o.name=l.name,o.value=l.value,r.id&&o.setAttribute("form",r.id),l.parentNode.insertBefore(o,l),r=new FormData(r),o.parentNode.removeChild(o),r}function EN(r,l,o,f,p){if(l==="submit"&&o&&o.stateNode===p){var g=i0((p[Vt]||null).action),w=f.submitter;w&&(l=(l=w[Vt]||null)?i0(l.formAction):w.getAttribute("formAction"),l!==null&&(g=l,w=null));var N=new co("action","action",null,f,p);r.push({event:N,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(Pi!==0){var C=w?r0(p,w):new FormData(p);md(o,{pending:!0,data:C,method:p.method,action:g},null,C)}}else typeof g=="function"&&(N.preventDefault(),C=w?r0(p,w):new FormData(p),md(o,{pending:!0,data:C,method:p.method,action:g},g,C))},currentTarget:p}]})}}for(var Xd=0;Xd<jf.length;Xd++){var Qd=jf[Xd],NN=Qd.toLowerCase(),TN=Qd[0].toUpperCase()+Qd.slice(1);On(NN,"on"+TN)}On(Lg,"onAnimationEnd"),On(_g,"onAnimationIteration"),On(Bg,"onAnimationStart"),On("dblclick","onDoubleClick"),On("focusin","onFocus"),On("focusout","onBlur"),On(VE,"onTransitionRun"),On(PE,"onTransitionStart"),On($E,"onTransitionCancel"),On(Hg,"onTransitionEnd"),cs("onMouseEnter",["mouseout","mouseover"]),cs("onMouseLeave",["mouseout","mouseover"]),cs("onPointerEnter",["pointerout","pointerover"]),cs("onPointerLeave",["pointerout","pointerover"]),yr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),yr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),yr("onBeforeInput",["compositionend","keypress","textInput","paste"]),yr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),yr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),yr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),CN=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Gl));function s0(r,l){l=(l&4)!==0;for(var o=0;o<r.length;o++){var f=r[o],p=f.event;f=f.listeners;e:{var g=void 0;if(l)for(var w=f.length-1;0<=w;w--){var N=f[w],C=N.instance,B=N.currentTarget;if(N=N.listener,C!==g&&p.isPropagationStopped())break e;g=N,p.currentTarget=B;try{g(p)}catch($){ho($)}p.currentTarget=null,g=C}else for(w=0;w<f.length;w++){if(N=f[w],C=N.instance,B=N.currentTarget,N=N.listener,C!==g&&p.isPropagationStopped())break e;g=N,p.currentTarget=B;try{g(p)}catch($){ho($)}p.currentTarget=null,g=C}}}}function ve(r,l){var o=l[uf];o===void 0&&(o=l[uf]=new Set);var f=r+"__bubble";o.has(f)||(l0(l,r,2,!1),o.add(f))}function Wd(r,l,o){var f=0;l&&(f|=4),l0(o,r,f,l)}var Zo="_reactListening"+Math.random().toString(36).slice(2);function Zd(r){if(!r[Zo]){r[Zo]=!0,Zm.forEach(function(o){o!=="selectionchange"&&(CN.has(o)||Wd(o,!1,r),Wd(o,!0,r))});var l=r.nodeType===9?r:r.ownerDocument;l===null||l[Zo]||(l[Zo]=!0,Wd("selectionchange",!1,l))}}function l0(r,l,o,f){switch(L0(l)){case 2:var p=tT;break;case 8:p=nT;break;default:p=ph}o=p.bind(null,l,o,r),p=void 0,!xf||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(p=!0),f?p!==void 0?r.addEventListener(l,o,{capture:!0,passive:p}):r.addEventListener(l,o,!0):p!==void 0?r.addEventListener(l,o,{passive:p}):r.addEventListener(l,o,!1)}function eh(r,l,o,f,p){var g=f;if((l&1)===0&&(l&2)===0&&f!==null)e:for(;;){if(f===null)return;var w=f.tag;if(w===3||w===4){var N=f.stateNode.containerInfo;if(N===p)break;if(w===4)for(w=f.return;w!==null;){var C=w.tag;if((C===3||C===4)&&w.stateNode.containerInfo===p)return;w=w.return}for(;N!==null;){if(w=ss(N),w===null)return;if(C=w.tag,C===5||C===6||C===26||C===27){f=g=w;continue e}N=N.parentNode}}f=f.return}fg(function(){var B=g,$=yf(o),Y=[];e:{var H=Ug.get(r);if(H!==void 0){var q=co,ne=r;switch(r){case"keypress":if(ao(o)===0)break e;case"keydown":case"keyup":q=vE;break;case"focusin":ne="focus",q=kf;break;case"focusout":ne="blur",q=kf;break;case"beforeblur":case"afterblur":q=kf;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=pg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=oE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=kE;break;case Lg:case _g:case Bg:q=fE;break;case Hg:q=NE;break;case"scroll":case"scrollend":q=lE;break;case"wheel":q=CE;break;case"copy":case"cut":case"paste":q=hE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=gg;break;case"toggle":case"beforetoggle":q=ME}var oe=(l&4)!==0,Ue=!oe&&(r==="scroll"||r==="scrollend"),j=oe?H!==null?H+"Capture":null:H;oe=[];for(var R=B,_;R!==null;){var F=R;if(_=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||_===null||j===null||(F=ml(R,j),F!=null&&oe.push(Yl(R,F,_))),Ue)break;R=R.return}0<oe.length&&(H=new q(H,ne,null,o,$),Y.push({event:H,listeners:oe}))}}if((l&7)===0){e:{if(H=r==="mouseover"||r==="pointerover",q=r==="mouseout"||r==="pointerout",H&&o!==gf&&(ne=o.relatedTarget||o.fromElement)&&(ss(ne)||ne[rs]))break e;if((q||H)&&(H=$.window===$?$:(H=$.ownerDocument)?H.defaultView||H.parentWindow:window,q?(ne=o.relatedTarget||o.toElement,q=B,ne=ne?ss(ne):null,ne!==null&&(Ue=a(ne),oe=ne.tag,ne!==Ue||oe!==5&&oe!==27&&oe!==6)&&(ne=null)):(q=null,ne=B),q!==ne)){if(oe=pg,F="onMouseLeave",j="onMouseEnter",R="mouse",(r==="pointerout"||r==="pointerover")&&(oe=gg,F="onPointerLeave",j="onPointerEnter",R="pointer"),Ue=q==null?H:pl(q),_=ne==null?H:pl(ne),H=new oe(F,R+"leave",q,o,$),H.target=Ue,H.relatedTarget=_,F=null,ss($)===B&&(oe=new oe(j,R+"enter",ne,o,$),oe.target=_,oe.relatedTarget=Ue,F=oe),Ue=F,q&&ne)t:{for(oe=AN,j=q,R=ne,_=0,F=j;F;F=oe(F))_++;F=0;for(var le=R;le;le=oe(le))F++;for(;0<_-F;)j=oe(j),_--;for(;0<F-_;)R=oe(R),F--;for(;_--;){if(j===R||R!==null&&j===R.alternate){oe=j;break t}j=oe(j),R=oe(R)}oe=null}else oe=null;q!==null&&a0(Y,H,q,oe,!1),ne!==null&&Ue!==null&&a0(Y,Ue,ne,oe,!0)}}e:{if(H=B?pl(B):window,q=H.nodeName&&H.nodeName.toLowerCase(),q==="select"||q==="input"&&H.type==="file")var Ne=Eg;else if(wg(H))if(Ng)Ne=UE;else{Ne=BE;var ie=_E}else q=H.nodeName,!q||q.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?B&&mf(B.elementType)&&(Ne=Eg):Ne=HE;if(Ne&&(Ne=Ne(r,B))){kg(Y,Ne,o,$);break e}ie&&ie(r,H,B),r==="focusout"&&B&&H.type==="number"&&B.memoizedProps.value!=null&&pf(H,"number",H.value)}switch(ie=B?pl(B):window,r){case"focusin":(wg(ie)||ie.contentEditable==="true")&&(ms=ie,Mf=B,kl=null);break;case"focusout":kl=Mf=ms=null;break;case"mousedown":Of=!0;break;case"contextmenu":case"mouseup":case"dragend":Of=!1,Dg(Y,o,$);break;case"selectionchange":if(IE)break;case"keydown":case"keyup":Dg(Y,o,$)}var me;if(Nf)e:{switch(r){case"compositionstart":var we="onCompositionStart";break e;case"compositionend":we="onCompositionEnd";break e;case"compositionupdate":we="onCompositionUpdate";break e}we=void 0}else ps?vg(r,o)&&(we="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(we="onCompositionStart");we&&(yg&&o.locale!=="ko"&&(ps||we!=="onCompositionStart"?we==="onCompositionEnd"&&ps&&(me=dg()):(Ci=$,vf="value"in Ci?Ci.value:Ci.textContent,ps=!0)),ie=ec(B,we),0<ie.length&&(we=new mg(we,r,null,o,$),Y.push({event:we,listeners:ie}),me?we.data=me:(me=Sg(o),me!==null&&(we.data=me)))),(me=RE?jE(r,o):DE(r,o))&&(we=ec(B,"onBeforeInput"),0<we.length&&(ie=new mg("onBeforeInput","beforeinput",null,o,$),Y.push({event:ie,listeners:we}),ie.data=me)),EN(Y,r,B,o,$)}s0(Y,l)})}function Yl(r,l,o){return{instance:r,listener:l,currentTarget:o}}function ec(r,l){for(var o=l+"Capture",f=[];r!==null;){var p=r,g=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||g===null||(p=ml(r,o),p!=null&&f.unshift(Yl(r,p,g)),p=ml(r,l),p!=null&&f.push(Yl(r,p,g))),r.tag===3)return f;r=r.return}return[]}function AN(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function a0(r,l,o,f,p){for(var g=l._reactName,w=[];o!==null&&o!==f;){var N=o,C=N.alternate,B=N.stateNode;if(N=N.tag,C!==null&&C===f)break;N!==5&&N!==26&&N!==27||B===null||(C=B,p?(B=ml(o,g),B!=null&&w.unshift(Yl(o,B,C))):p||(B=ml(o,g),B!=null&&w.push(Yl(o,B,C)))),o=o.return}w.length!==0&&r.push({event:l,listeners:w})}var MN=/\r\n?/g,ON=/\u0000|\uFFFD/g;function o0(r){return(typeof r=="string"?r:""+r).replace(MN,`
`).replace(ON,"")}function c0(r,l){return l=o0(l),o0(r)===l}function He(r,l,o,f,p,g){switch(o){case"children":typeof f=="string"?l==="body"||l==="textarea"&&f===""||fs(r,f):(typeof f=="number"||typeof f=="bigint")&&l!=="body"&&fs(r,""+f);break;case"className":io(r,"class",f);break;case"tabIndex":io(r,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":io(r,o,f);break;case"style":cg(r,f,g);break;case"data":if(l!=="object"){io(r,"data",f);break}case"src":case"href":if(f===""&&(l!=="a"||o!=="href")){r.removeAttribute(o);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){r.removeAttribute(o);break}f=so(""+f),r.setAttribute(o,f);break;case"action":case"formAction":if(typeof f=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(l!=="input"&&He(r,l,"name",p.name,p,null),He(r,l,"formEncType",p.formEncType,p,null),He(r,l,"formMethod",p.formMethod,p,null),He(r,l,"formTarget",p.formTarget,p,null)):(He(r,l,"encType",p.encType,p,null),He(r,l,"method",p.method,p,null),He(r,l,"target",p.target,p,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){r.removeAttribute(o);break}f=so(""+f),r.setAttribute(o,f);break;case"onClick":f!=null&&(r.onclick=Qn);break;case"onScroll":f!=null&&ve("scroll",r);break;case"onScrollEnd":f!=null&&ve("scrollend",r);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(i(61));if(o=f.__html,o!=null){if(p.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"multiple":r.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":r.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){r.removeAttribute("xlink:href");break}o=so(""+f),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?r.setAttribute(o,""+f):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":f===!0?r.setAttribute(o,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?r.setAttribute(o,f):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?r.setAttribute(o,f):r.removeAttribute(o);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?r.removeAttribute(o):r.setAttribute(o,f);break;case"popover":ve("beforetoggle",r),ve("toggle",r),no(r,"popover",f);break;case"xlinkActuate":Xn(r,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":Xn(r,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":Xn(r,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":Xn(r,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":Xn(r,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":Xn(r,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":Xn(r,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":Xn(r,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":Xn(r,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":no(r,"is",f);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=rE.get(o)||o,no(r,o,f))}}function th(r,l,o,f,p,g){switch(o){case"style":cg(r,f,g);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(i(61));if(o=f.__html,o!=null){if(p.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"children":typeof f=="string"?fs(r,f):(typeof f=="number"||typeof f=="bigint")&&fs(r,""+f);break;case"onScroll":f!=null&&ve("scroll",r);break;case"onScrollEnd":f!=null&&ve("scrollend",r);break;case"onClick":f!=null&&(r.onclick=Qn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!eg.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(p=o.endsWith("Capture"),l=o.slice(2,p?o.length-7:void 0),g=r[Vt]||null,g=g!=null?g[o]:null,typeof g=="function"&&r.removeEventListener(l,g,p),typeof f=="function")){typeof g!="function"&&g!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(l,f,p);break e}o in r?r[o]=f:f===!0?r.setAttribute(o,""):no(r,o,f)}}}function Ct(r,l,o){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ve("error",r),ve("load",r);var f=!1,p=!1,g;for(g in o)if(o.hasOwnProperty(g)){var w=o[g];if(w!=null)switch(g){case"src":f=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,l));default:He(r,l,g,w,o,null)}}p&&He(r,l,"srcSet",o.srcSet,o,null),f&&He(r,l,"src",o.src,o,null);return;case"input":ve("invalid",r);var N=g=w=p=null,C=null,B=null;for(f in o)if(o.hasOwnProperty(f)){var $=o[f];if($!=null)switch(f){case"name":p=$;break;case"type":w=$;break;case"checked":C=$;break;case"defaultChecked":B=$;break;case"value":g=$;break;case"defaultValue":N=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(i(137,l));break;default:He(r,l,f,$,o,null)}}sg(r,g,N,C,B,w,p,!1);return;case"select":ve("invalid",r),f=w=g=null;for(p in o)if(o.hasOwnProperty(p)&&(N=o[p],N!=null))switch(p){case"value":g=N;break;case"defaultValue":w=N;break;case"multiple":f=N;default:He(r,l,p,N,o,null)}l=g,o=w,r.multiple=!!f,l!=null?us(r,!!f,l,!1):o!=null&&us(r,!!f,o,!0);return;case"textarea":ve("invalid",r),g=p=f=null;for(w in o)if(o.hasOwnProperty(w)&&(N=o[w],N!=null))switch(w){case"value":f=N;break;case"defaultValue":p=N;break;case"children":g=N;break;case"dangerouslySetInnerHTML":if(N!=null)throw Error(i(91));break;default:He(r,l,w,N,o,null)}ag(r,f,p,g);return;case"option":for(C in o)o.hasOwnProperty(C)&&(f=o[C],f!=null)&&(C==="selected"?r.selected=f&&typeof f!="function"&&typeof f!="symbol":He(r,l,C,f,o,null));return;case"dialog":ve("beforetoggle",r),ve("toggle",r),ve("cancel",r),ve("close",r);break;case"iframe":case"object":ve("load",r);break;case"video":case"audio":for(f=0;f<Gl.length;f++)ve(Gl[f],r);break;case"image":ve("error",r),ve("load",r);break;case"details":ve("toggle",r);break;case"embed":case"source":case"link":ve("error",r),ve("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in o)if(o.hasOwnProperty(B)&&(f=o[B],f!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,l));default:He(r,l,B,f,o,null)}return;default:if(mf(l)){for($ in o)o.hasOwnProperty($)&&(f=o[$],f!==void 0&&th(r,l,$,f,o,void 0));return}}for(N in o)o.hasOwnProperty(N)&&(f=o[N],f!=null&&He(r,l,N,f,o,null))}function RN(r,l,o,f){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,g=null,w=null,N=null,C=null,B=null,$=null;for(q in o){var Y=o[q];if(o.hasOwnProperty(q)&&Y!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":C=Y;default:f.hasOwnProperty(q)||He(r,l,q,null,f,Y)}}for(var H in f){var q=f[H];if(Y=o[H],f.hasOwnProperty(H)&&(q!=null||Y!=null))switch(H){case"type":g=q;break;case"name":p=q;break;case"checked":B=q;break;case"defaultChecked":$=q;break;case"value":w=q;break;case"defaultValue":N=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(i(137,l));break;default:q!==Y&&He(r,l,H,q,f,Y)}}hf(r,w,N,C,B,$,g,p);return;case"select":q=w=N=H=null;for(g in o)if(C=o[g],o.hasOwnProperty(g)&&C!=null)switch(g){case"value":break;case"multiple":q=C;default:f.hasOwnProperty(g)||He(r,l,g,null,f,C)}for(p in f)if(g=f[p],C=o[p],f.hasOwnProperty(p)&&(g!=null||C!=null))switch(p){case"value":H=g;break;case"defaultValue":N=g;break;case"multiple":w=g;default:g!==C&&He(r,l,p,g,f,C)}l=N,o=w,f=q,H!=null?us(r,!!o,H,!1):!!f!=!!o&&(l!=null?us(r,!!o,l,!0):us(r,!!o,o?[]:"",!1));return;case"textarea":q=H=null;for(N in o)if(p=o[N],o.hasOwnProperty(N)&&p!=null&&!f.hasOwnProperty(N))switch(N){case"value":break;case"children":break;default:He(r,l,N,null,f,p)}for(w in f)if(p=f[w],g=o[w],f.hasOwnProperty(w)&&(p!=null||g!=null))switch(w){case"value":H=p;break;case"defaultValue":q=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(i(91));break;default:p!==g&&He(r,l,w,p,f,g)}lg(r,H,q);return;case"option":for(var ne in o)H=o[ne],o.hasOwnProperty(ne)&&H!=null&&!f.hasOwnProperty(ne)&&(ne==="selected"?r.selected=!1:He(r,l,ne,null,f,H));for(C in f)H=f[C],q=o[C],f.hasOwnProperty(C)&&H!==q&&(H!=null||q!=null)&&(C==="selected"?r.selected=H&&typeof H!="function"&&typeof H!="symbol":He(r,l,C,H,f,q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var oe in o)H=o[oe],o.hasOwnProperty(oe)&&H!=null&&!f.hasOwnProperty(oe)&&He(r,l,oe,null,f,H);for(B in f)if(H=f[B],q=o[B],f.hasOwnProperty(B)&&H!==q&&(H!=null||q!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(i(137,l));break;default:He(r,l,B,H,f,q)}return;default:if(mf(l)){for(var Ue in o)H=o[Ue],o.hasOwnProperty(Ue)&&H!==void 0&&!f.hasOwnProperty(Ue)&&th(r,l,Ue,void 0,f,H);for($ in f)H=f[$],q=o[$],!f.hasOwnProperty($)||H===q||H===void 0&&q===void 0||th(r,l,$,H,f,q);return}}for(var j in o)H=o[j],o.hasOwnProperty(j)&&H!=null&&!f.hasOwnProperty(j)&&He(r,l,j,null,f,H);for(Y in f)H=f[Y],q=o[Y],!f.hasOwnProperty(Y)||H===q||H==null&&q==null||He(r,l,Y,H,f,q)}function u0(r){switch(r){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function jN(){if(typeof performance.getEntriesByType=="function"){for(var r=0,l=0,o=performance.getEntriesByType("resource"),f=0;f<o.length;f++){var p=o[f],g=p.transferSize,w=p.initiatorType,N=p.duration;if(g&&N&&u0(w)){for(w=0,N=p.responseEnd,f+=1;f<o.length;f++){var C=o[f],B=C.startTime;if(B>N)break;var $=C.transferSize,Y=C.initiatorType;$&&u0(Y)&&(C=C.responseEnd,w+=$*(C<N?1:(N-B)/(C-B)))}if(--f,l+=8*(g+w)/(p.duration/1e3),r++,10<r)break}}if(0<r)return l/r/1e6}return navigator.connection&&(r=navigator.connection.downlink,typeof r=="number")?r:5}var nh=null,ih=null;function tc(r){return r.nodeType===9?r:r.ownerDocument}function f0(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function d0(r,l){if(r===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&l==="foreignObject"?0:r}function rh(r,l){return r==="textarea"||r==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var sh=null;function DN(){var r=window.event;return r&&r.type==="popstate"?r===sh?!1:(sh=r,!0):(sh=null,!1)}var h0=typeof setTimeout=="function"?setTimeout:void 0,zN=typeof clearTimeout=="function"?clearTimeout:void 0,p0=typeof Promise=="function"?Promise:void 0,LN=typeof queueMicrotask=="function"?queueMicrotask:typeof p0<"u"?function(r){return p0.resolve(null).then(r).catch(_N)}:h0;function _N(r){setTimeout(function(){throw r})}function $i(r){return r==="head"}function m0(r,l){var o=l,f=0;do{var p=o.nextSibling;if(r.removeChild(o),p&&p.nodeType===8)if(o=p.data,o==="/$"||o==="/&"){if(f===0){r.removeChild(p),Vs(l);return}f--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")f++;else if(o==="html")Jl(r.ownerDocument.documentElement);else if(o==="head"){o=r.ownerDocument.head,Jl(o);for(var g=o.firstChild;g;){var w=g.nextSibling,N=g.nodeName;g[hl]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&g.rel.toLowerCase()==="stylesheet"||o.removeChild(g),g=w}}else o==="body"&&Jl(r.ownerDocument.body);o=p}while(o);Vs(l)}function g0(r,l){var o=r;r=0;do{var f=o.nextSibling;if(o.nodeType===1?l?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(l?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),f&&f.nodeType===8)if(o=f.data,o==="/$"){if(r===0)break;r--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||r++;o=f}while(o)}function lh(r){var l=r.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var o=l;switch(l=l.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":lh(o),ff(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function BN(r,l,o,f){for(;r.nodeType===1;){var p=o;if(r.nodeName.toLowerCase()!==l.toLowerCase()){if(!f&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(f){if(!r[hl])switch(l){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(g=r.getAttribute("rel"),g==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(g!==p.rel||r.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||r.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||r.getAttribute("title")!==(p.title==null?null:p.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(g=r.getAttribute("src"),(g!==(p.src==null?null:p.src)||r.getAttribute("type")!==(p.type==null?null:p.type)||r.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&g&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(l==="input"&&r.type==="hidden"){var g=p.name==null?null:""+p.name;if(p.type==="hidden"&&r.getAttribute("name")===g)return r}else return r;if(r=Sn(r.nextSibling),r===null)break}return null}function HN(r,l,o){if(l==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=Sn(r.nextSibling),r===null))return null;return r}function y0(r,l){for(;r.nodeType!==8;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!l||(r=Sn(r.nextSibling),r===null))return null;return r}function ah(r){return r.data==="$?"||r.data==="$~"}function oh(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState!=="loading"}function UN(r,l){var o=r.ownerDocument;if(r.data==="$~")r._reactRetry=l;else if(r.data!=="$?"||o.readyState!=="loading")l();else{var f=function(){l(),o.removeEventListener("DOMContentLoaded",f)};o.addEventListener("DOMContentLoaded",f),r._reactRetry=f}}function Sn(r){for(;r!=null;r=r.nextSibling){var l=r.nodeType;if(l===1||l===3)break;if(l===8){if(l=r.data,l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"||l==="F!"||l==="F")break;if(l==="/$"||l==="/&")return null}}return r}var ch=null;function b0(r){r=r.nextSibling;for(var l=0;r;){if(r.nodeType===8){var o=r.data;if(o==="/$"||o==="/&"){if(l===0)return Sn(r.nextSibling);l--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||l++}r=r.nextSibling}return null}function x0(r){r=r.previousSibling;for(var l=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(l===0)return r;l--}else o!=="/$"&&o!=="/&"||l++}r=r.previousSibling}return null}function v0(r,l,o){switch(l=tc(o),r){case"html":if(r=l.documentElement,!r)throw Error(i(452));return r;case"head":if(r=l.head,!r)throw Error(i(453));return r;case"body":if(r=l.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function Jl(r){for(var l=r.attributes;l.length;)r.removeAttributeNode(l[0]);ff(r)}var wn=new Map,S0=new Set;function nc(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var hi=Q.d;Q.d={f:qN,r:IN,D:VN,C:PN,L:$N,m:FN,X:GN,S:KN,M:YN};function qN(){var r=hi.f(),l=Go();return r||l}function IN(r){var l=ls(r);l!==null&&l.tag===5&&l.type==="form"?Hy(l):hi.r(r)}var Us=typeof document>"u"?null:document;function w0(r,l,o){var f=Us;if(f&&typeof l=="string"&&l){var p=pn(l);p='link[rel="'+r+'"][href="'+p+'"]',typeof o=="string"&&(p+='[crossorigin="'+o+'"]'),S0.has(p)||(S0.add(p),r={rel:r,crossOrigin:o,href:l},f.querySelector(p)===null&&(l=f.createElement("link"),Ct(l,"link",r),gt(l),f.head.appendChild(l)))}}function VN(r){hi.D(r),w0("dns-prefetch",r,null)}function PN(r,l){hi.C(r,l),w0("preconnect",r,l)}function $N(r,l,o){hi.L(r,l,o);var f=Us;if(f&&r&&l){var p='link[rel="preload"][as="'+pn(l)+'"]';l==="image"&&o&&o.imageSrcSet?(p+='[imagesrcset="'+pn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(p+='[imagesizes="'+pn(o.imageSizes)+'"]')):p+='[href="'+pn(r)+'"]';var g=p;switch(l){case"style":g=qs(r);break;case"script":g=Is(r)}wn.has(g)||(r=y({rel:"preload",href:l==="image"&&o&&o.imageSrcSet?void 0:r,as:l},o),wn.set(g,r),f.querySelector(p)!==null||l==="style"&&f.querySelector(Xl(g))||l==="script"&&f.querySelector(Ql(g))||(l=f.createElement("link"),Ct(l,"link",r),gt(l),f.head.appendChild(l)))}}function FN(r,l){hi.m(r,l);var o=Us;if(o&&r){var f=l&&typeof l.as=="string"?l.as:"script",p='link[rel="modulepreload"][as="'+pn(f)+'"][href="'+pn(r)+'"]',g=p;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Is(r)}if(!wn.has(g)&&(r=y({rel:"modulepreload",href:r},l),wn.set(g,r),o.querySelector(p)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Ql(g)))return}f=o.createElement("link"),Ct(f,"link",r),gt(f),o.head.appendChild(f)}}}function KN(r,l,o){hi.S(r,l,o);var f=Us;if(f&&r){var p=as(f).hoistableStyles,g=qs(r);l=l||"default";var w=p.get(g);if(!w){var N={loading:0,preload:null};if(w=f.querySelector(Xl(g)))N.loading=5;else{r=y({rel:"stylesheet",href:r,"data-precedence":l},o),(o=wn.get(g))&&uh(r,o);var C=w=f.createElement("link");gt(C),Ct(C,"link",r),C._p=new Promise(function(B,$){C.onload=B,C.onerror=$}),C.addEventListener("load",function(){N.loading|=1}),C.addEventListener("error",function(){N.loading|=2}),N.loading|=4,ic(w,l,f)}w={type:"stylesheet",instance:w,count:1,state:N},p.set(g,w)}}}function GN(r,l){hi.X(r,l);var o=Us;if(o&&r){var f=as(o).hoistableScripts,p=Is(r),g=f.get(p);g||(g=o.querySelector(Ql(p)),g||(r=y({src:r,async:!0},l),(l=wn.get(p))&&fh(r,l),g=o.createElement("script"),gt(g),Ct(g,"link",r),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},f.set(p,g))}}function YN(r,l){hi.M(r,l);var o=Us;if(o&&r){var f=as(o).hoistableScripts,p=Is(r),g=f.get(p);g||(g=o.querySelector(Ql(p)),g||(r=y({src:r,async:!0,type:"module"},l),(l=wn.get(p))&&fh(r,l),g=o.createElement("script"),gt(g),Ct(g,"link",r),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},f.set(p,g))}}function k0(r,l,o,f){var p=(p=be.current)?nc(p):null;if(!p)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(l=qs(o.href),o=as(p).hoistableStyles,f=o.get(l),f||(f={type:"style",instance:null,count:0,state:null},o.set(l,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=qs(o.href);var g=as(p).hoistableStyles,w=g.get(r);if(w||(p=p.ownerDocument||p,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(r,w),(g=p.querySelector(Xl(r)))&&!g._p&&(w.instance=g,w.state.loading=5),wn.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},wn.set(r,o),g||JN(p,r,o,w.state))),l&&f===null)throw Error(i(528,""));return w}if(l&&f!==null)throw Error(i(529,""));return null;case"script":return l=o.async,o=o.src,typeof o=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=Is(o),o=as(p).hoistableScripts,f=o.get(l),f||(f={type:"script",instance:null,count:0,state:null},o.set(l,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function qs(r){return'href="'+pn(r)+'"'}function Xl(r){return'link[rel="stylesheet"]['+r+"]"}function E0(r){return y({},r,{"data-precedence":r.precedence,precedence:null})}function JN(r,l,o,f){r.querySelector('link[rel="preload"][as="style"]['+l+"]")?f.loading=1:(l=r.createElement("link"),f.preload=l,l.addEventListener("load",function(){return f.loading|=1}),l.addEventListener("error",function(){return f.loading|=2}),Ct(l,"link",o),gt(l),r.head.appendChild(l))}function Is(r){return'[src="'+pn(r)+'"]'}function Ql(r){return"script[async]"+r}function N0(r,l,o){if(l.count++,l.instance===null)switch(l.type){case"style":var f=r.querySelector('style[data-href~="'+pn(o.href)+'"]');if(f)return l.instance=f,gt(f),f;var p=y({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return f=(r.ownerDocument||r).createElement("style"),gt(f),Ct(f,"style",p),ic(f,o.precedence,r),l.instance=f;case"stylesheet":p=qs(o.href);var g=r.querySelector(Xl(p));if(g)return l.state.loading|=4,l.instance=g,gt(g),g;f=E0(o),(p=wn.get(p))&&uh(f,p),g=(r.ownerDocument||r).createElement("link"),gt(g);var w=g;return w._p=new Promise(function(N,C){w.onload=N,w.onerror=C}),Ct(g,"link",f),l.state.loading|=4,ic(g,o.precedence,r),l.instance=g;case"script":return g=Is(o.src),(p=r.querySelector(Ql(g)))?(l.instance=p,gt(p),p):(f=o,(p=wn.get(g))&&(f=y({},o),fh(f,p)),r=r.ownerDocument||r,p=r.createElement("script"),gt(p),Ct(p,"link",f),r.head.appendChild(p),l.instance=p);case"void":return null;default:throw Error(i(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(f=l.instance,l.state.loading|=4,ic(f,o.precedence,r));return l.instance}function ic(r,l,o){for(var f=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=f.length?f[f.length-1]:null,g=p,w=0;w<f.length;w++){var N=f[w];if(N.dataset.precedence===l)g=N;else if(g!==p)break}g?g.parentNode.insertBefore(r,g.nextSibling):(l=o.nodeType===9?o.head:o,l.insertBefore(r,l.firstChild))}function uh(r,l){r.crossOrigin==null&&(r.crossOrigin=l.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=l.referrerPolicy),r.title==null&&(r.title=l.title)}function fh(r,l){r.crossOrigin==null&&(r.crossOrigin=l.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=l.referrerPolicy),r.integrity==null&&(r.integrity=l.integrity)}var rc=null;function T0(r,l,o){if(rc===null){var f=new Map,p=rc=new Map;p.set(o,f)}else p=rc,f=p.get(o),f||(f=new Map,p.set(o,f));if(f.has(r))return f;for(f.set(r,null),o=o.getElementsByTagName(r),p=0;p<o.length;p++){var g=o[p];if(!(g[hl]||g[kt]||r==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var w=g.getAttribute(l)||"";w=r+w;var N=f.get(w);N?N.push(g):f.set(w,[g])}}return f}function C0(r,l,o){r=r.ownerDocument||r,r.head.insertBefore(o,l==="title"?r.querySelector("head > title"):null)}function XN(r,l,o){if(o===1||l.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;return l.rel==="stylesheet"?(r=l.disabled,typeof l.precedence=="string"&&r==null):!0;case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function A0(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}function QN(r,l,o,f){if(o.type==="stylesheet"&&(typeof f.media!="string"||matchMedia(f.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var p=qs(f.href),g=l.querySelector(Xl(p));if(g){l=g._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(r.count++,r=sc.bind(r),l.then(r,r)),o.state.loading|=4,o.instance=g,gt(g);return}g=l.ownerDocument||l,f=E0(f),(p=wn.get(p))&&uh(f,p),g=g.createElement("link"),gt(g);var w=g;w._p=new Promise(function(N,C){w.onload=N,w.onerror=C}),Ct(g,"link",f),o.instance=g}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(o,l),(l=o.state.preload)&&(o.state.loading&3)===0&&(r.count++,o=sc.bind(r),l.addEventListener("load",o),l.addEventListener("error",o))}}var dh=0;function WN(r,l){return r.stylesheets&&r.count===0&&ac(r,r.stylesheets),0<r.count||0<r.imgCount?function(o){var f=setTimeout(function(){if(r.stylesheets&&ac(r,r.stylesheets),r.unsuspend){var g=r.unsuspend;r.unsuspend=null,g()}},6e4+l);0<r.imgBytes&&dh===0&&(dh=62500*jN());var p=setTimeout(function(){if(r.waitingForImages=!1,r.count===0&&(r.stylesheets&&ac(r,r.stylesheets),r.unsuspend)){var g=r.unsuspend;r.unsuspend=null,g()}},(r.imgBytes>dh?50:800)+l);return r.unsuspend=o,function(){r.unsuspend=null,clearTimeout(f),clearTimeout(p)}}:null}function sc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ac(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var lc=null;function ac(r,l){r.stylesheets=null,r.unsuspend!==null&&(r.count++,lc=new Map,l.forEach(ZN,r),lc=null,sc.call(r))}function ZN(r,l){if(!(l.state.loading&4)){var o=lc.get(r);if(o)var f=o.get(null);else{o=new Map,lc.set(r,o);for(var p=r.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<p.length;g++){var w=p[g];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(o.set(w.dataset.precedence,w),f=w)}f&&o.set(null,f)}p=l.instance,w=p.getAttribute("data-precedence"),g=o.get(w)||f,g===f&&o.set(null,p),o.set(w,p),this.count++,f=sc.bind(this),p.addEventListener("load",f),p.addEventListener("error",f),g?g.parentNode.insertBefore(p,g.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(p,r.firstChild)),l.state.loading|=4}}var Wl={$$typeof:D,Provider:null,Consumer:null,_currentValue:re,_currentValue2:re,_threadCount:0};function eT(r,l,o,f,p,g,w,N,C){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=af(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=af(0),this.hiddenUpdates=af(null),this.identifierPrefix=f,this.onUncaughtError=p,this.onCaughtError=g,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function M0(r,l,o,f,p,g,w,N,C,B,$,Y){return r=new eT(r,l,o,w,C,B,$,Y,N),l=1,g===!0&&(l|=24),g=rn(3,null,null,l),r.current=g,g.stateNode=r,l=Ff(),l.refCount++,r.pooledCache=l,l.refCount++,g.memoizedState={element:f,isDehydrated:o,cache:l},Jf(g),r}function O0(r){return r?(r=bs,r):bs}function R0(r,l,o,f,p,g){p=O0(p),f.context===null?f.context=p:f.pendingContext=p,f=Di(l),f.payload={element:o},g=g===void 0?null:g,g!==null&&(f.callback=g),o=zi(r,f,l),o!==null&&(Yt(o,r,l),Ol(o,r,l))}function j0(r,l){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<l?o:l}}function hh(r,l){j0(r,l),(r=r.alternate)&&j0(r,l)}function D0(r){if(r.tag===13||r.tag===31){var l=Sr(r,67108864);l!==null&&Yt(l,r,67108864),hh(r,67108864)}}function z0(r){if(r.tag===13||r.tag===31){var l=cn();l=of(l);var o=Sr(r,l);o!==null&&Yt(o,r,l),hh(r,l)}}var oc=!0;function tT(r,l,o,f){var p=U.T;U.T=null;var g=Q.p;try{Q.p=2,ph(r,l,o,f)}finally{Q.p=g,U.T=p}}function nT(r,l,o,f){var p=U.T;U.T=null;var g=Q.p;try{Q.p=8,ph(r,l,o,f)}finally{Q.p=g,U.T=p}}function ph(r,l,o,f){if(oc){var p=mh(f);if(p===null)eh(r,l,f,cc,o),_0(r,f);else if(rT(p,r,l,o,f))f.stopPropagation();else if(_0(r,f),l&4&&-1<iT.indexOf(r)){for(;p!==null;){var g=ls(p);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var w=gr(g.pendingLanes);if(w!==0){var N=g;for(N.pendingLanes|=2,N.entangledLanes|=2;w;){var C=1<<31-tn(w);N.entanglements[1]|=C,w&=~C}Vn(g),(Ae&6)===0&&(Fo=Zt()+500,Kl(0))}}break;case 31:case 13:N=Sr(g,2),N!==null&&Yt(N,g,2),Go(),hh(g,2)}if(g=mh(f),g===null&&eh(r,l,f,cc,o),g===p)break;p=g}p!==null&&f.stopPropagation()}else eh(r,l,f,null,o)}}function mh(r){return r=yf(r),gh(r)}var cc=null;function gh(r){if(cc=null,r=ss(r),r!==null){var l=a(r);if(l===null)r=null;else{var o=l.tag;if(o===13){if(r=c(l),r!==null)return r;r=null}else if(o===31){if(r=u(l),r!==null)return r;r=null}else if(o===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;r=null}else l!==r&&(r=null)}}return cc=r,null}function L0(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Vk()){case Pm:return 2;case $m:return 8;case Qa:case Pk:return 32;case Fm:return 268435456;default:return 32}default:return 32}}var yh=!1,Fi=null,Ki=null,Gi=null,Zl=new Map,ea=new Map,Yi=[],iT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function _0(r,l){switch(r){case"focusin":case"focusout":Fi=null;break;case"dragenter":case"dragleave":Ki=null;break;case"mouseover":case"mouseout":Gi=null;break;case"pointerover":case"pointerout":Zl.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":ea.delete(l.pointerId)}}function ta(r,l,o,f,p,g){return r===null||r.nativeEvent!==g?(r={blockedOn:l,domEventName:o,eventSystemFlags:f,nativeEvent:g,targetContainers:[p]},l!==null&&(l=ls(l),l!==null&&D0(l)),r):(r.eventSystemFlags|=f,l=r.targetContainers,p!==null&&l.indexOf(p)===-1&&l.push(p),r)}function rT(r,l,o,f,p){switch(l){case"focusin":return Fi=ta(Fi,r,l,o,f,p),!0;case"dragenter":return Ki=ta(Ki,r,l,o,f,p),!0;case"mouseover":return Gi=ta(Gi,r,l,o,f,p),!0;case"pointerover":var g=p.pointerId;return Zl.set(g,ta(Zl.get(g)||null,r,l,o,f,p)),!0;case"gotpointercapture":return g=p.pointerId,ea.set(g,ta(ea.get(g)||null,r,l,o,f,p)),!0}return!1}function B0(r){var l=ss(r.target);if(l!==null){var o=a(l);if(o!==null){if(l=o.tag,l===13){if(l=c(o),l!==null){r.blockedOn=l,Qm(r.priority,function(){z0(o)});return}}else if(l===31){if(l=u(o),l!==null){r.blockedOn=l,Qm(r.priority,function(){z0(o)});return}}else if(l===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function uc(r){if(r.blockedOn!==null)return!1;for(var l=r.targetContainers;0<l.length;){var o=mh(r.nativeEvent);if(o===null){o=r.nativeEvent;var f=new o.constructor(o.type,o);gf=f,o.target.dispatchEvent(f),gf=null}else return l=ls(o),l!==null&&D0(l),r.blockedOn=o,!1;l.shift()}return!0}function H0(r,l,o){uc(r)&&o.delete(l)}function sT(){yh=!1,Fi!==null&&uc(Fi)&&(Fi=null),Ki!==null&&uc(Ki)&&(Ki=null),Gi!==null&&uc(Gi)&&(Gi=null),Zl.forEach(H0),ea.forEach(H0)}function fc(r,l){r.blockedOn===l&&(r.blockedOn=null,yh||(yh=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,sT)))}var dc=null;function U0(r){dc!==r&&(dc=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){dc===r&&(dc=null);for(var l=0;l<r.length;l+=3){var o=r[l],f=r[l+1],p=r[l+2];if(typeof f!="function"){if(gh(f||o)===null)continue;break}var g=ls(o);g!==null&&(r.splice(l,3),l-=3,md(g,{pending:!0,data:p,method:o.method,action:f},f,p))}}))}function Vs(r){function l(C){return fc(C,r)}Fi!==null&&fc(Fi,r),Ki!==null&&fc(Ki,r),Gi!==null&&fc(Gi,r),Zl.forEach(l),ea.forEach(l);for(var o=0;o<Yi.length;o++){var f=Yi[o];f.blockedOn===r&&(f.blockedOn=null)}for(;0<Yi.length&&(o=Yi[0],o.blockedOn===null);)B0(o),o.blockedOn===null&&Yi.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(f=0;f<o.length;f+=3){var p=o[f],g=o[f+1],w=p[Vt]||null;if(typeof g=="function")w||U0(o);else if(w){var N=null;if(g&&g.hasAttribute("formAction")){if(p=g,w=g[Vt]||null)N=w.formAction;else if(gh(p)!==null)continue}else N=w.action;typeof N=="function"?o[f+1]=N:(o.splice(f,3),f-=3),U0(o)}}}function q0(){function r(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(w){return p=w})},focusReset:"manual",scroll:"manual"})}function l(){p!==null&&(p(),p=null),f||setTimeout(o,20)}function o(){if(!f&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var f=!1,p=null;return navigation.addEventListener("navigate",r),navigation.addEventListener("navigatesuccess",l),navigation.addEventListener("navigateerror",l),setTimeout(o,100),function(){f=!0,navigation.removeEventListener("navigate",r),navigation.removeEventListener("navigatesuccess",l),navigation.removeEventListener("navigateerror",l),p!==null&&(p(),p=null)}}}function bh(r){this._internalRoot=r}hc.prototype.render=bh.prototype.render=function(r){var l=this._internalRoot;if(l===null)throw Error(i(409));var o=l.current,f=cn();R0(o,f,r,l,null,null)},hc.prototype.unmount=bh.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var l=r.containerInfo;R0(r.current,2,null,r,null,null),Go(),l[rs]=null}};function hc(r){this._internalRoot=r}hc.prototype.unstable_scheduleHydration=function(r){if(r){var l=Xm();r={blockedOn:null,target:r,priority:l};for(var o=0;o<Yi.length&&l!==0&&l<Yi[o].priority;o++);Yi.splice(o,0,r),o===0&&B0(r)}};var I0=e.version;if(I0!=="19.2.4")throw Error(i(527,I0,"19.2.4"));Q.findDOMNode=function(r){var l=r._reactInternals;if(l===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=h(l),r=r!==null?m(r):null,r=r===null?null:r.stateNode,r};var lT={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pc.isDisabled&&pc.supportsFiber)try{ul=pc.inject(lT),en=pc}catch{}}return ia.createRoot=function(r,l){if(!s(r))throw Error(i(299));var o=!1,f="",p=Yy,g=Jy,w=Xy;return l!=null&&(l.unstable_strictMode===!0&&(o=!0),l.identifierPrefix!==void 0&&(f=l.identifierPrefix),l.onUncaughtError!==void 0&&(p=l.onUncaughtError),l.onCaughtError!==void 0&&(g=l.onCaughtError),l.onRecoverableError!==void 0&&(w=l.onRecoverableError)),l=M0(r,1,!1,null,null,o,f,null,p,g,w,q0),r[rs]=l.current,Zd(r),new bh(l)},ia.hydrateRoot=function(r,l,o){if(!s(r))throw Error(i(299));var f=!1,p="",g=Yy,w=Jy,N=Xy,C=null;return o!=null&&(o.unstable_strictMode===!0&&(f=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(w=o.onCaughtError),o.onRecoverableError!==void 0&&(N=o.onRecoverableError),o.formState!==void 0&&(C=o.formState)),l=M0(r,1,!0,l,o??null,f,p,C,g,w,N,q0),l.context=O0(null),o=l.current,f=cn(),f=of(f),p=Di(f),p.callback=null,zi(o,p,f),o=f,l.current.lanes=o,dl(l,o),Vn(l),r[rs]=l.current,Zd(r),new hc(l)},ia.version="19.2.4",ia}var Q0;function mT(){if(Q0)return Sh.exports;Q0=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Sh.exports=pT(),Sh.exports}var gT=mT();var W0="popstate";function yT(t={}){function e(i,s){let{pathname:a,search:c,hash:u}=i.location;return op("",{pathname:a,search:c,hash:u},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){return typeof s=="string"?s:Ea(s)}return xT(e,n,null,t)}function Ge(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function _n(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function bT(){return Math.random().toString(36).substring(2,10)}function Z0(t,e){return{usr:t.state,key:t.key,idx:e}}function op(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?sl(e):e,state:n,key:e&&e.key||i||bT()}}function Ea({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function sl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function xT(t,e,n,i={}){let{window:s=document.defaultView,v5Compat:a=!1}=i,c=s.history,u="POP",d=null,h=m();h==null&&(h=0,c.replaceState({...c.state,idx:h},""));function m(){return(c.state||{idx:null}).idx}function y(){u="POP";let k=m(),T=k==null?null:k-h;h=k,d&&d({action:u,location:E.location,delta:T})}function x(k,T){u="PUSH";let M=op(E.location,k,T);h=m()+1;let D=Z0(M,h),V=E.createHref(M);try{c.pushState(D,"",V)}catch(z){if(z instanceof DOMException&&z.name==="DataCloneError")throw z;s.location.assign(V)}a&&d&&d({action:u,location:E.location,delta:1})}function v(k,T){u="REPLACE";let M=op(E.location,k,T);h=m();let D=Z0(M,h),V=E.createHref(M);c.replaceState(D,"",V),a&&d&&d({action:u,location:E.location,delta:0})}function S(k){return vT(k)}let E={get action(){return u},get location(){return t(s,c)},listen(k){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(W0,y),d=k,()=>{s.removeEventListener(W0,y),d=null}},createHref(k){return e(s,k)},createURL:S,encodeLocation(k){let T=S(k);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:x,replace:v,go(k){return c.go(k)}};return E}function vT(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Ge(n,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:Ea(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function r1(t,e,n="/"){return ST(t,e,n,!1)}function ST(t,e,n,i){let s=typeof e=="string"?sl(e):e,a=ki(s.pathname||"/",n);if(a==null)return null;let c=s1(t);wT(c);let u=null;for(let d=0;u==null&&d<c.length;++d){let h=DT(a);u=RT(c[d],h,i)}return u}function s1(t,e=[],n=[],i="",s=!1){let a=(c,u,d=s,h)=>{let m={relativePath:h===void 0?c.path||"":h,caseSensitive:c.caseSensitive===!0,childrenIndex:u,route:c};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(i)&&d)return;Ge(m.relativePath.startsWith(i),`Absolute route path "${m.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(i.length)}let y=vi([i,m.relativePath]),x=n.concat(m);c.children&&c.children.length>0&&(Ge(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),s1(c.children,e,x,y,d)),!(c.path==null&&!c.index)&&e.push({path:y,score:MT(y,c.index),routesMeta:x})};return t.forEach((c,u)=>{if(c.path===""||!c.path?.includes("?"))a(c,u);else for(let d of l1(c.path))a(c,u,!0,d)}),e}function l1(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(i.length===0)return s?[a,""]:[a];let c=l1(i.join("/")),u=[];return u.push(...c.map(d=>d===""?a:[a,d].join("/"))),s&&u.push(...c),u.map(d=>t.startsWith("/")&&d===""?"/":d)}function wT(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:OT(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var kT=/^:[\w-]+$/,ET=3,NT=2,TT=1,CT=10,AT=-2,ex=t=>t==="*";function MT(t,e){let n=t.split("/"),i=n.length;return n.some(ex)&&(i+=AT),e&&(i+=NT),n.filter(s=>!ex(s)).reduce((s,a)=>s+(kT.test(a)?ET:a===""?TT:CT),i)}function OT(t,e){return t.length===e.length&&t.slice(0,-1).every((i,s)=>i===e[s])?t[t.length-1]-e[e.length-1]:0}function RT(t,e,n=!1){let{routesMeta:i}=t,s={},a="/",c=[];for(let u=0;u<i.length;++u){let d=i[u],h=u===i.length-1,m=a==="/"?e:e.slice(a.length)||"/",y=qc({path:d.relativePath,caseSensitive:d.caseSensitive,end:h},m),x=d.route;if(!y&&h&&n&&!i[i.length-1].route.index&&(y=qc({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},m)),!y)return null;Object.assign(s,y.params),c.push({params:s,pathname:vi([a,y.pathname]),pathnameBase:BT(vi([a,y.pathnameBase])),route:x}),y.pathnameBase!=="/"&&(a=vi([a,y.pathnameBase]))}return c}function qc(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=jT(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let a=s[0],c=a.replace(/(.)\/+$/,"$1"),u=s.slice(1);return{params:i.reduce((h,{paramName:m,isOptional:y},x)=>{if(m==="*"){let S=u[x]||"";c=a.slice(0,a.length-S.length).replace(/(.)\/+$/,"$1")}const v=u[x];return y&&!v?h[m]=void 0:h[m]=(v||"").replace(/%2F/g,"/"),h},{}),pathname:a,pathnameBase:c,pattern:t}}function jT(t,e=!1,n=!0){_n(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,u,d)=>(i.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(i.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),i]}function DT(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return _n(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ki(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}var zT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function LT(t,e="/"){let{pathname:n,search:i="",hash:s=""}=typeof t=="string"?sl(t):t,a;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?a=tx(n.substring(1),"/"):a=tx(n,e)):a=e,{pathname:a,search:HT(i),hash:UT(s)}}function tx(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Nh(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function _T(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function a1(t){let e=_T(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function o1(t,e,n,i=!1){let s;typeof t=="string"?s=sl(t):(s={...t},Ge(!s.pathname||!s.pathname.includes("?"),Nh("?","pathname","search",s)),Ge(!s.pathname||!s.pathname.includes("#"),Nh("#","pathname","hash",s)),Ge(!s.search||!s.search.includes("#"),Nh("#","search","hash",s)));let a=t===""||s.pathname==="",c=a?"/":s.pathname,u;if(c==null)u=n;else{let y=e.length-1;if(!i&&c.startsWith("..")){let x=c.split("/");for(;x[0]==="..";)x.shift(),y-=1;s.pathname=x.join("/")}u=y>=0?e[y]:"/"}let d=LT(s,u),h=c&&c!=="/"&&c.endsWith("/"),m=(a||c===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(h||m)&&(d.pathname+="/"),d}var vi=t=>t.join("/").replace(/\/\/+/g,"/"),BT=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),HT=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,UT=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,qT=class{constructor(t,e,n,i=!1){this.status=t,this.statusText=e||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function IT(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function VT(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var c1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function u1(t,e){let n=t;if(typeof n!="string"||!zT.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let i=n,s=!1;if(c1)try{let a=new URL(window.location.href),c=n.startsWith("//")?new URL(a.protocol+n):new URL(n),u=ki(c.pathname,e);c.origin===a.origin&&u!=null?n=u+c.search+c.hash:s=!0}catch{_n(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:s,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var f1=["POST","PUT","PATCH","DELETE"];new Set(f1);var PT=["GET",...f1];new Set(PT);var ll=A.createContext(null);ll.displayName="DataRouter";var ju=A.createContext(null);ju.displayName="DataRouterState";var $T=A.createContext(!1),d1=A.createContext({isTransitioning:!1});d1.displayName="ViewTransition";var FT=A.createContext(new Map);FT.displayName="Fetchers";var KT=A.createContext(null);KT.displayName="Await";var Mn=A.createContext(null);Mn.displayName="Navigation";var Ba=A.createContext(null);Ba.displayName="Location";var Bn=A.createContext({outlet:null,matches:[],isDataRoute:!1});Bn.displayName="Route";var Fp=A.createContext(null);Fp.displayName="RouteError";var h1="REACT_ROUTER_ERROR",GT="REDIRECT",YT="ROUTE_ERROR_RESPONSE";function JT(t){if(t.startsWith(`${h1}:${GT}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function XT(t){if(t.startsWith(`${h1}:${YT}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new qT(e.status,e.statusText,e.data)}catch{}}function QT(t,{relative:e}={}){Ge(Ha(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=A.useContext(Mn),{hash:s,pathname:a,search:c}=Ua(t,{relative:e}),u=a;return n!=="/"&&(u=a==="/"?n:vi([n,a])),i.createHref({pathname:u,search:c,hash:s})}function Ha(){return A.useContext(Ba)!=null}function Jn(){return Ge(Ha(),"useLocation() may be used only in the context of a <Router> component."),A.useContext(Ba).location}var p1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function m1(t){A.useContext(Mn).static||A.useLayoutEffect(t)}function es(){let{isDataRoute:t}=A.useContext(Bn);return t?dC():WT()}function WT(){Ge(Ha(),"useNavigate() may be used only in the context of a <Router> component.");let t=A.useContext(ll),{basename:e,navigator:n}=A.useContext(Mn),{matches:i}=A.useContext(Bn),{pathname:s}=Jn(),a=JSON.stringify(a1(i)),c=A.useRef(!1);return m1(()=>{c.current=!0}),A.useCallback((d,h={})=>{if(_n(c.current,p1),!c.current)return;if(typeof d=="number"){n.go(d);return}let m=o1(d,JSON.parse(a),s,h.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:vi([e,m.pathname])),(h.replace?n.replace:n.push)(m,h.state,h)},[e,n,a,s,t])}var ZT=A.createContext(null);function eC(t){let e=A.useContext(Bn).outlet;return A.useMemo(()=>e&&A.createElement(ZT.Provider,{value:t},e),[e,t])}function g1(){let{matches:t}=A.useContext(Bn),e=t[t.length-1];return e?e.params:{}}function Ua(t,{relative:e}={}){let{matches:n}=A.useContext(Bn),{pathname:i}=Jn(),s=JSON.stringify(a1(n));return A.useMemo(()=>o1(t,JSON.parse(s),i,e==="path"),[t,s,i,e])}function tC(t,e){return y1(t,e)}function y1(t,e,n,i,s){Ge(Ha(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=A.useContext(Mn),{matches:c}=A.useContext(Bn),u=c[c.length-1],d=u?u.params:{},h=u?u.pathname:"/",m=u?u.pathnameBase:"/",y=u&&u.route;{let M=y&&y.path||"";x1(h,!y||M.endsWith("*")||M.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${M}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${M}"> to <Route path="${M==="/"?"*":`${M}/*`}">.`)}let x=Jn(),v;if(e){let M=typeof e=="string"?sl(e):e;Ge(m==="/"||M.pathname?.startsWith(m),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${M.pathname}" was given in the \`location\` prop.`),v=M}else v=x;let S=v.pathname||"/",E=S;if(m!=="/"){let M=m.replace(/^\//,"").split("/");E="/"+S.replace(/^\//,"").split("/").slice(M.length).join("/")}let k=r1(t,{pathname:E});_n(y||k!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),_n(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let T=lC(k&&k.map(M=>Object.assign({},M,{params:Object.assign({},d,M.params),pathname:vi([m,a.encodeLocation?a.encodeLocation(M.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?m:vi([m,a.encodeLocation?a.encodeLocation(M.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:M.pathnameBase])})),c,n,i,s);return e&&T?A.createElement(Ba.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},T):T}function nC(){let t=fC(),e=IT(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=A.createElement(A.Fragment,null,A.createElement("p",null," Hey developer "),A.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",A.createElement("code",{style:a},"ErrorBoundary")," or"," ",A.createElement("code",{style:a},"errorElement")," prop on your route.")),A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},e),n?A.createElement("pre",{style:s},n):null,c)}var iC=A.createElement(nC,null),b1=class extends A.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=XT(t.digest);n&&(t=n)}let e=t!==void 0?A.createElement(Bn.Provider,{value:this.props.routeContext},A.createElement(Fp.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?A.createElement(rC,{error:t},e):e}};b1.contextType=$T;var Th=new WeakMap;function rC({children:t,error:e}){let{basename:n}=A.useContext(Mn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let i=JT(e.digest);if(i){let s=Th.get(e);if(s)throw s;let a=u1(i.location,n);if(c1&&!Th.get(e))if(a.isExternal||i.reloadDocument)window.location.href=a.absoluteURL||a.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(a.to,{replace:i.replace}));throw Th.set(e,c),c}return A.createElement("meta",{httpEquiv:"refresh",content:`0;url=${a.absoluteURL||a.to}`})}}return t}function sC({routeContext:t,match:e,children:n}){let i=A.useContext(ll);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),A.createElement(Bn.Provider,{value:t},n)}function lC(t,e=[],n=null,i=null,s=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,c=n?.errors;if(c!=null){let m=a.findIndex(y=>y.route.id&&c?.[y.route.id]!==void 0);Ge(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),a=a.slice(0,Math.min(a.length,m+1))}let u=!1,d=-1;if(n)for(let m=0;m<a.length;m++){let y=a[m];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(d=m),y.route.id){let{loaderData:x,errors:v}=n,S=y.route.loader&&!x.hasOwnProperty(y.route.id)&&(!v||v[y.route.id]===void 0);if(y.route.lazy||S){u=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}let h=n&&i?(m,y)=>{i(m,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:VT(n.matches),errorInfo:y})}:void 0;return a.reduceRight((m,y,x)=>{let v,S=!1,E=null,k=null;n&&(v=c&&y.route.id?c[y.route.id]:void 0,E=y.route.errorElement||iC,u&&(d<0&&x===0?(x1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,k=null):d===x&&(S=!0,k=y.route.hydrateFallbackElement||null)));let T=e.concat(a.slice(0,x+1)),M=()=>{let D;return v?D=E:S?D=k:y.route.Component?D=A.createElement(y.route.Component,null):y.route.element?D=y.route.element:D=m,A.createElement(sC,{match:y,routeContext:{outlet:m,matches:T,isDataRoute:n!=null},children:D})};return n&&(y.route.ErrorBoundary||y.route.errorElement||x===0)?A.createElement(b1,{location:n.location,revalidation:n.revalidation,component:E,error:v,children:M(),routeContext:{outlet:null,matches:T,isDataRoute:!0},onError:h}):M()},null)}function Kp(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function aC(t){let e=A.useContext(ll);return Ge(e,Kp(t)),e}function oC(t){let e=A.useContext(ju);return Ge(e,Kp(t)),e}function cC(t){let e=A.useContext(Bn);return Ge(e,Kp(t)),e}function Gp(t){let e=cC(t),n=e.matches[e.matches.length-1];return Ge(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function uC(){return Gp("useRouteId")}function fC(){let t=A.useContext(Fp),e=oC("useRouteError"),n=Gp("useRouteError");return t!==void 0?t:e.errors?.[n]}function dC(){let{router:t}=aC("useNavigate"),e=Gp("useNavigate"),n=A.useRef(!1);return m1(()=>{n.current=!0}),A.useCallback(async(s,a={})=>{_n(n.current,p1),n.current&&(typeof s=="number"?await t.navigate(s):await t.navigate(s,{fromRouteId:e,...a}))},[t,e])}var nx={};function x1(t,e,n){!e&&!nx[t]&&(nx[t]=!0,_n(!1,n))}A.memo(hC);function hC({routes:t,future:e,state:n,onError:i}){return y1(t,void 0,n,i,e)}function Yp(t){return eC(t.context)}function ft(t){Ge(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function pC({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:s,static:a=!1,unstable_useTransitions:c}){Ge(!Ha(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),d=A.useMemo(()=>({basename:u,navigator:s,static:a,unstable_useTransitions:c,future:{}}),[u,s,a,c]);typeof n=="string"&&(n=sl(n));let{pathname:h="/",search:m="",hash:y="",state:x=null,key:v="default"}=n,S=A.useMemo(()=>{let E=ki(h,u);return E==null?null:{location:{pathname:E,search:m,hash:y,state:x,key:v},navigationType:i}},[u,h,m,y,x,v,i]);return _n(S!=null,`<Router basename="${u}"> is not able to match the URL "${h}${m}${y}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:A.createElement(Mn.Provider,{value:d},A.createElement(Ba.Provider,{children:e,value:S}))}function mC({children:t,location:e}){return tC(cp(t),e)}function cp(t,e=[]){let n=[];return A.Children.forEach(t,(i,s)=>{if(!A.isValidElement(i))return;let a=[...e,s];if(i.type===A.Fragment){n.push.apply(n,cp(i.props.children,a));return}Ge(i.type===ft,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ge(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=cp(i.props.children,a)),n.push(c)}),n}var Oc="get",Rc="application/x-www-form-urlencoded";function Du(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function gC(t){return Du(t)&&t.tagName.toLowerCase()==="button"}function yC(t){return Du(t)&&t.tagName.toLowerCase()==="form"}function bC(t){return Du(t)&&t.tagName.toLowerCase()==="input"}function xC(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function vC(t,e){return t.button===0&&(!e||e==="_self")&&!xC(t)}function up(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let i=t[n];return e.concat(Array.isArray(i)?i.map(s=>[n,s]):[[n,i]])},[]))}function SC(t,e){let n=up(t);return e&&e.forEach((i,s)=>{n.has(s)||e.getAll(s).forEach(a=>{n.append(s,a)})}),n}var mc=null;function wC(){if(mc===null)try{new FormData(document.createElement("form"),0),mc=!1}catch{mc=!0}return mc}var kC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ch(t){return t!=null&&!kC.has(t)?(_n(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Rc}"`),null):t}function EC(t,e){let n,i,s,a,c;if(yC(t)){let u=t.getAttribute("action");i=u?ki(u,e):null,n=t.getAttribute("method")||Oc,s=Ch(t.getAttribute("enctype"))||Rc,a=new FormData(t)}else if(gC(t)||bC(t)&&(t.type==="submit"||t.type==="image")){let u=t.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||u.getAttribute("action");if(i=d?ki(d,e):null,n=t.getAttribute("formmethod")||u.getAttribute("method")||Oc,s=Ch(t.getAttribute("formenctype"))||Ch(u.getAttribute("enctype"))||Rc,a=new FormData(u,t),!wC()){let{name:h,type:m,value:y}=t;if(m==="image"){let x=h?`${h}.`:"";a.append(`${x}x`,"0"),a.append(`${x}y`,"0")}else h&&a.append(h,y)}}else{if(Du(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Oc,i=null,s=Rc,c=t}return a&&s==="text/plain"&&(c=a,a=void 0),{action:i,method:n.toLowerCase(),encType:s,formData:a,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Jp(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function NC(t,e,n,i){let s=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?s.pathname.endsWith("/")?s.pathname=`${s.pathname}_.${i}`:s.pathname=`${s.pathname}.${i}`:s.pathname==="/"?s.pathname=`_root.${i}`:e&&ki(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${i}`,s}async function TC(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function CC(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function AC(t,e,n){let i=await Promise.all(t.map(async s=>{let a=e.routes[s.route.id];if(a){let c=await TC(a,n);return c.links?c.links():[]}return[]}));return jC(i.flat(1).filter(CC).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function ix(t,e,n,i,s,a){let c=(d,h)=>n[h]?d.route.id!==n[h].route.id:!0,u=(d,h)=>n[h].pathname!==d.pathname||n[h].route.path?.endsWith("*")&&n[h].params["*"]!==d.params["*"];return a==="assets"?e.filter((d,h)=>c(d,h)||u(d,h)):a==="data"?e.filter((d,h)=>{let m=i.routes[d.route.id];if(!m||!m.hasLoader)return!1;if(c(d,h)||u(d,h))return!0;if(d.route.shouldRevalidate){let y=d.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function MC(t,e,{includeHydrateFallback:n}={}){return OC(t.map(i=>{let s=e.routes[i.route.id];if(!s)return[];let a=[s.module];return s.clientActionModule&&(a=a.concat(s.clientActionModule)),s.clientLoaderModule&&(a=a.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(a=a.concat(s.hydrateFallbackModule)),s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function OC(t){return[...new Set(t)]}function RC(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function jC(t,e){let n=new Set;return new Set(e),t.reduce((i,s)=>{let a=JSON.stringify(RC(s));return n.has(a)||(n.add(a),i.push({key:a,link:s})),i},[])}function v1(){let t=A.useContext(ll);return Jp(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function DC(){let t=A.useContext(ju);return Jp(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Xp=A.createContext(void 0);Xp.displayName="FrameworkContext";function S1(){let t=A.useContext(Xp);return Jp(t,"You must render this element inside a <HydratedRouter> element"),t}function zC(t,e){let n=A.useContext(Xp),[i,s]=A.useState(!1),[a,c]=A.useState(!1),{onFocus:u,onBlur:d,onMouseEnter:h,onMouseLeave:m,onTouchStart:y}=e,x=A.useRef(null);A.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let E=T=>{T.forEach(M=>{c(M.isIntersecting)})},k=new IntersectionObserver(E,{threshold:.5});return x.current&&k.observe(x.current),()=>{k.disconnect()}}},[t]),A.useEffect(()=>{if(i){let E=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(E)}}},[i]);let v=()=>{s(!0)},S=()=>{s(!1),c(!1)};return n?t!=="intent"?[a,x,{}]:[a,x,{onFocus:ra(u,v),onBlur:ra(d,S),onMouseEnter:ra(h,v),onMouseLeave:ra(m,S),onTouchStart:ra(y,v)}]:[!1,x,{}]}function ra(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function LC({page:t,...e}){let{router:n}=v1(),i=A.useMemo(()=>r1(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?A.createElement(BC,{page:t,matches:i,...e}):null}function _C(t){let{manifest:e,routeModules:n}=S1(),[i,s]=A.useState([]);return A.useEffect(()=>{let a=!1;return AC(t,e,n).then(c=>{a||s(c)}),()=>{a=!0}},[t,e,n]),i}function BC({page:t,matches:e,...n}){let i=Jn(),{future:s,manifest:a,routeModules:c}=S1(),{basename:u}=v1(),{loaderData:d,matches:h}=DC(),m=A.useMemo(()=>ix(t,e,h,a,i,"data"),[t,e,h,a,i]),y=A.useMemo(()=>ix(t,e,h,a,i,"assets"),[t,e,h,a,i]),x=A.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let E=new Set,k=!1;if(e.forEach(M=>{let D=a.routes[M.route.id];!D||!D.hasLoader||(!m.some(V=>V.route.id===M.route.id)&&M.route.id in d&&c[M.route.id]?.shouldRevalidate||D.hasClientLoader?k=!0:E.add(M.route.id))}),E.size===0)return[];let T=NC(t,u,s.unstable_trailingSlashAwareDataRequests,"data");return k&&E.size>0&&T.searchParams.set("_routes",e.filter(M=>E.has(M.route.id)).map(M=>M.route.id).join(",")),[T.pathname+T.search]},[u,s.unstable_trailingSlashAwareDataRequests,d,i,a,m,e,t,c]),v=A.useMemo(()=>MC(y,a),[y,a]),S=_C(y);return A.createElement(A.Fragment,null,x.map(E=>A.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...n})),v.map(E=>A.createElement("link",{key:E,rel:"modulepreload",href:E,...n})),S.map(({key:E,link:k})=>A.createElement("link",{key:E,nonce:n.nonce,...k,crossOrigin:k.crossOrigin??n.crossOrigin})))}function HC(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var UC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{UC&&(window.__reactRouterVersion="7.13.0")}catch{}function qC({basename:t,children:e,unstable_useTransitions:n,window:i}){let s=A.useRef();s.current==null&&(s.current=yT({window:i,v5Compat:!0}));let a=s.current,[c,u]=A.useState({action:a.action,location:a.location}),d=A.useCallback(h=>{n===!1?u(h):A.startTransition(()=>u(h))},[n]);return A.useLayoutEffect(()=>a.listen(d),[a,d]),A.createElement(pC,{basename:t,children:e,location:c.location,navigationType:c.action,navigator:a,unstable_useTransitions:n})}var w1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ee=A.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:s,reloadDocument:a,replace:c,state:u,target:d,to:h,preventScrollReset:m,viewTransition:y,unstable_defaultShouldRevalidate:x,...v},S){let{basename:E,unstable_useTransitions:k}=A.useContext(Mn),T=typeof h=="string"&&w1.test(h),M=u1(h,E);h=M.to;let D=QT(h,{relative:s}),[V,z,P]=zC(i,v),L=PC(h,{replace:c,state:u,target:d,preventScrollReset:m,relative:s,viewTransition:y,unstable_defaultShouldRevalidate:x,unstable_useTransitions:k});function G(he){e&&e(he),he.defaultPrevented||L(he)}let Z=A.createElement("a",{...v,...P,href:M.absoluteURL||D,onClick:M.isExternal||a?e:G,ref:HC(S,z),target:d,"data-discover":!T&&n==="render"?"true":void 0});return V&&!T?A.createElement(A.Fragment,null,Z,A.createElement(LC,{page:D})):Z});Ee.displayName="Link";var k1=A.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:s=!1,style:a,to:c,viewTransition:u,children:d,...h},m){let y=Ua(c,{relative:h.relative}),x=Jn(),v=A.useContext(ju),{navigator:S,basename:E}=A.useContext(Mn),k=v!=null&&JC(y)&&u===!0,T=S.encodeLocation?S.encodeLocation(y).pathname:y.pathname,M=x.pathname,D=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;n||(M=M.toLowerCase(),D=D?D.toLowerCase():null,T=T.toLowerCase()),D&&E&&(D=ki(D,E)||D);const V=T!=="/"&&T.endsWith("/")?T.length-1:T.length;let z=M===T||!s&&M.startsWith(T)&&M.charAt(V)==="/",P=D!=null&&(D===T||!s&&D.startsWith(T)&&D.charAt(T.length)==="/"),L={isActive:z,isPending:P,isTransitioning:k},G=z?e:void 0,Z;typeof i=="function"?Z=i(L):Z=[i,z?"active":null,P?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let he=typeof a=="function"?a(L):a;return A.createElement(Ee,{...h,"aria-current":G,className:Z,ref:m,style:he,to:c,viewTransition:u},typeof d=="function"?d(L):d)});k1.displayName="NavLink";var IC=A.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:s,state:a,method:c=Oc,action:u,onSubmit:d,relative:h,preventScrollReset:m,viewTransition:y,unstable_defaultShouldRevalidate:x,...v},S)=>{let{unstable_useTransitions:E}=A.useContext(Mn),k=GC(),T=YC(u,{relative:h}),M=c.toLowerCase()==="get"?"get":"post",D=typeof u=="string"&&w1.test(u),V=z=>{if(d&&d(z),z.defaultPrevented)return;z.preventDefault();let P=z.nativeEvent.submitter,L=P?.getAttribute("formmethod")||c,G=()=>k(P||z.currentTarget,{fetcherKey:e,method:L,navigate:n,replace:s,state:a,relative:h,preventScrollReset:m,viewTransition:y,unstable_defaultShouldRevalidate:x});E&&n!==!1?A.startTransition(()=>G()):G()};return A.createElement("form",{ref:S,method:M,action:T,onSubmit:i?d:V,...v,"data-discover":!D&&t==="render"?"true":void 0})});IC.displayName="Form";function VC(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function E1(t){let e=A.useContext(ll);return Ge(e,VC(t)),e}function PC(t,{target:e,replace:n,state:i,preventScrollReset:s,relative:a,viewTransition:c,unstable_defaultShouldRevalidate:u,unstable_useTransitions:d}={}){let h=es(),m=Jn(),y=Ua(t,{relative:a});return A.useCallback(x=>{if(vC(x,e)){x.preventDefault();let v=n!==void 0?n:Ea(m)===Ea(y),S=()=>h(t,{replace:v,state:i,preventScrollReset:s,relative:a,viewTransition:c,unstable_defaultShouldRevalidate:u});d?A.startTransition(()=>S()):S()}},[m,h,y,n,i,e,t,s,a,c,u,d])}function $C(t){_n(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=A.useRef(up(t)),n=A.useRef(!1),i=Jn(),s=A.useMemo(()=>SC(i.search,n.current?null:e.current),[i.search]),a=es(),c=A.useCallback((u,d)=>{const h=up(typeof u=="function"?u(new URLSearchParams(s)):u);n.current=!0,a("?"+h,d)},[a,s]);return[s,c]}var FC=0,KC=()=>`__${String(++FC)}__`;function GC(){let{router:t}=E1("useSubmit"),{basename:e}=A.useContext(Mn),n=uC(),i=t.fetch,s=t.navigate;return A.useCallback(async(a,c={})=>{let{action:u,method:d,encType:h,formData:m,body:y}=EC(a,e);if(c.navigate===!1){let x=c.fetcherKey||KC();await i(x,n,c.action||u,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:m,body:y,formMethod:c.method||d,formEncType:c.encType||h,flushSync:c.flushSync})}else await s(c.action||u,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:m,body:y,formMethod:c.method||d,formEncType:c.encType||h,replace:c.replace,state:c.state,fromRouteId:n,flushSync:c.flushSync,viewTransition:c.viewTransition})},[i,s,e,n])}function YC(t,{relative:e}={}){let{basename:n}=A.useContext(Mn),i=A.useContext(Bn);Ge(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),a={...Ua(t||".",{relative:e})},c=Jn();if(t==null){a.search=c.search;let u=new URLSearchParams(a.search),d=u.getAll("index");if(d.some(m=>m==="")){u.delete("index"),d.filter(y=>y).forEach(y=>u.append("index",y));let m=u.toString();a.search=m?`?${m}`:""}}return(!t||t===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:vi([n,a.pathname])),Ea(a)}function JC(t,{relative:e}={}){let n=A.useContext(d1);Ge(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=E1("useViewTransitionState"),s=Ua(t,{relative:e});if(!n.isTransitioning)return!1;let a=ki(n.currentLocation.pathname,i)||n.currentLocation.pathname,c=ki(n.nextLocation.pathname,i)||n.nextLocation.pathname;return qc(s.pathname,c)!=null||qc(s.pathname,a)!=null}var XC=i1();const QC=n1(XC),rx=[{to:"/",label:"Home"},{to:"/articles",label:"Articles"},{to:"/courses",label:"Courses"},{to:"/for-law-firms",label:"For Law Firms"},{to:"/private-work",label:"Private Work"},{to:"/about",label:"About"},{to:"/contact",label:"Contact"}];function WC(){const[t,e]=A.useState(!1),n=Jn();return b.jsxs("nav",{className:"fixed top-0 left-0 right-0 z-50 bg-white border-b border-black",children:[b.jsx("div",{className:"max-w-6xl mx-auto px-6 lg:px-8",children:b.jsxs("div",{className:"flex items-center justify-between h-14 md:h-16",children:[b.jsx(Ee,{to:"/",className:"text-sm font-medium text-black tracking-wide uppercase hover:opacity-70 transition-opacity",children:"The MacAdam Company"}),b.jsx("div",{className:"hidden md:flex items-center gap-10",children:rx.map(({to:i,label:s})=>{const a=i==="/"?n.pathname==="/":n.pathname===i||i==="/articles"&&n.pathname.startsWith("/articles/");return b.jsx(Ee,{to:i,className:`text-xs font-medium tracking-widest uppercase transition-opacity ${a?"opacity-100":"opacity-60 hover:opacity-100"}`,children:s},i)})}),b.jsx("button",{type:"button",onClick:()=>e(!t),className:"md:hidden p-2 -mr-2 text-black","aria-label":"Toggle menu",children:b.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t?b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M6 18L18 6M6 6l12 12"}):b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M4 6h16M4 12h16M4 18h16"})})})]})}),t&&b.jsx("div",{className:"md:hidden border-t border-black bg-white py-4 px-6",children:b.jsx("div",{className:"flex flex-col gap-4",children:rx.map(({to:i,label:s})=>{const a=i==="/"?n.pathname==="/":n.pathname===i||i==="/articles"&&n.pathname.startsWith("/articles/");return b.jsx(Ee,{to:i,onClick:()=>e(!1),className:`text-xs font-medium tracking-widest uppercase ${a?"opacity-100":"opacity-60"}`,children:s},i)})})})]})}function ZC(){return b.jsxs("div",{className:"min-h-screen bg-white text-black",children:[b.jsx(WC,{}),b.jsx("main",{children:b.jsx(Yp,{})})]})}const e2={"/":"The MacAdam Company | Regulation-Based Consulting & Courses","/regulation-reset":"Regulation Reset | The MacAdam Company","/courses":"Courses & Programs | The MacAdam Company","/private-work":"Private Regulation Sessions | The MacAdam Company","/for-law-firms":"For Law Firms & Organizations | The MacAdam Company","/about":"About Patricia MacAdam | The MacAdam Company","/contact":"Contact | The MacAdam Company","/admin/signup":"Admin Signup | The MacAdam Company","/mac-/adam/admin/69846d7f374584e675d7fa28":"Admin Sign In | The MacAdam Company","/admin":"Admin Dashboard | The MacAdam Company","/admin/settings":"Settings | The MacAdam Company"};function t2(){const{pathname:t}=Jn();return A.useEffect(()=>{window.scrollTo(0,0)},[t]),A.useEffect(()=>{document.title=e2[t]??"The MacAdam Company"},[t]),null}function un({path:t,alt:e,aspect:n="4/5",className:i=""}){const s=t.replace("/images/","");return b.jsxs("div",{className:`relative overflow-hidden bg-black/5 border border-dashed border-black/20 flex items-center justify-center ${i}`,style:{aspectRatio:n},children:[b.jsx("img",{src:t,alt:e,className:"absolute inset-0 w-full h-full object-cover",onError:a=>a.currentTarget.remove()}),b.jsxs("p",{className:"text-xs tracking-widest uppercase text-black/40 text-center px-4",children:["Add image: ",s]})]})}function N1(t,e){return function(){return t.apply(e,arguments)}}const{toString:n2}=Object.prototype,{getPrototypeOf:Qp}=Object,{iterator:zu,toStringTag:T1}=Symbol,Lu=(t=>e=>{const n=n2.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Hn=t=>(t=t.toLowerCase(),e=>Lu(e)===t),_u=t=>e=>typeof e===t,{isArray:al}=Array,Qs=_u("undefined");function qa(t){return t!==null&&!Qs(t)&&t.constructor!==null&&!Qs(t.constructor)&&Xt(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const C1=Hn("ArrayBuffer");function i2(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&C1(t.buffer),e}const r2=_u("string"),Xt=_u("function"),A1=_u("number"),Ia=t=>t!==null&&typeof t=="object",s2=t=>t===!0||t===!1,jc=t=>{if(Lu(t)!=="object")return!1;const e=Qp(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(T1 in t)&&!(zu in t)},l2=t=>{if(!Ia(t)||qa(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},a2=Hn("Date"),o2=Hn("File"),c2=Hn("Blob"),u2=Hn("FileList"),f2=t=>Ia(t)&&Xt(t.pipe),d2=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Xt(t.append)&&((e=Lu(t))==="formdata"||e==="object"&&Xt(t.toString)&&t.toString()==="[object FormData]"))},h2=Hn("URLSearchParams"),[p2,m2,g2,y2]=["ReadableStream","Request","Response","Headers"].map(Hn),b2=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Va(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let i,s;if(typeof t!="object"&&(t=[t]),al(t))for(i=0,s=t.length;i<s;i++)e.call(null,t[i],i,t);else{if(qa(t))return;const a=n?Object.getOwnPropertyNames(t):Object.keys(t),c=a.length;let u;for(i=0;i<c;i++)u=a[i],e.call(null,t[u],u,t)}}function M1(t,e){if(qa(t))return null;e=e.toLowerCase();const n=Object.keys(t);let i=n.length,s;for(;i-- >0;)if(s=n[i],e===s.toLowerCase())return s;return null}const _r=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,O1=t=>!Qs(t)&&t!==_r;function fp(){const{caseless:t,skipUndefined:e}=O1(this)&&this||{},n={},i=(s,a)=>{const c=t&&M1(n,a)||a;jc(n[c])&&jc(s)?n[c]=fp(n[c],s):jc(s)?n[c]=fp({},s):al(s)?n[c]=s.slice():(!e||!Qs(s))&&(n[c]=s)};for(let s=0,a=arguments.length;s<a;s++)arguments[s]&&Va(arguments[s],i);return n}const x2=(t,e,n,{allOwnKeys:i}={})=>(Va(e,(s,a)=>{n&&Xt(s)?Object.defineProperty(t,a,{value:N1(s,n),writable:!0,enumerable:!0,configurable:!0}):Object.defineProperty(t,a,{value:s,writable:!0,enumerable:!0,configurable:!0})},{allOwnKeys:i}),t),v2=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),S2=(t,e,n,i)=>{t.prototype=Object.create(e.prototype,i),Object.defineProperty(t.prototype,"constructor",{value:t,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},w2=(t,e,n,i)=>{let s,a,c;const u={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),a=s.length;a-- >0;)c=s[a],(!i||i(c,t,e))&&!u[c]&&(e[c]=t[c],u[c]=!0);t=n!==!1&&Qp(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},k2=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const i=t.indexOf(e,n);return i!==-1&&i===n},E2=t=>{if(!t)return null;if(al(t))return t;let e=t.length;if(!A1(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},N2=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Qp(Uint8Array)),T2=(t,e)=>{const i=(t&&t[zu]).call(t);let s;for(;(s=i.next())&&!s.done;){const a=s.value;e.call(t,a[0],a[1])}},C2=(t,e)=>{let n;const i=[];for(;(n=t.exec(e))!==null;)i.push(n);return i},A2=Hn("HTMLFormElement"),M2=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,i,s){return i.toUpperCase()+s}),sx=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),O2=Hn("RegExp"),R1=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),i={};Va(n,(s,a)=>{let c;(c=e(s,a,t))!==!1&&(i[a]=c||s)}),Object.defineProperties(t,i)},R2=t=>{R1(t,(e,n)=>{if(Xt(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const i=t[n];if(Xt(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},j2=(t,e)=>{const n={},i=s=>{s.forEach(a=>{n[a]=!0})};return al(t)?i(t):i(String(t).split(e)),n},D2=()=>{},z2=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function L2(t){return!!(t&&Xt(t.append)&&t[T1]==="FormData"&&t[zu])}const _2=t=>{const e=new Array(10),n=(i,s)=>{if(Ia(i)){if(e.indexOf(i)>=0)return;if(qa(i))return i;if(!("toJSON"in i)){e[s]=i;const a=al(i)?[]:{};return Va(i,(c,u)=>{const d=n(c,s+1);!Qs(d)&&(a[u]=d)}),e[s]=void 0,a}}return i};return n(t,0)},B2=Hn("AsyncFunction"),H2=t=>t&&(Ia(t)||Xt(t))&&Xt(t.then)&&Xt(t.catch),j1=((t,e)=>t?setImmediate:e?((n,i)=>(_r.addEventListener("message",({source:s,data:a})=>{s===_r&&a===n&&i.length&&i.shift()()},!1),s=>{i.push(s),_r.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Xt(_r.postMessage)),U2=typeof queueMicrotask<"u"?queueMicrotask.bind(_r):typeof process<"u"&&process.nextTick||j1,q2=t=>t!=null&&Xt(t[zu]),I={isArray:al,isArrayBuffer:C1,isBuffer:qa,isFormData:d2,isArrayBufferView:i2,isString:r2,isNumber:A1,isBoolean:s2,isObject:Ia,isPlainObject:jc,isEmptyObject:l2,isReadableStream:p2,isRequest:m2,isResponse:g2,isHeaders:y2,isUndefined:Qs,isDate:a2,isFile:o2,isBlob:c2,isRegExp:O2,isFunction:Xt,isStream:f2,isURLSearchParams:h2,isTypedArray:N2,isFileList:u2,forEach:Va,merge:fp,extend:x2,trim:b2,stripBOM:v2,inherits:S2,toFlatObject:w2,kindOf:Lu,kindOfTest:Hn,endsWith:k2,toArray:E2,forEachEntry:T2,matchAll:C2,isHTMLForm:A2,hasOwnProperty:sx,hasOwnProp:sx,reduceDescriptors:R1,freezeMethods:R2,toObjectSet:j2,toCamelCase:M2,noop:D2,toFiniteNumber:z2,findKey:M1,global:_r,isContextDefined:O1,isSpecCompliantForm:L2,toJSONObject:_2,isAsyncFn:B2,isThenable:H2,setImmediate:j1,asap:U2,isIterable:q2};let ce=class D1 extends Error{static from(e,n,i,s,a,c){const u=new D1(e.message,n||e.code,i,s,a);return u.cause=e,u.name=e.name,c&&Object.assign(u,c),u}constructor(e,n,i,s,a){super(e),this.name="AxiosError",this.isAxiosError=!0,n&&(this.code=n),i&&(this.config=i),s&&(this.request=s),a&&(this.response=a,this.status=a.status)}toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:I.toJSONObject(this.config),code:this.code,status:this.status}}};ce.ERR_BAD_OPTION_VALUE="ERR_BAD_OPTION_VALUE";ce.ERR_BAD_OPTION="ERR_BAD_OPTION";ce.ECONNABORTED="ECONNABORTED";ce.ETIMEDOUT="ETIMEDOUT";ce.ERR_NETWORK="ERR_NETWORK";ce.ERR_FR_TOO_MANY_REDIRECTS="ERR_FR_TOO_MANY_REDIRECTS";ce.ERR_DEPRECATED="ERR_DEPRECATED";ce.ERR_BAD_RESPONSE="ERR_BAD_RESPONSE";ce.ERR_BAD_REQUEST="ERR_BAD_REQUEST";ce.ERR_CANCELED="ERR_CANCELED";ce.ERR_NOT_SUPPORT="ERR_NOT_SUPPORT";ce.ERR_INVALID_URL="ERR_INVALID_URL";const I2=null;function dp(t){return I.isPlainObject(t)||I.isArray(t)}function z1(t){return I.endsWith(t,"[]")?t.slice(0,-2):t}function lx(t,e,n){return t?t.concat(e).map(function(s,a){return s=z1(s),!n&&a?"["+s+"]":s}).join(n?".":""):e}function V2(t){return I.isArray(t)&&!t.some(dp)}const P2=I.toFlatObject(I,{},null,function(e){return/^is[A-Z]/.test(e)});function Bu(t,e,n){if(!I.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=I.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(E,k){return!I.isUndefined(k[E])});const i=n.metaTokens,s=n.visitor||m,a=n.dots,c=n.indexes,d=(n.Blob||typeof Blob<"u"&&Blob)&&I.isSpecCompliantForm(e);if(!I.isFunction(s))throw new TypeError("visitor must be a function");function h(S){if(S===null)return"";if(I.isDate(S))return S.toISOString();if(I.isBoolean(S))return S.toString();if(!d&&I.isBlob(S))throw new ce("Blob is not supported. Use a Buffer instead.");return I.isArrayBuffer(S)||I.isTypedArray(S)?d&&typeof Blob=="function"?new Blob([S]):Buffer.from(S):S}function m(S,E,k){let T=S;if(S&&!k&&typeof S=="object"){if(I.endsWith(E,"{}"))E=i?E:E.slice(0,-2),S=JSON.stringify(S);else if(I.isArray(S)&&V2(S)||(I.isFileList(S)||I.endsWith(E,"[]"))&&(T=I.toArray(S)))return E=z1(E),T.forEach(function(D,V){!(I.isUndefined(D)||D===null)&&e.append(c===!0?lx([E],V,a):c===null?E:E+"[]",h(D))}),!1}return dp(S)?!0:(e.append(lx(k,E,a),h(S)),!1)}const y=[],x=Object.assign(P2,{defaultVisitor:m,convertValue:h,isVisitable:dp});function v(S,E){if(!I.isUndefined(S)){if(y.indexOf(S)!==-1)throw Error("Circular reference detected in "+E.join("."));y.push(S),I.forEach(S,function(T,M){(!(I.isUndefined(T)||T===null)&&s.call(e,T,I.isString(M)?M.trim():M,E,x))===!0&&v(T,E?E.concat(M):[M])}),y.pop()}}if(!I.isObject(t))throw new TypeError("data must be an object");return v(t),e}function ax(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function Wp(t,e){this._pairs=[],t&&Bu(t,this,e)}const L1=Wp.prototype;L1.append=function(e,n){this._pairs.push([e,n])};L1.toString=function(e){const n=e?function(i){return e.call(this,i,ax)}:ax;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function $2(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function _1(t,e,n){if(!e)return t;const i=n&&n.encode||$2,s=I.isFunction(n)?{serialize:n}:n,a=s&&s.serialize;let c;if(a?c=a(e,s):c=I.isURLSearchParams(e)?e.toString():new Wp(e,s).toString(i),c){const u=t.indexOf("#");u!==-1&&(t=t.slice(0,u)),t+=(t.indexOf("?")===-1?"?":"&")+c}return t}class ox{constructor(){this.handlers=[]}use(e,n,i){return this.handlers.push({fulfilled:e,rejected:n,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){I.forEach(this.handlers,function(i){i!==null&&e(i)})}}const B1={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},F2=typeof URLSearchParams<"u"?URLSearchParams:Wp,K2=typeof FormData<"u"?FormData:null,G2=typeof Blob<"u"?Blob:null,Y2={isBrowser:!0,classes:{URLSearchParams:F2,FormData:K2,Blob:G2},protocols:["http","https","file","blob","url","data"]},Zp=typeof window<"u"&&typeof document<"u",hp=typeof navigator=="object"&&navigator||void 0,J2=Zp&&(!hp||["ReactNative","NativeScript","NS"].indexOf(hp.product)<0),X2=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Q2=Zp&&window.location.href||"http://localhost",W2=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Zp,hasStandardBrowserEnv:J2,hasStandardBrowserWebWorkerEnv:X2,navigator:hp,origin:Q2},Symbol.toStringTag,{value:"Module"})),zt={...W2,...Y2};function Z2(t,e){return Bu(t,new zt.classes.URLSearchParams,{visitor:function(n,i,s,a){return zt.isNode&&I.isBuffer(n)?(this.append(i,n.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...e})}function eA(t){return I.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function tA(t){const e={},n=Object.keys(t);let i;const s=n.length;let a;for(i=0;i<s;i++)a=n[i],e[a]=t[a];return e}function H1(t){function e(n,i,s,a){let c=n[a++];if(c==="__proto__")return!0;const u=Number.isFinite(+c),d=a>=n.length;return c=!c&&I.isArray(s)?s.length:c,d?(I.hasOwnProp(s,c)?s[c]=[s[c],i]:s[c]=i,!u):((!s[c]||!I.isObject(s[c]))&&(s[c]=[]),e(n,i,s[c],a)&&I.isArray(s[c])&&(s[c]=tA(s[c])),!u)}if(I.isFormData(t)&&I.isFunction(t.entries)){const n={};return I.forEachEntry(t,(i,s)=>{e(eA(i),s,n,0)}),n}return null}function nA(t,e,n){if(I.isString(t))try{return(e||JSON.parse)(t),I.trim(t)}catch(i){if(i.name!=="SyntaxError")throw i}return(n||JSON.stringify)(t)}const Pa={transitional:B1,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const i=n.getContentType()||"",s=i.indexOf("application/json")>-1,a=I.isObject(e);if(a&&I.isHTMLForm(e)&&(e=new FormData(e)),I.isFormData(e))return s?JSON.stringify(H1(e)):e;if(I.isArrayBuffer(e)||I.isBuffer(e)||I.isStream(e)||I.isFile(e)||I.isBlob(e)||I.isReadableStream(e))return e;if(I.isArrayBufferView(e))return e.buffer;if(I.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let u;if(a){if(i.indexOf("application/x-www-form-urlencoded")>-1)return Z2(e,this.formSerializer).toString();if((u=I.isFileList(e))||i.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return Bu(u?{"files[]":e}:e,d&&new d,this.formSerializer)}}return a||s?(n.setContentType("application/json",!1),nA(e)):e}],transformResponse:[function(e){const n=this.transitional||Pa.transitional,i=n&&n.forcedJSONParsing,s=this.responseType==="json";if(I.isResponse(e)||I.isReadableStream(e))return e;if(e&&I.isString(e)&&(i&&!this.responseType||s)){const c=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(e,this.parseReviver)}catch(u){if(c)throw u.name==="SyntaxError"?ce.from(u,ce.ERR_BAD_RESPONSE,this,null,this.response):u}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:zt.classes.FormData,Blob:zt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};I.forEach(["delete","get","head","post","put","patch"],t=>{Pa.headers[t]={}});const iA=I.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),rA=t=>{const e={};let n,i,s;return t&&t.split(`
`).forEach(function(c){s=c.indexOf(":"),n=c.substring(0,s).trim().toLowerCase(),i=c.substring(s+1).trim(),!(!n||e[n]&&iA[n])&&(n==="set-cookie"?e[n]?e[n].push(i):e[n]=[i]:e[n]=e[n]?e[n]+", "+i:i)}),e},cx=Symbol("internals");function sa(t){return t&&String(t).trim().toLowerCase()}function Dc(t){return t===!1||t==null?t:I.isArray(t)?t.map(Dc):String(t)}function sA(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(t);)e[i[1]]=i[2];return e}const lA=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Ah(t,e,n,i,s){if(I.isFunction(i))return i.call(this,e,n);if(s&&(e=n),!!I.isString(e)){if(I.isString(i))return e.indexOf(i)!==-1;if(I.isRegExp(i))return i.test(e)}}function aA(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,i)=>n.toUpperCase()+i)}function oA(t,e){const n=I.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(t,i+n,{value:function(s,a,c){return this[i].call(this,e,s,a,c)},configurable:!0})})}let Qt=class{constructor(e){e&&this.set(e)}set(e,n,i){const s=this;function a(u,d,h){const m=sa(d);if(!m)throw new Error("header name must be a non-empty string");const y=I.findKey(s,m);(!y||s[y]===void 0||h===!0||h===void 0&&s[y]!==!1)&&(s[y||d]=Dc(u))}const c=(u,d)=>I.forEach(u,(h,m)=>a(h,m,d));if(I.isPlainObject(e)||e instanceof this.constructor)c(e,n);else if(I.isString(e)&&(e=e.trim())&&!lA(e))c(rA(e),n);else if(I.isObject(e)&&I.isIterable(e)){let u={},d,h;for(const m of e){if(!I.isArray(m))throw TypeError("Object iterator must return a key-value pair");u[h=m[0]]=(d=u[h])?I.isArray(d)?[...d,m[1]]:[d,m[1]]:m[1]}c(u,n)}else e!=null&&a(n,e,i);return this}get(e,n){if(e=sa(e),e){const i=I.findKey(this,e);if(i){const s=this[i];if(!n)return s;if(n===!0)return sA(s);if(I.isFunction(n))return n.call(this,s,i);if(I.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=sa(e),e){const i=I.findKey(this,e);return!!(i&&this[i]!==void 0&&(!n||Ah(this,this[i],i,n)))}return!1}delete(e,n){const i=this;let s=!1;function a(c){if(c=sa(c),c){const u=I.findKey(i,c);u&&(!n||Ah(i,i[u],u,n))&&(delete i[u],s=!0)}}return I.isArray(e)?e.forEach(a):a(e),s}clear(e){const n=Object.keys(this);let i=n.length,s=!1;for(;i--;){const a=n[i];(!e||Ah(this,this[a],a,e,!0))&&(delete this[a],s=!0)}return s}normalize(e){const n=this,i={};return I.forEach(this,(s,a)=>{const c=I.findKey(i,a);if(c){n[c]=Dc(s),delete n[a];return}const u=e?aA(a):String(a).trim();u!==a&&delete n[a],n[u]=Dc(s),i[u]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return I.forEach(this,(i,s)=>{i!=null&&i!==!1&&(n[s]=e&&I.isArray(i)?i.join(", "):i)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const i=new this(e);return n.forEach(s=>i.set(s)),i}static accessor(e){const i=(this[cx]=this[cx]={accessors:{}}).accessors,s=this.prototype;function a(c){const u=sa(c);i[u]||(oA(s,c),i[u]=!0)}return I.isArray(e)?e.forEach(a):a(e),this}};Qt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);I.reduceDescriptors(Qt.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(i){this[n]=i}}});I.freezeMethods(Qt);function Mh(t,e){const n=this||Pa,i=e||n,s=Qt.from(i.headers);let a=i.data;return I.forEach(t,function(u){a=u.call(n,a,s.normalize(),e?e.status:void 0)}),s.normalize(),a}function U1(t){return!!(t&&t.__CANCEL__)}let $a=class extends ce{constructor(e,n,i){super(e??"canceled",ce.ERR_CANCELED,n,i),this.name="CanceledError",this.__CANCEL__=!0}};function q1(t,e,n){const i=n.config.validateStatus;!n.status||!i||i(n.status)?t(n):e(new ce("Request failed with status code "+n.status,[ce.ERR_BAD_REQUEST,ce.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function cA(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function uA(t,e){t=t||10;const n=new Array(t),i=new Array(t);let s=0,a=0,c;return e=e!==void 0?e:1e3,function(d){const h=Date.now(),m=i[a];c||(c=h),n[s]=d,i[s]=h;let y=a,x=0;for(;y!==s;)x+=n[y++],y=y%t;if(s=(s+1)%t,s===a&&(a=(a+1)%t),h-c<e)return;const v=m&&h-m;return v?Math.round(x*1e3/v):void 0}}function fA(t,e){let n=0,i=1e3/e,s,a;const c=(h,m=Date.now())=>{n=m,s=null,a&&(clearTimeout(a),a=null),t(...h)};return[(...h)=>{const m=Date.now(),y=m-n;y>=i?c(h,m):(s=h,a||(a=setTimeout(()=>{a=null,c(s)},i-y)))},()=>s&&c(s)]}const Ic=(t,e,n=3)=>{let i=0;const s=uA(50,250);return fA(a=>{const c=a.loaded,u=a.lengthComputable?a.total:void 0,d=c-i,h=s(d),m=c<=u;i=c;const y={loaded:c,total:u,progress:u?c/u:void 0,bytes:d,rate:h||void 0,estimated:h&&u&&m?(u-c)/h:void 0,event:a,lengthComputable:u!=null,[e?"download":"upload"]:!0};t(y)},n)},ux=(t,e)=>{const n=t!=null;return[i=>e[0]({lengthComputable:n,total:t,loaded:i}),e[1]]},fx=t=>(...e)=>I.asap(()=>t(...e)),dA=zt.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,zt.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(zt.origin),zt.navigator&&/(msie|trident)/i.test(zt.navigator.userAgent)):()=>!0,hA=zt.hasStandardBrowserEnv?{write(t,e,n,i,s,a,c){if(typeof document>"u")return;const u=[`${t}=${encodeURIComponent(e)}`];I.isNumber(n)&&u.push(`expires=${new Date(n).toUTCString()}`),I.isString(i)&&u.push(`path=${i}`),I.isString(s)&&u.push(`domain=${s}`),a===!0&&u.push("secure"),I.isString(c)&&u.push(`SameSite=${c}`),document.cookie=u.join("; ")},read(t){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function pA(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function mA(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function I1(t,e,n){let i=!pA(e);return t&&(i||n==!1)?mA(t,e):e}const dx=t=>t instanceof Qt?{...t}:t;function Yr(t,e){e=e||{};const n={};function i(h,m,y,x){return I.isPlainObject(h)&&I.isPlainObject(m)?I.merge.call({caseless:x},h,m):I.isPlainObject(m)?I.merge({},m):I.isArray(m)?m.slice():m}function s(h,m,y,x){if(I.isUndefined(m)){if(!I.isUndefined(h))return i(void 0,h,y,x)}else return i(h,m,y,x)}function a(h,m){if(!I.isUndefined(m))return i(void 0,m)}function c(h,m){if(I.isUndefined(m)){if(!I.isUndefined(h))return i(void 0,h)}else return i(void 0,m)}function u(h,m,y){if(y in e)return i(h,m);if(y in t)return i(void 0,h)}const d={url:a,method:a,data:a,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:u,headers:(h,m,y)=>s(dx(h),dx(m),y,!0)};return I.forEach(Object.keys({...t,...e}),function(m){const y=d[m]||s,x=y(t[m],e[m],m);I.isUndefined(x)&&y!==u||(n[m]=x)}),n}const V1=t=>{const e=Yr({},t);let{data:n,withXSRFToken:i,xsrfHeaderName:s,xsrfCookieName:a,headers:c,auth:u}=e;if(e.headers=c=Qt.from(c),e.url=_1(I1(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),u&&c.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):""))),I.isFormData(n)){if(zt.hasStandardBrowserEnv||zt.hasStandardBrowserWebWorkerEnv)c.setContentType(void 0);else if(I.isFunction(n.getHeaders)){const d=n.getHeaders(),h=["content-type","content-length"];Object.entries(d).forEach(([m,y])=>{h.includes(m.toLowerCase())&&c.set(m,y)})}}if(zt.hasStandardBrowserEnv&&(i&&I.isFunction(i)&&(i=i(e)),i||i!==!1&&dA(e.url))){const d=s&&a&&hA.read(a);d&&c.set(s,d)}return e},gA=typeof XMLHttpRequest<"u",yA=gA&&function(t){return new Promise(function(n,i){const s=V1(t);let a=s.data;const c=Qt.from(s.headers).normalize();let{responseType:u,onUploadProgress:d,onDownloadProgress:h}=s,m,y,x,v,S;function E(){v&&v(),S&&S(),s.cancelToken&&s.cancelToken.unsubscribe(m),s.signal&&s.signal.removeEventListener("abort",m)}let k=new XMLHttpRequest;k.open(s.method.toUpperCase(),s.url,!0),k.timeout=s.timeout;function T(){if(!k)return;const D=Qt.from("getAllResponseHeaders"in k&&k.getAllResponseHeaders()),z={data:!u||u==="text"||u==="json"?k.responseText:k.response,status:k.status,statusText:k.statusText,headers:D,config:t,request:k};q1(function(L){n(L),E()},function(L){i(L),E()},z),k=null}"onloadend"in k?k.onloadend=T:k.onreadystatechange=function(){!k||k.readyState!==4||k.status===0&&!(k.responseURL&&k.responseURL.indexOf("file:")===0)||setTimeout(T)},k.onabort=function(){k&&(i(new ce("Request aborted",ce.ECONNABORTED,t,k)),k=null)},k.onerror=function(V){const z=V&&V.message?V.message:"Network Error",P=new ce(z,ce.ERR_NETWORK,t,k);P.event=V||null,i(P),k=null},k.ontimeout=function(){let V=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const z=s.transitional||B1;s.timeoutErrorMessage&&(V=s.timeoutErrorMessage),i(new ce(V,z.clarifyTimeoutError?ce.ETIMEDOUT:ce.ECONNABORTED,t,k)),k=null},a===void 0&&c.setContentType(null),"setRequestHeader"in k&&I.forEach(c.toJSON(),function(V,z){k.setRequestHeader(z,V)}),I.isUndefined(s.withCredentials)||(k.withCredentials=!!s.withCredentials),u&&u!=="json"&&(k.responseType=s.responseType),h&&([x,S]=Ic(h,!0),k.addEventListener("progress",x)),d&&k.upload&&([y,v]=Ic(d),k.upload.addEventListener("progress",y),k.upload.addEventListener("loadend",v)),(s.cancelToken||s.signal)&&(m=D=>{k&&(i(!D||D.type?new $a(null,t,k):D),k.abort(),k=null)},s.cancelToken&&s.cancelToken.subscribe(m),s.signal&&(s.signal.aborted?m():s.signal.addEventListener("abort",m)));const M=cA(s.url);if(M&&zt.protocols.indexOf(M)===-1){i(new ce("Unsupported protocol "+M+":",ce.ERR_BAD_REQUEST,t));return}k.send(a||null)})},bA=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let i=new AbortController,s;const a=function(h){if(!s){s=!0,u();const m=h instanceof Error?h:this.reason;i.abort(m instanceof ce?m:new $a(m instanceof Error?m.message:m))}};let c=e&&setTimeout(()=>{c=null,a(new ce(`timeout of ${e}ms exceeded`,ce.ETIMEDOUT))},e);const u=()=>{t&&(c&&clearTimeout(c),c=null,t.forEach(h=>{h.unsubscribe?h.unsubscribe(a):h.removeEventListener("abort",a)}),t=null)};t.forEach(h=>h.addEventListener("abort",a));const{signal:d}=i;return d.unsubscribe=()=>I.asap(u),d}},xA=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let i=0,s;for(;i<n;)s=i+e,yield t.slice(i,s),i=s},vA=async function*(t,e){for await(const n of SA(t))yield*xA(n,e)},SA=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:i}=await e.read();if(n)break;yield i}}finally{await e.cancel()}},hx=(t,e,n,i)=>{const s=vA(t,e);let a=0,c,u=d=>{c||(c=!0,i&&i(d))};return new ReadableStream({async pull(d){try{const{done:h,value:m}=await s.next();if(h){u(),d.close();return}let y=m.byteLength;if(n){let x=a+=y;n(x)}d.enqueue(new Uint8Array(m))}catch(h){throw u(h),h}},cancel(d){return u(d),s.return()}},{highWaterMark:2})},px=64*1024,{isFunction:gc}=I,wA=(({Request:t,Response:e})=>({Request:t,Response:e}))(I.global),{ReadableStream:mx,TextEncoder:gx}=I.global,yx=(t,...e)=>{try{return!!t(...e)}catch{return!1}},kA=t=>{t=I.merge.call({skipUndefined:!0},wA,t);const{fetch:e,Request:n,Response:i}=t,s=e?gc(e):typeof fetch=="function",a=gc(n),c=gc(i);if(!s)return!1;const u=s&&gc(mx),d=s&&(typeof gx=="function"?(S=>E=>S.encode(E))(new gx):async S=>new Uint8Array(await new n(S).arrayBuffer())),h=a&&u&&yx(()=>{let S=!1;const E=new n(zt.origin,{body:new mx,method:"POST",get duplex(){return S=!0,"half"}}).headers.has("Content-Type");return S&&!E}),m=c&&u&&yx(()=>I.isReadableStream(new i("").body)),y={stream:m&&(S=>S.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(S=>{!y[S]&&(y[S]=(E,k)=>{let T=E&&E[S];if(T)return T.call(E);throw new ce(`Response type '${S}' is not supported`,ce.ERR_NOT_SUPPORT,k)})});const x=async S=>{if(S==null)return 0;if(I.isBlob(S))return S.size;if(I.isSpecCompliantForm(S))return(await new n(zt.origin,{method:"POST",body:S}).arrayBuffer()).byteLength;if(I.isArrayBufferView(S)||I.isArrayBuffer(S))return S.byteLength;if(I.isURLSearchParams(S)&&(S=S+""),I.isString(S))return(await d(S)).byteLength},v=async(S,E)=>{const k=I.toFiniteNumber(S.getContentLength());return k??x(E)};return async S=>{let{url:E,method:k,data:T,signal:M,cancelToken:D,timeout:V,onDownloadProgress:z,onUploadProgress:P,responseType:L,headers:G,withCredentials:Z="same-origin",fetchOptions:he}=V1(S),st=e||fetch;L=L?(L+"").toLowerCase():"text";let _e=bA([M,D&&D.toAbortSignal()],V),lt=null;const Oe=_e&&_e.unsubscribe&&(()=>{_e.unsubscribe()});let je;try{if(P&&h&&k!=="get"&&k!=="head"&&(je=await v(G,T))!==0){let O=new n(E,{method:"POST",body:T,duplex:"half"}),K;if(I.isFormData(T)&&(K=O.headers.get("content-type"))&&G.setContentType(K),O.body){const[W,te]=ux(je,Ic(fx(P)));T=hx(O.body,px,W,te)}}I.isString(Z)||(Z=Z?"include":"omit");const U=a&&"credentials"in n.prototype,Q={...he,signal:_e,method:k.toUpperCase(),headers:G.normalize().toJSON(),body:T,duplex:"half",credentials:U?Z:void 0};lt=a&&new n(E,Q);let re=await(a?st(lt,he):st(E,Q));const Ce=m&&(L==="stream"||L==="response");if(m&&(z||Ce&&Oe)){const O={};["status","statusText","headers"].forEach(fe=>{O[fe]=re[fe]});const K=I.toFiniteNumber(re.headers.get("content-length")),[W,te]=z&&ux(K,Ic(fx(z),!0))||[];re=new i(hx(re.body,px,W,()=>{te&&te(),Oe&&Oe()}),O)}L=L||"text";let De=await y[I.findKey(y,L)||"text"](re,S);return!Ce&&Oe&&Oe(),await new Promise((O,K)=>{q1(O,K,{data:De,headers:Qt.from(re.headers),status:re.status,statusText:re.statusText,config:S,request:lt})})}catch(U){throw Oe&&Oe(),U&&U.name==="TypeError"&&/Load failed|fetch/i.test(U.message)?Object.assign(new ce("Network Error",ce.ERR_NETWORK,S,lt),{cause:U.cause||U}):ce.from(U,U&&U.code,S,lt)}}},EA=new Map,P1=t=>{let e=t&&t.env||{};const{fetch:n,Request:i,Response:s}=e,a=[i,s,n];let c=a.length,u=c,d,h,m=EA;for(;u--;)d=a[u],h=m.get(d),h===void 0&&m.set(d,h=u?new Map:kA(e)),m=h;return h};P1();const em={http:I2,xhr:yA,fetch:{get:P1}};I.forEach(em,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const bx=t=>`- ${t}`,NA=t=>I.isFunction(t)||t===null||t===!1;function TA(t,e){t=I.isArray(t)?t:[t];const{length:n}=t;let i,s;const a={};for(let c=0;c<n;c++){i=t[c];let u;if(s=i,!NA(i)&&(s=em[(u=String(i)).toLowerCase()],s===void 0))throw new ce(`Unknown adapter '${u}'`);if(s&&(I.isFunction(s)||(s=s.get(e))))break;a[u||"#"+c]=s}if(!s){const c=Object.entries(a).map(([d,h])=>`adapter ${d} `+(h===!1?"is not supported by the environment":"is not available in the build"));let u=n?c.length>1?`since :
`+c.map(bx).join(`
`):" "+bx(c[0]):"as no adapter specified";throw new ce("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return s}const $1={getAdapter:TA,adapters:em};function Oh(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new $a(null,t)}function xx(t){return Oh(t),t.headers=Qt.from(t.headers),t.data=Mh.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),$1.getAdapter(t.adapter||Pa.adapter,t)(t).then(function(i){return Oh(t),i.data=Mh.call(t,t.transformResponse,i),i.headers=Qt.from(i.headers),i},function(i){return U1(i)||(Oh(t),i&&i.response&&(i.response.data=Mh.call(t,t.transformResponse,i.response),i.response.headers=Qt.from(i.response.headers))),Promise.reject(i)})}const F1="1.13.4",Hu={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Hu[t]=function(i){return typeof i===t||"a"+(e<1?"n ":" ")+t}});const vx={};Hu.transitional=function(e,n,i){function s(a,c){return"[Axios v"+F1+"] Transitional option '"+a+"'"+c+(i?". "+i:"")}return(a,c,u)=>{if(e===!1)throw new ce(s(c," has been removed"+(n?" in "+n:"")),ce.ERR_DEPRECATED);return n&&!vx[c]&&(vx[c]=!0,console.warn(s(c," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(a,c,u):!0}};Hu.spelling=function(e){return(n,i)=>(console.warn(`${i} is likely a misspelling of ${e}`),!0)};function CA(t,e,n){if(typeof t!="object")throw new ce("options must be an object",ce.ERR_BAD_OPTION_VALUE);const i=Object.keys(t);let s=i.length;for(;s-- >0;){const a=i[s],c=e[a];if(c){const u=t[a],d=u===void 0||c(u,a,t);if(d!==!0)throw new ce("option "+a+" must be "+d,ce.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new ce("Unknown option "+a,ce.ERR_BAD_OPTION)}}const zc={assertOptions:CA,validators:Hu},Pn=zc.validators;let Ir=class{constructor(e){this.defaults=e||{},this.interceptors={request:new ox,response:new ox}}async request(e,n){try{return await this._request(e,n)}catch(i){if(i instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const a=s.stack?s.stack.replace(/^.+\n/,""):"";try{i.stack?a&&!String(i.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+a):i.stack=a}catch{}}throw i}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Yr(this.defaults,n);const{transitional:i,paramsSerializer:s,headers:a}=n;i!==void 0&&zc.assertOptions(i,{silentJSONParsing:Pn.transitional(Pn.boolean),forcedJSONParsing:Pn.transitional(Pn.boolean),clarifyTimeoutError:Pn.transitional(Pn.boolean)},!1),s!=null&&(I.isFunction(s)?n.paramsSerializer={serialize:s}:zc.assertOptions(s,{encode:Pn.function,serialize:Pn.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),zc.assertOptions(n,{baseUrl:Pn.spelling("baseURL"),withXsrfToken:Pn.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let c=a&&I.merge(a.common,a[n.method]);a&&I.forEach(["delete","get","head","post","put","patch","common"],S=>{delete a[S]}),n.headers=Qt.concat(c,a);const u=[];let d=!0;this.interceptors.request.forEach(function(E){typeof E.runWhen=="function"&&E.runWhen(n)===!1||(d=d&&E.synchronous,u.unshift(E.fulfilled,E.rejected))});const h=[];this.interceptors.response.forEach(function(E){h.push(E.fulfilled,E.rejected)});let m,y=0,x;if(!d){const S=[xx.bind(this),void 0];for(S.unshift(...u),S.push(...h),x=S.length,m=Promise.resolve(n);y<x;)m=m.then(S[y++],S[y++]);return m}x=u.length;let v=n;for(;y<x;){const S=u[y++],E=u[y++];try{v=S(v)}catch(k){E.call(this,k);break}}try{m=xx.call(this,v)}catch(S){return Promise.reject(S)}for(y=0,x=h.length;y<x;)m=m.then(h[y++],h[y++]);return m}getUri(e){e=Yr(this.defaults,e);const n=I1(e.baseURL,e.url,e.allowAbsoluteUrls);return _1(n,e.params,e.paramsSerializer)}};I.forEach(["delete","get","head","options"],function(e){Ir.prototype[e]=function(n,i){return this.request(Yr(i||{},{method:e,url:n,data:(i||{}).data}))}});I.forEach(["post","put","patch"],function(e){function n(i){return function(a,c,u){return this.request(Yr(u||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:a,data:c}))}}Ir.prototype[e]=n(),Ir.prototype[e+"Form"]=n(!0)});let AA=class K1{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(a){n=a});const i=this;this.promise.then(s=>{if(!i._listeners)return;let a=i._listeners.length;for(;a-- >0;)i._listeners[a](s);i._listeners=null}),this.promise.then=s=>{let a;const c=new Promise(u=>{i.subscribe(u),a=u}).then(s);return c.cancel=function(){i.unsubscribe(a)},c},e(function(a,c,u){i.reason||(i.reason=new $a(a,c,u),n(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=i=>{e.abort(i)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new K1(function(s){e=s}),cancel:e}}};function MA(t){return function(n){return t.apply(null,n)}}function OA(t){return I.isObject(t)&&t.isAxiosError===!0}const pp={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(pp).forEach(([t,e])=>{pp[e]=t});function G1(t){const e=new Ir(t),n=N1(Ir.prototype.request,e);return I.extend(n,Ir.prototype,e,{allOwnKeys:!0}),I.extend(n,e,null,{allOwnKeys:!0}),n.create=function(s){return G1(Yr(t,s))},n}const Ze=G1(Pa);Ze.Axios=Ir;Ze.CanceledError=$a;Ze.CancelToken=AA;Ze.isCancel=U1;Ze.VERSION=F1;Ze.toFormData=Bu;Ze.AxiosError=ce;Ze.Cancel=Ze.CanceledError;Ze.all=function(e){return Promise.all(e)};Ze.spread=MA;Ze.isAxiosError=OA;Ze.mergeConfig=Yr;Ze.AxiosHeaders=Qt;Ze.formToJSON=t=>H1(I.isHTMLForm(t)?new FormData(t):t);Ze.getAdapter=$1.getAdapter;Ze.HttpStatusCode=pp;Ze.default=Ze;const{Axios:mL,AxiosError:gL,CanceledError:yL,isCancel:bL,CancelToken:xL,VERSION:vL,all:SL,Cancel:wL,isAxiosError:kL,spread:EL,toFormData:NL,AxiosHeaders:TL,HttpStatusCode:CL,formToJSON:AL,getAdapter:ML,mergeConfig:OL}=Ze,Fa=Ze.create({baseURL:"http://localhost:3000/api",timeout:1e4,headers:{"Content-Type":"application/json"}});Fa.interceptors.request.use(t=>t,t=>Promise.reject(t));Fa.interceptors.response.use(t=>t,t=>Promise.reject(t));const RA=[{title:"Attorneys",desc:"High-stakes litigation, billable hours, constant pressure. Regulation work built for the pace of lawnot generic wellness advice."},{title:"Executives",desc:"Board meetings, stakeholder demands, little margin for error. Learn to reset without disappearing from the room."},{title:"Medical Professionals",desc:"Shift work, life-or-death decisions, emotional load. Tools designed for people who hold lives in their hands."},{title:"Founders",desc:"Company on your shoulders, investors, team, product. Regulation that fits the founder realitynot a 9-to-5 schedule."},{title:"High-Functioning Parents",desc:`Career + family + self, with no pause button. Integration work for people who can't "just meditate more."`}],jA=[{title:"Regulation Reset",desc:"A guided nervous system reset. Video + framework + PDF. Do it in one sitting or spread it out. Lifetime access.",price:"$199",href:"/regulation-reset"},{title:"Mini Courses",desc:"Focused skill-building modules for busy professionals. Deep dives on specific regulation skills, 2040 min each.",status:"Coming soon",href:"/courses"},{title:"Private Sessions",desc:"One-on-one regulation work. Customized to your contexttransitions, relationships, sustained overload. Starting at $500+",href:"/private-work"}],DA=[{quote:"I came in thinking I needed to push harder. What I actually needed was to regulate first. Game changer.",attribution:"Partner, Am Law 100",image:"testimonial-1.jpg"},{quote:`Finally, something built for people who can't just "take a breath" and hope it works.`,attribution:"Founder, Series B",image:"testimonial-2.jpg"}],zA=[{value:"500+",label:"Professionals served"},{value:"15+",label:"Years clinical expertise"}],LA=["Guided video session (~45 min)","Practical framework you can reuse","Repeatable reset tool","Downloadable PDF reference"],_A=["Regulation workshops for teams","Burnout prevention programs","Leadership stabilization sessions","CLE-compliant education options"];function BA(){const[t,e]=A.useState([]),[n,i]=A.useState(!0);return A.useEffect(()=>{Fa.get("/articles?limit=6").then(({data:s})=>e(s.articles||[])).catch(()=>e([])).finally(()=>i(!1))},[]),b.jsxs("div",{className:"pt-14 md:pt-16",children:[b.jsxs("section",{className:"relative min-h-[90vh] flex flex-col md:flex-row md:items-center md:gap-12 lg:gap-20 px-6 overflow-hidden",children:[b.jsx("div",{className:"absolute inset-0 opacity-[0.03]",style:{backgroundImage:"linear-gradient(to right, #000 1px, transparent 1px), linear-gradient(to bottom, #000 1px, transparent 1px)",backgroundSize:"60px 60px"}}),b.jsxs("div",{className:"relative z-10 flex-1 flex flex-col items-center md:items-start text-center md:text-left min-h-[60vh] md:min-h-0 justify-center py-16 md:py-0",children:[b.jsx("p",{className:"text-xs font-medium tracking-[0.3em] uppercase text-black/50 mb-6 animate-fade-in opacity-0 md:mx-0",style:{animationDelay:"0.1s",animationFillMode:"forwards"},children:"The MacAdam Company"}),b.jsx("h1",{className:"font-serif text-4xl sm:text-5xl md:text-6xl lg:text-7xl font-normal text-black tracking-tight leading-[1.1] max-w-3xl mx-auto md:mx-0 animate-fade-up opacity-0",style:{animationDelay:"0.2s",animationFillMode:"forwards"},children:"Regulation for high-performing leaders."}),b.jsx("p",{className:"mt-8 text-lg md:text-xl text-black/70 max-w-xl mx-auto md:mx-0 leading-relaxed animate-fade-up opacity-0",style:{animationDelay:"0.4s",animationFillMode:"forwards"},children:"Practical nervous system regulation for professionals under pressure."}),b.jsxs("div",{className:"mt-12 flex flex-col sm:flex-row gap-4 justify-center md:justify-start animate-fade-up opacity-0",style:{animationDelay:"0.6s",animationFillMode:"forwards"},children:[b.jsx(Ee,{to:"/regulation-reset",className:"inline-block px-8 py-4 bg-black text-white text-sm font-medium tracking-widest uppercase hover:bg-black/90 transition-all duration-300 hover:scale-[1.02]",children:"Start Regulation Reset"}),b.jsx(Ee,{to:"/private-work",className:"inline-block px-8 py-4 border border-black text-black text-sm font-medium tracking-widest uppercase hover:bg-black hover:text-white transition-all duration-300",children:"Book Private Session"})]})]}),b.jsx("div",{className:"relative z-10 hidden md:block flex-1 max-w-lg lg:max-w-xl w-full",children:b.jsx(un,{path:"/images/patricia-hero.jpg",alt:"Patricia MacAdam",aspect:"4/5",className:"w-full"})}),b.jsx("div",{className:"absolute bottom-8 left-1/2 -translate-x-1/2 animate-float md:hidden",children:b.jsx("div",{className:"w-px h-12 bg-black/30"})})]}),b.jsxs("section",{className:"py-20 md:py-28 px-6 border-t border-black/10",children:[b.jsx("p",{className:"max-w-2xl mx-auto text-center text-lg md:text-xl text-black/70 leading-relaxed mb-8",children:"Regulation-based consulting, courses, and private work for people who carry real responsibility."}),b.jsx("p",{className:"max-w-xl mx-auto text-center text-black/60 text-sm leading-relaxed mb-16",children:"We don't do generic wellness. We teach practical nervous system regulationthe kind you can use in the middle of a board meeting, before a difficult conversation, or when the inbox won't stop."}),b.jsx("div",{className:"flex flex-wrap justify-center gap-16 md:gap-24",children:zA.map(({value:s,label:a})=>b.jsxs("div",{className:"text-center",children:[b.jsx("p",{className:"font-serif text-4xl md:text-5xl font-normal text-black",children:s}),b.jsx("p",{className:"text-xs font-medium tracking-widest uppercase text-black/50 mt-2",children:a})]},a))})]}),b.jsx("section",{className:"py-20 md:py-28 px-6 bg-macadam-offwhite",children:b.jsxs("div",{className:"max-w-3xl mx-auto",children:[b.jsx("p",{className:"text-xs font-medium tracking-widest uppercase text-black/50 mb-8 text-center",children:"The MacAdam Method"}),b.jsx("p",{className:"text-black/80 leading-relaxed text-center mb-6",children:"The MacAdam Method was developed through years of direct clinical work, graduate-level training, and real-world application with families, professionals, and high-functioning adults under sustained stress."}),b.jsx("p",{className:"text-black/80 leading-relaxed text-center mb-6",children:"Capable people weren't failing from lack of insightthey were operating from chronically dysregulated nervous systems. Traditional approaches focused on coping and performance. What was missing was regulation: the ability to stabilize before stress spilled into relationships, decisions, and health."}),b.jsx("p",{className:"text-black font-medium text-center",children:"Regulation is not weakness. It is the foundation of sustainable leadership."}),b.jsx(Ee,{to:"/regulation-reset",className:"block mt-10 text-center text-sm font-medium tracking-wide text-black/60 hover:text-black",children:"Learn the method "})]})}),b.jsx("section",{className:"py-20 md:py-28 px-6",children:b.jsxs("div",{className:"max-w-6xl mx-auto",children:[b.jsxs("div",{className:"grid lg:grid-cols-12 gap-12 lg:gap-16 items-start mb-16",children:[b.jsxs("div",{className:"lg:col-span-7",children:[b.jsx("h2",{className:"text-xs font-medium tracking-widest uppercase text-black/60 mb-4",children:"Who we serve"}),b.jsx("p",{className:"text-2xl md:text-3xl font-serif font-normal text-black mb-6 max-w-2xl",children:"Professionals who can't afford to shut down  but know they can't keep going like this."}),b.jsx("p",{className:"text-black/60 leading-relaxed",children:"Attorneys, executives, founders, medical professionals, and high-functioning parentspeople who carry real responsibility and need regulation tools that fit their reality, not a retreat schedule."})]}),b.jsx("div",{className:"lg:col-span-5",children:b.jsx(un,{path:"/images/audience-professionals.jpg",alt:"Professionals at work",aspect:"4/5",className:"w-full"})})]}),b.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-px bg-black/10",children:RA.map(({title:s,desc:a},c)=>b.jsxs("div",{className:"bg-white p-8 md:p-10 group hover:bg-black transition-colors duration-300",children:[b.jsx("span",{className:"text-[10px] font-medium tracking-widest text-black/40 group-hover:text-white/60",children:String(c+1).padStart(2,"0")}),b.jsx("p",{className:"text-sm font-medium text-black group-hover:text-white mt-4 transition-colors",children:s}),b.jsx("p",{className:"text-sm text-black/60 group-hover:text-white/80 mt-2 leading-relaxed transition-colors",children:a})]},s))})]})}),b.jsx("section",{className:"py-20 md:py-28 px-6",children:b.jsxs("div",{className:"max-w-4xl mx-auto",children:[b.jsx("h2",{className:"text-xs font-medium tracking-widest uppercase text-black/60 mb-4",children:"What people say"}),b.jsx("p",{className:"text-lg text-black/70 mb-12",children:"Professionals who've done the work."}),b.jsx("div",{className:"space-y-16 md:space-y-20",children:DA.map(({quote:s,attribution:a,image:c})=>b.jsxs("div",{className:"flex flex-col md:flex-row gap-8 md:gap-12 items-start",children:[b.jsx("div",{className:"shrink-0 w-20 h-20 md:w-24 md:h-24 overflow-hidden rounded-full",children:b.jsx(un,{path:`/images/${c}`,alt:a,aspect:"1/1",className:"w-full h-full"})}),b.jsxs("blockquote",{className:"flex-1 border-l-2 border-black pl-8 md:pl-12",children:[b.jsxs("p",{className:"font-serif text-2xl md:text-3xl font-normal text-black leading-relaxed italic",children:["",s,""]}),b.jsxs("cite",{className:"mt-4 block text-sm text-black/60 not-italic",children:[" ",a]})]})]},a))})]})}),b.jsx("section",{className:"py-20 md:py-28 px-6 bg-macadam-offwhite",children:b.jsxs("div",{className:"max-w-6xl mx-auto",children:[b.jsx("h2",{className:"text-xs font-medium tracking-widest uppercase text-black/60 mb-4",children:"Articles & Insights"}),b.jsx("p",{className:"text-2xl font-serif font-normal text-black mb-4",children:"Ideas and frameworks for regulated leadership."}),b.jsx("p",{className:"text-black/60 mb-12 max-w-2xl",children:"Short reads on nervous system regulation, applied to real-world pressure: boardrooms, courtrooms, operating rooms, and everywhere in between."}),n?b.jsx("div",{className:"grid md:grid-cols-3 gap-8 md:gap-12",children:[1,2,3].map(s=>b.jsxs("div",{className:"bg-white p-6 md:p-8 border border-black/5 animate-pulse",children:[b.jsx("div",{className:"h-4 w-16 bg-black/10 rounded"}),b.jsx("div",{className:"h-6 mt-4 w-3/4 bg-black/10 rounded"}),b.jsx("div",{className:"h-4 mt-2 w-full bg-black/10 rounded"}),b.jsx("div",{className:"h-4 mt-2 w-2/3 bg-black/10 rounded"})]},s))}):t.length===0?b.jsx("p",{className:"text-black/60",children:"New articles coming soon."}):b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"grid md:grid-cols-3 gap-8 md:gap-12",children:t.map(s=>b.jsxs(Ee,{to:`/articles/${s._id}`,className:"group block bg-white p-6 md:p-8 hover:shadow-lg transition-all duration-300 border border-transparent hover:border-black/10",children:[s.thumbnail?b.jsx("div",{className:"aspect-video rounded overflow-hidden mb-4 -mx-6 -mt-6 md:-mx-8 md:-mt-8",children:b.jsx("img",{src:s.thumbnail,alt:"",className:"w-full h-full object-cover group-hover:scale-[1.02] transition-transform duration-300"})}):b.jsx("span",{className:"text-xs font-medium tracking-widest text-black/40",children:"Read"}),b.jsx("p",{className:"text-black font-medium mt-4 group-hover:underline decoration-black/30",children:s.title}),b.jsx("p",{className:"mt-2 text-sm text-black/60 line-clamp-2",children:s.shortDescription||s.excerpt||""}),b.jsx("span",{className:"mt-6 inline-block text-xs font-medium tracking-widest uppercase text-black/50 group-hover:text-black transition-colors",children:"Read More "})]},s._id))}),b.jsx("div",{className:"mt-12",children:b.jsx(Ee,{to:"/articles",className:"inline-block text-sm font-medium tracking-widest uppercase text-black/60 hover:text-black transition-colors",children:"View all articles "})})]})]})}),b.jsx("section",{className:"py-20 md:py-28 px-6",children:b.jsxs("div",{className:"max-w-6xl mx-auto",children:[b.jsx("h2",{className:"text-xs font-medium tracking-widest uppercase text-black/60 mb-4",children:"Courses & Programs"}),b.jsx("p",{className:"text-2xl font-serif font-normal text-black mb-4",children:"Learn at your pace. Apply immediately."}),b.jsx("p",{className:"text-black/60 mb-12 max-w-2xl",children:"Self-paced courses and one-on-one work. No multi-week commitments requiredget what you need and use it."}),b.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:jA.map(({title:s,desc:a,price:c,status:u,href:d})=>b.jsxs(Ee,{to:d,className:"group block p-8 border border-black/10 hover:border-black transition-colors duration-300",children:[c&&b.jsx("span",{className:"text-xs font-medium tracking-widest text-black/50",children:c}),u&&b.jsx("span",{className:"text-xs font-medium tracking-widest text-black/40",children:u}),b.jsx("p",{className:"text-xl font-medium text-black mt-4 group-hover:underline",children:s}),b.jsx("p",{className:"mt-2 text-sm text-black/60",children:a}),b.jsx("span",{className:"mt-6 inline-block text-xs font-medium tracking-widest uppercase text-black/50 group-hover:text-black transition-colors",children:u?"Notify me":"Learn more "})]},s))})]})}),b.jsxs("section",{className:"py-24 md:py-32 px-6 bg-black text-white relative overflow-hidden",children:[b.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 rounded-full border border-white/5 -translate-y-1/2 translate-x-1/2"}),b.jsx("div",{className:"absolute bottom-0 left-0 w-64 h-64 rounded-full border border-white/5 translate-y-1/2 -translate-x-1/2"}),b.jsx("div",{className:"relative max-w-6xl mx-auto",children:b.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 lg:gap-20 items-center",children:[b.jsxs("div",{children:[b.jsx("p",{className:"text-xs font-medium tracking-[0.3em] uppercase text-white/50 mb-4",children:"The MacAdam Method  Self-paced  One-time"}),b.jsx("h2",{className:"font-serif text-4xl md:text-5xl font-normal",children:"Regulation Reset"}),b.jsx("p",{className:"mt-6 text-white/80 text-lg leading-relaxed",children:"A guided nervous system reset built on The MacAdam Method. One sitting or spread over time. Use it whenever you need to come back to baseline."}),b.jsx("ul",{className:"mt-8 space-y-3 text-white/80",children:LA.map(s=>b.jsxs("li",{className:"flex items-center gap-3",children:[b.jsx("span",{className:"w-1 h-1 rounded-full bg-white/60 shrink-0"}),s]},s))}),b.jsxs("div",{className:"mt-8 flex flex-wrap gap-6 text-sm text-white/70",children:[b.jsx("span",{children:"~45 min"}),b.jsx("span",{children:"Lifetime access"}),b.jsx("span",{children:"$199"})]}),b.jsx(Ee,{to:"/regulation-reset",className:"inline-block mt-12 px-10 py-4 border border-white text-white text-sm font-medium tracking-widest uppercase hover:bg-white hover:text-black transition-all duration-300",children:"Start Regulation Reset"})]}),b.jsx("div",{children:b.jsx(un,{path:"/images/regulation-reset-session.jpg",alt:"Regulation Reset session",aspect:"4/5",className:"w-full border-white/20"})})]})})]}),b.jsx("section",{className:"py-24 md:py-32 px-6",children:b.jsx("div",{className:"max-w-6xl mx-auto",children:b.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 lg:gap-20 items-center",children:[b.jsx("div",{className:"order-2 lg:order-1",children:b.jsx(un,{path:"/images/private-session.jpg",alt:"Private regulation session",aspect:"4/5",className:"w-full"})}),b.jsxs("div",{className:"order-1 lg:order-2",children:[b.jsx("p",{className:"text-xs font-medium tracking-[0.3em] uppercase text-black/50 mb-4",children:"One-on-one"}),b.jsx("h2",{className:"font-serif text-4xl md:text-5xl font-normal text-black",children:"Private Regulation Sessions"}),b.jsx("p",{className:"mt-6 text-black/70 text-lg leading-relaxed",children:"Not therapy. Strategic nervous system regulation for high-pressure professionals navigating transitions, relationship strain, or sustained overload."}),b.jsx("p",{className:"mt-4 text-black/60",children:"Customized to your context. Sessions are 6090 minutes. In-person or virtual."}),b.jsx("p",{className:"mt-2 text-sm text-black/50",children:"Starting at $500+  Request a session"}),b.jsx(Ee,{to:"/private-work",className:"inline-block mt-10 px-8 py-4 border border-black text-black text-sm font-medium tracking-widest uppercase hover:bg-black hover:text-white transition-colors duration-300",children:"Request Session"})]})]})})}),b.jsx("section",{className:"py-24 md:py-32 px-6 bg-macadam-offwhite",children:b.jsx("div",{className:"max-w-6xl mx-auto",children:b.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 lg:gap-20 items-center",children:[b.jsxs("div",{children:[b.jsx("p",{className:"text-xs font-medium tracking-[0.3em] uppercase text-black/50 mb-4",children:"Organizations"}),b.jsx("h2",{className:"font-serif text-4xl md:text-5xl font-normal text-black",children:"For Law Firms & Organizations"}),b.jsx("p",{className:"mt-6 text-black/70 text-lg leading-relaxed",children:"We partner with professional organizations to deliver regulation-based training that stabilizes performance and reduces burnout."}),b.jsx("ul",{className:"mt-8 space-y-3 text-black/70",children:_A.map(s=>b.jsxs("li",{className:"flex items-center gap-3",children:[b.jsx("span",{className:"w-1 h-1 rounded-full bg-black/40 shrink-0"}),s]},s))}),b.jsx("p",{className:"mt-6 text-sm text-black/60",children:"CLE-compliant education options available for legal professionals."}),b.jsx(Ee,{to:"/for-law-firms",className:"inline-block mt-10 px-8 py-4 bg-black text-white text-sm font-medium tracking-widest uppercase hover:bg-black/90 transition-colors",children:"Contact for Partnership"})]}),b.jsx("div",{children:b.jsx(un,{path:"/images/law-firm-workshop.jpg",alt:"Regulation workshop for law firms",aspect:"4/5",className:"w-full"})})]})})}),b.jsx("section",{className:"py-24 md:py-32 px-6",children:b.jsx("div",{className:"max-w-6xl mx-auto",children:b.jsxs("div",{className:"grid lg:grid-cols-12 gap-12 lg:gap-20 items-start",children:[b.jsxs("div",{className:"lg:col-span-5",children:[b.jsx(un,{path:"/images/patricia-portrait.jpg",alt:"Patricia MacAdam",aspect:"4/5",className:"w-full"}),b.jsx("div",{className:"mt-6",children:b.jsx(un,{path:"/images/patricia-working.jpg",alt:"Patricia at work",aspect:"16/9",className:"w-full"})})]}),b.jsxs("div",{className:"lg:col-span-7",children:[b.jsx("p",{className:"text-xs font-medium tracking-[0.3em] uppercase text-black/50 mb-4",children:"Founder"}),b.jsx("h2",{className:"font-serif text-4xl md:text-5xl font-normal text-black",children:"Patricia MacAdam"}),b.jsx("p",{className:"mt-6 text-black/70 text-lg leading-relaxed",children:"Regulation-focused consultant and clinician with advanced training in mental health, program evaluation, and applied nervous system work."}),b.jsx("p",{className:"mt-4 text-black/70 leading-relaxed",children:"She teaches integration, not theory. Her work blends clinical expertise, lived experience, and practical frameworks designed for people who carry real responsibility."}),b.jsx("p",{className:"mt-4 text-black/60",children:"Years of work with attorneys, executives, founders, and professionals under sustained pressure."}),b.jsx(Ee,{to:"/about",className:"inline-block mt-10 px-8 py-4 border border-black text-black text-sm font-medium tracking-widest uppercase hover:bg-black hover:text-white transition-colors",children:"About Patricia"})]})]})})}),b.jsxs("section",{className:"py-28 md:py-36 px-6 bg-black text-white text-center relative overflow-hidden",children:[b.jsx("div",{className:"absolute inset-0 opacity-[0.03]",style:{backgroundImage:"linear-gradient(to right, #fff 1px, transparent 1px), linear-gradient(to bottom, #fff 1px, transparent 1px)",backgroundSize:"60px 60px"}}),b.jsxs("div",{className:"relative",children:[b.jsxs("h2",{className:"font-serif text-4xl md:text-5xl lg:text-6xl font-normal leading-tight max-w-2xl mx-auto",children:["You don't need fixing.",b.jsx("br",{}),"You need regulation."]}),b.jsx("p",{className:"mt-6 text-white/60 max-w-md mx-auto",children:"Stop pushing through. Start regulating."}),b.jsxs("div",{className:"mt-12 flex flex-col sm:flex-row gap-4 justify-center",children:[b.jsx(Ee,{to:"/regulation-reset",className:"inline-block px-8 py-4 bg-white text-black text-sm font-medium tracking-widest uppercase hover:bg-white/90 transition-colors",children:"Start Regulation Reset"}),b.jsx(Ee,{to:"/private-work",className:"inline-block px-8 py-4 border border-white text-white text-sm font-medium tracking-widest uppercase hover:bg-white hover:text-black transition-colors",children:"Book Private Session"})]})]})]})]})}function HA(){const t=["Guided regulation session (video)","Practical framework","Repeatable reset tool","Downloadable PDF"],e=["Purchase ","Email confirmation ","Gated page ","Watch ","Apply repeatedly"],n=[{q:"Who is this for?",a:"Professionals under sustained pressureattorneys, executives, founders, medical professionalswho need a practical reset tool they can use on their own schedule."},{q:"How long does it take?",a:"The core session runs ~45 minutes. You can do it in one sitting or break it up. Lifetime access means you return to it whenever you need."},{q:"What will I learn?",a:"A clear framework for understanding your nervous system state and a repeatable reset process you can use before high-stakes moments, after overload, or as a regular practice."}],i=["The MacAdam Method was developed through years of direct clinical work, graduate-level training, and real-world application with families, professionals, and high-functioning adults under sustained stress.","While working in schools, family systems, and professional settings, I repeatedly observed the same pattern: capable, intelligent people weren't failing because they lacked insight or motivationthey were operating from chronically dysregulated nervous systems.","Traditional approaches focused on coping, insight, or performance optimization. What was missing was regulationthe ability to stabilize the nervous system before stress spilled into relationships, decision-making, health, and identity.","The MacAdam Method emerged from that gap. It is a field-developed regulation framework designed to help high-functioning adults restore internal stability, reduce emotional fallout, and regain clarity under pressure.","This method is not theory alone. It reflects lived integration, pattern recognition, and applied nervous system recalibrationbuilt in real environments where the cost of burnout, emotional reactivity, and collapse is high.","Regulation is not weakness. It is the foundation of sustainable leadership."];return b.jsx("div",{className:"pt-24 md:pt-32 pb-24 px-6",children:b.jsxs("div",{className:"max-w-4xl mx-auto",children:[b.jsxs("div",{className:"mb-20 pb-20 border-b border-black/10",children:[b.jsx("p",{className:"text-xs font-medium tracking-widest uppercase text-black/50 mb-6",children:"The MacAdam Method"}),b.jsx("div",{className:"space-y-6 text-black/80 leading-relaxed",children:i.map((s,a)=>b.jsx("p",{className:a===i.length-1?"font-medium text-black":"",children:s},a))})]}),b.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 lg:gap-20 items-start",children:[b.jsxs("div",{children:[b.jsx("h1",{className:"font-serif text-4xl md:text-5xl font-normal text-black mb-6",children:"Regulation Reset"}),b.jsx("p",{className:"text-lg text-black/70 leading-relaxed mb-8",children:"A guided nervous system reset designed for professionals under sustained pressurebuilt on The MacAdam Method."}),b.jsx("p",{className:"text-black/60 leading-relaxed mb-12",children:"Not another meditation app. A practical, one-time session that gives you the framework and tool you can use again and againbefore board meetings, after difficult conversations, or whenever you need to come back to baseline."}),b.jsxs("section",{className:"mb-12",children:[b.jsx("h2",{className:"text-xs font-medium tracking-widest uppercase text-black/60 mb-4",children:"Includes"}),b.jsx("ul",{className:"space-y-3",children:t.map(s=>b.jsxs("li",{className:"text-black/80 flex items-start gap-3",children:[b.jsx("span",{className:"w-1 h-1 rounded-full bg-black/60 shrink-0 mt-2"}),s]},s))})]}),b.jsxs("section",{className:"mb-12",children:[b.jsx("h2",{className:"text-xs font-medium tracking-widest uppercase text-black/60 mb-4",children:"How it works"}),b.jsx("p",{className:"text-black/80 mb-4",children:"Simple flow:"}),b.jsx("p",{className:"text-black/70",children:e.join(" ")}),b.jsx("p",{className:"text-sm text-black/60 mt-4",children:"Secure checkout via Stripe. Instant access via email."})]}),b.jsxs("section",{className:"py-8 border-t border-b border-black/10",children:[b.jsx("p",{className:"text-3xl font-medium text-black",children:"$199"}),b.jsx("p",{className:"text-black/60 mt-1",children:"One-time purchase  Lifetime access"}),b.jsx("a",{href:"#",className:"inline-block mt-6 px-8 py-4 bg-black text-white text-sm font-medium tracking-widest uppercase hover:bg-black/90 transition-colors",children:"Start Regulation Reset"}),b.jsx("p",{className:"text-sm text-black/50 mt-4",children:"Email capture required. Stripe checkout."})]})]}),b.jsxs("div",{className:"space-y-8",children:[b.jsx(un,{path:"/images/regulation-reset-detail.jpg",alt:"Regulation Reset session",aspect:"4/5",className:"w-full"}),b.jsxs("div",{className:"space-y-6",children:[b.jsx("h2",{className:"text-xs font-medium tracking-widest uppercase text-black/60",children:"FAQ"}),n.map(({q:s,a})=>b.jsxs("div",{className:"border-b border-black/10 pb-6 last:border-0",children:[b.jsx("p",{className:"font-medium text-black",children:s}),b.jsx("p",{className:"mt-2 text-sm text-black/70 leading-relaxed",children:a})]},s))]})]})]}),b.jsx(Ee,{to:"/courses",className:"inline-block mt-16 text-sm font-medium tracking-wide text-black/60 hover:text-black",children:" View all courses"})]})})}const UA=[{title:"Regulation Reset",desc:"A guided nervous system reset designed for professionals under sustained pressure.",details:"Video-based session (~45 min), practical framework, repeatable reset tool, downloadable PDF. One-time purchase, lifetime access. Perfect for busy professionals who need a standalone resource.",price:"$199",image:"regulation-reset-detail.jpg",href:"/regulation-reset",available:!0},{title:"Mini Courses",desc:"Focused skill-building modules for busy professionals.",details:"2040 minute deep dives on specific regulation skills: managing activation before high-stakes moments, building a sustainable reset practice, integrating regulation into your leadership style. Bite-sized, practical, no fluff.",image:"course-mini-courses.jpg",href:"/courses",available:!1}];function qA(){return b.jsx("div",{className:"pt-24 md:pt-32 pb-24 px-6",children:b.jsxs("div",{className:"max-w-4xl mx-auto",children:[b.jsx("h1",{className:"font-serif text-4xl md:text-5xl font-normal text-black mb-6",children:"Courses & Programs"}),b.jsx("p",{className:"text-lg text-black/70 leading-relaxed mb-8 max-w-2xl",children:"Self-paced learning for professionals who can't commit to multi-week programs. Get what you need and use it."}),b.jsxs("div",{className:"mb-16 py-8 border-y border-black/10",children:[b.jsx("p",{className:"text-xs font-medium tracking-widest uppercase text-black/50 mb-4",children:"The MacAdam Method"}),b.jsx("p",{className:"text-black/80 leading-relaxed mb-4",children:"All courses are built on The MacAdam Methoda field-developed regulation framework designed to help high-functioning adults restore internal stability, reduce emotional fallout, and regain clarity under pressure."}),b.jsx("p",{className:"text-black/70 text-sm leading-relaxed",children:"Not theory alone. Lived integration, pattern recognition, and applied nervous system recalibrationbuilt in real environments where the cost of burnout and emotional reactivity is high."})]}),b.jsx("div",{className:"space-y-16",children:UA.map(({title:t,desc:e,details:n,price:i,image:s,href:a,available:c})=>b.jsxs("div",{className:"grid lg:grid-cols-12 gap-8 lg:gap-12 items-start border-b border-black/10 pb-16 last:border-0 last:pb-0",children:[b.jsx("div",{className:"lg:col-span-5",children:b.jsx(un,{path:`/images/${s}`,alt:t,aspect:"4/5",className:"w-full"})}),b.jsxs("div",{className:"lg:col-span-7",children:[i&&b.jsx("span",{className:"text-xs font-medium tracking-widest uppercase text-black/50",children:i}),!c&&b.jsx("span",{className:"text-xs font-medium tracking-widest uppercase text-black/40 ml-4",children:"Coming Soon"}),b.jsx("h2",{className:"text-2xl font-medium text-black mt-4",children:t}),b.jsx("p",{className:"text-black/70 mt-2",children:e}),b.jsx("p",{className:"text-black/60 mt-4 leading-relaxed text-sm",children:n}),c?b.jsx(Ee,{to:a,className:"inline-block mt-6 text-sm font-medium tracking-wide text-black hover:underline",children:"Learn more "}):b.jsx("span",{className:"inline-block mt-6 text-sm text-black/50",children:"Notify me when available"})]})]},t))}),b.jsxs("div",{className:"mt-20 p-8 bg-black/5 border border-black/10",children:[b.jsx("h2",{className:"text-xs font-medium tracking-widest uppercase text-black/60 mb-4",children:"Private Sessions"}),b.jsx("p",{className:"text-black/80 leading-relaxed",children:"Prefer one-on-one work? Private regulation sessions are customized to your contexttransitions, relationship strain, sustained overload. Starting at $500+."}),b.jsx(Ee,{to:"/private-work",className:"inline-block mt-6 text-sm font-medium tracking-wide text-black hover:underline",children:"Request a session "})]})]})})}function IA(){const[t,e]=A.useState(""),[n,i]=A.useState(""),[s,a]=A.useState(""),c=h=>{h.preventDefault()},u=["6090 minute sessions, in-person or virtual","Customized to your context: transitions, relationship strain, sustained overload","Practical frameworks you can apply immediately","Not therapystrategic nervous system regulation"],d=["Executives navigating board pressure or stakeholder conflicts","Attorneys in high-stakes litigation or partnership transitions","Founders managing investor relations or team dynamics","Professionals in major life transitions","Anyone who needs regulation work that fits a demanding schedule"];return b.jsx("div",{className:"pt-24 md:pt-32 pb-24 px-6",children:b.jsx("div",{className:"max-w-4xl mx-auto",children:b.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 lg:gap-20 items-start",children:[b.jsxs("div",{children:[b.jsx("h1",{className:"font-serif text-4xl md:text-5xl font-normal text-black mb-6",children:"Private Regulation Sessions"}),b.jsx("p",{className:"text-lg text-black/70 leading-relaxed mb-6",children:"One-on-one regulation work for professionals navigating high-pressure roles, relationship strain, or major transitions."}),b.jsx("p",{className:"text-black/60 leading-relaxed mb-8",children:"These sessions are tailored to your specific context. Whether you're in the middle of a leadership transition, managing relationship strain at work or home, or simply carrying sustained overload without a clear off-rampwe work with where you are."}),b.jsxs("div",{className:"mb-12 py-6 border-y border-black/20",children:[b.jsx("p",{className:"text-black font-medium",children:"This is not therapy."}),b.jsx("p",{className:"text-black font-medium mt-1",children:"This is strategic nervous system regulation."})]}),b.jsxs("section",{className:"mb-12",children:[b.jsx("h2",{className:"text-xs font-medium tracking-widest uppercase text-black/60 mb-4",children:"What to expect"}),b.jsx("ul",{className:"space-y-3",children:u.map(h=>b.jsxs("li",{className:"text-black/80 flex items-start gap-3",children:[b.jsx("span",{className:"w-1 h-1 rounded-full bg-black/60 shrink-0 mt-2"}),h]},h))})]}),b.jsxs("section",{className:"mb-12",children:[b.jsx("h2",{className:"text-xs font-medium tracking-widest uppercase text-black/60 mb-4",children:"Who it's for"}),b.jsx("ul",{className:"space-y-2",children:d.map(h=>b.jsxs("li",{className:"text-black/70 text-sm",children:[" ",h]},h))})]}),b.jsx("p",{className:"text-black/70 mb-10",children:"Starting at $500+  Pricing discussed after initial request"}),b.jsxs("form",{onSubmit:c,className:"space-y-6",children:[b.jsxs("div",{children:[b.jsx("label",{htmlFor:"name",className:"block text-xs font-medium tracking-widest uppercase text-black/60 mb-2",children:"Name"}),b.jsx("input",{id:"name",type:"text",value:t,onChange:h=>e(h.target.value),required:!0,className:"w-full px-0 py-3 border-0 border-b border-black/20 bg-transparent focus:outline-none focus:border-black",placeholder:"Your name"})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"email",className:"block text-xs font-medium tracking-widest uppercase text-black/60 mb-2",children:"Email"}),b.jsx("input",{id:"email",type:"email",value:n,onChange:h=>i(h.target.value),required:!0,className:"w-full px-0 py-3 border-0 border-b border-black/20 bg-transparent focus:outline-none focus:border-black",placeholder:"your@email.com"})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"description",className:"block text-xs font-medium tracking-widest uppercase text-black/60 mb-2",children:"Brief description"}),b.jsx("textarea",{id:"description",value:s,onChange:h=>a(h.target.value),rows:4,className:"w-full px-0 py-3 border-0 border-b border-black/20 bg-transparent focus:outline-none focus:border-black resize-none",placeholder:"Tell us a bit about what you're looking foryour role, what you're navigating, what you hope to gain."})]}),b.jsx("button",{type:"submit",className:"px-8 py-4 bg-black text-white text-sm font-medium tracking-widest uppercase hover:bg-black/90 transition-colors",children:"Request Private Session"})]})]}),b.jsx("div",{children:b.jsx(un,{path:"/images/private-session-detail.jpg",alt:"Private regulation session",aspect:"4/5",className:"w-full"})})]})})})}const VA=[{title:"Regulation workshops",desc:"Half-day or full-day sessions for teams. Practical tools for managing pressure, building sustainable performance, and reducing burnout at the organizational level."},{title:"Burnout prevention programs",desc:"Multi-session programs that address the systemic and individual factors in burnout. Designed for high-pressure environments where turnover and exhaustion are real concerns."},{title:"Leadership stabilization sessions",desc:"Regulation-focused support for leaders under sustained pressure. Customized to your leadership team's contexttransitions, mergers, rapid growth, or organizational crisis."},{title:"CLE-compliant education",desc:"Regulation training that meets continuing legal education requirements. Relevant for attorneys managing stress, ethical decision-making under pressure, and professional sustainability."}];function PA(){return b.jsx("div",{className:"pt-24 md:pt-32 pb-24 px-6",children:b.jsx("div",{className:"max-w-4xl mx-auto",children:b.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 lg:gap-20 items-start",children:[b.jsxs("div",{children:[b.jsx("h1",{className:"font-serif text-4xl md:text-5xl font-normal text-black mb-6",children:"For Law Firms & Organizations"}),b.jsx("p",{className:"text-lg text-black/70 leading-relaxed mb-8",children:"We partner with professional organizations to deliver regulation-based training that stabilizes performance and reduces burnout."}),b.jsx("p",{className:"text-black/60 leading-relaxed mb-12",children:"High-pressure environmentslaw firms, medical practices, financial services, startupscreate sustained activation that leads to burnout, turnover, and diminished performance. We deliver practical regulation training that fits your context and your people."}),b.jsxs("section",{className:"mb-12",children:[b.jsx("h2",{className:"text-xs font-medium tracking-widest uppercase text-black/60 mb-6",children:"Offerings"}),b.jsx("ul",{className:"space-y-8",children:VA.map(({title:t,desc:e})=>b.jsxs("li",{children:[b.jsx("p",{className:"font-medium text-black",children:t}),b.jsx("p",{className:"mt-2 text-sm text-black/70 leading-relaxed",children:e})]},t))})]}),b.jsx("p",{className:"text-sm text-black/60 mb-8",children:"Programs can be tailored to team size, format (in-person or virtual), and specific outcomes. CLE credit available for legal professionals."}),b.jsx(Ee,{to:"/contact",className:"inline-block px-8 py-4 bg-black text-white text-sm font-medium tracking-widest uppercase hover:bg-black/90 transition-colors",children:"Contact for Partnership"})]}),b.jsxs("div",{className:"space-y-8",children:[b.jsx(un,{path:"/images/law-firm-workshop-detail.jpg",alt:"Regulation workshop",aspect:"4/5",className:"w-full"}),b.jsxs("div",{className:"p-6 bg-black/5 border border-black/10",children:[b.jsx("h2",{className:"text-xs font-medium tracking-widest uppercase text-black/60 mb-4",children:"Typical partners"}),b.jsx("p",{className:"text-black/70 text-sm leading-relaxed",children:"Law firms (partnerships, practice groups, firm-wide), medical groups, executive teams, financial services firms, and mission-driven organizations with high-stakes work."})]})]})]})})})}function $A(){return b.jsx("div",{className:"pt-24 md:pt-32 pb-24 px-6",children:b.jsx("div",{className:"max-w-4xl mx-auto",children:b.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 lg:gap-20 items-start",children:[b.jsx("div",{children:b.jsx(un,{path:"/images/patricia-about.jpg",alt:"Patricia MacAdam",aspect:"4/5",className:"w-full"})}),b.jsxs("div",{children:[b.jsx("h1",{className:"font-serif text-4xl md:text-5xl font-normal text-black mb-8",children:"About Patricia MacAdam"}),b.jsx("p",{className:"text-xs font-medium tracking-widest uppercase text-black/50 mb-6",children:"The MacAdam Method"}),b.jsxs("div",{className:"space-y-6 text-black/80 leading-relaxed",children:[b.jsx("p",{children:"The MacAdam Method was developed through years of direct clinical work, graduate-level training, and real-world leadership in mental health settings."}),b.jsx("p",{children:"As a co-founder and operator of a mental health clinic, I work alongside licensed clinicians, including LCSWs, supporting clinical delivery, overseeing systems, and observing patient outcomes across a wide range of presenting concerns. This role places me at the intersection of clinical theory, applied practice, and operational reality."}),b.jsx("p",{children:"Through this work  in clinics, schools, and professional environments  I repeatedly observed the same pattern: high-functioning adults were not breaking down due to lack of insight, intelligence, or motivation. They were operating from chronically dysregulated nervous systems."}),b.jsx("p",{children:"Traditional approaches often focused on coping strategies, insight, or performance optimization. What was consistently missing was regulation  the ability to stabilize the nervous system before stress spilled into relationships, decision-making, health, and professional functioning."}),b.jsx("p",{children:"The MacAdam Method emerged from this gap. It is a field-developed regulation framework informed by clinical collaboration, systems-level observation, and lived integration. The method reflects patterns seen not only in individual work, but across populations  where nervous system overload, emotional fallout, and burnout follow predictable trajectories when regulation is absent."}),b.jsx("p",{children:"This work is not theoretical. It is grounded in clinical environments where outcomes matter, ethical boundaries are maintained, and the cost of dysregulation is tangible."}),b.jsxs("p",{className:"font-medium text-black",children:["Regulation is not weakness.",b.jsx("br",{}),"It is the foundation of sustainable leadership."]})]})]})]})})})}function FA(){const[t,e]=A.useState(""),[n,i]=A.useState(""),[s,a]=A.useState(""),c=u=>{u.preventDefault()};return b.jsx("div",{className:"pt-24 md:pt-32 pb-24 px-6",children:b.jsx("div",{className:"max-w-4xl mx-auto",children:b.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 lg:gap-20 items-start",children:[b.jsxs("div",{children:[b.jsx("h1",{className:"font-serif text-4xl md:text-5xl font-normal text-black mb-6",children:"Contact"}),b.jsx("p",{className:"text-lg text-black/70 leading-relaxed mb-6",children:"General inquiries, partnership discussions, or questions about Regulation Reset and private sessions."}),b.jsxs("p",{className:"text-black/60 text-sm leading-relaxed mb-8",children:["For private session requests, use the ",b.jsx(Ee,{to:"/private-work",className:"text-black underline hover:no-underline",children:"Private Work"})," page. For law firm or organizational partnerships, use the ",b.jsx(Ee,{to:"/for-law-firms",className:"text-black underline hover:no-underline",children:"For Law Firms"})," page."]}),b.jsx("p",{className:"text-sm text-black/50",children:"Response typically within 12 business days."})]}),b.jsxs("form",{onSubmit:c,className:"space-y-6",children:[b.jsxs("div",{children:[b.jsx("label",{htmlFor:"name",className:"block text-xs font-medium tracking-widest uppercase text-black/60 mb-2",children:"Name"}),b.jsx("input",{id:"name",type:"text",value:t,onChange:u=>e(u.target.value),required:!0,className:"w-full px-0 py-3 border-0 border-b border-black/20 bg-transparent focus:outline-none focus:border-black",placeholder:"Your name"})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"email",className:"block text-xs font-medium tracking-widest uppercase text-black/60 mb-2",children:"Email"}),b.jsx("input",{id:"email",type:"email",value:n,onChange:u=>i(u.target.value),required:!0,className:"w-full px-0 py-3 border-0 border-b border-black/20 bg-transparent focus:outline-none focus:border-black",placeholder:"your@email.com"})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"message",className:"block text-xs font-medium tracking-widest uppercase text-black/60 mb-2",children:"Message"}),b.jsx("textarea",{id:"message",value:s,onChange:u=>a(u.target.value),rows:5,required:!0,className:"w-full px-0 py-3 border-0 border-b border-black/20 bg-transparent focus:outline-none focus:border-black resize-none",placeholder:"What's on your mind?"})]}),b.jsx("button",{type:"submit",className:"px-8 py-4 bg-black text-white text-sm font-medium tracking-widest uppercase hover:bg-black/90 transition-colors",children:"Send"})]})]})})})}function KA(){const[t,e]=A.useState([]),[n,i]=A.useState({page:1,limit:12,total:0,totalPages:1}),[s,a]=A.useState(!0),c=(d=1)=>{a(!0),Fa.get(`/articles?limit=12&page=${d}`).then(({data:h})=>{e(h.articles),i(h.pagination)}).catch(()=>e([])).finally(()=>a(!1))};A.useEffect(()=>{c(1)},[]);const u=d=>new Date(d).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"});return b.jsxs("div",{className:"pt-14 md:pt-16 pb-24 md:pb-32",children:[b.jsx("section",{className:"py-16 md:py-24 px-6",children:b.jsxs("div",{className:"max-w-6xl mx-auto",children:[b.jsx("h1",{className:"text-xs font-medium tracking-widest uppercase text-black/60 mb-4",children:"Articles & Insights"}),b.jsx("p",{className:"text-2xl md:text-3xl font-serif font-normal text-black mb-4",children:"Ideas and frameworks for regulated leadership."}),b.jsx("p",{className:"text-black/60 max-w-2xl",children:"Short reads on nervous system regulation, applied to real-world pressure: boardrooms, courtrooms, operating rooms, and everywhere in between."})]})}),b.jsx("section",{className:"px-6 pb-16 md:pb-24",children:b.jsx("div",{className:"max-w-6xl mx-auto",children:s?b.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8 md:gap-12",children:[1,2,3,4,5,6].map(d=>b.jsxs("div",{className:"bg-white p-6 md:p-8 border border-black/5 animate-pulse",children:[b.jsx("div",{className:"aspect-video bg-black/10 rounded mb-4"}),b.jsx("div",{className:"h-6 w-3/4 bg-black/10 rounded"}),b.jsx("div",{className:"h-4 mt-2 w-full bg-black/10 rounded"}),b.jsx("div",{className:"h-4 mt-2 w-2/3 bg-black/10 rounded"})]},d))}):t.length===0?b.jsx("p",{className:"text-black/60",children:"No articles yet. Check back soon."}):b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8 md:gap-12",children:t.map(d=>b.jsxs(Ee,{to:`/articles/${d._id}`,className:"group block bg-white p-6 md:p-8 border border-black/5 hover:shadow-lg hover:border-black/10 transition-all duration-300",children:[d.thumbnail?b.jsx("div",{className:"aspect-video rounded overflow-hidden mb-4 -mx-6 -mt-6 md:-mx-8 md:-mt-8",children:b.jsx("img",{src:d.thumbnail,alt:"",className:"w-full h-full object-cover group-hover:scale-[1.02] transition-transform duration-300"})}):b.jsx("div",{className:"aspect-video rounded bg-black/5 mb-4 -mx-6 -mt-6 md:-mx-8 md:-mt-8 flex items-center justify-center",children:b.jsx("span",{className:"text-black/20 text-xs uppercase tracking-widest",children:"Article"})}),b.jsx("p",{className:"text-xs font-medium tracking-widest text-black/40",children:u(d.updatedAt)}),b.jsx("p",{className:"text-black font-medium mt-2 group-hover:underline decoration-black/30",children:d.title}),b.jsx("p",{className:"mt-2 text-sm text-black/60 line-clamp-2",children:d.shortDescription||d.excerpt||""}),b.jsx("span",{className:"mt-6 inline-block text-xs font-medium tracking-widest uppercase text-black/50 group-hover:text-black transition-colors",children:"Read More "})]},d._id))}),n.totalPages>1&&b.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-4 mt-16 pt-8 border-t border-black/10",children:[b.jsx("button",{type:"button",onClick:()=>c(n.page-1),disabled:n.page<=1,className:"px-5 py-2.5 border border-black/20 text-black text-sm disabled:opacity-40 disabled:cursor-not-allowed hover:border-black transition-colors",children:"Previous"}),b.jsxs("span",{className:"text-black/60 text-sm",children:["Page ",n.page," of ",n.totalPages]}),b.jsx("button",{type:"button",onClick:()=>c(n.page+1),disabled:n.page>=n.totalPages,className:"px-5 py-2.5 border border-black/20 text-black text-sm disabled:opacity-40 disabled:cursor-not-allowed hover:border-black transition-colors",children:"Next"})]})]})})})]})}function GA(t){const n=t.replace(/<[^>]*>/g," ").replace(/\s+/g," ").trim().split(/\s+/).filter(Boolean).length;return Math.max(1,Math.ceil(n/200))}function YA(){const{id:t}=g1(),[e,n]=A.useState(null),[i,s]=A.useState(!0),[a,c]=A.useState("");if(A.useEffect(()=>{t&&Fa.get(`/articles/${t}`).then(({data:h})=>n(h)).catch(()=>c("Article not found")).finally(()=>s(!1))},[t]),i)return b.jsx("div",{className:"py-20 px-6",children:b.jsx("div",{className:"max-w-2xl mx-auto",children:b.jsx("p",{className:"text-black/60",children:"Loading"})})});if(a||!e)return b.jsx("div",{className:"py-20 px-6",children:b.jsxs("div",{className:"max-w-2xl mx-auto text-center",children:[b.jsx("p",{className:"text-black/60 mb-4",children:a||"Article not found."}),b.jsx(Ee,{to:"/",className:"text-black font-medium hover:underline",children:" Back to home"})]})});const u=GA(e.content),d=new Date(e.updatedAt).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"});return b.jsx("article",{className:"py-16 md:py-24 px-6",children:b.jsxs("div",{className:"max-w-2xl mx-auto",children:[b.jsx(Ee,{to:"/",className:"text-black/60 hover:text-black text-sm mb-8 inline-block",children:" Back to home"}),e.thumbnail&&b.jsx("div",{className:"aspect-video rounded overflow-hidden mb-8 bg-black/5",children:b.jsx("img",{src:e.thumbnail,alt:"",className:"w-full h-full object-cover"})}),b.jsxs("header",{className:"mb-10",children:[b.jsxs("p",{className:"text-xs font-medium tracking-widest uppercase text-black/50 mb-2",children:[d,"  ",u," min read"]}),b.jsx("h1",{className:"font-serif text-3xl md:text-4xl font-normal text-black leading-tight",children:e.title}),(e.shortDescription||e.excerpt)&&b.jsx("p",{className:"mt-4 text-lg text-black/70 leading-relaxed",children:e.shortDescription||e.excerpt})]}),b.jsx("div",{className:"prose prose-black max-w-none text-black/80 leading-relaxed [&_h2]:text-xl [&_h2]:font-semibold [&_h2]:mt-10 [&_h2]:mb-4 [&_h3]:text-lg [&_h3]:font-medium [&_h3]:mt-8 [&_h3]:mb-3 [&_p]:my-4 [&_ul]:my-4 [&_ul]:pl-6 [&_ol]:my-4 [&_ol]:pl-6 [&_blockquote]:border-l-2 [&_blockquote]:border-black/20 [&_blockquote]:pl-6 [&_blockquote]:italic [&_blockquote]:my-6 [&_a]:text-black [&_a]:underline [&_img]:rounded [&_img]:my-6",dangerouslySetInnerHTML:{__html:e.content}})]})})}const xt=Ze.create({baseURL:"http://localhost:3000/api/admin",timeout:15e3,headers:{"Content-Type":"application/json"},withCredentials:!0});xt.interceptors.response.use(t=>t,t=>(t.response?.status===401&&(window.location.href="/mac-/adam/admin/69846d7f374584e675d7fa28"),Promise.reject(t)));function JA(){const t=es(),[e,n]=A.useState("signup"),[i,s]=A.useState(null),[a,c]=A.useState("");A.useEffect(()=>{fetch("http://localhost:3000/api/admin/signup-allowed").then(V=>V.json()).then(V=>s(V.allowed)).catch(()=>s(!1))},[]);const[u,d]=A.useState(""),[h,m]=A.useState(""),[y,x]=A.useState(""),[v,S]=A.useState(""),[E,k]=A.useState(!1),T=async V=>{V.preventDefault(),S(""),k(!0);try{const{data:z}=await xt.post("/signup",{email:a,password:u});m(z.secretKey),x(""),n("confirm")}catch(z){const P=z&&typeof z=="object"&&"response"in z?z.response:null,L=P?.data?.error??(P?.status===403?"New admin signup is currently disabled.":"Signup failed");S(L)}finally{k(!1)}},M=async V=>{if(V.preventDefault(),S(""),y!==h){S("Secret key does not match. Please copy it exactly.");return}k(!0);try{await xt.post("/confirm-secret",{email:a,secretKey:y}),t("/admin")}catch(z){const P=z&&typeof z=="object"&&"response"in z?z.response?.data?.error:"Confirmation failed";S(P||"Confirmation failed")}finally{k(!1)}},D=()=>{navigator.clipboard.writeText(h)};return e==="confirm"?b.jsx("div",{className:"min-h-screen flex items-center justify-center bg-black px-6 py-12",children:b.jsxs("div",{className:"max-w-md w-full",children:[b.jsx("h1",{className:"font-serif text-2xl text-white mb-2",children:"Save your secret key"}),b.jsx("p",{className:"text-white/70 text-sm mb-6",children:"Copy this key and store it securely. You will need it to complete setup. It cannot be recovered."}),b.jsx("div",{className:"bg-white/5 border border-white/20 p-4 rounded mb-6",children:b.jsx("code",{className:"text-white text-sm break-all select-all",children:h})}),b.jsx("button",{type:"button",onClick:D,className:"w-full py-3 border border-white/40 text-white text-sm font-medium tracking-wide uppercase mb-6 hover:bg-white/10 transition-colors",children:"Copy to clipboard"}),b.jsxs("form",{onSubmit:M,children:[b.jsx("label",{htmlFor:"confirmKey",className:"block text-xs font-medium tracking-widest uppercase text-white/60 mb-2",children:"Paste secret key to confirm you've saved it"}),b.jsx("input",{id:"confirmKey",type:"text",value:y,onChange:V=>x(V.target.value),required:!0,className:"w-full px-4 py-3 bg-transparent border border-white/20 text-white placeholder-white/40 focus:outline-none focus:border-white mb-4",placeholder:"Paste your secret key"}),v&&b.jsx("p",{className:"text-red-400 text-sm mb-4",children:v}),b.jsx("button",{type:"submit",disabled:E,className:"w-full py-4 bg-white text-black text-sm font-medium tracking-widest uppercase hover:bg-white/90 transition-colors disabled:opacity-50",children:E?"Confirming...":"I've saved my secret key  continue"})]})]})}):i===!1?b.jsx("div",{className:"min-h-screen flex items-center justify-center bg-black px-6 py-12",children:b.jsxs("div",{className:"max-w-md w-full text-center",children:[b.jsx("h1",{className:"font-serif text-2xl text-white mb-2",children:"Admin signup"}),b.jsx("p",{className:"text-red-400 mb-6",children:"New admin signup is currently disabled."}),b.jsx(Ee,{to:"/mac-/adam/admin/69846d7f374584e675d7fa28",className:"text-white/80 hover:text-white underline text-sm",children:"Sign in to existing account"})]})}):b.jsx("div",{className:"min-h-screen flex items-center justify-center bg-black px-6 py-12",children:b.jsxs("div",{className:"max-w-md w-full",children:[b.jsx("h1",{className:"font-serif text-2xl text-white mb-2",children:"Admin signup"}),b.jsx("p",{className:"text-white/70 text-sm mb-8",children:"Create an admin account. You will receive a secret key  save it securely."}),b.jsxs("form",{onSubmit:T,className:"space-y-6",children:[b.jsxs("div",{children:[b.jsx("label",{htmlFor:"email",className:"block text-xs font-medium tracking-widest uppercase text-white/60 mb-2",children:"Email"}),b.jsx("input",{id:"email",type:"email",value:a,onChange:V=>c(V.target.value),required:!0,className:"w-full px-4 py-3 bg-transparent border border-white/20 text-white placeholder-white/40 focus:outline-none focus:border-white",placeholder:"admin@example.com"})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"password",className:"block text-xs font-medium tracking-widest uppercase text-white/60 mb-2",children:"Password (min 8 characters)"}),b.jsx("input",{id:"password",type:"password",value:u,onChange:V=>d(V.target.value),required:!0,minLength:8,className:"w-full px-4 py-3 bg-transparent border border-white/20 text-white placeholder-white/40 focus:outline-none focus:border-white",placeholder:""})]}),v&&b.jsx("p",{className:"text-red-400 text-sm",children:v}),b.jsx("button",{type:"submit",disabled:E,className:"w-full py-4 bg-white text-black text-sm font-medium tracking-widest uppercase hover:bg-white/90 transition-colors disabled:opacity-50",children:E?"Creating...":"Create admin account"})]}),b.jsxs("p",{className:"mt-8 text-center text-white/50 text-sm",children:["Already have an account?"," ",b.jsx(Ee,{to:"/mac-/adam/admin/69846d7f374584e675d7fa28",className:"text-white/80 hover:text-white underline",children:"Sign in"})]})]})})}function XA(){const t=es(),[e,n]=A.useState(""),[i,s]=A.useState(""),[a,c]=A.useState(""),[u,d]=A.useState(!1),h=async m=>{m.preventDefault(),c(""),d(!0);try{await xt.post("/login",{email:e,password:i}),t("/admin")}catch(y){const x=y&&typeof y=="object"&&"response"in y?y.response?.data?.error:"Sign in failed";c(x||"Sign in failed")}finally{d(!1)}};return b.jsx("div",{className:"min-h-screen flex items-center justify-center bg-black px-6 py-12",children:b.jsxs("div",{className:"max-w-md w-full",children:[b.jsx("h1",{className:"font-serif text-2xl text-white mb-2",children:"Admin sign in"}),b.jsx("p",{className:"text-white/70 text-sm mb-8",children:"Sign in to access the admin dashboard."}),b.jsxs("form",{onSubmit:h,className:"space-y-6",children:[b.jsxs("div",{children:[b.jsx("label",{htmlFor:"email",className:"block text-xs font-medium tracking-widest uppercase text-white/60 mb-2",children:"Email"}),b.jsx("input",{id:"email",type:"email",value:e,onChange:m=>n(m.target.value),required:!0,className:"w-full px-4 py-3 bg-transparent border border-white/20 text-white placeholder-white/40 focus:outline-none focus:border-white",placeholder:"admin@example.com"})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"password",className:"block text-xs font-medium tracking-widest uppercase text-white/60 mb-2",children:"Password"}),b.jsx("input",{id:"password",type:"password",value:i,onChange:m=>s(m.target.value),required:!0,className:"w-full px-4 py-3 bg-transparent border border-white/20 text-white placeholder-white/40 focus:outline-none focus:border-white",placeholder:""})]}),a&&b.jsx("p",{className:"text-red-400 text-sm",children:a}),b.jsx("button",{type:"submit",disabled:u,className:"w-full py-4 bg-white text-black text-sm font-medium tracking-widest uppercase hover:bg-white/90 transition-colors disabled:opacity-50",children:u?"Signing in...":"Sign in"})]}),b.jsxs("p",{className:"mt-8 text-center text-white/50 text-sm",children:["New admin?"," ",b.jsx(Ee,{to:"/admin/signup",className:"text-white/80 hover:text-white underline",children:"Sign up"})]})]})})}function QA(){return b.jsxs("div",{className:"p-8 md:p-12",children:[b.jsx("h1",{className:"font-serif text-3xl md:text-4xl font-normal text-white mb-4",children:"Dashboard"}),b.jsx("p",{className:"text-white/70",children:"Welcome. You are authenticated."})]})}function WA(){const[t,e]=A.useState(!0),[n,i]=A.useState(!0),[s,a]=A.useState(!1);A.useEffect(()=>{xt.get("/settings").then(({data:u})=>e(u.allowAdminSignup)).catch(()=>{}).finally(()=>i(!1))},[]);const c=async()=>{a(!0);try{const{data:u}=await xt.patch("/settings",{allowAdminSignup:!t});e(u.allowAdminSignup)}catch{}finally{a(!1)}};return n?b.jsx("div",{className:"p-8 md:p-12",children:b.jsx("div",{className:"w-px h-12 bg-white/30 animate-pulse"})}):b.jsxs("div",{className:"p-8 md:p-12",children:[b.jsx("h1",{className:"font-serif text-3xl md:text-4xl font-normal text-white mb-8",children:"Settings"}),b.jsx("div",{className:"max-w-lg",children:b.jsxs("div",{className:"flex items-center justify-between py-4 border-b border-white/10",children:[b.jsxs("div",{children:[b.jsx("p",{className:"text-white font-medium",children:"Allow new admin signup"}),b.jsx("p",{className:"text-white/50 text-sm mt-1",children:"When off, the admin signup page will show an error."})]}),b.jsx("button",{type:"button",onClick:c,disabled:s,className:`relative w-12 h-7 rounded-full transition-colors ${t?"bg-white":"bg-white/30"}`,children:b.jsx("span",{className:`absolute top-1 w-5 h-5 rounded-full bg-black transition-transform ${t?"left-6":"left-1"}`})})]})})]})}const ZA=()=>b.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-4 h-4",children:[b.jsx("path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z"}),b.jsx("path",{d:"m15 5 4 4"})]}),eM=()=>b.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-4 h-4",children:[b.jsx("path",{d:"M3 6h18"}),b.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),b.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}),b.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),b.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]}),tM=()=>b.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-4 h-4",children:[b.jsx("path",{d:"M12 19V5"}),b.jsx("path",{d:"m5 12 7-7 7 7"})]}),nM=()=>b.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-4 h-4",children:[b.jsx("path",{d:"M12 5v14"}),b.jsx("path",{d:"m19 12-7 7-7-7"})]});function iM(){const[t,e]=$C(),[n,i]=A.useState([]),[s,a]=A.useState({page:1,limit:20,total:0,totalPages:1}),[c,u]=A.useState(!1),[d,h]=A.useState(""),m=Math.max(1,parseInt(t.get("page")||"1",10)),y=t.get("status")||"all",x=t.get("sort")||"newest",v=t.get("search")||"",[S,E]=A.useState(v);A.useEffect(()=>{E(v)},[v]),A.useEffect(()=>{const G=setTimeout(()=>{const Z=S.trim();if(Z===v)return;const he=new URLSearchParams(t);Z?he.set("search",Z):he.delete("search"),he.set("page","1"),e(he,{replace:!0})},400);return()=>clearTimeout(G)},[S]);const k=A.useCallback(async()=>{u(!0);try{const G=new URLSearchParams({page:String(m),status:y,sort:x});v&&G.set("search",v);const{data:Z}=await xt.get(`/articles?${G}`);i(Z.articles),a(Z.pagination)}catch{h("Failed to load articles")}finally{u(!1)}},[m,y,x,v]);A.useEffect(()=>{k()},[k]);const T=(G,Z)=>{const he=new URLSearchParams(t);Z==="all"&&G==="status"?he.delete("status"):G==="status"&&he.set("status",Z),G==="sort"&&he.set("sort",Z),he.set("page","1"),e(he)},M=G=>{const Z=new URLSearchParams(t);Z.set("page",String(G)),e(Z)},D=async G=>{if(confirm("Delete this article?"))try{await xt.delete(`/articles/${G}`),k()}catch{h("Failed to delete article")}},V=async G=>{try{await xt.patch(`/articles/${G}/publish`),k()}catch{h("Failed to publish")}},z=async G=>{try{await xt.patch(`/articles/${G}/unpublish`),k()}catch{h("Failed to unpublish")}},P=G=>new Date(G).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),L=v||y!=="all";return b.jsxs("div",{className:"p-8 md:p-12 lg:p-16 max-w-6xl mx-auto",children:[b.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-6 mb-10",children:[b.jsx("h1",{className:"font-serif text-3xl md:text-4xl font-normal text-white",children:"Articles"}),b.jsxs(Ee,{to:"/admin/articles/new",className:"inline-flex items-center justify-center gap-2 px-6 py-3 bg-white text-black text-sm font-medium tracking-widest uppercase hover:bg-white/90 rounded transition-colors w-fit",children:[b.jsx("span",{className:"w-4 h-4","aria-hidden":!0,children:b.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[b.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),b.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})}),"New Article"]})]}),b.jsxs("section",{className:"mb-8 p-5 rounded-lg border border-white/10 bg-white/5",children:[b.jsx("h2",{className:"text-xs font-medium tracking-[0.2em] uppercase text-white/40 mb-4",children:"Filters & Sort"}),b.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[b.jsxs("div",{className:"flex-1 relative",children:[b.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-white/40 w-4 h-4 pointer-events-none","aria-hidden":!0,children:b.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[b.jsx("circle",{cx:"11",cy:"11",r:"8"}),b.jsx("path",{d:"m21 21-4.35-4.35"})]})}),b.jsx("input",{type:"search",value:S,onChange:G=>E(G.target.value),placeholder:"Search by title, description, or content",className:"w-full pl-11 pr-5 py-3 bg-white/5 border border-white/20 rounded text-white placeholder-white/40 focus:outline-none focus:border-white/50 focus:ring-1 focus:ring-white/20"})]}),b.jsxs("div",{className:"flex flex-wrap gap-3",children:[b.jsxs("div",{children:[b.jsx("label",{className:"sr-only",children:"Status"}),b.jsxs("select",{value:y,onChange:G=>T("status",G.target.value),className:"px-4 py-3 bg-black border border-white/20 rounded text-white focus:outline-none focus:border-white/50 focus:ring-1 focus:ring-white/20 appearance-none cursor-pointer pr-10",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='%23ffffff80'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'/%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 0.75rem center",backgroundSize:"1rem"},children:[b.jsx("option",{value:"all",className:"bg-black text-white",children:"All statuses"}),b.jsx("option",{value:"draft",className:"bg-black text-white",children:"Draft"}),b.jsx("option",{value:"published",className:"bg-black text-white",children:"Published"})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"sr-only",children:"Sort by"}),b.jsxs("select",{value:x,onChange:G=>T("sort",G.target.value),className:"px-4 py-3 bg-black border border-white/20 rounded text-white focus:outline-none focus:border-white/50 focus:ring-1 focus:ring-white/20 appearance-none cursor-pointer pr-10",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='%23ffffff80'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'/%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 0.75rem center",backgroundSize:"1rem"},children:[b.jsx("option",{value:"newest",className:"bg-black text-white",children:"Newest first"}),b.jsx("option",{value:"oldest",className:"bg-black text-white",children:"Oldest first"})]})]}),L&&b.jsx("button",{type:"button",onClick:()=>{E(""),e({})},className:"px-4 py-3 text-white/60 hover:text-white text-sm",children:"Clear filters"})]})]}),L&&b.jsxs("p",{className:"text-white/50 text-sm mt-3",children:["Showing results for ",v&&`"${v}"`," ",v&&y!=="all"&&""," ",y!=="all"&&`Status: ${y}`]})]}),d&&b.jsx("div",{className:"mb-6 px-5 py-4 bg-red-500/10 border border-red-500/30 rounded text-red-400 text-sm",children:d}),c?b.jsx("div",{className:"py-16 text-center text-white/60",children:"Loading"}):n.length===0?b.jsxs("div",{className:"py-16 text-center rounded-lg border border-white/10 bg-white/5",children:[b.jsx("p",{className:"text-white/60 mb-4",children:L?"No articles match your filters.":"No articles yet."}),L?b.jsx("button",{type:"button",onClick:()=>{E(""),e({})},className:"text-white underline hover:no-underline",children:"Clear filters"}):b.jsx(Ee,{to:"/admin/articles/new",className:"text-white underline hover:no-underline",children:"Create one"})]}):b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"space-y-3",children:n.map(G=>b.jsxs("article",{className:"flex flex-col sm:flex-row sm:items-center gap-4 p-5 rounded-lg border border-white/10 bg-white/5 hover:border-white/20 transition-colors",children:[b.jsxs("div",{className:"flex-1 min-w-0 flex gap-4",children:[G.thumbnail&&b.jsx("div",{className:"shrink-0 w-20 h-14 rounded overflow-hidden bg-white/5",children:b.jsx("img",{src:G.thumbnail,alt:"",className:"w-full h-full object-cover"})}),b.jsxs("div",{className:"min-w-0",children:[b.jsx("p",{className:"text-white font-medium truncate",children:G.title}),b.jsx("p",{className:"text-white/50 text-sm mt-0.5",children:P(G.updatedAt)})]})]}),b.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[b.jsx("span",{className:`px-2.5 py-1 text-xs font-medium uppercase rounded ${G.status==="published"?"bg-emerald-500/20 text-emerald-400":"bg-white/10 text-white/70"}`,children:G.status}),b.jsxs("div",{className:"flex items-center gap-1 ml-2",children:[b.jsx(Ee,{to:`/admin/articles/${G._id}/edit`,title:"Edit",className:"p-2 text-white/60 hover:text-white hover:bg-white/10 rounded transition-colors",children:b.jsx(ZA,{})}),b.jsx("button",{type:"button",onClick:()=>D(G._id),title:"Delete",className:"p-2 text-red-400/60 hover:text-red-400 hover:bg-red-500/10 rounded transition-colors",children:b.jsx(eM,{})}),G.status==="draft"?b.jsx("button",{type:"button",onClick:()=>V(G._id),title:"Publish",className:"p-2 text-emerald-400/60 hover:text-emerald-400 hover:bg-emerald-500/10 rounded transition-colors",children:b.jsx(tM,{})}):b.jsx("button",{type:"button",onClick:()=>z(G._id),title:"Unpublish",className:"p-2 text-amber-400/60 hover:text-amber-400 hover:bg-amber-500/10 rounded transition-colors",children:b.jsx(nM,{})})]})]})]},G._id))}),s.totalPages>1&&b.jsxs("div",{className:"flex flex-wrap items-center gap-4 mt-8 pt-6 border-t border-white/10",children:[b.jsx("button",{type:"button",onClick:()=>M(s.page-1),disabled:s.page<=1,className:"px-5 py-2.5 border border-white/20 rounded text-white text-sm disabled:opacity-40 disabled:cursor-not-allowed hover:border-white/40 hover:bg-white/5 transition-colors",children:"Previous"}),b.jsxs("span",{className:"text-white/60 text-sm",children:["Page ",s.page," of ",s.totalPages," ",b.jsxs("span",{className:"text-white/40",children:["(",s.total," total)"]})]}),b.jsx("button",{type:"button",onClick:()=>M(s.page+1),disabled:s.page>=s.totalPages,className:"px-5 py-2.5 border border-white/20 rounded text-white text-sm disabled:opacity-40 disabled:cursor-not-allowed hover:border-white/40 hover:bg-white/5 transition-colors",children:"Next"})]})]})]})}var Rh={exports:{}},jh={};var Sx;function rM(){if(Sx)return jh;Sx=1;var t=_a();function e(y,x){return y===x&&(y!==0||1/y===1/x)||y!==y&&x!==x}var n=typeof Object.is=="function"?Object.is:e,i=t.useState,s=t.useEffect,a=t.useLayoutEffect,c=t.useDebugValue;function u(y,x){var v=x(),S=i({inst:{value:v,getSnapshot:x}}),E=S[0].inst,k=S[1];return a(function(){E.value=v,E.getSnapshot=x,d(E)&&k({inst:E})},[y,v,x]),s(function(){return d(E)&&k({inst:E}),y(function(){d(E)&&k({inst:E})})},[y]),c(v),v}function d(y){var x=y.getSnapshot;y=y.value;try{var v=x();return!n(y,v)}catch{return!0}}function h(y,x){return x()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:u;return jh.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:m,jh}var wx;function Y1(){return wx||(wx=1,Rh.exports=rM()),Rh.exports}var J1=Y1();function At(t){this.content=t}At.prototype={constructor:At,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var i=n&&n!=t?this.remove(n):this,s=i.find(t),a=i.content.slice();return s==-1?a.push(n||t,e):(a[s+1]=e,n&&(a[s]=n)),new At(a)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new At(n)},addToStart:function(t,e){return new At([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new At(n)},addBefore:function(t,e,n){var i=this.remove(e),s=i.content.slice(),a=i.find(t);return s.splice(a==-1?s.length:a,0,e,n),new At(s)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=At.from(t),t.size?new At(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=At.from(t),t.size?new At(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=At.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};At.from=function(t){if(t instanceof At)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new At(e)};function X1(t,e,n){for(let i=0;;i++){if(i==t.childCount||i==e.childCount)return t.childCount==e.childCount?null:n;let s=t.child(i),a=e.child(i);if(s==a){n+=s.nodeSize;continue}if(!s.sameMarkup(a))return n;if(s.isText&&s.text!=a.text){for(let c=0;s.text[c]==a.text[c];c++)n++;return n}if(s.content.size||a.content.size){let c=X1(s.content,a.content,n+1);if(c!=null)return c}n+=s.nodeSize}}function Q1(t,e,n,i){for(let s=t.childCount,a=e.childCount;;){if(s==0||a==0)return s==a?null:{a:n,b:i};let c=t.child(--s),u=e.child(--a),d=c.nodeSize;if(c==u){n-=d,i-=d;continue}if(!c.sameMarkup(u))return{a:n,b:i};if(c.isText&&c.text!=u.text){let h=0,m=Math.min(c.text.length,u.text.length);for(;h<m&&c.text[c.text.length-h-1]==u.text[u.text.length-h-1];)h++,n--,i--;return{a:n,b:i}}if(c.content.size||u.content.size){let h=Q1(c.content,u.content,n-1,i-1);if(h)return h}n-=d,i-=d}}class J{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let i=0;i<e.length;i++)this.size+=e[i].nodeSize}nodesBetween(e,n,i,s=0,a){for(let c=0,u=0;u<n;c++){let d=this.content[c],h=u+d.nodeSize;if(h>e&&i(d,s+u,a||null,c)!==!1&&d.content.size){let m=u+1;d.nodesBetween(Math.max(0,e-m),Math.min(d.content.size,n-m),i,s+m)}u=h}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,i,s){let a="",c=!0;return this.nodesBetween(e,n,(u,d)=>{let h=u.isText?u.text.slice(Math.max(e,d)-d,n-d):u.isLeaf?s?typeof s=="function"?s(u):s:u.type.spec.leafText?u.type.spec.leafText(u):"":"";u.isBlock&&(u.isLeaf&&h||u.isTextblock)&&i&&(c?c=!1:a+=i),a+=h},0),a}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,i=e.firstChild,s=this.content.slice(),a=0;for(n.isText&&n.sameMarkup(i)&&(s[s.length-1]=n.withText(n.text+i.text),a=1);a<e.content.length;a++)s.push(e.content[a]);return new J(s,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let i=[],s=0;if(n>e)for(let a=0,c=0;c<n;a++){let u=this.content[a],d=c+u.nodeSize;d>e&&((c<e||d>n)&&(u.isText?u=u.cut(Math.max(0,e-c),Math.min(u.text.length,n-c)):u=u.cut(Math.max(0,e-c-1),Math.min(u.content.size,n-c-1))),i.push(u),s+=u.nodeSize),c=d}return new J(i,s)}cutByIndex(e,n){return e==n?J.empty:e==0&&n==this.content.length?this:new J(this.content.slice(e,n))}replaceChild(e,n){let i=this.content[e];if(i==n)return this;let s=this.content.slice(),a=this.size+n.nodeSize-i.nodeSize;return s[e]=n,new J(s,a)}addToStart(e){return new J([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new J(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,i=0;n<this.content.length;n++){let s=this.content[n];e(s,i,n),i+=s.nodeSize}}findDiffStart(e,n=0){return X1(this,e,n)}findDiffEnd(e,n=this.size,i=e.size){return Q1(this,e,n,i)}findIndex(e){if(e==0)return yc(0,e);if(e==this.size)return yc(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let n=0,i=0;;n++){let s=this.child(n),a=i+s.nodeSize;if(a>=e)return a==e?yc(n+1,a):yc(n,i);i=a}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return J.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new J(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return J.empty;let n,i=0;for(let s=0;s<e.length;s++){let a=e[s];i+=a.nodeSize,s&&a.isText&&e[s-1].sameMarkup(a)?(n||(n=e.slice(0,s)),n[n.length-1]=a.withText(n[n.length-1].text+a.text)):n&&n.push(a)}return new J(n||e,i)}static from(e){if(!e)return J.empty;if(e instanceof J)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new J([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}J.empty=new J([],0);const Dh={index:0,offset:0};function yc(t,e){return Dh.index=t,Dh.offset=e,Dh}function Vc(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let i=0;i<t.length;i++)if(!Vc(t[i],e[i]))return!1}else{for(let i in t)if(!(i in e)||!Vc(t[i],e[i]))return!1;for(let i in e)if(!(i in t))return!1}return!0}let Ie=class mp{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,i=!1;for(let s=0;s<e.length;s++){let a=e[s];if(this.eq(a))return e;if(this.type.excludes(a.type))n||(n=e.slice(0,s));else{if(a.type.excludes(this.type))return e;!i&&a.type.rank>this.type.rank&&(n||(n=e.slice(0,s)),n.push(this),i=!0),n&&n.push(a)}}return n||(n=e.slice()),i||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&Vc(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let i=e.marks[n.type];if(!i)throw new RangeError(`There is no mark type ${n.type} in this schema`);let s=i.create(n.attrs);return i.checkAttrs(s.attrs),s}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let i=0;i<e.length;i++)if(!e[i].eq(n[i]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return mp.none;if(e instanceof mp)return[e];let n=e.slice();return n.sort((i,s)=>i.type.rank-s.type.rank),n}};Ie.none=[];class Pc extends Error{}class ee{constructor(e,n,i){this.content=e,this.openStart=n,this.openEnd=i}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let i=Z1(this.content,e+this.openStart,n);return i&&new ee(i,this.openStart,this.openEnd)}removeBetween(e,n){return new ee(W1(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return ee.empty;let i=n.openStart||0,s=n.openEnd||0;if(typeof i!="number"||typeof s!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new ee(J.fromJSON(e,n.content),i,s)}static maxOpen(e,n=!0){let i=0,s=0;for(let a=e.firstChild;a&&!a.isLeaf&&(n||!a.type.spec.isolating);a=a.firstChild)i++;for(let a=e.lastChild;a&&!a.isLeaf&&(n||!a.type.spec.isolating);a=a.lastChild)s++;return new ee(e,i,s)}}ee.empty=new ee(J.empty,0,0);function W1(t,e,n){let{index:i,offset:s}=t.findIndex(e),a=t.maybeChild(i),{index:c,offset:u}=t.findIndex(n);if(s==e||a.isText){if(u!=n&&!t.child(c).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(i!=c)throw new RangeError("Removing non-flat range");return t.replaceChild(i,a.copy(W1(a.content,e-s-1,n-s-1)))}function Z1(t,e,n,i){let{index:s,offset:a}=t.findIndex(e),c=t.maybeChild(s);if(a==e||c.isText)return i&&!i.canReplace(s,s,n)?null:t.cut(0,e).append(n).append(t.cut(e));let u=Z1(c.content,e-a-1,n,c);return u&&t.replaceChild(s,c.copy(u))}function sM(t,e,n){if(n.openStart>t.depth)throw new Pc("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new Pc("Inconsistent open depths");return eS(t,e,n,0)}function eS(t,e,n,i){let s=t.index(i),a=t.node(i);if(s==e.index(i)&&i<t.depth-n.openStart){let c=eS(t,e,n,i+1);return a.copy(a.content.replaceChild(s,c))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==i&&e.depth==i){let c=t.parent,u=c.content;return Pr(c,u.cut(0,t.parentOffset).append(n.content).append(u.cut(e.parentOffset)))}else{let{start:c,end:u}=lM(n,t);return Pr(a,nS(t,c,u,e,i))}else return Pr(a,$c(t,e,i))}function tS(t,e){if(!e.type.compatibleContent(t.type))throw new Pc("Cannot join "+e.type.name+" onto "+t.type.name)}function gp(t,e,n){let i=t.node(n);return tS(i,e.node(n)),i}function Vr(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function pa(t,e,n,i){let s=(e||t).node(n),a=0,c=e?e.index(n):s.childCount;t&&(a=t.index(n),t.depth>n?a++:t.textOffset&&(Vr(t.nodeAfter,i),a++));for(let u=a;u<c;u++)Vr(s.child(u),i);e&&e.depth==n&&e.textOffset&&Vr(e.nodeBefore,i)}function Pr(t,e){return t.type.checkContent(e),t.copy(e)}function nS(t,e,n,i,s){let a=t.depth>s&&gp(t,e,s+1),c=i.depth>s&&gp(n,i,s+1),u=[];return pa(null,t,s,u),a&&c&&e.index(s)==n.index(s)?(tS(a,c),Vr(Pr(a,nS(t,e,n,i,s+1)),u)):(a&&Vr(Pr(a,$c(t,e,s+1)),u),pa(e,n,s,u),c&&Vr(Pr(c,$c(n,i,s+1)),u)),pa(i,null,s,u),new J(u)}function $c(t,e,n){let i=[];if(pa(null,t,n,i),t.depth>n){let s=gp(t,e,n+1);Vr(Pr(s,$c(t,e,n+1)),i)}return pa(e,null,n,i),new J(i)}function lM(t,e){let n=e.depth-t.openStart,s=e.node(n).copy(t.content);for(let a=n-1;a>=0;a--)s=e.node(a).copy(J.from(s));return{start:s.resolveNoCache(t.openStart+n),end:s.resolveNoCache(s.content.size-t.openEnd-n)}}class Na{constructor(e,n,i){this.pos=e,this.path=n,this.parentOffset=i,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let i=this.pos-this.path[this.path.length-1],s=e.child(n);return i?e.child(n).cut(i):s}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let i=this.path[n*3],s=n==0?0:this.path[n*3-1]+1;for(let a=0;a<e;a++)s+=i.child(a).nodeSize;return s}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return Ie.none;if(this.textOffset)return e.child(n).marks;let i=e.maybeChild(n-1),s=e.maybeChild(n);if(!i){let u=i;i=s,s=u}let a=i.marks;for(var c=0;c<a.length;c++)a[c].type.spec.inclusive===!1&&(!s||!a[c].isInSet(s.marks))&&(a=a[c--].removeFromSet(a));return a}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let i=n.marks,s=e.parent.maybeChild(e.index());for(var a=0;a<i.length;a++)i[a].type.spec.inclusive===!1&&(!s||!i[a].isInSet(s.marks))&&(i=i[a--].removeFromSet(i));return i}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let i=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);i>=0;i--)if(e.pos<=this.end(i)&&(!n||n(this.node(i))))return new Fc(this,e,i);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let i=[],s=0,a=n;for(let c=e;;){let{index:u,offset:d}=c.content.findIndex(a),h=a-d;if(i.push(c,u,s+d),!h||(c=c.child(u),c.isText))break;a=h-1,s+=d+1}return new Na(n,i,a)}static resolveCached(e,n){let i=kx.get(e);if(i)for(let a=0;a<i.elts.length;a++){let c=i.elts[a];if(c.pos==n)return c}else kx.set(e,i=new aM);let s=i.elts[i.i]=Na.resolve(e,n);return i.i=(i.i+1)%oM,s}}class aM{constructor(){this.elts=[],this.i=0}}const oM=12,kx=new WeakMap;class Fc{constructor(e,n,i){this.$from=e,this.$to=n,this.depth=i}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const cM=Object.create(null);class Ln{constructor(e,n,i,s=Ie.none){this.type=e,this.attrs=n,this.marks=s,this.content=i||J.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,i,s=0){this.content.nodesBetween(e,n,i,s,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,i,s){return this.content.textBetween(e,n,i,s)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,i){return this.type==e&&Vc(this.attrs,n||e.defaultAttrs||cM)&&Ie.sameSet(this.marks,i||Ie.none)}copy(e=null){return e==this.content?this:new Ln(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new Ln(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,i=!1){if(e==n)return ee.empty;let s=this.resolve(e),a=this.resolve(n),c=i?0:s.sharedDepth(n),u=s.start(c),h=s.node(c).content.cut(s.pos-u,a.pos-u);return new ee(h,s.depth-c,a.depth-c)}replace(e,n,i){return sM(this.resolve(e),this.resolve(n),i)}nodeAt(e){for(let n=this;;){let{index:i,offset:s}=n.content.findIndex(e);if(n=n.maybeChild(i),!n)return null;if(s==e||n.isText)return n;e-=s+1}}childAfter(e){let{index:n,offset:i}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:i}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:i}=this.content.findIndex(e);if(i<e)return{node:this.content.child(n),index:n,offset:i};let s=this.content.child(n-1);return{node:s,index:n-1,offset:i-s.nodeSize}}resolve(e){return Na.resolveCached(this,e)}resolveNoCache(e){return Na.resolve(this,e)}rangeHasMark(e,n,i){let s=!1;return n>e&&this.nodesBetween(e,n,a=>(i.isInSet(a.marks)&&(s=!0),!s)),s}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),iS(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,i=J.empty,s=0,a=i.childCount){let c=this.contentMatchAt(e).matchFragment(i,s,a),u=c&&c.matchFragment(this.content,n);if(!u||!u.validEnd)return!1;for(let d=s;d<a;d++)if(!this.type.allowsMarks(i.child(d).marks))return!1;return!0}canReplaceWith(e,n,i,s){if(s&&!this.type.allowsMarks(s))return!1;let a=this.contentMatchAt(e).matchType(i),c=a&&a.matchFragment(this.content,n);return c?c.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=Ie.none;for(let n=0;n<this.marks.length;n++){let i=this.marks[n];i.type.checkAttrs(i.attrs),e=i.addToSet(e)}if(!Ie.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let i;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");i=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,i)}let s=J.fromJSON(e,n.content),a=e.nodeType(n.type).create(n.attrs,s,i);return a.type.checkAttrs(a.attrs),a}}Ln.prototype.text=void 0;class Kc extends Ln{constructor(e,n,i,s){if(super(e,n,null,s),!i)throw new RangeError("Empty text nodes are not allowed");this.text=i}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):iS(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new Kc(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new Kc(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function iS(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class Jr{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let i=new uM(e,n);if(i.next==null)return Jr.empty;let s=rS(i);i.next&&i.err("Unexpected trailing text");let a=yM(gM(s));return bM(a,i),a}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,i=e.childCount){let s=this;for(let a=n;s&&a<i;a++)s=s.matchType(e.child(a).type);return s}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let i=0;i<e.next.length;i++)if(this.next[n].type==e.next[i].type)return!0;return!1}fillBefore(e,n=!1,i=0){let s=[this];function a(c,u){let d=c.matchFragment(e,i);if(d&&(!n||d.validEnd))return J.from(u.map(h=>h.createAndFill()));for(let h=0;h<c.next.length;h++){let{type:m,next:y}=c.next[h];if(!(m.isText||m.hasRequiredAttrs())&&s.indexOf(y)==-1){s.push(y);let x=a(y,u.concat(m));if(x)return x}}return null}return a(this,[])}findWrapping(e){for(let i=0;i<this.wrapCache.length;i+=2)if(this.wrapCache[i]==e)return this.wrapCache[i+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),i=[{match:this,type:null,via:null}];for(;i.length;){let s=i.shift(),a=s.match;if(a.matchType(e)){let c=[];for(let u=s;u.type;u=u.via)c.push(u.type);return c.reverse()}for(let c=0;c<a.next.length;c++){let{type:u,next:d}=a.next[c];!u.isLeaf&&!u.hasRequiredAttrs()&&!(u.name in n)&&(!s.type||d.validEnd)&&(i.push({match:u.contentMatch,type:u,via:s}),n[u.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(i){e.push(i);for(let s=0;s<i.next.length;s++)e.indexOf(i.next[s].next)==-1&&n(i.next[s].next)}return n(this),e.map((i,s)=>{let a=s+(i.validEnd?"*":" ")+" ";for(let c=0;c<i.next.length;c++)a+=(c?", ":"")+i.next[c].type.name+"->"+e.indexOf(i.next[c].next);return a}).join(`
`)}}Jr.empty=new Jr(!0);class uM{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function rS(t){let e=[];do e.push(fM(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function fM(t){let e=[];do e.push(dM(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function dM(t){let e=mM(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=hM(t,e);else break;return e}function Ex(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function hM(t,e){let n=Ex(t),i=n;return t.eat(",")&&(t.next!="}"?i=Ex(t):i=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:i,expr:e}}function pM(t,e){let n=t.nodeTypes,i=n[e];if(i)return[i];let s=[];for(let a in n){let c=n[a];c.isInGroup(e)&&s.push(c)}return s.length==0&&t.err("No node type or group '"+e+"' found"),s}function mM(t){if(t.eat("(")){let e=rS(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=pM(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function gM(t){let e=[[]];return s(a(t,0),n()),e;function n(){return e.push([])-1}function i(c,u,d){let h={term:d,to:u};return e[c].push(h),h}function s(c,u){c.forEach(d=>d.to=u)}function a(c,u){if(c.type=="choice")return c.exprs.reduce((d,h)=>d.concat(a(h,u)),[]);if(c.type=="seq")for(let d=0;;d++){let h=a(c.exprs[d],u);if(d==c.exprs.length-1)return h;s(h,u=n())}else if(c.type=="star"){let d=n();return i(u,d),s(a(c.expr,d),d),[i(d)]}else if(c.type=="plus"){let d=n();return s(a(c.expr,u),d),s(a(c.expr,d),d),[i(d)]}else{if(c.type=="opt")return[i(u)].concat(a(c.expr,u));if(c.type=="range"){let d=u;for(let h=0;h<c.min;h++){let m=n();s(a(c.expr,d),m),d=m}if(c.max==-1)s(a(c.expr,d),d);else for(let h=c.min;h<c.max;h++){let m=n();i(d,m),s(a(c.expr,d),m),d=m}return[i(d)]}else{if(c.type=="name")return[i(u,void 0,c.value)];throw new Error("Unknown expr type")}}}}function sS(t,e){return e-t}function Nx(t,e){let n=[];return i(e),n.sort(sS);function i(s){let a=t[s];if(a.length==1&&!a[0].term)return i(a[0].to);n.push(s);for(let c=0;c<a.length;c++){let{term:u,to:d}=a[c];!u&&n.indexOf(d)==-1&&i(d)}}}function yM(t){let e=Object.create(null);return n(Nx(t,0));function n(i){let s=[];i.forEach(c=>{t[c].forEach(({term:u,to:d})=>{if(!u)return;let h;for(let m=0;m<s.length;m++)s[m][0]==u&&(h=s[m][1]);Nx(t,d).forEach(m=>{h||s.push([u,h=[]]),h.indexOf(m)==-1&&h.push(m)})})});let a=e[i.join(",")]=new Jr(i.indexOf(t.length-1)>-1);for(let c=0;c<s.length;c++){let u=s[c][1].sort(sS);a.next.push({type:s[c][0],next:e[u.join(",")]||n(u)})}return a}}function bM(t,e){for(let n=0,i=[t];n<i.length;n++){let s=i[n],a=!s.validEnd,c=[];for(let u=0;u<s.next.length;u++){let{type:d,next:h}=s.next[u];c.push(d.name),a&&!(d.isText||d.hasRequiredAttrs())&&(a=!1),i.indexOf(h)==-1&&i.push(h)}a&&e.err("Only non-generatable nodes ("+c.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function lS(t){let e=Object.create(null);for(let n in t){let i=t[n];if(!i.hasDefault)return null;e[n]=i.default}return e}function aS(t,e){let n=Object.create(null);for(let i in t){let s=e&&e[i];if(s===void 0){let a=t[i];if(a.hasDefault)s=a.default;else throw new RangeError("No value supplied for attribute "+i)}n[i]=s}return n}function oS(t,e,n,i){for(let s in e)if(!(s in t))throw new RangeError(`Unsupported attribute ${s} for ${n} of type ${s}`);for(let s in t){let a=t[s];a.validate&&a.validate(e[s])}}function cS(t,e){let n=Object.create(null);if(e)for(let i in e)n[i]=new vM(t,i,e[i]);return n}let Tx=class uS{constructor(e,n,i){this.name=e,this.schema=n,this.spec=i,this.markSet=null,this.groups=i.group?i.group.split(" "):[],this.attrs=cS(e,i.attrs),this.defaultAttrs=lS(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(i.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Jr.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:aS(this.attrs,e)}create(e=null,n,i){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Ln(this,this.computeAttrs(e),J.from(n),Ie.setFrom(i))}createChecked(e=null,n,i){return n=J.from(n),this.checkContent(n),new Ln(this,this.computeAttrs(e),n,Ie.setFrom(i))}createAndFill(e=null,n,i){if(e=this.computeAttrs(e),n=J.from(n),n.size){let c=this.contentMatch.fillBefore(n);if(!c)return null;n=c.append(n)}let s=this.contentMatch.matchFragment(n),a=s&&s.fillBefore(J.empty,!0);return a?new Ln(this,e,n.append(a),Ie.setFrom(i)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let i=0;i<e.childCount;i++)if(!this.allowsMarks(e.child(i).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){oS(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let i=0;i<e.length;i++)this.allowsMarkType(e[i].type)?n&&n.push(e[i]):n||(n=e.slice(0,i));return n?n.length?n:Ie.none:e}static compile(e,n){let i=Object.create(null);e.forEach((a,c)=>i[a]=new uS(a,n,c));let s=n.spec.topNode||"doc";if(!i[s])throw new RangeError("Schema is missing its top node type ('"+s+"')");if(!i.text)throw new RangeError("Every schema needs a 'text' type");for(let a in i.text.attrs)throw new RangeError("The text node type should not have attributes");return i}};function xM(t,e,n){let i=n.split("|");return s=>{let a=s===null?"null":typeof s;if(i.indexOf(a)<0)throw new RangeError(`Expected value of type ${i} for attribute ${e} on type ${t}, got ${a}`)}}class vM{constructor(e,n,i){this.hasDefault=Object.prototype.hasOwnProperty.call(i,"default"),this.default=i.default,this.validate=typeof i.validate=="string"?xM(e,n,i.validate):i.validate}get isRequired(){return!this.hasDefault}}class Uu{constructor(e,n,i,s){this.name=e,this.rank=n,this.schema=i,this.spec=s,this.attrs=cS(e,s.attrs),this.excluded=null;let a=lS(this.attrs);this.instance=a?new Ie(this,a):null}create(e=null){return!e&&this.instance?this.instance:new Ie(this,aS(this.attrs,e))}static compile(e,n){let i=Object.create(null),s=0;return e.forEach((a,c)=>i[a]=new Uu(a,s++,n,c)),i}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}checkAttrs(e){oS(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class fS{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let s in e)n[s]=e[s];n.nodes=At.from(e.nodes),n.marks=At.from(e.marks||{}),this.nodes=Tx.compile(this.spec.nodes,this),this.marks=Uu.compile(this.spec.marks,this);let i=Object.create(null);for(let s in this.nodes){if(s in this.marks)throw new RangeError(s+" can not be both a node and a mark");let a=this.nodes[s],c=a.spec.content||"",u=a.spec.marks;if(a.contentMatch=i[c]||(i[c]=Jr.parse(c,this.nodes)),a.inlineContent=a.contentMatch.inlineContent,a.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!a.isInline||!a.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=a}a.markSet=u=="_"?null:u?Cx(this,u.split(" ")):u==""||!a.inlineContent?[]:null}for(let s in this.marks){let a=this.marks[s],c=a.spec.excludes;a.excluded=c==null?[a]:c==""?[]:Cx(this,c.split(" "))}this.nodeFromJSON=s=>Ln.fromJSON(this,s),this.markFromJSON=s=>Ie.fromJSON(this,s),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,i,s){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof Tx){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,i,s)}text(e,n){let i=this.nodes.text;return new Kc(i,i.defaultAttrs,e,Ie.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function Cx(t,e){let n=[];for(let i=0;i<e.length;i++){let s=e[i],a=t.marks[s],c=a;if(a)n.push(a);else for(let u in t.marks){let d=t.marks[u];(s=="_"||d.spec.group&&d.spec.group.split(" ").indexOf(s)>-1)&&n.push(c=d)}if(!c)throw new SyntaxError("Unknown mark type: '"+e[i]+"'")}return n}function SM(t){return t.tag!=null}function wM(t){return t.style!=null}class lr{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[];let i=this.matchedStyles=[];n.forEach(s=>{if(SM(s))this.tags.push(s);else if(wM(s)){let a=/[^=]*/.exec(s.style)[0];i.indexOf(a)<0&&i.push(a),this.styles.push(s)}}),this.normalizeLists=!this.tags.some(s=>{if(!/^(ul|ol)\b/.test(s.tag)||!s.node)return!1;let a=e.nodes[s.node];return a.contentMatch.matchType(a)})}parse(e,n={}){let i=new Mx(this,n,!1);return i.addAll(e,Ie.none,n.from,n.to),i.finish()}parseSlice(e,n={}){let i=new Mx(this,n,!0);return i.addAll(e,Ie.none,n.from,n.to),ee.maxOpen(i.finish())}matchTag(e,n,i){for(let s=i?this.tags.indexOf(i)+1:0;s<this.tags.length;s++){let a=this.tags[s];if(NM(e,a.tag)&&(a.namespace===void 0||e.namespaceURI==a.namespace)&&(!a.context||n.matchesContext(a.context))){if(a.getAttrs){let c=a.getAttrs(e);if(c===!1)continue;a.attrs=c||void 0}return a}}}matchStyle(e,n,i,s){for(let a=s?this.styles.indexOf(s)+1:0;a<this.styles.length;a++){let c=this.styles[a],u=c.style;if(!(u.indexOf(e)!=0||c.context&&!i.matchesContext(c.context)||u.length>e.length&&(u.charCodeAt(e.length)!=61||u.slice(e.length+1)!=n))){if(c.getAttrs){let d=c.getAttrs(n);if(d===!1)continue;c.attrs=d||void 0}return c}}}static schemaRules(e){let n=[];function i(s){let a=s.priority==null?50:s.priority,c=0;for(;c<n.length;c++){let u=n[c];if((u.priority==null?50:u.priority)<a)break}n.splice(c,0,s)}for(let s in e.marks){let a=e.marks[s].spec.parseDOM;a&&a.forEach(c=>{i(c=Ox(c)),c.mark||c.ignore||c.clearMark||(c.mark=s)})}for(let s in e.nodes){let a=e.nodes[s].spec.parseDOM;a&&a.forEach(c=>{i(c=Ox(c)),c.node||c.ignore||c.mark||(c.node=s)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new lr(e,lr.schemaRules(e)))}}const dS={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},kM={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},hS={ol:!0,ul:!0},Ta=1,yp=2,ma=4;function Ax(t,e,n){return e!=null?(e?Ta:0)|(e==="full"?yp:0):t&&t.whitespace=="pre"?Ta|yp:n&~ma}class bc{constructor(e,n,i,s,a,c){this.type=e,this.attrs=n,this.marks=i,this.solid=s,this.options=c,this.content=[],this.activeMarks=Ie.none,this.match=a||(c&ma?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(J.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let i=this.type.contentMatch,s;return(s=i.findWrapping(e.type))?(this.match=i,s):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&Ta)){let i=this.content[this.content.length-1],s;if(i&&i.isText&&(s=/[ \t\r\n\u000c]+$/.exec(i.text))){let a=i;i.text.length==s[0].length?this.content.pop():this.content[this.content.length-1]=a.withText(a.text.slice(0,a.text.length-s[0].length))}}let n=J.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(J.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!dS.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class Mx{constructor(e,n,i){this.parser=e,this.options=n,this.isOpen=i,this.open=0,this.localPreserveWS=!1;let s=n.topNode,a,c=Ax(null,n.preserveWhitespace,0)|(i?ma:0);s?a=new bc(s.type,s.attrs,Ie.none,!0,n.topMatch||s.type.contentMatch,c):i?a=new bc(null,null,Ie.none,!0,null,c):a=new bc(e.schema.topNodeType,null,Ie.none,!0,null,c),this.nodes=[a],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,n){e.nodeType==3?this.addTextNode(e,n):e.nodeType==1&&this.addElement(e,n)}addTextNode(e,n){let i=e.nodeValue,s=this.top,a=s.options&yp?"full":this.localPreserveWS||(s.options&Ta)>0,{schema:c}=this.parser;if(a==="full"||s.inlineContext(e)||/[^ \t\r\n\u000c]/.test(i)){if(a)if(a==="full")i=i.replace(/\r\n?/g,`
`);else if(c.linebreakReplacement&&/[\r\n]/.test(i)&&this.top.findWrapping(c.linebreakReplacement.create())){let u=i.split(/\r?\n|\r/);for(let d=0;d<u.length;d++)d&&this.insertNode(c.linebreakReplacement.create(),n,!0),u[d]&&this.insertNode(c.text(u[d]),n,!/\S/.test(u[d]));i=""}else i=i.replace(/\r?\n|\r/g," ");else if(i=i.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(i)&&this.open==this.nodes.length-1){let u=s.content[s.content.length-1],d=e.previousSibling;(!u||d&&d.nodeName=="BR"||u.isText&&/[ \t\r\n\u000c]$/.test(u.text))&&(i=i.slice(1))}i&&this.insertNode(c.text(i),n,!/\S/.test(i)),this.findInText(e)}else this.findInside(e)}addElement(e,n,i){let s=this.localPreserveWS,a=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let c=e.nodeName.toLowerCase(),u;hS.hasOwnProperty(c)&&this.parser.normalizeLists&&EM(e);let d=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(u=this.parser.matchTag(e,this,i));e:if(d?d.ignore:kM.hasOwnProperty(c))this.findInside(e),this.ignoreFallback(e,n);else if(!d||d.skip||d.closeParent){d&&d.closeParent?this.open=Math.max(0,this.open-1):d&&d.skip.nodeType&&(e=d.skip);let h,m=this.needsBlock;if(dS.hasOwnProperty(c))a.content.length&&a.content[0].isInline&&this.open&&(this.open--,a=this.top),h=!0,a.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,n);break e}let y=d&&d.skip?n:this.readStyles(e,n);y&&this.addAll(e,y),h&&this.sync(a),this.needsBlock=m}else{let h=this.readStyles(e,n);h&&this.addElementByRule(e,d,h,d.consuming===!1?u:void 0)}this.localPreserveWS=s}leafFallback(e,n){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),n)}ignoreFallback(e,n){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n,!0)}readStyles(e,n){let i=e.style;if(i&&i.length)for(let s=0;s<this.parser.matchedStyles.length;s++){let a=this.parser.matchedStyles[s],c=i.getPropertyValue(a);if(c)for(let u=void 0;;){let d=this.parser.matchStyle(a,c,this,u);if(!d)break;if(d.ignore)return null;if(d.clearMark?n=n.filter(h=>!d.clearMark(h)):n=n.concat(this.parser.schema.marks[d.mark].create(d.attrs)),d.consuming===!1)u=d;else break}}return n}addElementByRule(e,n,i,s){let a,c;if(n.node)if(c=this.parser.schema.nodes[n.node],c.isLeaf)this.insertNode(c.create(n.attrs),i,e.nodeName=="BR")||this.leafFallback(e,i);else{let d=this.enter(c,n.attrs||null,i,n.preserveWhitespace);d&&(a=!0,i=d)}else{let d=this.parser.schema.marks[n.mark];i=i.concat(d.create(n.attrs))}let u=this.top;if(c&&c.isLeaf)this.findInside(e);else if(s)this.addElement(e,i,s);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(d=>this.insertNode(d,i,!1));else{let d=e;typeof n.contentElement=="string"?d=e.querySelector(n.contentElement):typeof n.contentElement=="function"?d=n.contentElement(e):n.contentElement&&(d=n.contentElement),this.findAround(e,d,!0),this.addAll(d,i),this.findAround(e,d,!1)}a&&this.sync(u)&&this.open--}addAll(e,n,i,s){let a=i||0;for(let c=i?e.childNodes[i]:e.firstChild,u=s==null?null:e.childNodes[s];c!=u;c=c.nextSibling,++a)this.findAtPoint(e,a),this.addDOM(c,n);this.findAtPoint(e,a)}findPlace(e,n,i){let s,a;for(let c=this.open,u=0;c>=0;c--){let d=this.nodes[c],h=d.findWrapping(e);if(h&&(!s||s.length>h.length+u)&&(s=h,a=d,!h.length))break;if(d.solid){if(i)break;u+=2}}if(!s)return null;this.sync(a);for(let c=0;c<s.length;c++)n=this.enterInner(s[c],null,n,!1);return n}insertNode(e,n,i){if(e.isInline&&this.needsBlock&&!this.top.type){let a=this.textblockFromContext();a&&(n=this.enterInner(a,null,n))}let s=this.findPlace(e,n,i);if(s){this.closeExtra();let a=this.top;a.match&&(a.match=a.match.matchType(e.type));let c=Ie.none;for(let u of s.concat(e.marks))(a.type?a.type.allowsMarkType(u.type):Rx(u.type,e.type))&&(c=u.addToSet(c));return a.content.push(e.mark(c)),!0}return!1}enter(e,n,i,s){let a=this.findPlace(e.create(n),i,!1);return a&&(a=this.enterInner(e,n,i,!0,s)),a}enterInner(e,n,i,s=!1,a){this.closeExtra();let c=this.top;c.match=c.match&&c.match.matchType(e);let u=Ax(e,a,c.options);c.options&ma&&c.content.length==0&&(u|=ma);let d=Ie.none;return i=i.filter(h=>(c.type?c.type.allowsMarkType(h.type):Rx(h.type,e))?(d=h.addToSet(d),!1):!0),this.nodes.push(new bc(e,n,d,s,null,u)),this.open++,i}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let n=this.open;n>=0;n--){if(this.nodes[n]==e)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=Ta)}return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let i=this.nodes[n].content;for(let s=i.length-1;s>=0;s--)e+=i[s].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let i=0;i<this.find.length;i++)this.find[i].node==e&&this.find[i].offset==n&&(this.find[i].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,i){if(e!=n&&this.find)for(let s=0;s<this.find.length;s++)this.find[s].pos==null&&e.nodeType==1&&e.contains(this.find[s].node)&&n.compareDocumentPosition(this.find[s].node)&(i?2:4)&&(this.find[s].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),i=this.options.context,s=!this.isOpen&&(!i||i.parent.type==this.nodes[0].type),a=-(i?i.depth+1:0)+(s?0:1),c=(u,d)=>{for(;u>=0;u--){let h=n[u];if(h==""){if(u==n.length-1||u==0)continue;for(;d>=a;d--)if(c(u-1,d))return!0;return!1}else{let m=d>0||d==0&&s?this.nodes[d].type:i&&d>=a?i.node(d-a).type:null;if(!m||m.name!=h&&!m.isInGroup(h))return!1;d--}}return!0};return c(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let i=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(i&&i.isTextblock&&i.defaultAttrs)return i}for(let n in this.parser.schema.nodes){let i=this.parser.schema.nodes[n];if(i.isTextblock&&i.defaultAttrs)return i}}}function EM(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let i=e.nodeType==1?e.nodeName.toLowerCase():null;i&&hS.hasOwnProperty(i)&&n?(n.appendChild(e),e=n):i=="li"?n=e:i&&(n=null)}}function NM(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function Ox(t){let e={};for(let n in t)e[n]=t[n];return e}function Rx(t,e){let n=e.schema.nodes;for(let i in n){let s=n[i];if(!s.allowsMarkType(t))continue;let a=[],c=u=>{a.push(u);for(let d=0;d<u.edgeCount;d++){let{type:h,next:m}=u.edge(d);if(h==e||a.indexOf(m)<0&&c(m))return!0}};if(c(s.contentMatch))return!0}}class ts{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},i){i||(i=zh(n).createDocumentFragment());let s=i,a=[];return e.forEach(c=>{if(a.length||c.marks.length){let u=0,d=0;for(;u<a.length&&d<c.marks.length;){let h=c.marks[d];if(!this.marks[h.type.name]){d++;continue}if(!h.eq(a[u][0])||h.type.spec.spanning===!1)break;u++,d++}for(;u<a.length;)s=a.pop()[1];for(;d<c.marks.length;){let h=c.marks[d++],m=this.serializeMark(h,c.isInline,n);m&&(a.push([h,s]),s.appendChild(m.dom),s=m.contentDOM||m.dom)}}s.appendChild(this.serializeNodeInner(c,n))}),i}serializeNodeInner(e,n){let{dom:i,contentDOM:s}=Lc(zh(n),this.nodes[e.type.name](e),null,e.attrs);if(s){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,s)}return i}serializeNode(e,n={}){let i=this.serializeNodeInner(e,n);for(let s=e.marks.length-1;s>=0;s--){let a=this.serializeMark(e.marks[s],e.isInline,n);a&&((a.contentDOM||a.dom).appendChild(i),i=a.dom)}return i}serializeMark(e,n,i={}){let s=this.marks[e.type.name];return s&&Lc(zh(i),s(e,n),null,e.attrs)}static renderSpec(e,n,i=null,s){return Lc(e,n,i,s)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new ts(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=jx(e.nodes);return n.text||(n.text=i=>i.text),n}static marksFromSchema(e){return jx(e.marks)}}function jx(t){let e={};for(let n in t){let i=t[n].spec.toDOM;i&&(e[n]=i)}return e}function zh(t){return t.document||window.document}const Dx=new WeakMap;function TM(t){let e=Dx.get(t);return e===void 0&&Dx.set(t,e=CM(t)),e}function CM(t){let e=null;function n(i){if(i&&typeof i=="object")if(Array.isArray(i))if(typeof i[0]=="string")e||(e=[]),e.push(i);else for(let s=0;s<i.length;s++)n(i[s]);else for(let s in i)n(i[s])}return n(t),e}function Lc(t,e,n,i){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let s=e[0],a;if(typeof s!="string")throw new RangeError("Invalid array passed to renderSpec");if(i&&(a=TM(i))&&a.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let c=s.indexOf(" ");c>0&&(n=s.slice(0,c),s=s.slice(c+1));let u,d=n?t.createElementNS(n,s):t.createElement(s),h=e[1],m=1;if(h&&typeof h=="object"&&h.nodeType==null&&!Array.isArray(h)){m=2;for(let y in h)if(h[y]!=null){let x=y.indexOf(" ");x>0?d.setAttributeNS(y.slice(0,x),y.slice(x+1),h[y]):y=="style"&&d.style?d.style.cssText=h[y]:d.setAttribute(y,h[y])}}for(let y=m;y<e.length;y++){let x=e[y];if(x===0){if(y<e.length-1||y>m)throw new RangeError("Content hole must be the only child of its parent node");return{dom:d,contentDOM:d}}else{let{dom:v,contentDOM:S}=Lc(t,x,n,i);if(d.appendChild(v),S){if(u)throw new RangeError("Multiple content holes");u=S}}}return{dom:d,contentDOM:u}}const pS=65535,mS=Math.pow(2,16);function AM(t,e){return t+e*mS}function zx(t){return t&pS}function MM(t){return(t-(t&pS))/mS}const gS=1,yS=2,_c=4,bS=8;class bp{constructor(e,n,i){this.pos=e,this.delInfo=n,this.recover=i}get deleted(){return(this.delInfo&bS)>0}get deletedBefore(){return(this.delInfo&(gS|_c))>0}get deletedAfter(){return(this.delInfo&(yS|_c))>0}get deletedAcross(){return(this.delInfo&_c)>0}}class fn{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&fn.empty)return fn.empty}recover(e){let n=0,i=zx(e);if(!this.inverted)for(let s=0;s<i;s++)n+=this.ranges[s*3+2]-this.ranges[s*3+1];return this.ranges[i*3]+n+MM(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,i){let s=0,a=this.inverted?2:1,c=this.inverted?1:2;for(let u=0;u<this.ranges.length;u+=3){let d=this.ranges[u]-(this.inverted?s:0);if(d>e)break;let h=this.ranges[u+a],m=this.ranges[u+c],y=d+h;if(e<=y){let x=h?e==d?-1:e==y?1:n:n,v=d+s+(x<0?0:m);if(i)return v;let S=e==(n<0?d:y)?null:AM(u/3,e-d),E=e==d?yS:e==y?gS:_c;return(n<0?e!=d:e!=y)&&(E|=bS),new bp(v,E,S)}s+=m-h}return i?e+s:new bp(e+s,0,null)}touches(e,n){let i=0,s=zx(n),a=this.inverted?2:1,c=this.inverted?1:2;for(let u=0;u<this.ranges.length;u+=3){let d=this.ranges[u]-(this.inverted?i:0);if(d>e)break;let h=this.ranges[u+a],m=d+h;if(e<=m&&u==s*3)return!0;i+=this.ranges[u+c]-h}return!1}forEach(e){let n=this.inverted?2:1,i=this.inverted?1:2;for(let s=0,a=0;s<this.ranges.length;s+=3){let c=this.ranges[s],u=c-(this.inverted?a:0),d=c+(this.inverted?0:a),h=this.ranges[s+n],m=this.ranges[s+i];e(u,u+h,d,d+m),a+=m-h}}invert(){return new fn(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?fn.empty:new fn(e<0?[0,-e,0]:[0,0,e])}}fn.empty=new fn([]);class Ca{constructor(e,n,i=0,s=e?e.length:0){this.mirror=n,this.from=i,this.to=s,this._maps=e||[],this.ownData=!(e||n)}get maps(){return this._maps}slice(e=0,n=this.maps.length){return new Ca(this._maps,this.mirror,e,n)}appendMap(e,n){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),n!=null&&this.setMirror(this._maps.length-1,n)}appendMapping(e){for(let n=0,i=this._maps.length;n<e._maps.length;n++){let s=e.getMirror(n);this.appendMap(e._maps[n],s!=null&&s<n?i+s:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,i=this._maps.length+e._maps.length;n>=0;n--){let s=e.getMirror(n);this.appendMap(e._maps[n].invert(),s!=null&&s>n?i-s-1:void 0)}}invert(){let e=new Ca;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let i=this.from;i<this.to;i++)e=this._maps[i].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,i){let s=0;for(let a=this.from;a<this.to;a++){let c=this._maps[a],u=c.mapResult(e,n);if(u.recover!=null){let d=this.getMirror(a);if(d!=null&&d>a&&d<this.to){a=d,e=this._maps[d].recover(u.recover);continue}}s|=u.delInfo,e=u.pos}return i?e:new bp(e,s,null)}}const Lh=Object.create(null);class Lt{getMap(){return fn.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let i=Lh[n.stepType];if(!i)throw new RangeError(`No step type ${n.stepType} defined`);return i.fromJSON(e,n)}static jsonID(e,n){if(e in Lh)throw new RangeError("Duplicate use of step JSON ID "+e);return Lh[e]=n,n.prototype.jsonID=e,n}}class dt{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new dt(e,null)}static fail(e){return new dt(null,e)}static fromReplace(e,n,i,s){try{return dt.ok(e.replace(n,i,s))}catch(a){if(a instanceof Pc)return dt.fail(a.message);throw a}}}function tm(t,e,n){let i=[];for(let s=0;s<t.childCount;s++){let a=t.child(s);a.content.size&&(a=a.copy(tm(a.content,e,a))),a.isInline&&(a=e(a,n,s)),i.push(a)}return J.fromArray(i)}class ir extends Lt{constructor(e,n,i){super(),this.from=e,this.to=n,this.mark=i}apply(e){let n=e.slice(this.from,this.to),i=e.resolve(this.from),s=i.node(i.sharedDepth(this.to)),a=new ee(tm(n.content,(c,u)=>!c.isAtom||!u.type.allowsMarkType(this.mark.type)?c:c.mark(this.mark.addToSet(c.marks)),s),n.openStart,n.openEnd);return dt.fromReplace(e,this.from,this.to,a)}invert(){return new zn(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),i=e.mapResult(this.to,-1);return n.deleted&&i.deleted||n.pos>=i.pos?null:new ir(n.pos,i.pos,this.mark)}merge(e){return e instanceof ir&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new ir(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new ir(n.from,n.to,e.markFromJSON(n.mark))}}Lt.jsonID("addMark",ir);class zn extends Lt{constructor(e,n,i){super(),this.from=e,this.to=n,this.mark=i}apply(e){let n=e.slice(this.from,this.to),i=new ee(tm(n.content,s=>s.mark(this.mark.removeFromSet(s.marks)),e),n.openStart,n.openEnd);return dt.fromReplace(e,this.from,this.to,i)}invert(){return new ir(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),i=e.mapResult(this.to,-1);return n.deleted&&i.deleted||n.pos>=i.pos?null:new zn(n.pos,i.pos,this.mark)}merge(e){return e instanceof zn&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new zn(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new zn(n.from,n.to,e.markFromJSON(n.mark))}}Lt.jsonID("removeMark",zn);class rr extends Lt{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return dt.fail("No node at mark step's position");let i=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return dt.fromReplace(e,this.pos,this.pos+1,new ee(J.from(i),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let i=this.mark.addToSet(n.marks);if(i.length==n.marks.length){for(let s=0;s<n.marks.length;s++)if(!n.marks[s].isInSet(i))return new rr(this.pos,n.marks[s]);return new rr(this.pos,this.mark)}}return new Xr(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new rr(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new rr(n.pos,e.markFromJSON(n.mark))}}Lt.jsonID("addNodeMark",rr);class Xr extends Lt{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return dt.fail("No node at mark step's position");let i=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return dt.fromReplace(e,this.pos,this.pos+1,new ee(J.from(i),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new rr(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Xr(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Xr(n.pos,e.markFromJSON(n.mark))}}Lt.jsonID("removeNodeMark",Xr);class bt extends Lt{constructor(e,n,i,s=!1){super(),this.from=e,this.to=n,this.slice=i,this.structure=s}apply(e){return this.structure&&xp(e,this.from,this.to)?dt.fail("Structure replace would overwrite content"):dt.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new fn([this.from,this.to-this.from,this.slice.size])}invert(e){return new bt(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),i=e.mapResult(this.to,-1);return n.deletedAcross&&i.deletedAcross?null:new bt(n.pos,Math.max(n.pos,i.pos),this.slice,this.structure)}merge(e){if(!(e instanceof bt)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?ee.empty:new ee(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new bt(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?ee.empty:new ee(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new bt(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new bt(n.from,n.to,ee.fromJSON(e,n.slice),!!n.structure)}}Lt.jsonID("replace",bt);class St extends Lt{constructor(e,n,i,s,a,c,u=!1){super(),this.from=e,this.to=n,this.gapFrom=i,this.gapTo=s,this.slice=a,this.insert=c,this.structure=u}apply(e){if(this.structure&&(xp(e,this.from,this.gapFrom)||xp(e,this.gapTo,this.to)))return dt.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return dt.fail("Gap is not a flat range");let i=this.slice.insertAt(this.insert,n.content);return i?dt.fromReplace(e,this.from,this.to,i):dt.fail("Content does not fit in gap")}getMap(){return new fn([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new St(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),i=e.mapResult(this.to,-1),s=this.from==this.gapFrom?n.pos:e.map(this.gapFrom,-1),a=this.to==this.gapTo?i.pos:e.map(this.gapTo,1);return n.deletedAcross&&i.deletedAcross||s<n.pos||a>i.pos?null:new St(n.pos,i.pos,s,a,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new St(n.from,n.to,n.gapFrom,n.gapTo,ee.fromJSON(e,n.slice),n.insert,!!n.structure)}}Lt.jsonID("replaceAround",St);function xp(t,e,n){let i=t.resolve(e),s=n-e,a=i.depth;for(;s>0&&a>0&&i.indexAfter(a)==i.node(a).childCount;)a--,s--;if(s>0){let c=i.node(a).maybeChild(i.indexAfter(a));for(;s>0;){if(!c||c.isLeaf)return!0;c=c.firstChild,s--}}return!1}function OM(t,e,n,i){let s=[],a=[],c,u;t.doc.nodesBetween(e,n,(d,h,m)=>{if(!d.isInline)return;let y=d.marks;if(!i.isInSet(y)&&m.type.allowsMarkType(i.type)){let x=Math.max(h,e),v=Math.min(h+d.nodeSize,n),S=i.addToSet(y);for(let E=0;E<y.length;E++)y[E].isInSet(S)||(c&&c.to==x&&c.mark.eq(y[E])?c.to=v:s.push(c=new zn(x,v,y[E])));u&&u.to==x?u.to=v:a.push(u=new ir(x,v,i))}}),s.forEach(d=>t.step(d)),a.forEach(d=>t.step(d))}function RM(t,e,n,i){let s=[],a=0;t.doc.nodesBetween(e,n,(c,u)=>{if(!c.isInline)return;a++;let d=null;if(i instanceof Uu){let h=c.marks,m;for(;m=i.isInSet(h);)(d||(d=[])).push(m),h=m.removeFromSet(h)}else i?i.isInSet(c.marks)&&(d=[i]):d=c.marks;if(d&&d.length){let h=Math.min(u+c.nodeSize,n);for(let m=0;m<d.length;m++){let y=d[m],x;for(let v=0;v<s.length;v++){let S=s[v];S.step==a-1&&y.eq(s[v].style)&&(x=S)}x?(x.to=h,x.step=a):s.push({style:y,from:Math.max(u,e),to:h,step:a})}}}),s.forEach(c=>t.step(new zn(c.from,c.to,c.style)))}function nm(t,e,n,i=n.contentMatch,s=!0){let a=t.doc.nodeAt(e),c=[],u=e+1;for(let d=0;d<a.childCount;d++){let h=a.child(d),m=u+h.nodeSize,y=i.matchType(h.type);if(!y)c.push(new bt(u,m,ee.empty));else{i=y;for(let x=0;x<h.marks.length;x++)n.allowsMarkType(h.marks[x].type)||t.step(new zn(u,m,h.marks[x]));if(s&&h.isText&&n.whitespace!="pre"){let x,v=/\r?\n|\r/g,S;for(;x=v.exec(h.text);)S||(S=new ee(J.from(n.schema.text(" ",n.allowedMarks(h.marks))),0,0)),c.push(new bt(u+x.index,u+x.index+x[0].length,S))}}u=m}if(!i.validEnd){let d=i.fillBefore(J.empty,!0);t.replace(u,u,new ee(d,0,0))}for(let d=c.length-1;d>=0;d--)t.step(c[d])}function jM(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function ol(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let i=t.depth,s=0,a=0;;--i){let c=t.$from.node(i),u=t.$from.index(i)+s,d=t.$to.indexAfter(i)-a;if(i<t.depth&&c.canReplace(u,d,n))return i;if(i==0||c.type.spec.isolating||!jM(c,u,d))break;u&&(s=1),d<c.childCount&&(a=1)}return null}function DM(t,e,n){let{$from:i,$to:s,depth:a}=e,c=i.before(a+1),u=s.after(a+1),d=c,h=u,m=J.empty,y=0;for(let S=a,E=!1;S>n;S--)E||i.index(S)>0?(E=!0,m=J.from(i.node(S).copy(m)),y++):d--;let x=J.empty,v=0;for(let S=a,E=!1;S>n;S--)E||s.after(S+1)<s.end(S)?(E=!0,x=J.from(s.node(S).copy(x)),v++):h++;t.step(new St(d,h,c,u,new ee(m.append(x),y,v),m.size-y,!0))}function im(t,e,n=null,i=t){let s=zM(t,e),a=s&&LM(i,e);return a?s.map(Lx).concat({type:e,attrs:n}).concat(a.map(Lx)):null}function Lx(t){return{type:t,attrs:null}}function zM(t,e){let{parent:n,startIndex:i,endIndex:s}=t,a=n.contentMatchAt(i).findWrapping(e);if(!a)return null;let c=a.length?a[0]:e;return n.canReplaceWith(i,s,c)?a:null}function LM(t,e){let{parent:n,startIndex:i,endIndex:s}=t,a=n.child(i),c=e.contentMatch.findWrapping(a.type);if(!c)return null;let d=(c.length?c[c.length-1]:e).contentMatch;for(let h=i;d&&h<s;h++)d=d.matchType(n.child(h).type);return!d||!d.validEnd?null:c}function _M(t,e,n){let i=J.empty;for(let c=n.length-1;c>=0;c--){if(i.size){let u=n[c].type.contentMatch.matchFragment(i);if(!u||!u.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}i=J.from(n[c].type.create(n[c].attrs,i))}let s=e.start,a=e.end;t.step(new St(s,a,s,a,new ee(i,0,0),n.length,!0))}function BM(t,e,n,i,s){if(!i.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let a=t.steps.length;t.doc.nodesBetween(e,n,(c,u)=>{let d=typeof s=="function"?s(c):s;if(c.isTextblock&&!c.hasMarkup(i,d)&&HM(t.doc,t.mapping.slice(a).map(u),i)){let h=null;if(i.schema.linebreakReplacement){let v=i.whitespace=="pre",S=!!i.contentMatch.matchType(i.schema.linebreakReplacement);v&&!S?h=!1:!v&&S&&(h=!0)}h===!1&&vS(t,c,u,a),nm(t,t.mapping.slice(a).map(u,1),i,void 0,h===null);let m=t.mapping.slice(a),y=m.map(u,1),x=m.map(u+c.nodeSize,1);return t.step(new St(y,x,y+1,x-1,new ee(J.from(i.create(d,null,c.marks)),0,0),1,!0)),h===!0&&xS(t,c,u,a),!1}})}function xS(t,e,n,i){e.forEach((s,a)=>{if(s.isText){let c,u=/\r?\n|\r/g;for(;c=u.exec(s.text);){let d=t.mapping.slice(i).map(n+1+a+c.index);t.replaceWith(d,d+1,e.type.schema.linebreakReplacement.create())}}})}function vS(t,e,n,i){e.forEach((s,a)=>{if(s.type==s.type.schema.linebreakReplacement){let c=t.mapping.slice(i).map(n+1+a);t.replaceWith(c,c+1,e.type.schema.text(`
`))}})}function HM(t,e,n){let i=t.resolve(e),s=i.index();return i.parent.canReplaceWith(s,s+1,n)}function UM(t,e,n,i,s){let a=t.doc.nodeAt(e);if(!a)throw new RangeError("No node at given position");n||(n=a.type);let c=n.create(i,null,s||a.marks);if(a.isLeaf)return t.replaceWith(e,e+a.nodeSize,c);if(!n.validContent(a.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new St(e,e+a.nodeSize,e+1,e+a.nodeSize-1,new ee(J.from(c),0,0),1,!0))}function Si(t,e,n=1,i){let s=t.resolve(e),a=s.depth-n,c=i&&i[i.length-1]||s.parent;if(a<0||s.parent.type.spec.isolating||!s.parent.canReplace(s.index(),s.parent.childCount)||!c.type.validContent(s.parent.content.cutByIndex(s.index(),s.parent.childCount)))return!1;for(let h=s.depth-1,m=n-2;h>a;h--,m--){let y=s.node(h),x=s.index(h);if(y.type.spec.isolating)return!1;let v=y.content.cutByIndex(x,y.childCount),S=i&&i[m+1];S&&(v=v.replaceChild(0,S.type.create(S.attrs)));let E=i&&i[m]||y;if(!y.canReplace(x+1,y.childCount)||!E.type.validContent(v))return!1}let u=s.indexAfter(a),d=i&&i[0];return s.node(a).canReplaceWith(u,u,d?d.type:s.node(a+1).type)}function qM(t,e,n=1,i){let s=t.doc.resolve(e),a=J.empty,c=J.empty;for(let u=s.depth,d=s.depth-n,h=n-1;u>d;u--,h--){a=J.from(s.node(u).copy(a));let m=i&&i[h];c=J.from(m?m.type.create(m.attrs,c):s.node(u).copy(c))}t.step(new bt(e,e,new ee(a.append(c),n,n),!0))}function dr(t,e){let n=t.resolve(e),i=n.index();return SS(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(i,i+1)}function IM(t,e){e.content.size||t.type.compatibleContent(e.type);let n=t.contentMatchAt(t.childCount),{linebreakReplacement:i}=t.type.schema;for(let s=0;s<e.childCount;s++){let a=e.child(s),c=a.type==i?t.type.schema.nodes.text:a.type;if(n=n.matchType(c),!n||!t.type.allowsMarks(a.marks))return!1}return n.validEnd}function SS(t,e){return!!(t&&e&&!t.isLeaf&&IM(t,e))}function qu(t,e,n=-1){let i=t.resolve(e);for(let s=i.depth;;s--){let a,c,u=i.index(s);if(s==i.depth?(a=i.nodeBefore,c=i.nodeAfter):n>0?(a=i.node(s+1),u++,c=i.node(s).maybeChild(u)):(a=i.node(s).maybeChild(u-1),c=i.node(s+1)),a&&!a.isTextblock&&SS(a,c)&&i.node(s).canReplace(u,u+1))return e;if(s==0)break;e=n<0?i.before(s):i.after(s)}}function VM(t,e,n){let i=null,{linebreakReplacement:s}=t.doc.type.schema,a=t.doc.resolve(e-n),c=a.node().type;if(s&&c.inlineContent){let m=c.whitespace=="pre",y=!!c.contentMatch.matchType(s);m&&!y?i=!1:!m&&y&&(i=!0)}let u=t.steps.length;if(i===!1){let m=t.doc.resolve(e+n);vS(t,m.node(),m.before(),u)}c.inlineContent&&nm(t,e+n-1,c,a.node().contentMatchAt(a.index()),i==null);let d=t.mapping.slice(u),h=d.map(e-n);if(t.step(new bt(h,d.map(e+n,-1),ee.empty,!0)),i===!0){let m=t.doc.resolve(h);xS(t,m.node(),m.before(),t.steps.length)}return t}function PM(t,e,n){let i=t.resolve(e);if(i.parent.canReplaceWith(i.index(),i.index(),n))return e;if(i.parentOffset==0)for(let s=i.depth-1;s>=0;s--){let a=i.index(s);if(i.node(s).canReplaceWith(a,a,n))return i.before(s+1);if(a>0)return null}if(i.parentOffset==i.parent.content.size)for(let s=i.depth-1;s>=0;s--){let a=i.indexAfter(s);if(i.node(s).canReplaceWith(a,a,n))return i.after(s+1);if(a<i.node(s).childCount)return null}return null}function wS(t,e,n){let i=t.resolve(e);if(!n.content.size)return e;let s=n.content;for(let a=0;a<n.openStart;a++)s=s.firstChild.content;for(let a=1;a<=(n.openStart==0&&n.size?2:1);a++)for(let c=i.depth;c>=0;c--){let u=c==i.depth?0:i.pos<=(i.start(c+1)+i.end(c+1))/2?-1:1,d=i.index(c)+(u>0?1:0),h=i.node(c),m=!1;if(a==1)m=h.canReplace(d,d,s);else{let y=h.contentMatchAt(d).findWrapping(s.firstChild.type);m=y&&h.canReplaceWith(d,d,y[0])}if(m)return u==0?i.pos:u<0?i.before(c+1):i.after(c+1)}return null}function Iu(t,e,n=e,i=ee.empty){if(e==n&&!i.size)return null;let s=t.resolve(e),a=t.resolve(n);return kS(s,a,i)?new bt(e,n,i):new $M(s,a,i).fit()}function kS(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class $M{constructor(e,n,i){this.$from=e,this.$to=n,this.unplaced=i,this.frontier=[],this.placed=J.empty;for(let s=0;s<=e.depth;s++){let a=e.node(s);this.frontier.push({type:a.type,match:a.contentMatchAt(e.indexAfter(s))})}for(let s=e.depth;s>0;s--)this.placed=J.from(e.node(s).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let h=this.findFittable();h?this.placeNodes(h):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,i=this.$from,s=this.close(e<0?this.$to:i.doc.resolve(e));if(!s)return null;let a=this.placed,c=i.depth,u=s.depth;for(;c&&u&&a.childCount==1;)a=a.firstChild.content,c--,u--;let d=new ee(a,c,u);return e>-1?new St(i.pos,e,this.$to.pos,this.$to.end(),d,n):d.size||i.pos!=this.$to.pos?new bt(i.pos,s.pos,d):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,i=0,s=this.unplaced.openEnd;i<e;i++){let a=n.firstChild;if(n.childCount>1&&(s=0),a.type.spec.isolating&&s<=i){e=i;break}n=a.content}for(let n=1;n<=2;n++)for(let i=n==1?e:this.unplaced.openStart;i>=0;i--){let s,a=null;i?(a=_h(this.unplaced.content,i-1).firstChild,s=a.content):s=this.unplaced.content;let c=s.firstChild;for(let u=this.depth;u>=0;u--){let{type:d,match:h}=this.frontier[u],m,y=null;if(n==1&&(c?h.matchType(c.type)||(y=h.fillBefore(J.from(c),!1)):a&&d.compatibleContent(a.type)))return{sliceDepth:i,frontierDepth:u,parent:a,inject:y};if(n==2&&c&&(m=h.findWrapping(c.type)))return{sliceDepth:i,frontierDepth:u,parent:a,wrap:m};if(a&&h.matchType(a.type))break}}}openMore(){let{content:e,openStart:n,openEnd:i}=this.unplaced,s=_h(e,n);return!s.childCount||s.firstChild.isLeaf?!1:(this.unplaced=new ee(e,n+1,Math.max(i,s.size+n>=e.size-i?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:i}=this.unplaced,s=_h(e,n);if(s.childCount<=1&&n>0){let a=e.size-n<=n+s.size;this.unplaced=new ee(ca(e,n-1,1),n-1,a?n-1:i)}else this.unplaced=new ee(ca(e,n,1),n,i)}placeNodes({sliceDepth:e,frontierDepth:n,parent:i,inject:s,wrap:a}){for(;this.depth>n;)this.closeFrontierNode();if(a)for(let E=0;E<a.length;E++)this.openFrontierNode(a[E]);let c=this.unplaced,u=i?i.content:c.content,d=c.openStart-e,h=0,m=[],{match:y,type:x}=this.frontier[n];if(s){for(let E=0;E<s.childCount;E++)m.push(s.child(E));y=y.matchFragment(s)}let v=u.size+e-(c.content.size-c.openEnd);for(;h<u.childCount;){let E=u.child(h),k=y.matchType(E.type);if(!k)break;h++,(h>1||d==0||E.content.size)&&(y=k,m.push(ES(E.mark(x.allowedMarks(E.marks)),h==1?d:0,h==u.childCount?v:-1)))}let S=h==u.childCount;S||(v=-1),this.placed=ua(this.placed,n,J.from(m)),this.frontier[n].match=y,S&&v<0&&i&&i.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let E=0,k=u;E<v;E++){let T=k.lastChild;this.frontier.push({type:T.type,match:T.contentMatchAt(T.childCount)}),k=T.content}this.unplaced=S?e==0?ee.empty:new ee(ca(c.content,e-1,1),e-1,v<0?c.openEnd:e-1):new ee(ca(c.content,e,h),c.openStart,c.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!Bh(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:i}=this.$to,s=this.$to.after(i);for(;i>1&&s==this.$to.end(--i);)++s;return s}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:i,type:s}=this.frontier[n],a=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),c=Bh(e,n,s,i,a);if(c){for(let u=n-1;u>=0;u--){let{match:d,type:h}=this.frontier[u],m=Bh(e,u,h,d,!0);if(!m||m.childCount)continue e}return{depth:n,fit:c,move:a?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=ua(this.placed,n.depth,n.fit)),e=n.move;for(let i=n.depth+1;i<=e.depth;i++){let s=e.node(i),a=s.type.contentMatch.fillBefore(s.content,!0,e.index(i));this.openFrontierNode(s.type,s.attrs,a)}return e}openFrontierNode(e,n=null,i){let s=this.frontier[this.depth];s.match=s.match.matchType(e),this.placed=ua(this.placed,this.depth,J.from(e.create(n,i))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(J.empty,!0);n.childCount&&(this.placed=ua(this.placed,this.frontier.length,n))}}function ca(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(ca(t.firstChild.content,e-1,n)))}function ua(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(ua(t.lastChild.content,e-1,n)))}function _h(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function ES(t,e,n){if(e<=0)return t;let i=t.content;return e>1&&(i=i.replaceChild(0,ES(i.firstChild,e-1,i.childCount==1?n-1:0))),e>0&&(i=t.type.contentMatch.fillBefore(i).append(i),n<=0&&(i=i.append(t.type.contentMatch.matchFragment(i).fillBefore(J.empty,!0)))),t.copy(i)}function Bh(t,e,n,i,s){let a=t.node(e),c=s?t.indexAfter(e):t.index(e);if(c==a.childCount&&!n.compatibleContent(a.type))return null;let u=i.fillBefore(a.content,!0,c);return u&&!FM(n,a.content,c)?u:null}function FM(t,e,n){for(let i=n;i<e.childCount;i++)if(!t.allowsMarks(e.child(i).marks))return!0;return!1}function KM(t){return t.spec.defining||t.spec.definingForContent}function GM(t,e,n,i){if(!i.size)return t.deleteRange(e,n);let s=t.doc.resolve(e),a=t.doc.resolve(n);if(kS(s,a,i))return t.step(new bt(e,n,i));let c=TS(s,a);c[c.length-1]==0&&c.pop();let u=-(s.depth+1);c.unshift(u);for(let x=s.depth,v=s.pos-1;x>0;x--,v--){let S=s.node(x).type.spec;if(S.defining||S.definingAsContext||S.isolating)break;c.indexOf(x)>-1?u=x:s.before(x)==v&&c.splice(1,0,-x)}let d=c.indexOf(u),h=[],m=i.openStart;for(let x=i.content,v=0;;v++){let S=x.firstChild;if(h.push(S),v==i.openStart)break;x=S.content}for(let x=m-1;x>=0;x--){let v=h[x],S=KM(v.type);if(S&&!v.sameMarkup(s.node(Math.abs(u)-1)))m=x;else if(S||!v.type.isTextblock)break}for(let x=i.openStart;x>=0;x--){let v=(x+m+1)%(i.openStart+1),S=h[v];if(S)for(let E=0;E<c.length;E++){let k=c[(E+d)%c.length],T=!0;k<0&&(T=!1,k=-k);let M=s.node(k-1),D=s.index(k-1);if(M.canReplaceWith(D,D,S.type,S.marks))return t.replace(s.before(k),T?a.after(k):n,new ee(NS(i.content,0,i.openStart,v),v,i.openEnd))}}let y=t.steps.length;for(let x=c.length-1;x>=0&&(t.replace(e,n,i),!(t.steps.length>y));x--){let v=c[x];v<0||(e=s.before(v),n=a.after(v))}}function NS(t,e,n,i,s){if(e<n){let a=t.firstChild;t=t.replaceChild(0,a.copy(NS(a.content,e+1,n,i,a)))}if(e>i){let a=s.contentMatchAt(0),c=a.fillBefore(t).append(t);t=c.append(a.matchFragment(c).fillBefore(J.empty,!0))}return t}function YM(t,e,n,i){if(!i.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let s=PM(t.doc,e,i.type);s!=null&&(e=n=s)}t.replaceRange(e,n,new ee(J.from(i),0,0))}function JM(t,e,n){let i=t.doc.resolve(e),s=t.doc.resolve(n),a=TS(i,s);for(let c=0;c<a.length;c++){let u=a[c],d=c==a.length-1;if(d&&u==0||i.node(u).type.contentMatch.validEnd)return t.delete(i.start(u),s.end(u));if(u>0&&(d||i.node(u-1).canReplace(i.index(u-1),s.indexAfter(u-1))))return t.delete(i.before(u),s.after(u))}for(let c=1;c<=i.depth&&c<=s.depth;c++)if(e-i.start(c)==i.depth-c&&n>i.end(c)&&s.end(c)-n!=s.depth-c&&i.start(c-1)==s.start(c-1)&&i.node(c-1).canReplace(i.index(c-1),s.index(c-1)))return t.delete(i.before(c),n);t.delete(e,n)}function TS(t,e){let n=[],i=Math.min(t.depth,e.depth);for(let s=i;s>=0;s--){let a=t.start(s);if(a<t.pos-(t.depth-s)||e.end(s)>e.pos+(e.depth-s)||t.node(s).type.spec.isolating||e.node(s).type.spec.isolating)break;(a==e.start(s)||s==t.depth&&s==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&s&&e.start(s-1)==a-1)&&n.push(s)}return n}class Js extends Lt{constructor(e,n,i){super(),this.pos=e,this.attr=n,this.value=i}apply(e){let n=e.nodeAt(this.pos);if(!n)return dt.fail("No node at attribute step's position");let i=Object.create(null);for(let a in n.attrs)i[a]=n.attrs[a];i[this.attr]=this.value;let s=n.type.create(i,null,n.marks);return dt.fromReplace(e,this.pos,this.pos+1,new ee(J.from(s),0,n.isLeaf?0:1))}getMap(){return fn.empty}invert(e){return new Js(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Js(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new Js(n.pos,n.attr,n.value)}}Lt.jsonID("attr",Js);class Aa extends Lt{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let s in e.attrs)n[s]=e.attrs[s];n[this.attr]=this.value;let i=e.type.create(n,e.content,e.marks);return dt.ok(i)}getMap(){return fn.empty}invert(e){return new Aa(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Aa(n.attr,n.value)}}Lt.jsonID("docAttr",Aa);let Ws=class extends Error{};Ws=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};Ws.prototype=Object.create(Error.prototype);Ws.prototype.constructor=Ws;Ws.prototype.name="TransformError";class CS{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new Ca}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new Ws(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}changedRange(){let e=1e9,n=-1e9;for(let i=0;i<this.mapping.maps.length;i++){let s=this.mapping.maps[i];i&&(e=s.map(e,1),n=s.map(n,-1)),s.forEach((a,c,u,d)=>{e=Math.min(e,u),n=Math.max(n,d)})}return e==1e9?null:{from:e,to:n}}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,i=ee.empty){let s=Iu(this.doc,e,n,i);return s&&this.step(s),this}replaceWith(e,n,i){return this.replace(e,n,new ee(J.from(i),0,0))}delete(e,n){return this.replace(e,n,ee.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,i){return GM(this,e,n,i),this}replaceRangeWith(e,n,i){return YM(this,e,n,i),this}deleteRange(e,n){return JM(this,e,n),this}lift(e,n){return DM(this,e,n),this}join(e,n=1){return VM(this,e,n),this}wrap(e,n){return _M(this,e,n),this}setBlockType(e,n=e,i,s=null){return BM(this,e,n,i,s),this}setNodeMarkup(e,n,i=null,s){return UM(this,e,n,i,s),this}setNodeAttribute(e,n,i){return this.step(new Js(e,n,i)),this}setDocAttribute(e,n){return this.step(new Aa(e,n)),this}addNodeMark(e,n){return this.step(new rr(e,n)),this}removeNodeMark(e,n){let i=this.doc.nodeAt(e);if(!i)throw new RangeError("No node at position "+e);if(n instanceof Ie)n.isInSet(i.marks)&&this.step(new Xr(e,n));else{let s=i.marks,a,c=[];for(;a=n.isInSet(s);)c.push(new Xr(e,a)),s=a.removeFromSet(s);for(let u=c.length-1;u>=0;u--)this.step(c[u])}return this}split(e,n=1,i){return qM(this,e,n,i),this}addMark(e,n,i){return OM(this,e,n,i),this}removeMark(e,n,i){return RM(this,e,n,i),this}clearIncompatible(e,n,i){return nm(this,e,n,i),this}}const Hh=Object.create(null);class ye{constructor(e,n,i){this.$anchor=e,this.$head=n,this.ranges=i||[new XM(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=ee.empty){let i=n.content.lastChild,s=null;for(let u=0;u<n.openEnd;u++)s=i,i=i.lastChild;let a=e.steps.length,c=this.ranges;for(let u=0;u<c.length;u++){let{$from:d,$to:h}=c[u],m=e.mapping.slice(a);e.replaceRange(m.map(d.pos),m.map(h.pos),u?ee.empty:n),u==0&&Hx(e,a,(i?i.isInline:s&&s.isTextblock)?-1:1)}}replaceWith(e,n){let i=e.steps.length,s=this.ranges;for(let a=0;a<s.length;a++){let{$from:c,$to:u}=s[a],d=e.mapping.slice(i),h=d.map(c.pos),m=d.map(u.pos);a?e.deleteRange(h,m):(e.replaceRangeWith(h,m,n),Hx(e,i,n.isInline?-1:1))}}static findFrom(e,n,i=!1){let s=e.parent.inlineContent?new ue(e):Fs(e.node(0),e.parent,e.pos,e.index(),n,i);if(s)return s;for(let a=e.depth-1;a>=0;a--){let c=n<0?Fs(e.node(0),e.node(a),e.before(a+1),e.index(a),n,i):Fs(e.node(0),e.node(a),e.after(a+1),e.index(a)+1,n,i);if(c)return c}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new dn(e.node(0))}static atStart(e){return Fs(e,e,0,0,1)||new dn(e)}static atEnd(e){return Fs(e,e,e.content.size,e.childCount,-1)||new dn(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let i=Hh[n.type];if(!i)throw new RangeError(`No selection type ${n.type} defined`);return i.fromJSON(e,n)}static jsonID(e,n){if(e in Hh)throw new RangeError("Duplicate use of selection JSON ID "+e);return Hh[e]=n,n.prototype.jsonID=e,n}getBookmark(){return ue.between(this.$anchor,this.$head).getBookmark()}}ye.prototype.visible=!0;class XM{constructor(e,n){this.$from=e,this.$to=n}}let _x=!1;function Bx(t){!_x&&!t.parent.inlineContent&&(_x=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class ue extends ye{constructor(e,n=e){Bx(e),Bx(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let i=e.resolve(n.map(this.head));if(!i.parent.inlineContent)return ye.near(i);let s=e.resolve(n.map(this.anchor));return new ue(s.parent.inlineContent?s:i,i)}replace(e,n=ee.empty){if(super.replace(e,n),n==ee.empty){let i=this.$from.marksAcross(this.$to);i&&e.ensureMarks(i)}}eq(e){return e instanceof ue&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new Vu(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new ue(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,i=n){let s=e.resolve(n);return new this(s,i==n?s:e.resolve(i))}static between(e,n,i){let s=e.pos-n.pos;if((!i||s)&&(i=s>=0?1:-1),!n.parent.inlineContent){let a=ye.findFrom(n,i,!0)||ye.findFrom(n,-i,!0);if(a)n=a.$head;else return ye.near(n,i)}return e.parent.inlineContent||(s==0?e=n:(e=(ye.findFrom(e,-i,!0)||ye.findFrom(e,i,!0)).$anchor,e.pos<n.pos!=s<0&&(e=n))),new ue(e,n)}}ye.jsonID("text",ue);class Vu{constructor(e,n){this.anchor=e,this.head=n}map(e){return new Vu(e.map(this.anchor),e.map(this.head))}resolve(e){return ue.between(e.resolve(this.anchor),e.resolve(this.head))}}class ae extends ye{constructor(e){let n=e.nodeAfter,i=e.node(0).resolve(e.pos+n.nodeSize);super(e,i),this.node=n}map(e,n){let{deleted:i,pos:s}=n.mapResult(this.anchor),a=e.resolve(s);return i?ye.near(a):new ae(a)}content(){return new ee(J.from(this.node),0,0)}eq(e){return e instanceof ae&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new rm(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new ae(e.resolve(n.anchor))}static create(e,n){return new ae(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}ae.prototype.visible=!1;ye.jsonID("node",ae);class rm{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:i}=e.mapResult(this.anchor);return n?new Vu(i,i):new rm(i)}resolve(e){let n=e.resolve(this.anchor),i=n.nodeAfter;return i&&ae.isSelectable(i)?new ae(n):ye.near(n)}}class dn extends ye{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=ee.empty){if(n==ee.empty){e.delete(0,e.doc.content.size);let i=ye.atStart(e.doc);i.eq(e.selection)||e.setSelection(i)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new dn(e)}map(e){return new dn(e)}eq(e){return e instanceof dn}getBookmark(){return QM}}ye.jsonID("all",dn);const QM={map(){return this},resolve(t){return new dn(t)}};function Fs(t,e,n,i,s,a=!1){if(e.inlineContent)return ue.create(t,n);for(let c=i-(s>0?0:1);s>0?c<e.childCount:c>=0;c+=s){let u=e.child(c);if(u.isAtom){if(!a&&ae.isSelectable(u))return ae.create(t,n-(s<0?u.nodeSize:0))}else{let d=Fs(t,u,n+s,s<0?u.childCount:0,s,a);if(d)return d}n+=u.nodeSize*s}return null}function Hx(t,e,n){let i=t.steps.length-1;if(i<e)return;let s=t.steps[i];if(!(s instanceof bt||s instanceof St))return;let a=t.mapping.maps[i],c;a.forEach((u,d,h,m)=>{c==null&&(c=m)}),t.setSelection(ye.near(t.doc.resolve(c),n))}const Ux=1,xc=2,qx=4;class WM extends CS{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|Ux)&~xc,this.storedMarks=null,this}get selectionSet(){return(this.updated&Ux)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=xc,this}ensureMarks(e){return Ie.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&xc)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&~xc,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let i=this.selection;return n&&(e=e.mark(this.storedMarks||(i.empty?i.$from.marks():i.$from.marksAcross(i.$to)||Ie.none))),i.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,i){let s=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(s.text(e),!0):this.deleteSelection();{if(i==null&&(i=n),!e)return this.deleteRange(n,i);let a=this.storedMarks;if(!a){let c=this.doc.resolve(n);a=i==n?c.marks():c.marksAcross(this.doc.resolve(i))}return this.replaceRangeWith(n,i,s.text(e,a)),!this.selection.empty&&this.selection.to==n+e.length&&this.setSelection(ye.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=qx,this}get scrolledIntoView(){return(this.updated&qx)>0}}function Ix(t,e){return!e||!t?t:t.bind(e)}class fa{constructor(e,n,i){this.name=e,this.init=Ix(n.init,i),this.apply=Ix(n.apply,i)}}const ZM=[new fa("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new fa("selection",{init(t,e){return t.selection||ye.atStart(e.doc)},apply(t){return t.selection}}),new fa("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,i){return i.selection.$cursor?t.storedMarks:null}}),new fa("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class Uh{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=ZM.slice(),n&&n.forEach(i=>{if(this.pluginsByKey[i.key])throw new RangeError("Adding different instances of a keyed plugin ("+i.key+")");this.plugins.push(i),this.pluginsByKey[i.key]=i,i.spec.state&&this.fields.push(new fa(i.key,i.spec.state,i))})}}class Ys{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let i=0;i<this.config.plugins.length;i++)if(i!=n){let s=this.config.plugins[i];if(s.spec.filterTransaction&&!s.spec.filterTransaction.call(s,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],i=this.applyInner(e),s=null;for(;;){let a=!1;for(let c=0;c<this.config.plugins.length;c++){let u=this.config.plugins[c];if(u.spec.appendTransaction){let d=s?s[c].n:0,h=s?s[c].state:this,m=d<n.length&&u.spec.appendTransaction.call(u,d?n.slice(d):n,h,i);if(m&&i.filterTransaction(m,c)){if(m.setMeta("appendedTransaction",e),!s){s=[];for(let y=0;y<this.config.plugins.length;y++)s.push(y<c?{state:i,n:n.length}:{state:this,n:0})}n.push(m),i=i.applyInner(m),a=!0}s&&(s[c]={state:i,n:n.length})}}if(!a)return{state:i,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new Ys(this.config),i=this.config.fields;for(let s=0;s<i.length;s++){let a=i[s];n[a.name]=a.apply(e,this[a.name],this,n)}return n}get tr(){return new WM(this)}static create(e){let n=new Uh(e.doc?e.doc.type.schema:e.schema,e.plugins),i=new Ys(n);for(let s=0;s<n.fields.length;s++)i[n.fields[s].name]=n.fields[s].init(e,i);return i}reconfigure(e){let n=new Uh(this.schema,e.plugins),i=n.fields,s=new Ys(n);for(let a=0;a<i.length;a++){let c=i[a].name;s[c]=this.hasOwnProperty(c)?this[c]:i[a].init(e,s)}return s}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(i=>i.toJSON())),e&&typeof e=="object")for(let i in e){if(i=="doc"||i=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let s=e[i],a=s.spec.state;a&&a.toJSON&&(n[i]=a.toJSON.call(s,this[s.key]))}return n}static fromJSON(e,n,i){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let s=new Uh(e.schema,e.plugins),a=new Ys(s);return s.fields.forEach(c=>{if(c.name=="doc")a.doc=Ln.fromJSON(e.schema,n.doc);else if(c.name=="selection")a.selection=ye.fromJSON(a.doc,n.selection);else if(c.name=="storedMarks")n.storedMarks&&(a.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(i)for(let u in i){let d=i[u],h=d.spec.state;if(d.key==c.name&&h&&h.fromJSON&&Object.prototype.hasOwnProperty.call(n,u)){a[c.name]=h.fromJSON.call(d,e,n[u],a);return}}a[c.name]=c.init(e,a)}}),a}}function AS(t,e,n){for(let i in t){let s=t[i];s instanceof Function?s=s.bind(e):i=="handleDOMEvents"&&(s=AS(s,e,{})),n[i]=s}return n}class Ye{constructor(e){this.spec=e,this.props={},e.props&&AS(e.props,this,this.props),this.key=e.key?e.key.key:MS("plugin")}getState(e){return e[this.key]}}const qh=Object.create(null);function MS(t){return t in qh?t+"$"+ ++qh[t]:(qh[t]=0,t+"$")}class mt{constructor(e="key"){this.key=MS(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const sm=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function OS(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const RS=(t,e,n)=>{let i=OS(t,n);if(!i)return!1;let s=lm(i);if(!s){let c=i.blockRange(),u=c&&ol(c);return u==null?!1:(e&&e(t.tr.lift(c,u).scrollIntoView()),!0)}let a=s.nodeBefore;if(qS(t,s,e,-1))return!0;if(i.parent.content.size==0&&(Zs(a,"end")||ae.isSelectable(a)))for(let c=i.depth;;c--){let u=Iu(t.doc,i.before(c),i.after(c),ee.empty);if(u&&u.slice.size<u.to-u.from){if(e){let d=t.tr.step(u);d.setSelection(Zs(a,"end")?ye.findFrom(d.doc.resolve(d.mapping.map(s.pos,-1)),-1):ae.create(d.doc,s.pos-a.nodeSize)),e(d.scrollIntoView())}return!0}if(c==1||i.node(c-1).childCount>1)break}return a.isAtom&&s.depth==i.depth-1?(e&&e(t.tr.delete(s.pos-a.nodeSize,s.pos).scrollIntoView()),!0):!1},eO=(t,e,n)=>{let i=OS(t,n);if(!i)return!1;let s=lm(i);return s?jS(t,s,e):!1},tO=(t,e,n)=>{let i=zS(t,n);if(!i)return!1;let s=am(i);return s?jS(t,s,e):!1};function jS(t,e,n){let i=e.nodeBefore,s=i,a=e.pos-1;for(;!s.isTextblock;a--){if(s.type.spec.isolating)return!1;let m=s.lastChild;if(!m)return!1;s=m}let c=e.nodeAfter,u=c,d=e.pos+1;for(;!u.isTextblock;d++){if(u.type.spec.isolating)return!1;let m=u.firstChild;if(!m)return!1;u=m}let h=Iu(t.doc,a,d,ee.empty);if(!h||h.from!=a||h instanceof bt&&h.slice.size>=d-a)return!1;if(n){let m=t.tr.step(h);m.setSelection(ue.create(m.doc,a)),n(m.scrollIntoView())}return!0}function Zs(t,e,n=!1){for(let i=t;i;i=e=="start"?i.firstChild:i.lastChild){if(i.isTextblock)return!0;if(n&&i.childCount!=1)return!1}return!1}const DS=(t,e,n)=>{let{$head:i,empty:s}=t.selection,a=i;if(!s)return!1;if(i.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):i.parentOffset>0)return!1;a=lm(i)}let c=a&&a.nodeBefore;return!c||!ae.isSelectable(c)?!1:(e&&e(t.tr.setSelection(ae.create(t.doc,a.pos-c.nodeSize)).scrollIntoView()),!0)};function lm(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function zS(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const LS=(t,e,n)=>{let i=zS(t,n);if(!i)return!1;let s=am(i);if(!s)return!1;let a=s.nodeAfter;if(qS(t,s,e,1))return!0;if(i.parent.content.size==0&&(Zs(a,"start")||ae.isSelectable(a))){let c=Iu(t.doc,i.before(),i.after(),ee.empty);if(c&&c.slice.size<c.to-c.from){if(e){let u=t.tr.step(c);u.setSelection(Zs(a,"start")?ye.findFrom(u.doc.resolve(u.mapping.map(s.pos)),1):ae.create(u.doc,u.mapping.map(s.pos))),e(u.scrollIntoView())}return!0}}return a.isAtom&&s.depth==i.depth-1?(e&&e(t.tr.delete(s.pos,s.pos+a.nodeSize).scrollIntoView()),!0):!1},_S=(t,e,n)=>{let{$head:i,empty:s}=t.selection,a=i;if(!s)return!1;if(i.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):i.parentOffset<i.parent.content.size)return!1;a=am(i)}let c=a&&a.nodeAfter;return!c||!ae.isSelectable(c)?!1:(e&&e(t.tr.setSelection(ae.create(t.doc,a.pos)).scrollIntoView()),!0)};function am(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const nO=(t,e)=>{let n=t.selection,i=n instanceof ae,s;if(i){if(n.node.isTextblock||!dr(t.doc,n.from))return!1;s=n.from}else if(s=qu(t.doc,n.from,-1),s==null)return!1;if(e){let a=t.tr.join(s);i&&a.setSelection(ae.create(a.doc,s-t.doc.resolve(s).nodeBefore.nodeSize)),e(a.scrollIntoView())}return!0},iO=(t,e)=>{let n=t.selection,i;if(n instanceof ae){if(n.node.isTextblock||!dr(t.doc,n.to))return!1;i=n.to}else if(i=qu(t.doc,n.to,1),i==null)return!1;return e&&e(t.tr.join(i).scrollIntoView()),!0},rO=(t,e)=>{let{$from:n,$to:i}=t.selection,s=n.blockRange(i),a=s&&ol(s);return a==null?!1:(e&&e(t.tr.lift(s,a).scrollIntoView()),!0)},BS=(t,e)=>{let{$head:n,$anchor:i}=t.selection;return!n.parent.type.spec.code||!n.sameParent(i)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function om(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const sO=(t,e)=>{let{$head:n,$anchor:i}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(i))return!1;let s=n.node(-1),a=n.indexAfter(-1),c=om(s.contentMatchAt(a));if(!c||!s.canReplaceWith(a,a,c))return!1;if(e){let u=n.after(),d=t.tr.replaceWith(u,u,c.createAndFill());d.setSelection(ye.near(d.doc.resolve(u),1)),e(d.scrollIntoView())}return!0},HS=(t,e)=>{let n=t.selection,{$from:i,$to:s}=n;if(n instanceof dn||i.parent.inlineContent||s.parent.inlineContent)return!1;let a=om(s.parent.contentMatchAt(s.indexAfter()));if(!a||!a.isTextblock)return!1;if(e){let c=(!i.parentOffset&&s.index()<s.parent.childCount?i:s).pos,u=t.tr.insert(c,a.createAndFill());u.setSelection(ue.create(u.doc,c+1)),e(u.scrollIntoView())}return!0},US=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let a=n.before();if(Si(t.doc,a))return e&&e(t.tr.split(a).scrollIntoView()),!0}let i=n.blockRange(),s=i&&ol(i);return s==null?!1:(e&&e(t.tr.lift(i,s).scrollIntoView()),!0)};function lO(t){return(e,n)=>{let{$from:i,$to:s}=e.selection;if(e.selection instanceof ae&&e.selection.node.isBlock)return!i.parentOffset||!Si(e.doc,i.pos)?!1:(n&&n(e.tr.split(i.pos).scrollIntoView()),!0);if(!i.depth)return!1;let a=[],c,u,d=!1,h=!1;for(let v=i.depth;;v--)if(i.node(v).isBlock){d=i.end(v)==i.pos+(i.depth-v),h=i.start(v)==i.pos-(i.depth-v),u=om(i.node(v-1).contentMatchAt(i.indexAfter(v-1))),a.unshift(d&&u?{type:u}:null),c=v;break}else{if(v==1)return!1;a.unshift(null)}let m=e.tr;(e.selection instanceof ue||e.selection instanceof dn)&&m.deleteSelection();let y=m.mapping.map(i.pos),x=Si(m.doc,y,a.length,a);if(x||(a[0]=u?{type:u}:null,x=Si(m.doc,y,a.length,a)),!x)return!1;if(m.split(y,a.length,a),!d&&h&&i.node(c).type!=u){let v=m.mapping.map(i.before(c)),S=m.doc.resolve(v);u&&i.node(c-1).canReplaceWith(S.index(),S.index()+1,u)&&m.setNodeMarkup(m.mapping.map(i.before(c)),u)}return n&&n(m.scrollIntoView()),!0}}const aO=lO(),oO=(t,e)=>{let{$from:n,to:i}=t.selection,s,a=n.sharedDepth(i);return a==0?!1:(s=n.before(a),e&&e(t.tr.setSelection(ae.create(t.doc,s))),!0)};function cO(t,e,n){let i=e.nodeBefore,s=e.nodeAfter,a=e.index();return!i||!s||!i.type.compatibleContent(s.type)?!1:!i.content.size&&e.parent.canReplace(a-1,a)?(n&&n(t.tr.delete(e.pos-i.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(a,a+1)||!(s.isTextblock||dr(t.doc,e.pos))?!1:(n&&n(t.tr.join(e.pos).scrollIntoView()),!0)}function qS(t,e,n,i){let s=e.nodeBefore,a=e.nodeAfter,c,u,d=s.type.spec.isolating||a.type.spec.isolating;if(!d&&cO(t,e,n))return!0;let h=!d&&e.parent.canReplace(e.index(),e.index()+1);if(h&&(c=(u=s.contentMatchAt(s.childCount)).findWrapping(a.type))&&u.matchType(c[0]||a.type).validEnd){if(n){let v=e.pos+a.nodeSize,S=J.empty;for(let T=c.length-1;T>=0;T--)S=J.from(c[T].create(null,S));S=J.from(s.copy(S));let E=t.tr.step(new St(e.pos-1,v,e.pos,v,new ee(S,1,0),c.length,!0)),k=E.doc.resolve(v+2*c.length);k.nodeAfter&&k.nodeAfter.type==s.type&&dr(E.doc,k.pos)&&E.join(k.pos),n(E.scrollIntoView())}return!0}let m=a.type.spec.isolating||i>0&&d?null:ye.findFrom(e,1),y=m&&m.$from.blockRange(m.$to),x=y&&ol(y);if(x!=null&&x>=e.depth)return n&&n(t.tr.lift(y,x).scrollIntoView()),!0;if(h&&Zs(a,"start",!0)&&Zs(s,"end")){let v=s,S=[];for(;S.push(v),!v.isTextblock;)v=v.lastChild;let E=a,k=1;for(;!E.isTextblock;E=E.firstChild)k++;if(v.canReplace(v.childCount,v.childCount,E.content)){if(n){let T=J.empty;for(let D=S.length-1;D>=0;D--)T=J.from(S[D].copy(T));let M=t.tr.step(new St(e.pos-S.length,e.pos+a.nodeSize,e.pos+k,e.pos+a.nodeSize-k,new ee(T,S.length,0),0,!0));n(M.scrollIntoView())}return!0}}return!1}function IS(t){return function(e,n){let i=e.selection,s=t<0?i.$from:i.$to,a=s.depth;for(;s.node(a).isInline;){if(!a)return!1;a--}return s.node(a).isTextblock?(n&&n(e.tr.setSelection(ue.create(e.doc,t<0?s.start(a):s.end(a)))),!0):!1}}const uO=IS(-1),fO=IS(1);function dO(t,e=null){return function(n,i){let{$from:s,$to:a}=n.selection,c=s.blockRange(a),u=c&&im(c,t,e);return u?(i&&i(n.tr.wrap(c,u).scrollIntoView()),!0):!1}}function Vx(t,e=null){return function(n,i){let s=!1;for(let a=0;a<n.selection.ranges.length&&!s;a++){let{$from:{pos:c},$to:{pos:u}}=n.selection.ranges[a];n.doc.nodesBetween(c,u,(d,h)=>{if(s)return!1;if(!(!d.isTextblock||d.hasMarkup(t,e)))if(d.type==t)s=!0;else{let m=n.doc.resolve(h),y=m.index();s=m.parent.canReplaceWith(y,y+1,t)}})}if(!s)return!1;if(i){let a=n.tr;for(let c=0;c<n.selection.ranges.length;c++){let{$from:{pos:u},$to:{pos:d}}=n.selection.ranges[c];a.setBlockType(u,d,t,e)}i(a.scrollIntoView())}return!0}}function cm(...t){return function(e,n,i){for(let s=0;s<t.length;s++)if(t[s](e,n,i))return!0;return!1}}cm(sm,RS,DS);cm(sm,LS,_S);cm(BS,HS,US,aO);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function hO(t,e=null){return function(n,i){let{$from:s,$to:a}=n.selection,c=s.blockRange(a);if(!c)return!1;let u=i?n.tr:null;return pO(u,c,t,e)?(i&&i(u.scrollIntoView()),!0):!1}}function pO(t,e,n,i=null){let s=!1,a=e,c=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(n)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let d=c.resolve(e.start-2);a=new Fc(d,d,e.depth),e.endIndex<e.parent.childCount&&(e=new Fc(e.$from,c.resolve(e.$to.end(e.depth)),e.depth)),s=!0}let u=im(a,n,i,e);return u?(t&&mO(t,e,u,s,n),!0):!1}function mO(t,e,n,i,s){let a=J.empty;for(let m=n.length-1;m>=0;m--)a=J.from(n[m].type.create(n[m].attrs,a));t.step(new St(e.start-(i?2:0),e.end,e.start,e.end,new ee(a,0,0),n.length,!0));let c=0;for(let m=0;m<n.length;m++)n[m].type==s&&(c=m+1);let u=n.length-c,d=e.start+n.length-(i?2:0),h=e.parent;for(let m=e.startIndex,y=e.endIndex,x=!0;m<y;m++,x=!1)!x&&Si(t.doc,d,u)&&(t.split(d,u),d+=2*u),d+=h.child(m).nodeSize;return t}function gO(t){return function(e,n){let{$from:i,$to:s}=e.selection,a=i.blockRange(s,c=>c.childCount>0&&c.firstChild.type==t);return a?n?i.node(a.depth-1).type==t?yO(e,n,t,a):bO(e,n,a):!0:!1}}function yO(t,e,n,i){let s=t.tr,a=i.end,c=i.$to.end(i.depth);a<c&&(s.step(new St(a-1,c,a,c,new ee(J.from(n.create(null,i.parent.copy())),1,0),1,!0)),i=new Fc(s.doc.resolve(i.$from.pos),s.doc.resolve(c),i.depth));const u=ol(i);if(u==null)return!1;s.lift(i,u);let d=s.doc.resolve(s.mapping.map(a,-1)-1);return dr(s.doc,d.pos)&&d.nodeBefore.type==d.nodeAfter.type&&s.join(d.pos),e(s.scrollIntoView()),!0}function bO(t,e,n){let i=t.tr,s=n.parent;for(let v=n.end,S=n.endIndex-1,E=n.startIndex;S>E;S--)v-=s.child(S).nodeSize,i.delete(v-1,v+1);let a=i.doc.resolve(n.start),c=a.nodeAfter;if(i.mapping.map(n.end)!=n.start+a.nodeAfter.nodeSize)return!1;let u=n.startIndex==0,d=n.endIndex==s.childCount,h=a.node(-1),m=a.index(-1);if(!h.canReplace(m+(u?0:1),m+1,c.content.append(d?J.empty:J.from(s))))return!1;let y=a.pos,x=y+c.nodeSize;return i.step(new St(y-(u?1:0),x+(d?1:0),y+1,x-1,new ee((u?J.empty:J.from(s.copy(J.empty))).append(d?J.empty:J.from(s.copy(J.empty))),u?0:1,d?0:1),u?0:1)),e(i.scrollIntoView()),!0}function xO(t){return function(e,n){let{$from:i,$to:s}=e.selection,a=i.blockRange(s,h=>h.childCount>0&&h.firstChild.type==t);if(!a)return!1;let c=a.startIndex;if(c==0)return!1;let u=a.parent,d=u.child(c-1);if(d.type!=t)return!1;if(n){let h=d.lastChild&&d.lastChild.type==u.type,m=J.from(h?t.create():null),y=new ee(J.from(t.create(null,J.from(u.type.create(null,m)))),h?3:1,0),x=a.start,v=a.end;n(e.tr.step(new St(x-(h?3:1),v,x,v,y,1,!0)).scrollIntoView())}return!0}}const Mt=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},el=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let vp=null;const bi=function(t,e,n){let i=vp||(vp=document.createRange());return i.setEnd(t,n??t.nodeValue.length),i.setStart(t,e||0),i},vO=function(){vp=null},Qr=function(t,e,n,i){return n&&(Px(t,e,n,i,-1)||Px(t,e,n,i,1))},SO=/^(img|br|input|textarea|hr)$/i;function Px(t,e,n,i,s){for(var a;;){if(t==n&&e==i)return!0;if(e==(s<0?0:Tn(t))){let c=t.parentNode;if(!c||c.nodeType!=1||Ka(t)||SO.test(t.nodeName)||t.contentEditable=="false")return!1;e=Mt(t)+(s<0?0:1),t=c}else if(t.nodeType==1){let c=t.childNodes[e+(s<0?-1:0)];if(c.nodeType==1&&c.contentEditable=="false")if(!((a=c.pmViewDesc)===null||a===void 0)&&a.ignoreForSelection)e+=s;else return!1;else t=c,e=s<0?Tn(t):0}else return!1}}function Tn(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function wO(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=Tn(t)}else if(t.parentNode&&!Ka(t))e=Mt(t),t=t.parentNode;else return null}}function kO(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!Ka(t))e=Mt(t)+1,t=t.parentNode;else return null}}function EO(t,e,n){for(let i=e==0,s=e==Tn(t);i||s;){if(t==n)return!0;let a=Mt(t);if(t=t.parentNode,!t)return!1;i=i&&a==0,s=s&&a==Tn(t)}}function Ka(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const Pu=function(t){return t.focusNode&&Qr(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function Lr(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function NO(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function TO(t,e,n){if(t.caretPositionFromPoint)try{let i=t.caretPositionFromPoint(e,n);if(i)return{node:i.offsetNode,offset:Math.min(Tn(i.offsetNode),i.offset)}}catch{}if(t.caretRangeFromPoint){let i=t.caretRangeFromPoint(e,n);if(i)return{node:i.startContainer,offset:Math.min(Tn(i.startContainer),i.startOffset)}}}const Gn=typeof navigator<"u"?navigator:null,$x=typeof document<"u"?document:null,hr=Gn&&Gn.userAgent||"",Sp=/Edge\/(\d+)/.exec(hr),VS=/MSIE \d/.exec(hr),wp=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(hr),Wt=!!(VS||wp||Sp),ar=VS?document.documentMode:wp?+wp[1]:Sp?+Sp[1]:0,Cn=!Wt&&/gecko\/(\d+)/i.test(hr);Cn&&+(/Firefox\/(\d+)/.exec(hr)||[0,0])[1];const kp=!Wt&&/Chrome\/(\d+)/.exec(hr),vt=!!kp,PS=kp?+kp[1]:0,Rt=!Wt&&!!Gn&&/Apple Computer/.test(Gn.vendor),tl=Rt&&(/Mobile\/\w+/.test(hr)||!!Gn&&Gn.maxTouchPoints>2),Nn=tl||(Gn?/Mac/.test(Gn.platform):!1),$S=Gn?/Win/.test(Gn.platform):!1,xi=/Android \d/.test(hr),Ga=!!$x&&"webkitFontSmoothing"in $x.documentElement.style,CO=Ga?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function AO(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function pi(t,e){return typeof t=="number"?t:t[e]}function MO(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,i=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*i}}function Fx(t,e,n){let i=t.someProp("scrollThreshold")||0,s=t.someProp("scrollMargin")||5,a=t.dom.ownerDocument;for(let c=n||t.dom;c;){if(c.nodeType!=1){c=el(c);continue}let u=c,d=u==a.body,h=d?AO(a):MO(u),m=0,y=0;if(e.top<h.top+pi(i,"top")?y=-(h.top-e.top+pi(s,"top")):e.bottom>h.bottom-pi(i,"bottom")&&(y=e.bottom-e.top>h.bottom-h.top?e.top+pi(s,"top")-h.top:e.bottom-h.bottom+pi(s,"bottom")),e.left<h.left+pi(i,"left")?m=-(h.left-e.left+pi(s,"left")):e.right>h.right-pi(i,"right")&&(m=e.right-h.right+pi(s,"right")),m||y)if(d)a.defaultView.scrollBy(m,y);else{let v=u.scrollLeft,S=u.scrollTop;y&&(u.scrollTop+=y),m&&(u.scrollLeft+=m);let E=u.scrollLeft-v,k=u.scrollTop-S;e={left:e.left-E,top:e.top-k,right:e.right-E,bottom:e.bottom-k}}let x=d?"fixed":getComputedStyle(c).position;if(/^(fixed|sticky)$/.test(x))break;c=x=="absolute"?c.offsetParent:el(c)}}function OO(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),i,s;for(let a=(e.left+e.right)/2,c=n+1;c<Math.min(innerHeight,e.bottom);c+=5){let u=t.root.elementFromPoint(a,c);if(!u||u==t.dom||!t.dom.contains(u))continue;let d=u.getBoundingClientRect();if(d.top>=n-20){i=u,s=d.top;break}}return{refDOM:i,refTop:s,stack:FS(t.dom)}}function FS(t){let e=[],n=t.ownerDocument;for(let i=t;i&&(e.push({dom:i,top:i.scrollTop,left:i.scrollLeft}),t!=n);i=el(i));return e}function RO({refDOM:t,refTop:e,stack:n}){let i=t?t.getBoundingClientRect().top:0;KS(n,i==0?0:i-e)}function KS(t,e){for(let n=0;n<t.length;n++){let{dom:i,top:s,left:a}=t[n];i.scrollTop!=s+e&&(i.scrollTop=s+e),i.scrollLeft!=a&&(i.scrollLeft=a)}}let Ps=null;function jO(t){if(t.setActive)return t.setActive();if(Ps)return t.focus(Ps);let e=FS(t);t.focus(Ps==null?{get preventScroll(){return Ps={preventScroll:!0},!0}}:void 0),Ps||(Ps=!1,KS(e,0))}function GS(t,e){let n,i=2e8,s,a=0,c=e.top,u=e.top,d,h;for(let m=t.firstChild,y=0;m;m=m.nextSibling,y++){let x;if(m.nodeType==1)x=m.getClientRects();else if(m.nodeType==3)x=bi(m).getClientRects();else continue;for(let v=0;v<x.length;v++){let S=x[v];if(S.top<=c&&S.bottom>=u){c=Math.max(S.bottom,c),u=Math.min(S.top,u);let E=S.left>e.left?S.left-e.left:S.right<e.left?e.left-S.right:0;if(E<i){n=m,i=E,s=E&&n.nodeType==3?{left:S.right<e.left?S.right:S.left,top:e.top}:e,m.nodeType==1&&E&&(a=y+(e.left>=(S.left+S.right)/2?1:0));continue}}else S.top>e.top&&!d&&S.left<=e.left&&S.right>=e.left&&(d=m,h={left:Math.max(S.left,Math.min(S.right,e.left)),top:S.top});!n&&(e.left>=S.right&&e.top>=S.top||e.left>=S.left&&e.top>=S.bottom)&&(a=y+1)}}return!n&&d&&(n=d,s=h,i=0),n&&n.nodeType==3?DO(n,s):!n||i&&n.nodeType==1?{node:t,offset:a}:GS(n,s)}function DO(t,e){let n=t.nodeValue.length,i=document.createRange(),s;for(let a=0;a<n;a++){i.setEnd(t,a+1),i.setStart(t,a);let c=Qi(i,1);if(c.top!=c.bottom&&um(e,c)){s={node:t,offset:a+(e.left>=(c.left+c.right)/2?1:0)};break}}return i.detach(),s||{node:t,offset:0}}function um(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function zO(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function LO(t,e,n){let{node:i,offset:s}=GS(e,n),a=-1;if(i.nodeType==1&&!i.firstChild){let c=i.getBoundingClientRect();a=c.left!=c.right&&n.left>(c.left+c.right)/2?1:-1}return t.docView.posFromDOM(i,s,a)}function _O(t,e,n,i){let s=-1;for(let a=e,c=!1;a!=t.dom;){let u=t.docView.nearestDesc(a,!0),d;if(!u)return null;if(u.dom.nodeType==1&&(u.node.isBlock&&u.parent||!u.contentDOM)&&((d=u.dom.getBoundingClientRect()).width||d.height)&&(u.node.isBlock&&u.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(u.dom.nodeName)&&(!c&&d.left>i.left||d.top>i.top?s=u.posBefore:(!c&&d.right<i.left||d.bottom<i.top)&&(s=u.posAfter),c=!0),!u.contentDOM&&s<0&&!u.node.isText))return(u.node.isBlock?i.top<(d.top+d.bottom)/2:i.left<(d.left+d.right)/2)?u.posBefore:u.posAfter;a=u.dom.parentNode}return s>-1?s:t.docView.posFromDOM(e,n,-1)}function YS(t,e,n){let i=t.childNodes.length;if(i&&n.top<n.bottom)for(let s=Math.max(0,Math.min(i-1,Math.floor(i*(e.top-n.top)/(n.bottom-n.top))-2)),a=s;;){let c=t.childNodes[a];if(c.nodeType==1){let u=c.getClientRects();for(let d=0;d<u.length;d++){let h=u[d];if(um(e,h))return YS(c,e,h)}}if((a=(a+1)%i)==s)break}return t}function BO(t,e){let n=t.dom.ownerDocument,i,s=0,a=TO(n,e.left,e.top);a&&({node:i,offset:s}=a);let c=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),u;if(!c||!t.dom.contains(c.nodeType!=1?c.parentNode:c)){let h=t.dom.getBoundingClientRect();if(!um(e,h)||(c=YS(t.dom,e,h),!c))return null}if(Rt)for(let h=c;i&&h;h=el(h))h.draggable&&(i=void 0);if(c=zO(c,e),i){if(Cn&&i.nodeType==1&&(s=Math.min(s,i.childNodes.length),s<i.childNodes.length)){let m=i.childNodes[s],y;m.nodeName=="IMG"&&(y=m.getBoundingClientRect()).right<=e.left&&y.bottom>e.top&&s++}let h;Ga&&s&&i.nodeType==1&&(h=i.childNodes[s-1]).nodeType==1&&h.contentEditable=="false"&&h.getBoundingClientRect().top>=e.top&&s--,i==t.dom&&s==i.childNodes.length-1&&i.lastChild.nodeType==1&&e.top>i.lastChild.getBoundingClientRect().bottom?u=t.state.doc.content.size:(s==0||i.nodeType!=1||i.childNodes[s-1].nodeName!="BR")&&(u=_O(t,i,s,e))}u==null&&(u=LO(t,c,e));let d=t.docView.nearestDesc(c,!0);return{pos:u,inside:d?d.posAtStart-d.border:-1}}function Kx(t){return t.top<t.bottom||t.left<t.right}function Qi(t,e){let n=t.getClientRects();if(n.length){let i=n[e<0?0:n.length-1];if(Kx(i))return i}return Array.prototype.find.call(n,Kx)||t.getBoundingClientRect()}const HO=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function JS(t,e,n){let{node:i,offset:s,atom:a}=t.docView.domFromPos(e,n<0?-1:1),c=Ga||Cn;if(i.nodeType==3)if(c&&(HO.test(i.nodeValue)||(n<0?!s:s==i.nodeValue.length))){let d=Qi(bi(i,s,s),n);if(Cn&&s&&/\s/.test(i.nodeValue[s-1])&&s<i.nodeValue.length){let h=Qi(bi(i,s-1,s-1),-1);if(h.top==d.top){let m=Qi(bi(i,s,s+1),-1);if(m.top!=d.top)return la(m,m.left<h.left)}}return d}else{let d=s,h=s,m=n<0?1:-1;return n<0&&!s?(h++,m=-1):n>=0&&s==i.nodeValue.length?(d--,m=1):n<0?d--:h++,la(Qi(bi(i,d,h),m),m<0)}if(!t.state.doc.resolve(e-(a||0)).parent.inlineContent){if(a==null&&s&&(n<0||s==Tn(i))){let d=i.childNodes[s-1];if(d.nodeType==1)return Ih(d.getBoundingClientRect(),!1)}if(a==null&&s<Tn(i)){let d=i.childNodes[s];if(d.nodeType==1)return Ih(d.getBoundingClientRect(),!0)}return Ih(i.getBoundingClientRect(),n>=0)}if(a==null&&s&&(n<0||s==Tn(i))){let d=i.childNodes[s-1],h=d.nodeType==3?bi(d,Tn(d)-(c?0:1)):d.nodeType==1&&(d.nodeName!="BR"||!d.nextSibling)?d:null;if(h)return la(Qi(h,1),!1)}if(a==null&&s<Tn(i)){let d=i.childNodes[s];for(;d.pmViewDesc&&d.pmViewDesc.ignoreForCoords;)d=d.nextSibling;let h=d?d.nodeType==3?bi(d,0,c?0:1):d.nodeType==1?d:null:null;if(h)return la(Qi(h,-1),!0)}return la(Qi(i.nodeType==3?bi(i):i,-n),n>=0)}function la(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function Ih(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function XS(t,e,n){let i=t.state,s=t.root.activeElement;i!=e&&t.updateState(e),s!=t.dom&&t.focus();try{return n()}finally{i!=e&&t.updateState(i),s!=t.dom&&s&&s.focus()}}function UO(t,e,n){let i=e.selection,s=n=="up"?i.$from:i.$to;return XS(t,e,()=>{let{node:a}=t.docView.domFromPos(s.pos,n=="up"?-1:1);for(;;){let u=t.docView.nearestDesc(a,!0);if(!u)break;if(u.node.isBlock){a=u.contentDOM||u.dom;break}a=u.dom.parentNode}let c=JS(t,s.pos,1);for(let u=a.firstChild;u;u=u.nextSibling){let d;if(u.nodeType==1)d=u.getClientRects();else if(u.nodeType==3)d=bi(u,0,u.nodeValue.length).getClientRects();else continue;for(let h=0;h<d.length;h++){let m=d[h];if(m.bottom>m.top+1&&(n=="up"?c.top-m.top>(m.bottom-c.top)*2:m.bottom-c.bottom>(c.bottom-m.top)*2))return!1}}return!0})}const qO=/[\u0590-\u08ac]/;function IO(t,e,n){let{$head:i}=e.selection;if(!i.parent.isTextblock)return!1;let s=i.parentOffset,a=!s,c=s==i.parent.content.size,u=t.domSelection();return u?!qO.test(i.parent.textContent)||!u.modify?n=="left"||n=="backward"?a:c:XS(t,e,()=>{let{focusNode:d,focusOffset:h,anchorNode:m,anchorOffset:y}=t.domSelectionRange(),x=u.caretBidiLevel;u.modify("move",n,"character");let v=i.depth?t.docView.domAfterPos(i.before()):t.dom,{focusNode:S,focusOffset:E}=t.domSelectionRange(),k=S&&!v.contains(S.nodeType==1?S:S.parentNode)||d==S&&h==E;try{u.collapse(m,y),d&&(d!=m||h!=y)&&u.extend&&u.extend(d,h)}catch{}return x!=null&&(u.caretBidiLevel=x),k}):i.pos==i.start()||i.pos==i.end()}let Gx=null,Yx=null,Jx=!1;function VO(t,e,n){return Gx==e&&Yx==n?Jx:(Gx=e,Yx=n,Jx=n=="up"||n=="down"?UO(t,e,n):IO(t,e,n))}const An=0,Xx=1,Br=2,Yn=3;class Ya{constructor(e,n,i,s){this.parent=e,this.children=n,this.dom=i,this.contentDOM=s,this.dirty=An,i.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,i){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,i=this.posAtStart;;n++){let s=this.children[n];if(s==e)return i;i+=s.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,i){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(i<0){let a,c;if(e==this.contentDOM)a=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;a=e.previousSibling}for(;a&&!((c=a.pmViewDesc)&&c.parent==this);)a=a.previousSibling;return a?this.posBeforeChild(c)+c.size:this.posAtStart}else{let a,c;if(e==this.contentDOM)a=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;a=e.nextSibling}for(;a&&!((c=a.pmViewDesc)&&c.parent==this);)a=a.nextSibling;return a?this.posBeforeChild(c):this.posAtEnd}let s;if(e==this.dom&&this.contentDOM)s=n>Mt(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))s=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let a=e;;a=a.parentNode){if(a==this.dom){s=!1;break}if(a.previousSibling)break}if(s==null&&n==e.childNodes.length)for(let a=e;;a=a.parentNode){if(a==this.dom){s=!0;break}if(a.nextSibling)break}}return s??i>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let i=!0,s=e;s;s=s.parentNode){let a=this.getDesc(s),c;if(a&&(!n||a.node))if(i&&(c=a.nodeDOM)&&!(c.nodeType==1?c.contains(e.nodeType==1?e:e.parentNode):c==e))i=!1;else return a}}getDesc(e){let n=e.pmViewDesc;for(let i=n;i;i=i.parent)if(i==this)return n}posFromDOM(e,n,i){for(let s=e;s;s=s.parentNode){let a=this.getDesc(s);if(a)return a.localPosFromDOM(e,n,i)}return-1}descAt(e){for(let n=0,i=0;n<this.children.length;n++){let s=this.children[n],a=i+s.size;if(i==e&&a!=i){for(;!s.border&&s.children.length;)for(let c=0;c<s.children.length;c++){let u=s.children[c];if(u.size){s=u;break}}return s}if(e<a)return s.descAt(e-i-s.border);i=a}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let i=0,s=0;for(let a=0;i<this.children.length;i++){let c=this.children[i],u=a+c.size;if(u>e||c instanceof WS){s=e-a;break}a=u}if(s)return this.children[i].domFromPos(s-this.children[i].border,n);for(let a;i&&!(a=this.children[i-1]).size&&a instanceof QS&&a.side>=0;i--);if(n<=0){let a,c=!0;for(;a=i?this.children[i-1]:null,!(!a||a.dom.parentNode==this.contentDOM);i--,c=!1);return a&&n&&c&&!a.border&&!a.domAtom?a.domFromPos(a.size,n):{node:this.contentDOM,offset:a?Mt(a.dom)+1:0}}else{let a,c=!0;for(;a=i<this.children.length?this.children[i]:null,!(!a||a.dom.parentNode==this.contentDOM);i++,c=!1);return a&&c&&!a.border&&!a.domAtom?a.domFromPos(0,n):{node:this.contentDOM,offset:a?Mt(a.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,i=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let s=-1,a=-1;for(let c=i,u=0;;u++){let d=this.children[u],h=c+d.size;if(s==-1&&e<=h){let m=c+d.border;if(e>=m&&n<=h-d.border&&d.node&&d.contentDOM&&this.contentDOM.contains(d.contentDOM))return d.parseRange(e,n,m);e=c;for(let y=u;y>0;y--){let x=this.children[y-1];if(x.size&&x.dom.parentNode==this.contentDOM&&!x.emptyChildAt(1)){s=Mt(x.dom)+1;break}e-=x.size}s==-1&&(s=0)}if(s>-1&&(h>n||u==this.children.length-1)){n=h;for(let m=u+1;m<this.children.length;m++){let y=this.children[m];if(y.size&&y.dom.parentNode==this.contentDOM&&!y.emptyChildAt(-1)){a=Mt(y.dom);break}n+=y.size}a==-1&&(a=this.contentDOM.childNodes.length);break}c=h}return{node:this.contentDOM,from:e,to:n,fromOffset:s,toOffset:a}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:i}=this.domFromPos(e,0);if(n.nodeType!=1||i==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[i]}setSelection(e,n,i,s=!1){let a=Math.min(e,n),c=Math.max(e,n);for(let v=0,S=0;v<this.children.length;v++){let E=this.children[v],k=S+E.size;if(a>S&&c<k)return E.setSelection(e-S-E.border,n-S-E.border,i,s);S=k}let u=this.domFromPos(e,e?-1:1),d=n==e?u:this.domFromPos(n,n?-1:1),h=i.root.getSelection(),m=i.domSelectionRange(),y=!1;if((Cn||Rt)&&e==n){let{node:v,offset:S}=u;if(v.nodeType==3){if(y=!!(S&&v.nodeValue[S-1]==`
`),y&&S==v.nodeValue.length)for(let E=v,k;E;E=E.parentNode){if(k=E.nextSibling){k.nodeName=="BR"&&(u=d={node:k.parentNode,offset:Mt(k)+1});break}let T=E.pmViewDesc;if(T&&T.node&&T.node.isBlock)break}}else{let E=v.childNodes[S-1];y=E&&(E.nodeName=="BR"||E.contentEditable=="false")}}if(Cn&&m.focusNode&&m.focusNode!=d.node&&m.focusNode.nodeType==1){let v=m.focusNode.childNodes[m.focusOffset];v&&v.contentEditable=="false"&&(s=!0)}if(!(s||y&&Rt)&&Qr(u.node,u.offset,m.anchorNode,m.anchorOffset)&&Qr(d.node,d.offset,m.focusNode,m.focusOffset))return;let x=!1;if((h.extend||e==n)&&!(y&&Cn)){h.collapse(u.node,u.offset);try{e!=n&&h.extend(d.node,d.offset),x=!0}catch{}}if(!x){if(e>n){let S=u;u=d,d=S}let v=document.createRange();v.setEnd(d.node,d.offset),v.setStart(u.node,u.offset),h.removeAllRanges(),h.addRange(v)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let i=0,s=0;s<this.children.length;s++){let a=this.children[s],c=i+a.size;if(i==c?e<=c&&n>=i:e<c&&n>i){let u=i+a.border,d=c-a.border;if(e>=u&&n<=d){this.dirty=e==i||n==c?Br:Xx,e==u&&n==d&&(a.contentLost||a.dom.parentNode!=this.contentDOM)?a.dirty=Yn:a.markDirty(e-u,n-u);return}else a.dirty=a.dom==a.contentDOM&&a.dom.parentNode==this.contentDOM&&!a.children.length?Br:Yn}i=c}this.dirty=Br}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let i=e==1?Br:Xx;n.dirty<i&&(n.dirty=i)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class QS extends Ya{constructor(e,n,i,s){let a,c=n.type.toDOM;if(typeof c=="function"&&(c=c(i,()=>{if(!a)return s;if(a.parent)return a.parent.posBeforeChild(a)})),!n.type.spec.raw){if(c.nodeType!=1){let u=document.createElement("span");u.appendChild(c),c=u}c.contentEditable="false",c.classList.add("ProseMirror-widget")}super(e,[],c,null),this.widget=n,this.widget=n,a=this}matchesWidget(e){return this.dirty==An&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class PO extends Ya{constructor(e,n,i,s){super(e,[],n,null),this.textDOM=i,this.text=s}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class Wr extends Ya{constructor(e,n,i,s,a){super(e,[],i,s),this.mark=n,this.spec=a}static create(e,n,i,s){let a=s.nodeViews[n.type.name],c=a&&a(n,s,i);return(!c||!c.dom)&&(c=ts.renderSpec(document,n.type.spec.toDOM(n,i),null,n.attrs)),new Wr(e,n,c.dom,c.contentDOM||c.dom,c)}parseRule(){return this.dirty&Yn||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=Yn&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=An){let i=this.parent;for(;!i.node;)i=i.parent;i.dirty<this.dirty&&(i.dirty=this.dirty),this.dirty=An}}slice(e,n,i){let s=Wr.create(this.parent,this.mark,!0,i),a=this.children,c=this.size;n<c&&(a=Np(a,n,c,i)),e>0&&(a=Np(a,0,e,i));for(let u=0;u<a.length;u++)a[u].parent=s;return s.children=a,s}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class or extends Ya{constructor(e,n,i,s,a,c,u,d,h){super(e,[],a,c),this.node=n,this.outerDeco=i,this.innerDeco=s,this.nodeDOM=u}static create(e,n,i,s,a,c){let u=a.nodeViews[n.type.name],d,h=u&&u(n,a,()=>{if(!d)return c;if(d.parent)return d.parent.posBeforeChild(d)},i,s),m=h&&h.dom,y=h&&h.contentDOM;if(n.isText){if(!m)m=document.createTextNode(n.text);else if(m.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else m||({dom:m,contentDOM:y}=ts.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!y&&!n.isText&&m.nodeName!="BR"&&(m.hasAttribute("contenteditable")||(m.contentEditable="false"),n.type.spec.draggable&&(m.draggable=!0));let x=m;return m=tw(m,i,n),h?d=new $O(e,n,i,s,m,y||null,x,h,a,c+1):n.isText?new $u(e,n,i,s,m,x,a):new or(e,n,i,s,m,y||null,x,a,c+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let i=this.children[n];if(this.dom.contains(i.dom.parentNode)){e.contentElement=i.dom.parentNode;break}}e.contentElement||(e.getContent=()=>J.empty)}return e}matchesNode(e,n,i){return this.dirty==An&&e.eq(this.node)&&Gc(n,this.outerDeco)&&i.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let i=this.node.inlineContent,s=n,a=e.composing?this.localCompositionInfo(e,n):null,c=a&&a.pos>-1?a:null,u=a&&a.pos<0,d=new KO(this,c&&c.node,e);JO(this.node,this.innerDeco,(h,m,y)=>{h.spec.marks?d.syncToMarks(h.spec.marks,i,e,m):h.type.side>=0&&!y&&d.syncToMarks(m==this.node.childCount?Ie.none:this.node.child(m).marks,i,e,m),d.placeWidget(h,e,s)},(h,m,y,x)=>{d.syncToMarks(h.marks,i,e,x);let v;d.findNodeMatch(h,m,y,x)||u&&e.state.selection.from>s&&e.state.selection.to<s+h.nodeSize&&(v=d.findIndexWithChild(a.node))>-1&&d.updateNodeAt(h,m,y,v,e)||d.updateNextNode(h,m,y,e,x,s)||d.addNode(h,m,y,e,s),s+=h.nodeSize}),d.syncToMarks([],i,e,0),this.node.isTextblock&&d.addTextblockHacks(),d.destroyRest(),(d.changed||this.dirty==Br)&&(c&&this.protectLocalComposition(e,c),ZS(this.contentDOM,this.children,e),tl&&XO(this.dom))}localCompositionInfo(e,n){let{from:i,to:s}=e.state.selection;if(!(e.state.selection instanceof ue)||i<n||s>n+this.node.content.size)return null;let a=e.input.compositionNode;if(!a||!this.dom.contains(a.parentNode))return null;if(this.node.inlineContent){let c=a.nodeValue,u=QO(this.node.content,c,i-n,s-n);return u<0?null:{node:a,pos:u,text:c}}else return{node:a,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:i,text:s}){if(this.getDesc(n))return;let a=n;for(;a.parentNode!=this.contentDOM;a=a.parentNode){for(;a.previousSibling;)a.parentNode.removeChild(a.previousSibling);for(;a.nextSibling;)a.parentNode.removeChild(a.nextSibling);a.pmViewDesc&&(a.pmViewDesc=void 0)}let c=new PO(this,a,n,s);e.input.compositionNodes.push(c),this.children=Np(this.children,i,i+s.length,e,c)}update(e,n,i,s){return this.dirty==Yn||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,i,s),!0)}updateInner(e,n,i,s){this.updateOuterDeco(n),this.node=e,this.innerDeco=i,this.contentDOM&&this.updateChildren(s,this.posAtStart),this.dirty=An}updateOuterDeco(e){if(Gc(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,i=this.dom;this.dom=ew(this.dom,this.nodeDOM,Ep(this.outerDeco,this.node,n),Ep(e,this.node,n)),this.dom!=i&&(i.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function Qx(t,e,n,i,s){tw(i,e,t);let a=new or(void 0,t,e,n,i,i,i,s,0);return a.contentDOM&&a.updateChildren(s,0),a}class $u extends or{constructor(e,n,i,s,a,c,u){super(e,n,i,s,a,null,c,u,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,i,s){return this.dirty==Yn||this.dirty!=An&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=An||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,s.trackWrites==this.nodeDOM&&(s.trackWrites=null)),this.node=e,this.dirty=An,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,i){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,i)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,i){let s=this.node.cut(e,n),a=document.createTextNode(s.text);return new $u(this.parent,s,this.outerDeco,this.innerDeco,a,a,i)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=Yn)}get domAtom(){return!1}isText(e){return this.node.text==e}}class WS extends Ya{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==An&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class $O extends or{constructor(e,n,i,s,a,c,u,d,h,m){super(e,n,i,s,a,c,u,h,m),this.spec=d}update(e,n,i,s){if(this.dirty==Yn)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let a=this.spec.update(e,n,i);return a&&this.updateInner(e,n,i,s),a}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,i,s)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,i,s){this.spec.setSelection?this.spec.setSelection(e,n,i.root):super.setSelection(e,n,i,s)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function ZS(t,e,n){let i=t.firstChild,s=!1;for(let a=0;a<e.length;a++){let c=e[a],u=c.dom;if(u.parentNode==t){for(;u!=i;)i=Wx(i),s=!0;i=i.nextSibling}else s=!0,t.insertBefore(u,i);if(c instanceof Wr){let d=i?i.previousSibling:t.lastChild;ZS(c.contentDOM,c.children,n),i=d?d.nextSibling:t.firstChild}}for(;i;)i=Wx(i),s=!0;s&&n.trackWrites==t&&(n.trackWrites=null)}const ga=function(t){t&&(this.nodeName=t)};ga.prototype=Object.create(null);const Hr=[new ga];function Ep(t,e,n){if(t.length==0)return Hr;let i=n?Hr[0]:new ga,s=[i];for(let a=0;a<t.length;a++){let c=t[a].type.attrs;if(c){c.nodeName&&s.push(i=new ga(c.nodeName));for(let u in c){let d=c[u];d!=null&&(n&&s.length==1&&s.push(i=new ga(e.isInline?"span":"div")),u=="class"?i.class=(i.class?i.class+" ":"")+d:u=="style"?i.style=(i.style?i.style+";":"")+d:u!="nodeName"&&(i[u]=d))}}}return s}function ew(t,e,n,i){if(n==Hr&&i==Hr)return e;let s=e;for(let a=0;a<i.length;a++){let c=i[a],u=n[a];if(a){let d;u&&u.nodeName==c.nodeName&&s!=t&&(d=s.parentNode)&&d.nodeName.toLowerCase()==c.nodeName||(d=document.createElement(c.nodeName),d.pmIsDeco=!0,d.appendChild(s),u=Hr[0]),s=d}FO(s,u||Hr[0],c)}return s}function FO(t,e,n){for(let i in e)i!="class"&&i!="style"&&i!="nodeName"&&!(i in n)&&t.removeAttribute(i);for(let i in n)i!="class"&&i!="style"&&i!="nodeName"&&n[i]!=e[i]&&t.setAttribute(i,n[i]);if(e.class!=n.class){let i=e.class?e.class.split(" ").filter(Boolean):[],s=n.class?n.class.split(" ").filter(Boolean):[];for(let a=0;a<i.length;a++)s.indexOf(i[a])==-1&&t.classList.remove(i[a]);for(let a=0;a<s.length;a++)i.indexOf(s[a])==-1&&t.classList.add(s[a]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let i=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,s;for(;s=i.exec(e.style);)t.style.removeProperty(s[1])}n.style&&(t.style.cssText+=n.style)}}function tw(t,e,n){return ew(t,t,Hr,Ep(e,n,t.nodeType!=1))}function Gc(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function Wx(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class KO{constructor(e,n,i){this.lock=n,this.view=i,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=GO(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let i=e;i<n;i++)this.top.children[i].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,i,s){let a=0,c=this.stack.length>>1,u=Math.min(c,e.length);for(;a<u&&(a==c-1?this.top:this.stack[a+1<<1]).matchesMark(e[a])&&e[a].type.spec.spanning!==!1;)a++;for(;a<c;)this.destroyRest(),this.top.dirty=An,this.index=this.stack.pop(),this.top=this.stack.pop(),c--;for(;c<e.length;){this.stack.push(this.top,this.index+1);let d=-1,h=this.top.children.length;s<this.preMatch.index&&(h=Math.min(this.index+3,h));for(let m=this.index;m<h;m++){let y=this.top.children[m];if(y.matchesMark(e[c])&&!this.isLocked(y.dom)){d=m;break}}if(d>-1)d>this.index&&(this.changed=!0,this.destroyBetween(this.index,d)),this.top=this.top.children[this.index];else{let m=Wr.create(this.top,e[c],n,i);this.top.children.splice(this.index,0,m),this.top=m,this.changed=!0}this.index=0,c++}}findNodeMatch(e,n,i,s){let a=-1,c;if(s>=this.preMatch.index&&(c=this.preMatch.matches[s-this.preMatch.index]).parent==this.top&&c.matchesNode(e,n,i))a=this.top.children.indexOf(c,this.index);else for(let u=this.index,d=Math.min(this.top.children.length,u+5);u<d;u++){let h=this.top.children[u];if(h.matchesNode(e,n,i)&&!this.preMatch.matched.has(h)){a=u;break}}return a<0?!1:(this.destroyBetween(this.index,a),this.index++,!0)}updateNodeAt(e,n,i,s,a){let c=this.top.children[s];return c.dirty==Yn&&c.dom==c.contentDOM&&(c.dirty=Br),c.update(e,n,i,a)?(this.destroyBetween(this.index,s),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let i=e.pmViewDesc;if(i){for(let s=this.index;s<this.top.children.length;s++)if(this.top.children[s]==i)return s}return-1}e=n}}updateNextNode(e,n,i,s,a,c){for(let u=this.index;u<this.top.children.length;u++){let d=this.top.children[u];if(d instanceof or){let h=this.preMatch.matched.get(d);if(h!=null&&h!=a)return!1;let m=d.dom,y,x=this.isLocked(m)&&!(e.isText&&d.node&&d.node.isText&&d.nodeDOM.nodeValue==e.text&&d.dirty!=Yn&&Gc(n,d.outerDeco));if(!x&&d.update(e,n,i,s))return this.destroyBetween(this.index,u),d.dom!=m&&(this.changed=!0),this.index++,!0;if(!x&&(y=this.recreateWrapper(d,e,n,i,s,c)))return this.destroyBetween(this.index,u),this.top.children[this.index]=y,y.contentDOM&&(y.dirty=Br,y.updateChildren(s,c+1),y.dirty=An),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,i,s,a,c){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content)||!Gc(i,e.outerDeco)||!s.eq(e.innerDeco))return null;let u=or.create(this.top,n,i,s,a,c);if(u.contentDOM){u.children=e.children,e.children=[];for(let d of u.children)d.parent=u}return e.destroy(),u}addNode(e,n,i,s,a){let c=or.create(this.top,e,n,i,s,a);c.contentDOM&&c.updateChildren(s,a+1),this.top.children.splice(this.index++,0,c),this.changed=!0}placeWidget(e,n,i){let s=this.index<this.top.children.length?this.top.children[this.index]:null;if(s&&s.matchesWidget(e)&&(e==s.widget||!s.widget.type.toDOM.parentNode))this.index++;else{let a=new QS(this.top,e,n,i);this.top.children.splice(this.index++,0,a),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof Wr;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof $u)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((Rt||vt)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let i=document.createElement(e);e=="IMG"&&(i.className="ProseMirror-separator",i.alt=""),e=="BR"&&(i.className="ProseMirror-trailingBreak");let s=new WS(this.top,[],i,null);n!=this.top?n.children.push(s):n.children.splice(this.index++,0,s),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function GO(t,e){let n=e,i=n.children.length,s=t.childCount,a=new Map,c=[];e:for(;s>0;){let u;for(;;)if(i){let h=n.children[i-1];if(h instanceof Wr)n=h,i=h.children.length;else{u=h,i--;break}}else{if(n==e)break e;i=n.parent.children.indexOf(n),n=n.parent}let d=u.node;if(d){if(d!=t.child(s-1))break;--s,a.set(u,s),c.push(u)}}return{index:s,matched:a,matches:c.reverse()}}function YO(t,e){return t.type.side-e.type.side}function JO(t,e,n,i){let s=e.locals(t),a=0;if(s.length==0){for(let h=0;h<t.childCount;h++){let m=t.child(h);i(m,s,e.forChild(a,m),h),a+=m.nodeSize}return}let c=0,u=[],d=null;for(let h=0;;){let m,y;for(;c<s.length&&s[c].to==a;){let k=s[c++];k.widget&&(m?(y||(y=[m])).push(k):m=k)}if(m)if(y){y.sort(YO);for(let k=0;k<y.length;k++)n(y[k],h,!!d)}else n(m,h,!!d);let x,v;if(d)v=-1,x=d,d=null;else if(h<t.childCount)v=h,x=t.child(h++);else break;for(let k=0;k<u.length;k++)u[k].to<=a&&u.splice(k--,1);for(;c<s.length&&s[c].from<=a&&s[c].to>a;)u.push(s[c++]);let S=a+x.nodeSize;if(x.isText){let k=S;c<s.length&&s[c].from<k&&(k=s[c].from);for(let T=0;T<u.length;T++)u[T].to<k&&(k=u[T].to);k<S&&(d=x.cut(k-a),x=x.cut(0,k-a),S=k,v=-1)}else for(;c<s.length&&s[c].to<S;)c++;let E=x.isInline&&!x.isLeaf?u.filter(k=>!k.inline):u.slice();i(x,E,e.forChild(a,x),v),a=S}}function XO(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function QO(t,e,n,i){for(let s=0,a=0;s<t.childCount&&a<=i;){let c=t.child(s++),u=a;if(a+=c.nodeSize,!c.isText)continue;let d=c.text;for(;s<t.childCount;){let h=t.child(s++);if(a+=h.nodeSize,!h.isText)break;d+=h.text}if(a>=n){if(a>=i&&d.slice(i-e.length-u,i-u)==e)return i-e.length;let h=u<i?d.lastIndexOf(e,i-u-1):-1;if(h>=0&&h+e.length+u>=n)return u+h;if(n==i&&d.length>=i+e.length-u&&d.slice(i-u,i-u+e.length)==e)return i}}return-1}function Np(t,e,n,i,s){let a=[];for(let c=0,u=0;c<t.length;c++){let d=t[c],h=u,m=u+=d.size;h>=n||m<=e?a.push(d):(h<e&&a.push(d.slice(0,e-h,i)),s&&(a.push(s),s=void 0),m>n&&a.push(d.slice(n-h,d.size,i)))}return a}function fm(t,e=null){let n=t.domSelectionRange(),i=t.state.doc;if(!n.focusNode)return null;let s=t.docView.nearestDesc(n.focusNode),a=s&&s.size==0,c=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(c<0)return null;let u=i.resolve(c),d,h;if(Pu(n)){for(d=c;s&&!s.node;)s=s.parent;let y=s.node;if(s&&y.isAtom&&ae.isSelectable(y)&&s.parent&&!(y.isInline&&EO(n.focusNode,n.focusOffset,s.dom))){let x=s.posBefore;h=new ae(c==x?u:i.resolve(x))}}else{if(n instanceof t.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let y=c,x=c;for(let v=0;v<n.rangeCount;v++){let S=n.getRangeAt(v);y=Math.min(y,t.docView.posFromDOM(S.startContainer,S.startOffset,1)),x=Math.max(x,t.docView.posFromDOM(S.endContainer,S.endOffset,-1))}if(y<0)return null;[d,c]=x==t.state.selection.anchor?[x,y]:[y,x],u=i.resolve(c)}else d=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(d<0)return null}let m=i.resolve(d);if(!h){let y=e=="pointer"||t.state.selection.head<u.pos&&!a?1:-1;h=dm(t,m,u,y)}return h}function nw(t){return t.editable?t.hasFocus():rw(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function wi(t,e=!1){let n=t.state.selection;if(iw(t,n),!!nw(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&vt){let i=t.domSelectionRange(),s=t.domObserver.currentSelection;if(i.anchorNode&&s.anchorNode&&Qr(i.anchorNode,i.anchorOffset,s.anchorNode,s.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)ZO(t);else{let{anchor:i,head:s}=n,a,c;Zx&&!(n instanceof ue)&&(n.$from.parent.inlineContent||(a=ev(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(c=ev(t,n.to))),t.docView.setSelection(i,s,t,e),Zx&&(a&&tv(a),c&&tv(c)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&WO(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const Zx=Rt||vt&&PS<63;function ev(t,e){let{node:n,offset:i}=t.docView.domFromPos(e,0),s=i<n.childNodes.length?n.childNodes[i]:null,a=i?n.childNodes[i-1]:null;if(Rt&&s&&s.contentEditable=="false")return Vh(s);if((!s||s.contentEditable=="false")&&(!a||a.contentEditable=="false")){if(s)return Vh(s);if(a)return Vh(a)}}function Vh(t){return t.contentEditable="true",Rt&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function tv(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function WO(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),i=n.anchorNode,s=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=i||n.anchorOffset!=s)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!nw(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function ZO(t){let e=t.domSelection();if(!e)return;let n=t.cursorWrapper.dom,i=n.nodeName=="IMG";i?e.collapse(n.parentNode,Mt(n)+1):e.collapse(n,0),!i&&!t.state.selection.visible&&Wt&&ar<=11&&(n.disabled=!0,n.disabled=!1)}function iw(t,e){if(e instanceof ae){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(nv(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else nv(t)}function nv(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function dm(t,e,n,i){return t.someProp("createSelectionBetween",s=>s(t,e,n))||ue.between(e,n,i)}function iv(t){return t.editable&&!t.hasFocus()?!1:rw(t)}function rw(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function eR(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return Qr(e.node,e.offset,n.anchorNode,n.anchorOffset)}function Tp(t,e){let{$anchor:n,$head:i}=t.selection,s=e>0?n.max(i):n.min(i),a=s.parent.inlineContent?s.depth?t.doc.resolve(e>0?s.after():s.before()):null:s;return a&&ye.findFrom(a,e)}function Wi(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function rv(t,e,n){let i=t.state.selection;if(i instanceof ue)if(n.indexOf("s")>-1){let{$head:s}=i,a=s.textOffset?null:e<0?s.nodeBefore:s.nodeAfter;if(!a||a.isText||!a.isLeaf)return!1;let c=t.state.doc.resolve(s.pos+a.nodeSize*(e<0?-1:1));return Wi(t,new ue(i.$anchor,c))}else if(i.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let s=Tp(t.state,e);return s&&s instanceof ae?Wi(t,s):!1}else if(!(Nn&&n.indexOf("m")>-1)){let s=i.$head,a=s.textOffset?null:e<0?s.nodeBefore:s.nodeAfter,c;if(!a||a.isText)return!1;let u=e<0?s.pos-a.nodeSize:s.pos;return a.isAtom||(c=t.docView.descAt(u))&&!c.contentDOM?ae.isSelectable(a)?Wi(t,new ae(e<0?t.state.doc.resolve(s.pos-a.nodeSize):s)):Ga?Wi(t,new ue(t.state.doc.resolve(e<0?u:u+a.nodeSize))):!1:!1}}else return!1;else{if(i instanceof ae&&i.node.isInline)return Wi(t,new ue(e>0?i.$to:i.$from));{let s=Tp(t.state,e);return s?Wi(t,s):!1}}}function Yc(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function ya(t,e){let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function $s(t,e){return e<0?tR(t):nR(t)}function tR(t){let e=t.domSelectionRange(),n=e.focusNode,i=e.focusOffset;if(!n)return;let s,a,c=!1;for(Cn&&n.nodeType==1&&i<Yc(n)&&ya(n.childNodes[i],-1)&&(c=!0);;)if(i>0){if(n.nodeType!=1)break;{let u=n.childNodes[i-1];if(ya(u,-1))s=n,a=--i;else if(u.nodeType==3)n=u,i=n.nodeValue.length;else break}}else{if(sw(n))break;{let u=n.previousSibling;for(;u&&ya(u,-1);)s=n.parentNode,a=Mt(u),u=u.previousSibling;if(u)n=u,i=Yc(n);else{if(n=n.parentNode,n==t.dom)break;i=0}}}c?Cp(t,n,i):s&&Cp(t,s,a)}function nR(t){let e=t.domSelectionRange(),n=e.focusNode,i=e.focusOffset;if(!n)return;let s=Yc(n),a,c;for(;;)if(i<s){if(n.nodeType!=1)break;let u=n.childNodes[i];if(ya(u,1))a=n,c=++i;else break}else{if(sw(n))break;{let u=n.nextSibling;for(;u&&ya(u,1);)a=u.parentNode,c=Mt(u)+1,u=u.nextSibling;if(u)n=u,i=0,s=Yc(n);else{if(n=n.parentNode,n==t.dom)break;i=s=0}}}a&&Cp(t,a,c)}function sw(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function iR(t,e){for(;t&&e==t.childNodes.length&&!Ka(t);)e=Mt(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=0}}function rR(t,e){for(;t&&!e&&!Ka(t);)e=Mt(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=t.childNodes.length}}function Cp(t,e,n){if(e.nodeType!=3){let a,c;(c=iR(e,n))?(e=c,n=0):(a=rR(e,n))&&(e=a,n=a.nodeValue.length)}let i=t.domSelection();if(!i)return;if(Pu(i)){let a=document.createRange();a.setEnd(e,n),a.setStart(e,n),i.removeAllRanges(),i.addRange(a)}else i.extend&&i.extend(e,n);t.domObserver.setCurSelection();let{state:s}=t;setTimeout(()=>{t.state==s&&wi(t)},50)}function sv(t,e){let n=t.state.doc.resolve(e);if(!(vt||$S)&&n.parent.inlineContent){let s=t.coordsAtPos(e);if(e>n.start()){let a=t.coordsAtPos(e-1),c=(a.top+a.bottom)/2;if(c>s.top&&c<s.bottom&&Math.abs(a.left-s.left)>1)return a.left<s.left?"ltr":"rtl"}if(e<n.end()){let a=t.coordsAtPos(e+1),c=(a.top+a.bottom)/2;if(c>s.top&&c<s.bottom&&Math.abs(a.left-s.left)>1)return a.left>s.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function lv(t,e,n){let i=t.state.selection;if(i instanceof ue&&!i.empty||n.indexOf("s")>-1||Nn&&n.indexOf("m")>-1)return!1;let{$from:s,$to:a}=i;if(!s.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let c=Tp(t.state,e);if(c&&c instanceof ae)return Wi(t,c)}if(!s.parent.inlineContent){let c=e<0?s:a,u=i instanceof dn?ye.near(c,e):ye.findFrom(c,e);return u?Wi(t,u):!1}return!1}function av(t,e){if(!(t.state.selection instanceof ue))return!0;let{$head:n,$anchor:i,empty:s}=t.state.selection;if(!n.sameParent(i))return!0;if(!s)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let a=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(a&&!a.isText){let c=t.state.tr;return e<0?c.delete(n.pos-a.nodeSize,n.pos):c.delete(n.pos,n.pos+a.nodeSize),t.dispatch(c),!0}return!1}function ov(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function sR(t){if(!Rt||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let i=e.firstChild;ov(t,i,"true"),setTimeout(()=>ov(t,i,"false"),20)}return!1}function lR(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function aR(t,e){let n=e.keyCode,i=lR(e);if(n==8||Nn&&n==72&&i=="c")return av(t,-1)||$s(t,-1);if(n==46&&!e.shiftKey||Nn&&n==68&&i=="c")return av(t,1)||$s(t,1);if(n==13||n==27)return!0;if(n==37||Nn&&n==66&&i=="c"){let s=n==37?sv(t,t.state.selection.from)=="ltr"?-1:1:-1;return rv(t,s,i)||$s(t,s)}else if(n==39||Nn&&n==70&&i=="c"){let s=n==39?sv(t,t.state.selection.from)=="ltr"?1:-1:1;return rv(t,s,i)||$s(t,s)}else{if(n==38||Nn&&n==80&&i=="c")return lv(t,-1,i)||$s(t,-1);if(n==40||Nn&&n==78&&i=="c")return sR(t)||lv(t,1,i)||$s(t,1);if(i==(Nn?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function hm(t,e){t.someProp("transformCopied",v=>{e=v(e,t)});let n=[],{content:i,openStart:s,openEnd:a}=e;for(;s>1&&a>1&&i.childCount==1&&i.firstChild.childCount==1;){s--,a--;let v=i.firstChild;n.push(v.type.name,v.attrs!=v.type.defaultAttrs?v.attrs:null),i=v.content}let c=t.someProp("clipboardSerializer")||ts.fromSchema(t.state.schema),u=fw(),d=u.createElement("div");d.appendChild(c.serializeFragment(i,{document:u}));let h=d.firstChild,m,y=0;for(;h&&h.nodeType==1&&(m=uw[h.nodeName.toLowerCase()]);){for(let v=m.length-1;v>=0;v--){let S=u.createElement(m[v]);for(;d.firstChild;)S.appendChild(d.firstChild);d.appendChild(S),y++}h=d.firstChild}h&&h.nodeType==1&&h.setAttribute("data-pm-slice",`${s} ${a}${y?` -${y}`:""} ${JSON.stringify(n)}`);let x=t.someProp("clipboardTextSerializer",v=>v(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:d,text:x,slice:e}}function lw(t,e,n,i,s){let a=s.parent.type.spec.code,c,u;if(!n&&!e)return null;let d=!!e&&(i||a||!n);if(d){if(t.someProp("transformPastedText",x=>{e=x(e,a||i,t)}),a)return u=new ee(J.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0),t.someProp("transformPasted",x=>{u=x(u,t,!0)}),u;let y=t.someProp("clipboardTextParser",x=>x(e,s,i,t));if(y)u=y;else{let x=s.marks(),{schema:v}=t.state,S=ts.fromSchema(v);c=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(E=>{let k=c.appendChild(document.createElement("p"));E&&k.appendChild(S.serializeNode(v.text(E,x)))})}}else t.someProp("transformPastedHTML",y=>{n=y(n,t)}),c=fR(n),Ga&&dR(c);let h=c&&c.querySelector("[data-pm-slice]"),m=h&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(h.getAttribute("data-pm-slice")||"");if(m&&m[3])for(let y=+m[3];y>0;y--){let x=c.firstChild;for(;x&&x.nodeType!=1;)x=x.nextSibling;if(!x)break;c=x}if(u||(u=(t.someProp("clipboardParser")||t.someProp("domParser")||lr.fromSchema(t.state.schema)).parseSlice(c,{preserveWhitespace:!!(d||m),context:s,ruleFromNode(x){return x.nodeName=="BR"&&!x.nextSibling&&x.parentNode&&!oR.test(x.parentNode.nodeName)?{ignore:!0}:null}})),m)u=hR(cv(u,+m[1],+m[2]),m[4]);else if(u=ee.maxOpen(cR(u.content,s),!0),u.openStart||u.openEnd){let y=0,x=0;for(let v=u.content.firstChild;y<u.openStart&&!v.type.spec.isolating;y++,v=v.firstChild);for(let v=u.content.lastChild;x<u.openEnd&&!v.type.spec.isolating;x++,v=v.lastChild);u=cv(u,y,x)}return t.someProp("transformPasted",y=>{u=y(u,t,d)}),u}const oR=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function cR(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let s=e.node(n).contentMatchAt(e.index(n)),a,c=[];if(t.forEach(u=>{if(!c)return;let d=s.findWrapping(u.type),h;if(!d)return c=null;if(h=c.length&&a.length&&ow(d,a,u,c[c.length-1],0))c[c.length-1]=h;else{c.length&&(c[c.length-1]=cw(c[c.length-1],a.length));let m=aw(u,d);c.push(m),s=s.matchType(m.type),a=d}}),c)return J.from(c)}return t}function aw(t,e,n=0){for(let i=e.length-1;i>=n;i--)t=e[i].create(null,J.from(t));return t}function ow(t,e,n,i,s){if(s<t.length&&s<e.length&&t[s]==e[s]){let a=ow(t,e,n,i.lastChild,s+1);if(a)return i.copy(i.content.replaceChild(i.childCount-1,a));if(i.contentMatchAt(i.childCount).matchType(s==t.length-1?n.type:t[s+1]))return i.copy(i.content.append(J.from(aw(n,t,s+1))))}}function cw(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,cw(t.lastChild,e-1)),i=t.contentMatchAt(t.childCount).fillBefore(J.empty,!0);return t.copy(n.append(i))}function Ap(t,e,n,i,s,a){let c=e<0?t.firstChild:t.lastChild,u=c.content;return t.childCount>1&&(a=0),s<i-1&&(u=Ap(u,e,n,i,s+1,a)),s>=n&&(u=e<0?c.contentMatchAt(0).fillBefore(u,a<=s).append(u):u.append(c.contentMatchAt(c.childCount).fillBefore(J.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,c.copy(u))}function cv(t,e,n){return e<t.openStart&&(t=new ee(Ap(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new ee(Ap(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const uw={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let uv=null;function fw(){return uv||(uv=document.implementation.createHTMLDocument("title"))}let Ph=null;function uR(t){let e=window.trustedTypes;return e?(Ph||(Ph=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),Ph.createHTML(t)):t}function fR(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=fw().createElement("div"),i=/<([a-z][^>\s]+)/i.exec(t),s;if((s=i&&uw[i[1].toLowerCase()])&&(t=s.map(a=>"<"+a+">").join("")+t+s.map(a=>"</"+a+">").reverse().join("")),n.innerHTML=uR(t),s)for(let a=0;a<s.length;a++)n=n.querySelector(s[a])||n;return n}function dR(t){let e=t.querySelectorAll(vt?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let i=e[n];i.childNodes.length==1&&i.textContent==""&&i.parentNode&&i.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),i)}}function hR(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,i;try{i=JSON.parse(e)}catch{return t}let{content:s,openStart:a,openEnd:c}=t;for(let u=i.length-2;u>=0;u-=2){let d=n.nodes[i[u]];if(!d||d.hasRequiredAttrs())break;s=J.from(d.create(i[u+1],s)),a++,c++}return new ee(s,a,c)}const Ut={},qt={},pR={touchstart:!0,touchmove:!0};class mR{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.badSafariComposition=!1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function gR(t){for(let e in Ut){let n=Ut[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=i=>{bR(t,i)&&!pm(t,i)&&(t.editable||!(i.type in qt))&&n(t,i)},pR[e]?{passive:!0}:void 0)}Rt&&t.dom.addEventListener("input",()=>null),Mp(t)}function sr(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function yR(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function Mp(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=i=>pm(t,i))})}function pm(t,e){return t.someProp("handleDOMEvents",n=>{let i=n[e.type];return i?i(t,e)||e.defaultPrevented:!1})}function bR(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function xR(t,e){!pm(t,e)&&Ut[e.type]&&(t.editable||!(e.type in qt))&&Ut[e.type](t,e)}qt.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!hw(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(xi&&vt&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),tl&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let i=Date.now();t.input.lastIOSEnter=i,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==i&&(t.someProp("handleKeyDown",s=>s(t,Lr(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",i=>i(t,n))||aR(t,n)?n.preventDefault():sr(t,"key")};qt.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};qt.keypress=(t,e)=>{let n=e;if(hw(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||Nn&&n.metaKey)return;if(t.someProp("handleKeyPress",s=>s(t,n))){n.preventDefault();return}let i=t.state.selection;if(!(i instanceof ue)||!i.$from.sameParent(i.$to)){let s=String.fromCharCode(n.charCode),a=()=>t.state.tr.insertText(s).scrollIntoView();!/[\r\n]/.test(s)&&!t.someProp("handleTextInput",c=>c(t,i.$from.pos,i.$to.pos,s,a))&&t.dispatch(a()),n.preventDefault()}};function Fu(t){return{left:t.clientX,top:t.clientY}}function vR(t,e){let n=e.x-t.clientX,i=e.y-t.clientY;return n*n+i*i<100}function mm(t,e,n,i,s){if(i==-1)return!1;let a=t.state.doc.resolve(i);for(let c=a.depth+1;c>0;c--)if(t.someProp(e,u=>c>a.depth?u(t,n,a.nodeAfter,a.before(c),s,!0):u(t,n,a.node(c),a.before(c),s,!1)))return!0;return!1}function Xs(t,e,n){if(t.focused||t.focus(),t.state.selection.eq(e))return;let i=t.state.tr.setSelection(e);i.setMeta("pointer",!0),t.dispatch(i)}function SR(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),i=n.nodeAfter;return i&&i.isAtom&&ae.isSelectable(i)?(Xs(t,new ae(n)),!0):!1}function wR(t,e){if(e==-1)return!1;let n=t.state.selection,i,s;n instanceof ae&&(i=n.node);let a=t.state.doc.resolve(e);for(let c=a.depth+1;c>0;c--){let u=c>a.depth?a.nodeAfter:a.node(c);if(ae.isSelectable(u)){i&&n.$from.depth>0&&c>=n.$from.depth&&a.before(n.$from.depth+1)==n.$from.pos?s=a.before(n.$from.depth):s=a.before(c);break}}return s!=null?(Xs(t,ae.create(t.state.doc,s)),!0):!1}function kR(t,e,n,i,s){return mm(t,"handleClickOn",e,n,i)||t.someProp("handleClick",a=>a(t,e,i))||(s?wR(t,n):SR(t,n))}function ER(t,e,n,i){return mm(t,"handleDoubleClickOn",e,n,i)||t.someProp("handleDoubleClick",s=>s(t,e,i))}function NR(t,e,n,i){return mm(t,"handleTripleClickOn",e,n,i)||t.someProp("handleTripleClick",s=>s(t,e,i))||TR(t,n,i)}function TR(t,e,n){if(n.button!=0)return!1;let i=t.state.doc;if(e==-1)return i.inlineContent?(Xs(t,ue.create(i,0,i.content.size)),!0):!1;let s=i.resolve(e);for(let a=s.depth+1;a>0;a--){let c=a>s.depth?s.nodeAfter:s.node(a),u=s.before(a);if(c.inlineContent)Xs(t,ue.create(i,u+1,u+1+c.content.size));else if(ae.isSelectable(c))Xs(t,ae.create(i,u));else continue;return!0}}function gm(t){return Jc(t)}const dw=Nn?"metaKey":"ctrlKey";Ut.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let i=gm(t),s=Date.now(),a="singleClick";s-t.input.lastClick.time<500&&vR(n,t.input.lastClick)&&!n[dw]&&t.input.lastClick.button==n.button&&(t.input.lastClick.type=="singleClick"?a="doubleClick":t.input.lastClick.type=="doubleClick"&&(a="tripleClick")),t.input.lastClick={time:s,x:n.clientX,y:n.clientY,type:a,button:n.button};let c=t.posAtCoords(Fu(n));c&&(a=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new CR(t,c,n,!!i)):(a=="doubleClick"?ER:NR)(t,c.pos,c.inside,n)?n.preventDefault():sr(t,"pointer"))};class CR{constructor(e,n,i,s){this.view=e,this.pos=n,this.event=i,this.flushed=s,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!i[dw],this.allowDefault=i.shiftKey;let a,c;if(n.inside>-1)a=e.state.doc.nodeAt(n.inside),c=n.inside;else{let m=e.state.doc.resolve(n.pos);a=m.parent,c=m.depth?m.before():0}const u=s?null:i.target,d=u?e.docView.nearestDesc(u,!0):null;this.target=d&&d.nodeDOM.nodeType==1?d.nodeDOM:null;let{selection:h}=e.state;(i.button==0&&a.type.spec.draggable&&a.type.spec.selectable!==!1||h instanceof ae&&h.from<=c&&h.to>c)&&(this.mightDrag={node:a,pos:c,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Cn&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),sr(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>wi(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(Fu(e))),this.updateAllowDefault(e),this.allowDefault||!n?sr(this.view,"pointer"):kR(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||Rt&&this.mightDrag&&!this.mightDrag.node.isAtom||vt&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(Xs(this.view,ye.near(this.view.state.doc.resolve(n.pos))),e.preventDefault()):sr(this.view,"pointer")}move(e){this.updateAllowDefault(e),sr(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}Ut.touchstart=t=>{t.input.lastTouch=Date.now(),gm(t),sr(t,"pointer")};Ut.touchmove=t=>{t.input.lastTouch=Date.now(),sr(t,"pointer")};Ut.contextmenu=t=>gm(t);function hw(t,e){return t.composing?!0:Rt&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const AR=xi?5e3:-1;qt.compositionstart=qt.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$to;if(e.selection instanceof ue&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(i=>i.type.spec.inclusive===!1)||vt&&$S&&MR(t)))t.markCursor=t.state.storedMarks||n.marks(),Jc(t,!0),t.markCursor=null;else if(Jc(t,!e.selection.empty),Cn&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let i=t.domSelectionRange();for(let s=i.focusNode,a=i.focusOffset;s&&s.nodeType==1&&a!=0;){let c=a<0?s.lastChild:s.childNodes[a-1];if(!c)break;if(c.nodeType==3){let u=t.domSelection();u&&u.collapse(c,c.nodeValue.length);break}else s=c,a=-1}}t.input.composing=!0}pw(t,AR)};function MR(t){let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(!e||e.nodeType!=1||n>=e.childNodes.length)return!1;let i=e.childNodes[n];return i.nodeType==1&&i.contentEditable=="false"}qt.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.badSafariComposition?t.domObserver.forceFlush():t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,pw(t,20))};function pw(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>Jc(t),e))}function mw(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=RR());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function OR(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let n=wO(e.focusNode,e.focusOffset),i=kO(e.focusNode,e.focusOffset);if(n&&i&&n!=i){let s=i.pmViewDesc,a=t.domObserver.lastChangedTextNode;if(n==a||i==a)return a;if(!s||!s.isText(i.nodeValue))return i;if(t.input.compositionNode==i){let c=n.pmViewDesc;if(!(!c||!c.isText(n.nodeValue)))return i}}return n||i}function RR(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function Jc(t,e=!1){if(!(xi&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),mw(t),e||t.docView&&t.docView.dirty){let n=fm(t),i=t.state.selection;return n&&!n.eq(i)?t.dispatch(t.state.tr.setSelection(n)):(t.markCursor||e)&&!i.$from.node(i.$from.sharedDepth(i.to)).inlineContent?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function jR(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let i=getSelection(),s=document.createRange();s.selectNodeContents(e),t.dom.blur(),i.removeAllRanges(),i.addRange(s),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const Ma=Wt&&ar<15||tl&&CO<604;Ut.copy=qt.cut=(t,e)=>{let n=e,i=t.state.selection,s=n.type=="cut";if(i.empty)return;let a=Ma?null:n.clipboardData,c=i.content(),{dom:u,text:d}=hm(t,c);a?(n.preventDefault(),a.clearData(),a.setData("text/html",u.innerHTML),a.setData("text/plain",d)):jR(t,u),s&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function DR(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function zR(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,i=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(i.contentEditable="true"),i.style.cssText="position: fixed; left: -10000px; top: 10px",i.focus();let s=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),i.parentNode&&i.parentNode.removeChild(i),n?Oa(t,i.value,null,s,e):Oa(t,i.textContent,i.innerHTML,s,e)},50)}function Oa(t,e,n,i,s){let a=lw(t,e,n,i,t.state.selection.$from);if(t.someProp("handlePaste",d=>d(t,s,a||ee.empty)))return!0;if(!a)return!1;let c=DR(a),u=c?t.state.tr.replaceSelectionWith(c,i):t.state.tr.replaceSelection(a);return t.dispatch(u.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function gw(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let n=t.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}qt.paste=(t,e)=>{let n=e;if(t.composing&&!xi)return;let i=Ma?null:n.clipboardData,s=t.input.shiftKey&&t.input.lastKeyCode!=45;i&&Oa(t,gw(i),i.getData("text/html"),s,n)?n.preventDefault():zR(t,n)};class yw{constructor(e,n,i){this.slice=e,this.move=n,this.node=i}}const LR=Nn?"altKey":"ctrlKey";function bw(t,e){let n=t.someProp("dragCopies",i=>!i(e));return n??!e[LR]}Ut.dragstart=(t,e)=>{let n=e,i=t.input.mouseDown;if(i&&i.done(),!n.dataTransfer)return;let s=t.state.selection,a=s.empty?null:t.posAtCoords(Fu(n)),c;if(!(a&&a.pos>=s.from&&a.pos<=(s instanceof ae?s.to-1:s.to))){if(i&&i.mightDrag)c=ae.create(t.state.doc,i.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let y=t.docView.nearestDesc(n.target,!0);y&&y.node.type.spec.draggable&&y!=t.docView&&(c=ae.create(t.state.doc,y.posBefore))}}let u=(c||t.state.selection).content(),{dom:d,text:h,slice:m}=hm(t,u);(!n.dataTransfer.files.length||!vt||PS>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(Ma?"Text":"text/html",d.innerHTML),n.dataTransfer.effectAllowed="copyMove",Ma||n.dataTransfer.setData("text/plain",h),t.dragging=new yw(m,bw(t,n),c)};Ut.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};qt.dragover=qt.dragenter=(t,e)=>e.preventDefault();qt.drop=(t,e)=>{try{_R(t,e,t.dragging)}finally{t.dragging=null}};function _R(t,e,n){if(!e.dataTransfer)return;let i=t.posAtCoords(Fu(e));if(!i)return;let s=t.state.doc.resolve(i.pos),a=n&&n.slice;a?t.someProp("transformPasted",v=>{a=v(a,t,!1)}):a=lw(t,gw(e.dataTransfer),Ma?null:e.dataTransfer.getData("text/html"),!1,s);let c=!!(n&&bw(t,e));if(t.someProp("handleDrop",v=>v(t,e,a||ee.empty,c))){e.preventDefault();return}if(!a)return;e.preventDefault();let u=a?wS(t.state.doc,s.pos,a):s.pos;u==null&&(u=s.pos);let d=t.state.tr;if(c){let{node:v}=n;v?v.replace(d):d.deleteSelection()}let h=d.mapping.map(u),m=a.openStart==0&&a.openEnd==0&&a.content.childCount==1,y=d.doc;if(m?d.replaceRangeWith(h,h,a.content.firstChild):d.replaceRange(h,h,a),d.doc.eq(y))return;let x=d.doc.resolve(h);if(m&&ae.isSelectable(a.content.firstChild)&&x.nodeAfter&&x.nodeAfter.sameMarkup(a.content.firstChild))d.setSelection(new ae(x));else{let v=d.mapping.map(u);d.mapping.maps[d.mapping.maps.length-1].forEach((S,E,k,T)=>v=T),d.setSelection(dm(t,x,d.doc.resolve(v)))}t.focus(),t.dispatch(d.setMeta("uiEvent","drop"))}Ut.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&wi(t)},20))};Ut.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};Ut.beforeinput=(t,e)=>{if(vt&&xi&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:i}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=i||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",a=>a(t,Lr(8,"Backspace")))))return;let{$cursor:s}=t.state.selection;s&&s.pos>0&&t.dispatch(t.state.tr.delete(s.pos-1,s.pos).scrollIntoView())},50)}};for(let t in qt)Ut[t]=qt[t];function Ra(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class Xc{constructor(e,n){this.toDOM=e,this.spec=n||$r,this.side=this.spec.side||0}map(e,n,i,s){let{pos:a,deleted:c}=e.mapResult(n.from+s,this.side<0?-1:1);return c?null:new Ht(a-i,a-i,this)}valid(){return!0}eq(e){return this==e||e instanceof Xc&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Ra(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class cr{constructor(e,n){this.attrs=e,this.spec=n||$r}map(e,n,i,s){let a=e.map(n.from+s,this.spec.inclusiveStart?-1:1)-i,c=e.map(n.to+s,this.spec.inclusiveEnd?1:-1)-i;return a>=c?null:new Ht(a,c,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof cr&&Ra(this.attrs,e.attrs)&&Ra(this.spec,e.spec)}static is(e){return e.type instanceof cr}destroy(){}}class ym{constructor(e,n){this.attrs=e,this.spec=n||$r}map(e,n,i,s){let a=e.mapResult(n.from+s,1);if(a.deleted)return null;let c=e.mapResult(n.to+s,-1);return c.deleted||c.pos<=a.pos?null:new Ht(a.pos-i,c.pos-i,this)}valid(e,n){let{index:i,offset:s}=e.content.findIndex(n.from),a;return s==n.from&&!(a=e.child(i)).isText&&s+a.nodeSize==n.to}eq(e){return this==e||e instanceof ym&&Ra(this.attrs,e.attrs)&&Ra(this.spec,e.spec)}destroy(){}}class Ht{constructor(e,n,i){this.from=e,this.to=n,this.type=i}copy(e,n){return new Ht(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,i){return this.type.map(e,this,n,i)}static widget(e,n,i){return new Ht(e,e,new Xc(n,i))}static inline(e,n,i,s){return new Ht(e,n,new cr(i,s))}static node(e,n,i,s){return new Ht(e,n,new ym(i,s))}get spec(){return this.type.spec}get inline(){return this.type instanceof cr}get widget(){return this.type instanceof Xc}}const Ks=[],$r={};class Ke{constructor(e,n){this.local=e.length?e:Ks,this.children=n.length?n:Ks}static create(e,n){return n.length?Qc(n,e,0,$r):Dt}find(e,n,i){let s=[];return this.findInner(e??0,n??1e9,s,0,i),s}findInner(e,n,i,s,a){for(let c=0;c<this.local.length;c++){let u=this.local[c];u.from<=n&&u.to>=e&&(!a||a(u.spec))&&i.push(u.copy(u.from+s,u.to+s))}for(let c=0;c<this.children.length;c+=3)if(this.children[c]<n&&this.children[c+1]>e){let u=this.children[c]+1;this.children[c+2].findInner(e-u,n-u,i,s+u,a)}}map(e,n,i){return this==Dt||e.maps.length==0?this:this.mapInner(e,n,0,0,i||$r)}mapInner(e,n,i,s,a){let c;for(let u=0;u<this.local.length;u++){let d=this.local[u].map(e,i,s);d&&d.type.valid(n,d)?(c||(c=[])).push(d):a.onRemove&&a.onRemove(this.local[u].spec)}return this.children.length?BR(this.children,c||[],e,n,i,s,a):c?new Ke(c.sort(Fr),Ks):Dt}add(e,n){return n.length?this==Dt?Ke.create(e,n):this.addInner(e,n,0):this}addInner(e,n,i){let s,a=0;e.forEach((u,d)=>{let h=d+i,m;if(m=vw(n,u,h)){for(s||(s=this.children.slice());a<s.length&&s[a]<d;)a+=3;s[a]==d?s[a+2]=s[a+2].addInner(u,m,h+1):s.splice(a,0,d,d+u.nodeSize,Qc(m,u,h+1,$r)),a+=3}});let c=xw(a?Sw(n):n,-i);for(let u=0;u<c.length;u++)c[u].type.valid(e,c[u])||c.splice(u--,1);return new Ke(c.length?this.local.concat(c).sort(Fr):this.local,s||this.children)}remove(e){return e.length==0||this==Dt?this:this.removeInner(e,0)}removeInner(e,n){let i=this.children,s=this.local;for(let a=0;a<i.length;a+=3){let c,u=i[a]+n,d=i[a+1]+n;for(let m=0,y;m<e.length;m++)(y=e[m])&&y.from>u&&y.to<d&&(e[m]=null,(c||(c=[])).push(y));if(!c)continue;i==this.children&&(i=this.children.slice());let h=i[a+2].removeInner(c,u+1);h!=Dt?i[a+2]=h:(i.splice(a,3),a-=3)}if(s.length){for(let a=0,c;a<e.length;a++)if(c=e[a])for(let u=0;u<s.length;u++)s[u].eq(c,n)&&(s==this.local&&(s=this.local.slice()),s.splice(u--,1))}return i==this.children&&s==this.local?this:s.length||i.length?new Ke(s,i):Dt}forChild(e,n){if(this==Dt)return this;if(n.isLeaf)return Ke.empty;let i,s;for(let u=0;u<this.children.length;u+=3)if(this.children[u]>=e){this.children[u]==e&&(i=this.children[u+2]);break}let a=e+1,c=a+n.content.size;for(let u=0;u<this.local.length;u++){let d=this.local[u];if(d.from<c&&d.to>a&&d.type instanceof cr){let h=Math.max(a,d.from)-a,m=Math.min(c,d.to)-a;h<m&&(s||(s=[])).push(d.copy(h,m))}}if(s){let u=new Ke(s.sort(Fr),Ks);return i?new tr([u,i]):u}return i||Dt}eq(e){if(this==e)return!0;if(!(e instanceof Ke)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return bm(this.localsInner(e))}localsInner(e){if(this==Dt)return Ks;if(e.inlineContent||!this.local.some(cr.is))return this.local;let n=[];for(let i=0;i<this.local.length;i++)this.local[i].type instanceof cr||n.push(this.local[i]);return n}forEachSet(e){e(this)}}Ke.empty=new Ke([],[]);Ke.removeOverlap=bm;const Dt=Ke.empty;class tr{constructor(e){this.members=e}map(e,n){const i=this.members.map(s=>s.map(e,n,$r));return tr.from(i)}forChild(e,n){if(n.isLeaf)return Ke.empty;let i=[];for(let s=0;s<this.members.length;s++){let a=this.members[s].forChild(e,n);a!=Dt&&(a instanceof tr?i=i.concat(a.members):i.push(a))}return tr.from(i)}eq(e){if(!(e instanceof tr)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,i=!0;for(let s=0;s<this.members.length;s++){let a=this.members[s].localsInner(e);if(a.length)if(!n)n=a;else{i&&(n=n.slice(),i=!1);for(let c=0;c<a.length;c++)n.push(a[c])}}return n?bm(i?n:n.sort(Fr)):Ks}static from(e){switch(e.length){case 0:return Dt;case 1:return e[0];default:return new tr(e.every(n=>n instanceof Ke)?e:e.reduce((n,i)=>n.concat(i instanceof Ke?i:i.members),[]))}}forEachSet(e){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(e)}}function BR(t,e,n,i,s,a,c){let u=t.slice();for(let h=0,m=a;h<n.maps.length;h++){let y=0;n.maps[h].forEach((x,v,S,E)=>{let k=E-S-(v-x);for(let T=0;T<u.length;T+=3){let M=u[T+1];if(M<0||x>M+m-y)continue;let D=u[T]+m-y;v>=D?u[T+1]=x<=D?-2:-1:x>=m&&k&&(u[T]+=k,u[T+1]+=k)}y+=k}),m=n.maps[h].map(m,-1)}let d=!1;for(let h=0;h<u.length;h+=3)if(u[h+1]<0){if(u[h+1]==-2){d=!0,u[h+1]=-1;continue}let m=n.map(t[h]+a),y=m-s;if(y<0||y>=i.content.size){d=!0;continue}let x=n.map(t[h+1]+a,-1),v=x-s,{index:S,offset:E}=i.content.findIndex(y),k=i.maybeChild(S);if(k&&E==y&&E+k.nodeSize==v){let T=u[h+2].mapInner(n,k,m+1,t[h]+a+1,c);T!=Dt?(u[h]=y,u[h+1]=v,u[h+2]=T):(u[h+1]=-2,d=!0)}else d=!0}if(d){let h=HR(u,t,e,n,s,a,c),m=Qc(h,i,0,c);e=m.local;for(let y=0;y<u.length;y+=3)u[y+1]<0&&(u.splice(y,3),y-=3);for(let y=0,x=0;y<m.children.length;y+=3){let v=m.children[y];for(;x<u.length&&u[x]<v;)x+=3;u.splice(x,0,m.children[y],m.children[y+1],m.children[y+2])}}return new Ke(e.sort(Fr),u)}function xw(t,e){if(!e||!t.length)return t;let n=[];for(let i=0;i<t.length;i++){let s=t[i];n.push(new Ht(s.from+e,s.to+e,s.type))}return n}function HR(t,e,n,i,s,a,c){function u(d,h){for(let m=0;m<d.local.length;m++){let y=d.local[m].map(i,s,h);y?n.push(y):c.onRemove&&c.onRemove(d.local[m].spec)}for(let m=0;m<d.children.length;m+=3)u(d.children[m+2],d.children[m]+h+1)}for(let d=0;d<t.length;d+=3)t[d+1]==-1&&u(t[d+2],e[d]+a+1);return n}function vw(t,e,n){if(e.isLeaf)return null;let i=n+e.nodeSize,s=null;for(let a=0,c;a<t.length;a++)(c=t[a])&&c.from>n&&c.to<i&&((s||(s=[])).push(c),t[a]=null);return s}function Sw(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function Qc(t,e,n,i){let s=[],a=!1;e.forEach((u,d)=>{let h=vw(t,u,d+n);if(h){a=!0;let m=Qc(h,u,n+d+1,i);m!=Dt&&s.push(d,d+u.nodeSize,m)}});let c=xw(a?Sw(t):t,-n).sort(Fr);for(let u=0;u<c.length;u++)c[u].type.valid(e,c[u])||(i.onRemove&&i.onRemove(c[u].spec),c.splice(u--,1));return c.length||s.length?new Ke(c,s):Dt}function Fr(t,e){return t.from-e.from||t.to-e.to}function bm(t){let e=t;for(let n=0;n<e.length-1;n++){let i=e[n];if(i.from!=i.to)for(let s=n+1;s<e.length;s++){let a=e[s];if(a.from==i.from){a.to!=i.to&&(e==t&&(e=t.slice()),e[s]=a.copy(a.from,i.to),fv(e,s+1,a.copy(i.to,a.to)));continue}else{a.from<i.to&&(e==t&&(e=t.slice()),e[n]=i.copy(i.from,a.from),fv(e,s,i.copy(a.from,i.to)));break}}}return e}function fv(t,e,n){for(;e<t.length&&Fr(n,t[e])>0;)e++;t.splice(e,0,n)}function $h(t){let e=[];return t.someProp("decorations",n=>{let i=n(t.state);i&&i!=Dt&&e.push(i)}),t.cursorWrapper&&e.push(Ke.create(t.state.doc,[t.cursorWrapper.deco])),tr.from(e)}const UR={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},qR=Wt&&ar<=11;class IR{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class VR{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new IR,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(i=>{for(let s=0;s<i.length;s++)this.queue.push(i[s]);Wt&&ar<=11&&i.some(s=>s.type=="childList"&&s.removedNodes.length||s.type=="characterData"&&s.oldValue.length>s.target.nodeValue.length)?this.flushSoon():Rt&&e.composing&&i.some(s=>s.type=="childList"&&s.target.nodeName=="TR")?(e.input.badSafariComposition=!0,this.flushSoon()):this.flush()}),qR&&(this.onCharData=i=>{this.queue.push({target:i.target,type:"characterData",oldValue:i.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,UR)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(iv(this.view)){if(this.suppressingSelectionUpdates)return wi(this.view);if(Wt&&ar<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&Qr(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,i;for(let a=e.focusNode;a;a=el(a))n.add(a);for(let a=e.anchorNode;a;a=el(a))if(n.has(a)){i=a;break}let s=i&&this.view.docView.nearestDesc(i);if(s&&s.ignoreMutation({type:"selection",target:i.nodeType==3?i.parentNode:i}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let i=e.domSelectionRange(),s=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(i)&&iv(e)&&!this.ignoreSelectionChange(i),a=-1,c=-1,u=!1,d=[];if(e.editable)for(let m=0;m<n.length;m++){let y=this.registerMutation(n[m],d);y&&(a=a<0?y.from:Math.min(y.from,a),c=c<0?y.to:Math.max(y.to,c),y.typeOver&&(u=!0))}if(Cn&&d.length){let m=d.filter(y=>y.nodeName=="BR");if(m.length==2){let[y,x]=m;y.parentNode&&y.parentNode.parentNode==x.parentNode?x.remove():y.remove()}else{let{focusNode:y}=this.currentSelection;for(let x of m){let v=x.parentNode;v&&v.nodeName=="LI"&&(!y||FR(e,y)!=v)&&x.remove()}}}else if((vt||Rt)&&d.some(m=>m.nodeName=="BR")&&(e.input.lastKeyCode==8||e.input.lastKeyCode==46)){for(let m of d)if(m.nodeName=="BR"&&m.parentNode){let y=m.nextSibling;y&&y.nodeType==1&&y.contentEditable=="false"&&m.parentNode.removeChild(m)}}let h=null;a<0&&s&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&Pu(i)&&(h=fm(e))&&h.eq(ye.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,wi(e),this.currentSelection.set(i),e.scrollToSelection()):(a>-1||s)&&(a>-1&&(e.docView.markDirty(a,c),PR(e)),e.input.badSafariComposition&&(e.input.badSafariComposition=!1,KR(e,d)),this.handleDOMChange(a,c,u,d),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(i)||wi(e),this.currentSelection.set(i))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let i=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(i==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!i||i.ignoreMutation(e))return null;if(e.type=="childList"){for(let m=0;m<e.addedNodes.length;m++){let y=e.addedNodes[m];n.push(y),y.nodeType==3&&(this.lastChangedTextNode=y)}if(i.contentDOM&&i.contentDOM!=i.dom&&!i.contentDOM.contains(e.target))return{from:i.posBefore,to:i.posAfter};let s=e.previousSibling,a=e.nextSibling;if(Wt&&ar<=11&&e.addedNodes.length)for(let m=0;m<e.addedNodes.length;m++){let{previousSibling:y,nextSibling:x}=e.addedNodes[m];(!y||Array.prototype.indexOf.call(e.addedNodes,y)<0)&&(s=y),(!x||Array.prototype.indexOf.call(e.addedNodes,x)<0)&&(a=x)}let c=s&&s.parentNode==e.target?Mt(s)+1:0,u=i.localPosFromDOM(e.target,c,-1),d=a&&a.parentNode==e.target?Mt(a):e.target.childNodes.length,h=i.localPosFromDOM(e.target,d,1);return{from:u,to:h}}else return e.type=="attributes"?{from:i.posAtStart-i.border,to:i.posAtEnd+i.border}:(this.lastChangedTextNode=e.target,{from:i.posAtStart,to:i.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let dv=new WeakMap,hv=!1;function PR(t){if(!dv.has(t)&&(dv.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=Cn,hv)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),hv=!0}}function pv(t,e){let n=e.startContainer,i=e.startOffset,s=e.endContainer,a=e.endOffset,c=t.domAtPos(t.state.selection.anchor);return Qr(c.node,c.offset,s,a)&&([n,i,s,a]=[s,a,n,i]),{anchorNode:n,anchorOffset:i,focusNode:s,focusOffset:a}}function $R(t,e){if(e.getComposedRanges){let s=e.getComposedRanges(t.root)[0];if(s)return pv(t,s)}let n;function i(s){s.preventDefault(),s.stopImmediatePropagation(),n=s.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",i,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",i,!0),n?pv(t,n):null}function FR(t,e){for(let n=e.parentNode;n&&n!=t.dom;n=n.parentNode){let i=t.docView.nearestDesc(n,!0);if(i&&i.node.isBlock)return n}return null}function KR(t,e){var n;let{focusNode:i,focusOffset:s}=t.domSelectionRange();for(let a of e)if(((n=a.parentNode)===null||n===void 0?void 0:n.nodeName)=="TR"){let c=a.nextSibling;for(;c&&c.nodeName!="TD"&&c.nodeName!="TH";)c=c.nextSibling;if(c){let u=c;for(;;){let d=u.firstChild;if(!d||d.nodeType!=1||d.contentEditable=="false"||/^(BR|IMG)$/.test(d.nodeName))break;u=d}u.insertBefore(a,u.firstChild),i==a&&t.domSelection().collapse(a,s)}else a.parentNode.removeChild(a)}}function GR(t,e,n){let{node:i,fromOffset:s,toOffset:a,from:c,to:u}=t.docView.parseRange(e,n),d=t.domSelectionRange(),h,m=d.anchorNode;if(m&&t.dom.contains(m.nodeType==1?m:m.parentNode)&&(h=[{node:m,offset:d.anchorOffset}],Pu(d)||h.push({node:d.focusNode,offset:d.focusOffset})),vt&&t.input.lastKeyCode===8)for(let k=a;k>s;k--){let T=i.childNodes[k-1],M=T.pmViewDesc;if(T.nodeName=="BR"&&!M){a=k;break}if(!M||M.size)break}let y=t.state.doc,x=t.someProp("domParser")||lr.fromSchema(t.state.schema),v=y.resolve(c),S=null,E=x.parse(i,{topNode:v.parent,topMatch:v.parent.contentMatchAt(v.index()),topOpen:!0,from:s,to:a,preserveWhitespace:v.parent.type.whitespace=="pre"?"full":!0,findPositions:h,ruleFromNode:YR,context:v});if(h&&h[0].pos!=null){let k=h[0].pos,T=h[1]&&h[1].pos;T==null&&(T=k),S={anchor:k+c,head:T+c}}return{doc:E,sel:S,from:c,to:u}}function YR(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(Rt&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||Rt&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const JR=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function XR(t,e,n,i,s){let a=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let L=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,G=fm(t,L);if(G&&!t.state.selection.eq(G)){if(vt&&xi&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",he=>he(t,Lr(13,"Enter"))))return;let Z=t.state.tr.setSelection(G);L=="pointer"?Z.setMeta("pointer",!0):L=="key"&&Z.scrollIntoView(),a&&Z.setMeta("composition",a),t.dispatch(Z)}return}let c=t.state.doc.resolve(e),u=c.sharedDepth(n);e=c.before(u+1),n=t.state.doc.resolve(n).after(u+1);let d=t.state.selection,h=GR(t,e,n),m=t.state.doc,y=m.slice(h.from,h.to),x,v;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(x=t.state.selection.to,v="end"):(x=t.state.selection.from,v="start"),t.input.lastKeyCode=null;let S=ZR(y.content,h.doc.content,h.from,x,v);if(S&&t.input.domChangeCount++,(tl&&t.input.lastIOSEnter>Date.now()-225||xi)&&s.some(L=>L.nodeType==1&&!JR.test(L.nodeName))&&(!S||S.endA>=S.endB)&&t.someProp("handleKeyDown",L=>L(t,Lr(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!S)if(i&&d instanceof ue&&!d.empty&&d.$head.sameParent(d.$anchor)&&!t.composing&&!(h.sel&&h.sel.anchor!=h.sel.head))S={start:d.from,endA:d.to,endB:d.to};else{if(h.sel){let L=mv(t,t.state.doc,h.sel);if(L&&!L.eq(t.state.selection)){let G=t.state.tr.setSelection(L);a&&G.setMeta("composition",a),t.dispatch(G)}}return}t.state.selection.from<t.state.selection.to&&S.start==S.endB&&t.state.selection instanceof ue&&(S.start>t.state.selection.from&&S.start<=t.state.selection.from+2&&t.state.selection.from>=h.from?S.start=t.state.selection.from:S.endA<t.state.selection.to&&S.endA>=t.state.selection.to-2&&t.state.selection.to<=h.to&&(S.endB+=t.state.selection.to-S.endA,S.endA=t.state.selection.to)),Wt&&ar<=11&&S.endB==S.start+1&&S.endA==S.start&&S.start>h.from&&h.doc.textBetween(S.start-h.from-1,S.start-h.from+1)==" "&&(S.start--,S.endA--,S.endB--);let E=h.doc.resolveNoCache(S.start-h.from),k=h.doc.resolveNoCache(S.endB-h.from),T=m.resolve(S.start),M=E.sameParent(k)&&E.parent.inlineContent&&T.end()>=S.endA;if((tl&&t.input.lastIOSEnter>Date.now()-225&&(!M||s.some(L=>L.nodeName=="DIV"||L.nodeName=="P"))||!M&&E.pos<h.doc.content.size&&(!E.sameParent(k)||!E.parent.inlineContent)&&E.pos<k.pos&&!/\S/.test(h.doc.textBetween(E.pos,k.pos,"","")))&&t.someProp("handleKeyDown",L=>L(t,Lr(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>S.start&&WR(m,S.start,S.endA,E,k)&&t.someProp("handleKeyDown",L=>L(t,Lr(8,"Backspace")))){xi&&vt&&t.domObserver.suppressSelectionUpdates();return}vt&&S.endB==S.start&&(t.input.lastChromeDelete=Date.now()),xi&&!M&&E.start()!=k.start()&&k.parentOffset==0&&E.depth==k.depth&&h.sel&&h.sel.anchor==h.sel.head&&h.sel.head==S.endA&&(S.endB-=2,k=h.doc.resolveNoCache(S.endB-h.from),setTimeout(()=>{t.someProp("handleKeyDown",function(L){return L(t,Lr(13,"Enter"))})},20));let D=S.start,V=S.endA,z=L=>{let G=L||t.state.tr.replace(D,V,h.doc.slice(S.start-h.from,S.endB-h.from));if(h.sel){let Z=mv(t,G.doc,h.sel);Z&&!(vt&&t.composing&&Z.empty&&(S.start!=S.endB||t.input.lastChromeDelete<Date.now()-100)&&(Z.head==D||Z.head==G.mapping.map(V)-1)||Wt&&Z.empty&&Z.head==D)&&G.setSelection(Z)}return a&&G.setMeta("composition",a),G.scrollIntoView()},P;if(M)if(E.pos==k.pos){Wt&&ar<=11&&E.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>wi(t),20));let L=z(t.state.tr.delete(D,V)),G=m.resolve(S.start).marksAcross(m.resolve(S.endA));G&&L.ensureMarks(G),t.dispatch(L)}else if(S.endA==S.endB&&(P=QR(E.parent.content.cut(E.parentOffset,k.parentOffset),T.parent.content.cut(T.parentOffset,S.endA-T.start())))){let L=z(t.state.tr);P.type=="add"?L.addMark(D,V,P.mark):L.removeMark(D,V,P.mark),t.dispatch(L)}else if(E.parent.child(E.index()).isText&&E.index()==k.index()-(k.textOffset?0:1)){let L=E.parent.textBetween(E.parentOffset,k.parentOffset),G=()=>z(t.state.tr.insertText(L,D,V));t.someProp("handleTextInput",Z=>Z(t,D,V,L,G))||t.dispatch(G())}else t.dispatch(z());else t.dispatch(z())}function mv(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:dm(t,e.resolve(n.anchor),e.resolve(n.head))}function QR(t,e){let n=t.firstChild.marks,i=e.firstChild.marks,s=n,a=i,c,u,d;for(let m=0;m<i.length;m++)s=i[m].removeFromSet(s);for(let m=0;m<n.length;m++)a=n[m].removeFromSet(a);if(s.length==1&&a.length==0)u=s[0],c="add",d=m=>m.mark(u.addToSet(m.marks));else if(s.length==0&&a.length==1)u=a[0],c="remove",d=m=>m.mark(u.removeFromSet(m.marks));else return null;let h=[];for(let m=0;m<e.childCount;m++)h.push(d(e.child(m)));if(J.from(h).eq(t))return{mark:u,type:c}}function WR(t,e,n,i,s){if(n-e<=s.pos-i.pos||Fh(i,!0,!1)<s.pos)return!1;let a=t.resolve(e);if(!i.parent.isTextblock){let u=a.nodeAfter;return u!=null&&n==e+u.nodeSize}if(a.parentOffset<a.parent.content.size||!a.parent.isTextblock)return!1;let c=t.resolve(Fh(a,!0,!0));return!c.parent.isTextblock||c.pos>n||Fh(c,!0,!1)<n?!1:i.parent.content.cut(i.parentOffset).eq(c.parent.content)}function Fh(t,e,n){let i=t.depth,s=e?t.end():t.pos;for(;i>0&&(e||t.indexAfter(i)==t.node(i).childCount);)i--,s++,e=!1;if(n){let a=t.node(i).maybeChild(t.indexAfter(i));for(;a&&!a.isLeaf;)a=a.firstChild,s++}return s}function ZR(t,e,n,i,s){let a=t.findDiffStart(e,n);if(a==null)return null;let{a:c,b:u}=t.findDiffEnd(e,n+t.size,n+e.size);if(s=="end"){let d=Math.max(0,a-Math.min(c,u));i-=c+d-a}if(c<a&&t.size<e.size){let d=i<=a&&i>=c?a-i:0;a-=d,a&&a<e.size&&gv(e.textBetween(a-1,a+1))&&(a+=d?1:-1),u=a+(u-c),c=a}else if(u<a){let d=i<=a&&i>=u?a-i:0;a-=d,a&&a<t.size&&gv(t.textBetween(a-1,a+1))&&(a+=d?1:-1),c=a+(c-u),u=a}return{start:a,endA:c,endB:u}}function gv(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),n=t.charCodeAt(1);return e>=56320&&e<=57343&&n>=55296&&n<=56319}class ww{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new mR,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(Sv),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=xv(this),bv(this),this.nodeViews=vv(this),this.docView=Qx(this.state.doc,yv(this),$h(this),this.dom,this),this.domObserver=new VR(this,(i,s,a,c)=>XR(this,i,s,a,c)),this.domObserver.start(),gR(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&Mp(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(Sv),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let i in this._props)n[i]=this._props[i];n.state=this.state;for(let i in e)n[i]=e[i];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){var i;let s=this.state,a=!1,c=!1;e.storedMarks&&this.composing&&(mw(this),c=!0),this.state=e;let u=s.plugins!=e.plugins||this._props.plugins!=n.plugins;if(u||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let v=vv(this);tj(v,this.nodeViews)&&(this.nodeViews=v,a=!0)}(u||n.handleDOMEvents!=this._props.handleDOMEvents)&&Mp(this),this.editable=xv(this),bv(this);let d=$h(this),h=yv(this),m=s.plugins!=e.plugins&&!s.doc.eq(e.doc)?"reset":e.scrollToSelection>s.scrollToSelection?"to selection":"preserve",y=a||!this.docView.matchesNode(e.doc,h,d);(y||!e.selection.eq(s.selection))&&(c=!0);let x=m=="preserve"&&c&&this.dom.style.overflowAnchor==null&&OO(this);if(c){this.domObserver.stop();let v=y&&(Wt||vt)&&!this.composing&&!s.selection.empty&&!e.selection.empty&&ej(s.selection,e.selection);if(y){let S=vt?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=OR(this)),(a||!this.docView.update(e.doc,h,d,this))&&(this.docView.updateOuterDeco(h),this.docView.destroy(),this.docView=Qx(e.doc,h,d,this.dom,this)),S&&(!this.trackWrites||!this.dom.contains(this.trackWrites))&&(v=!0)}v||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&eR(this))?wi(this,v):(iw(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(s),!((i=this.dragging)===null||i===void 0)&&i.node&&!s.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,s),m=="reset"?this.dom.scrollTop=0:m=="to selection"?this.scrollToSelection():x&&RO(x)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof ae){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&Fx(this,n.getBoundingClientRect(),e)}else Fx(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let i=this.directPlugins[n];i.spec.view&&this.pluginViews.push(i.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let i=this.state.plugins[n];i.spec.view&&this.pluginViews.push(i.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let i=this.pluginViews[n];i.update&&i.update(this,e)}}updateDraggedNode(e,n){let i=e.node,s=-1;if(this.state.doc.nodeAt(i.from)==i.node)s=i.from;else{let a=i.from+(this.state.doc.content.size-n.doc.content.size);(a>0&&this.state.doc.nodeAt(a))==i.node&&(s=a)}this.dragging=new yw(e.slice,e.move,s<0?void 0:ae.create(this.state.doc,s))}someProp(e,n){let i=this._props&&this._props[e],s;if(i!=null&&(s=n?n(i):i))return s;for(let c=0;c<this.directPlugins.length;c++){let u=this.directPlugins[c].props[e];if(u!=null&&(s=n?n(u):u))return s}let a=this.state.plugins;if(a)for(let c=0;c<a.length;c++){let u=a[c].props[e];if(u!=null&&(s=n?n(u):u))return s}}hasFocus(){if(Wt){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&jO(this.dom),wi(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}updateRoot(){this._root=null}posAtCoords(e){return BO(this,e)}coordsAtPos(e,n=1){return JS(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,i=-1){let s=this.docView.posFromDOM(e,n,i);if(s==null)throw new RangeError("DOM position not inside the editor");return s}endOfTextblock(e,n){return VO(this,n||this.state,e)}pasteHTML(e,n){return Oa(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return Oa(this,e,null,!0,n||new ClipboardEvent("paste"))}serializeForClipboard(e){return hm(this,e)}destroy(){this.docView&&(yR(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],$h(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,vO())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return xR(this,e)}domSelectionRange(){let e=this.domSelection();return e?Rt&&this.root.nodeType===11&&NO(this.dom.ownerDocument)==this.dom&&$R(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}ww.prototype.dispatch=function(t){let e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))};function yv(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let i in n)i=="class"?e.class+=" "+n[i]:i=="style"?e.style=(e.style?e.style+";":"")+n[i]:!e[i]&&i!="contenteditable"&&i!="nodeName"&&(e[i]=String(n[i]))}),e.translate||(e.translate="no"),[Ht.node(0,t.state.doc.content.size,e)]}function bv(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:Ht.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function xv(t){return!t.someProp("editable",e=>e(t.state)===!1)}function ej(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function vv(t){let e=Object.create(null);function n(i){for(let s in i)Object.prototype.hasOwnProperty.call(e,s)||(e[s]=i[s])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function tj(t,e){let n=0,i=0;for(let s in t){if(t[s]!=e[s])return!0;n++}for(let s in e)i++;return n!=i}function Sv(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var ur={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Wc={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},nj=typeof navigator<"u"&&/Mac/.test(navigator.platform),ij=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Ot=0;Ot<10;Ot++)ur[48+Ot]=ur[96+Ot]=String(Ot);for(var Ot=1;Ot<=24;Ot++)ur[Ot+111]="F"+Ot;for(var Ot=65;Ot<=90;Ot++)ur[Ot]=String.fromCharCode(Ot+32),Wc[Ot]=String.fromCharCode(Ot);for(var Kh in ur)Wc.hasOwnProperty(Kh)||(Wc[Kh]=ur[Kh]);function rj(t){var e=nj&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||ij&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?Wc:ur)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const sj=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),lj=typeof navigator<"u"&&/Win/.test(navigator.platform);function aj(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let i,s,a,c;for(let u=0;u<e.length-1;u++){let d=e[u];if(/^(cmd|meta|m)$/i.test(d))c=!0;else if(/^a(lt)?$/i.test(d))i=!0;else if(/^(c|ctrl|control)$/i.test(d))s=!0;else if(/^s(hift)?$/i.test(d))a=!0;else if(/^mod$/i.test(d))sj?c=!0:s=!0;else throw new Error("Unrecognized modifier name: "+d)}return i&&(n="Alt-"+n),s&&(n="Ctrl-"+n),c&&(n="Meta-"+n),a&&(n="Shift-"+n),n}function oj(t){let e=Object.create(null);for(let n in t)e[aj(n)]=t[n];return e}function Gh(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function cj(t){return new Ye({props:{handleKeyDown:kw(t)}})}function kw(t){let e=oj(t);return function(n,i){let s=rj(i),a,c=e[Gh(s,i)];if(c&&c(n.state,n.dispatch,n))return!0;if(s.length==1&&s!=" "){if(i.shiftKey){let u=e[Gh(s,i,!1)];if(u&&u(n.state,n.dispatch,n))return!0}if((i.altKey||i.metaKey||i.ctrlKey)&&!(lj&&i.ctrlKey&&i.altKey)&&(a=ur[i.keyCode])&&a!=s){let u=e[Gh(a,i)];if(u&&u(n.state,n.dispatch,n))return!0}}return!1}}var uj=Object.defineProperty,xm=(t,e)=>{for(var n in e)uj(t,n,{get:e[n],enumerable:!0})};function Ku(t){const{state:e,transaction:n}=t;let{selection:i}=n,{doc:s}=n,{storedMarks:a}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return a},get selection(){return i},get doc(){return s},get tr(){return i=n.selection,s=n.doc,a=n.storedMarks,n}}}var Gu=class{constructor(t){this.editor=t.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=t.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:t,editor:e,state:n}=this,{view:i}=e,{tr:s}=n,a=this.buildProps(s);return Object.fromEntries(Object.entries(t).map(([c,u])=>[c,(...h)=>{const m=u(...h)(a);return!s.getMeta("preventDispatch")&&!this.hasCustomState&&i.dispatch(s),m}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(t,e=!0){const{rawCommands:n,editor:i,state:s}=this,{view:a}=i,c=[],u=!!t,d=t||s.tr,h=()=>(!u&&e&&!d.getMeta("preventDispatch")&&!this.hasCustomState&&a.dispatch(d),c.every(y=>y===!0)),m={...Object.fromEntries(Object.entries(n).map(([y,x])=>[y,(...S)=>{const E=this.buildProps(d,e),k=x(...S)(E);return c.push(k),m}])),run:h};return m}createCan(t){const{rawCommands:e,state:n}=this,i=!1,s=t||n.tr,a=this.buildProps(s,i);return{...Object.fromEntries(Object.entries(e).map(([u,d])=>[u,(...h)=>d(...h)({...a,dispatch:void 0})])),chain:()=>this.createChain(s,i)}}buildProps(t,e=!0){const{rawCommands:n,editor:i,state:s}=this,{view:a}=i,c={tr:t,editor:i,view:a,state:Ku({state:s,transaction:t}),dispatch:e?()=>{}:void 0,chain:()=>this.createChain(t,e),can:()=>this.createCan(t),get commands(){return Object.fromEntries(Object.entries(n).map(([u,d])=>[u,(...h)=>d(...h)(c)]))}};return c}},Ew={};xm(Ew,{blur:()=>fj,clearContent:()=>dj,clearNodes:()=>hj,command:()=>pj,createParagraphNear:()=>mj,cut:()=>gj,deleteCurrentNode:()=>yj,deleteNode:()=>bj,deleteRange:()=>xj,deleteSelection:()=>vj,enter:()=>Sj,exitCode:()=>wj,extendMarkRange:()=>kj,first:()=>Ej,focus:()=>Tj,forEach:()=>Cj,insertContent:()=>Aj,insertContentAt:()=>Rj,joinBackward:()=>zj,joinDown:()=>Dj,joinForward:()=>Lj,joinItemBackward:()=>_j,joinItemForward:()=>Bj,joinTextblockBackward:()=>Hj,joinTextblockForward:()=>Uj,joinUp:()=>jj,keyboardShortcut:()=>Ij,lift:()=>Vj,liftEmptyBlock:()=>Pj,liftListItem:()=>$j,newlineInCode:()=>Fj,resetAttributes:()=>Kj,scrollIntoView:()=>Gj,selectAll:()=>Yj,selectNodeBackward:()=>Jj,selectNodeForward:()=>Xj,selectParentNode:()=>Qj,selectTextblockEnd:()=>Wj,selectTextblockStart:()=>Zj,setContent:()=>eD,setMark:()=>vD,setMeta:()=>SD,setNode:()=>wD,setNodeSelection:()=>kD,setTextDirection:()=>ED,setTextSelection:()=>ND,sinkListItem:()=>TD,splitBlock:()=>CD,splitListItem:()=>AD,toggleList:()=>MD,toggleMark:()=>OD,toggleNode:()=>RD,toggleWrap:()=>jD,undoInputRule:()=>DD,unsetAllMarks:()=>zD,unsetMark:()=>LD,unsetTextDirection:()=>_D,updateAttributes:()=>BD,wrapIn:()=>HD,wrapInList:()=>UD});var fj=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window?.getSelection())==null||n.removeAllRanges())}),!0),dj=(t=!0)=>({commands:e})=>e.setContent("",{emitUpdate:t}),hj=()=>({state:t,tr:e,dispatch:n})=>{const{selection:i}=e,{ranges:s}=i;return n&&s.forEach(({$from:a,$to:c})=>{t.doc.nodesBetween(a.pos,c.pos,(u,d)=>{if(u.type.isText)return;const{doc:h,mapping:m}=e,y=h.resolve(m.map(d)),x=h.resolve(m.map(d+u.nodeSize)),v=y.blockRange(x);if(!v)return;const S=ol(v);if(u.type.isTextblock){const{defaultType:E}=y.parent.contentMatchAt(y.index());e.setNodeMarkup(v.start,E)}(S||S===0)&&e.lift(v,S)})}),!0},pj=t=>e=>t(e),mj=()=>({state:t,dispatch:e})=>HS(t,e),gj=(t,e)=>({editor:n,tr:i})=>{const{state:s}=n,a=s.doc.slice(t.from,t.to);i.deleteRange(t.from,t.to);const c=i.mapping.map(e);return i.insert(c,a.content),i.setSelection(new ue(i.doc.resolve(Math.max(c-1,0)))),!0},yj=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,i=n.$anchor.node();if(i.content.size>0)return!1;const s=t.selection.$anchor;for(let a=s.depth;a>0;a-=1)if(s.node(a).type===i.type){if(e){const u=s.before(a),d=s.after(a);t.delete(u,d).scrollIntoView()}return!0}return!1};function ht(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}var bj=t=>({tr:e,state:n,dispatch:i})=>{const s=ht(t,n.schema),a=e.selection.$anchor;for(let c=a.depth;c>0;c-=1)if(a.node(c).type===s){if(i){const d=a.before(c),h=a.after(c);e.delete(d,h).scrollIntoView()}return!0}return!1},xj=t=>({tr:e,dispatch:n})=>{const{from:i,to:s}=t;return n&&e.delete(i,s),!0},vj=()=>({state:t,dispatch:e})=>sm(t,e),Sj=()=>({commands:t})=>t.keyboardShortcut("Enter"),wj=()=>({state:t,dispatch:e})=>sO(t,e);function vm(t){return Object.prototype.toString.call(t)==="[object RegExp]"}function Zc(t,e,n={strict:!0}){const i=Object.keys(e);return i.length?i.every(s=>n.strict?e[s]===t[s]:vm(e[s])?e[s].test(t[s]):e[s]===t[s]):!0}function Nw(t,e,n={}){return t.find(i=>i.type===e&&Zc(Object.fromEntries(Object.keys(n).map(s=>[s,i.attrs[s]])),n))}function wv(t,e,n={}){return!!Nw(t,e,n)}function Sm(t,e,n){var i;if(!t||!e)return;let s=t.parent.childAfter(t.parentOffset);if((!s.node||!s.node.marks.some(m=>m.type===e))&&(s=t.parent.childBefore(t.parentOffset)),!s.node||!s.node.marks.some(m=>m.type===e)||(n=n||((i=s.node.marks[0])==null?void 0:i.attrs),!Nw([...s.node.marks],e,n)))return;let c=s.index,u=t.start()+s.offset,d=c+1,h=u+s.node.nodeSize;for(;c>0&&wv([...t.parent.child(c-1).marks],e,n);)c-=1,u-=t.parent.child(c).nodeSize;for(;d<t.parent.childCount&&wv([...t.parent.child(d).marks],e,n);)h+=t.parent.child(d).nodeSize,d+=1;return{from:u,to:h}}function Ei(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}var kj=(t,e={})=>({tr:n,state:i,dispatch:s})=>{const a=Ei(t,i.schema),{doc:c,selection:u}=n,{$from:d,from:h,to:m}=u;if(s){const y=Sm(d,a,e);if(y&&y.from<=h&&y.to>=m){const x=ue.create(c,y.from,y.to);n.setSelection(x)}}return!0},Ej=t=>e=>{const n=typeof t=="function"?t(e):t;for(let i=0;i<n.length;i+=1)if(n[i](e))return!0;return!1};function Tw(t){return t instanceof ue}function Ur(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function Cw(t,e=null){if(!e)return null;const n=ye.atStart(t),i=ye.atEnd(t);if(e==="start"||e===!0)return n;if(e==="end")return i;const s=n.from,a=i.to;return e==="all"?ue.create(t,Ur(0,s,a),Ur(t.content.size,s,a)):ue.create(t,Ur(e,s,a),Ur(e,s,a))}function kv(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function eu(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}function Nj(){return typeof navigator<"u"?/^((?!chrome|android).)*safari/i.test(navigator.userAgent):!1}var Tj=(t=null,e={})=>({editor:n,view:i,tr:s,dispatch:a})=>{e={scrollIntoView:!0,...e};const c=()=>{(eu()||kv())&&i.dom.focus(),Nj()&&!eu()&&!kv()&&i.dom.focus({preventScroll:!0}),requestAnimationFrame(()=>{n.isDestroyed||(i.focus(),e?.scrollIntoView&&n.commands.scrollIntoView())})};try{if(i.hasFocus()&&t===null||t===!1)return!0}catch{return!1}if(a&&t===null&&!Tw(n.state.selection))return c(),!0;const u=Cw(s.doc,t)||n.state.selection,d=n.state.selection.eq(u);return a&&(d||s.setSelection(u),d&&s.storedMarks&&s.setStoredMarks(s.storedMarks),c()),!0},Cj=(t,e)=>n=>t.every((i,s)=>e(i,{...n,index:s})),Aj=(t,e)=>({tr:n,commands:i})=>i.insertContentAt({from:n.selection.from,to:n.selection.to},t,e),Aw=t=>{const e=t.childNodes;for(let n=e.length-1;n>=0;n-=1){const i=e[n];i.nodeType===3&&i.nodeValue&&/^(\n\s\s|\n)$/.test(i.nodeValue)?t.removeChild(i):i.nodeType===1&&Aw(i)}return t};function vc(t){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const e=`<body>${t}</body>`,n=new window.DOMParser().parseFromString(e,"text/html").body;return Aw(n)}function ja(t,e,n){if(t instanceof Ln||t instanceof J)return t;n={slice:!0,parseOptions:{},...n};const i=typeof t=="object"&&t!==null,s=typeof t=="string";if(i)try{if(Array.isArray(t)&&t.length>0)return J.fromArray(t.map(u=>e.nodeFromJSON(u)));const c=e.nodeFromJSON(t);return n.errorOnInvalidContent&&c.check(),c}catch(a){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:a});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",a),ja("",e,n)}if(s){if(n.errorOnInvalidContent){let c=!1,u="";const d=new fS({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:h=>(c=!0,u=typeof h=="string"?h:h.outerHTML,null)}]}})});if(n.slice?lr.fromSchema(d).parseSlice(vc(t),n.parseOptions):lr.fromSchema(d).parse(vc(t),n.parseOptions),n.errorOnInvalidContent&&c)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${u}`)})}const a=lr.fromSchema(e);return n.slice?a.parseSlice(vc(t),n.parseOptions).content:a.parse(vc(t),n.parseOptions)}return ja("",e,n)}function Mj(t,e,n){const i=t.steps.length-1;if(i<e)return;const s=t.steps[i];if(!(s instanceof bt||s instanceof St))return;const a=t.mapping.maps[i];let c=0;a.forEach((u,d,h,m)=>{c===0&&(c=m)}),t.setSelection(ye.near(t.doc.resolve(c),n))}var Oj=t=>!("type"in t),Rj=(t,e,n)=>({tr:i,dispatch:s,editor:a})=>{var c;if(s){n={parseOptions:a.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let u;const d=k=>{a.emit("contentError",{editor:a,error:k,disableCollaboration:()=>{"collaboration"in a.storage&&typeof a.storage.collaboration=="object"&&a.storage.collaboration&&(a.storage.collaboration.isDisabled=!0)}})},h={preserveWhitespace:"full",...n.parseOptions};if(!n.errorOnInvalidContent&&!a.options.enableContentCheck&&a.options.emitContentError)try{ja(e,a.schema,{parseOptions:h,errorOnInvalidContent:!0})}catch(k){d(k)}try{u=ja(e,a.schema,{parseOptions:h,errorOnInvalidContent:(c=n.errorOnInvalidContent)!=null?c:a.options.enableContentCheck})}catch(k){return d(k),!1}let{from:m,to:y}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},x=!0,v=!0;if((Oj(u)?u:[u]).forEach(k=>{k.check(),x=x?k.isText&&k.marks.length===0:!1,v=v?k.isBlock:!1}),m===y&&v){const{parent:k}=i.doc.resolve(m);k.isTextblock&&!k.type.spec.code&&!k.childCount&&(m-=1,y+=1)}let E;if(x){if(Array.isArray(e))E=e.map(k=>k.text||"").join("");else if(e instanceof J){let k="";e.forEach(T=>{T.text&&(k+=T.text)}),E=k}else typeof e=="object"&&e&&e.text?E=e.text:E=e;i.insertText(E,m,y)}else{E=u;const k=i.doc.resolve(m),T=k.node(),M=k.parentOffset===0,D=T.isText||T.isTextblock,V=T.content.size>0;M&&D&&V&&(m=Math.max(0,m-1)),i.replaceWith(m,y,E)}n.updateSelection&&Mj(i,i.steps.length-1,-1),n.applyInputRules&&i.setMeta("applyInputRules",{from:m,text:E}),n.applyPasteRules&&i.setMeta("applyPasteRules",{from:m,text:E})}return!0},jj=()=>({state:t,dispatch:e})=>nO(t,e),Dj=()=>({state:t,dispatch:e})=>iO(t,e),zj=()=>({state:t,dispatch:e})=>RS(t,e),Lj=()=>({state:t,dispatch:e})=>LS(t,e),_j=()=>({state:t,dispatch:e,tr:n})=>{try{const i=qu(t.doc,t.selection.$from.pos,-1);return i==null?!1:(n.join(i,2),e&&e(n),!0)}catch{return!1}},Bj=()=>({state:t,dispatch:e,tr:n})=>{try{const i=qu(t.doc,t.selection.$from.pos,1);return i==null?!1:(n.join(i,2),e&&e(n),!0)}catch{return!1}},Hj=()=>({state:t,dispatch:e})=>eO(t,e),Uj=()=>({state:t,dispatch:e})=>tO(t,e);function Mw(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function qj(t){const e=t.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let i,s,a,c;for(let u=0;u<e.length-1;u+=1){const d=e[u];if(/^(cmd|meta|m)$/i.test(d))c=!0;else if(/^a(lt)?$/i.test(d))i=!0;else if(/^(c|ctrl|control)$/i.test(d))s=!0;else if(/^s(hift)?$/i.test(d))a=!0;else if(/^mod$/i.test(d))eu()||Mw()?c=!0:s=!0;else throw new Error(`Unrecognized modifier name: ${d}`)}return i&&(n=`Alt-${n}`),s&&(n=`Ctrl-${n}`),c&&(n=`Meta-${n}`),a&&(n=`Shift-${n}`),n}var Ij=t=>({editor:e,view:n,tr:i,dispatch:s})=>{const a=qj(t).split(/-(?!$)/),c=a.find(h=>!["Alt","Ctrl","Meta","Shift"].includes(h)),u=new KeyboardEvent("keydown",{key:c==="Space"?" ":c,altKey:a.includes("Alt"),ctrlKey:a.includes("Ctrl"),metaKey:a.includes("Meta"),shiftKey:a.includes("Shift"),bubbles:!0,cancelable:!0}),d=e.captureTransaction(()=>{n.someProp("handleKeyDown",h=>h(n,u))});return d?.steps.forEach(h=>{const m=h.map(i.mapping);m&&s&&i.maybeStep(m)}),!0};function fr(t,e,n={}){const{from:i,to:s,empty:a}=t.selection,c=e?ht(e,t.schema):null,u=[];t.doc.nodesBetween(i,s,(y,x)=>{if(y.isText)return;const v=Math.max(i,x),S=Math.min(s,x+y.nodeSize);u.push({node:y,from:v,to:S})});const d=s-i,h=u.filter(y=>c?c.name===y.node.type.name:!0).filter(y=>Zc(y.node.attrs,n,{strict:!1}));return a?!!h.length:h.reduce((y,x)=>y+x.to-x.from,0)>=d}var Vj=(t,e={})=>({state:n,dispatch:i})=>{const s=ht(t,n.schema);return fr(n,s,e)?rO(n,i):!1},Pj=()=>({state:t,dispatch:e})=>US(t,e),$j=t=>({state:e,dispatch:n})=>{const i=ht(t,e.schema);return gO(i)(e,n)},Fj=()=>({state:t,dispatch:e})=>BS(t,e);function Yu(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function Ev(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((i,s)=>(n.includes(s)||(i[s]=t[s]),i),{})}var Kj=(t,e)=>({tr:n,state:i,dispatch:s})=>{let a=null,c=null;const u=Yu(typeof t=="string"?t:t.name,i.schema);if(!u)return!1;u==="node"&&(a=ht(t,i.schema)),u==="mark"&&(c=Ei(t,i.schema));let d=!1;return n.selection.ranges.forEach(h=>{i.doc.nodesBetween(h.$from.pos,h.$to.pos,(m,y)=>{a&&a===m.type&&(d=!0,s&&n.setNodeMarkup(y,void 0,Ev(m.attrs,e))),c&&m.marks.length&&m.marks.forEach(x=>{c===x.type&&(d=!0,s&&n.addMark(y,y+m.nodeSize,c.create(Ev(x.attrs,e))))})})}),d},Gj=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),Yj=()=>({tr:t,dispatch:e})=>{if(e){const n=new dn(t.doc);t.setSelection(n)}return!0},Jj=()=>({state:t,dispatch:e})=>DS(t,e),Xj=()=>({state:t,dispatch:e})=>_S(t,e),Qj=()=>({state:t,dispatch:e})=>oO(t,e),Wj=()=>({state:t,dispatch:e})=>fO(t,e),Zj=()=>({state:t,dispatch:e})=>uO(t,e);function Op(t,e,n={},i={}){return ja(t,e,{slice:!1,parseOptions:n,errorOnInvalidContent:i.errorOnInvalidContent})}var eD=(t,{errorOnInvalidContent:e,emitUpdate:n=!0,parseOptions:i={}}={})=>({editor:s,tr:a,dispatch:c,commands:u})=>{const{doc:d}=a;if(i.preserveWhitespace!=="full"){const h=Op(t,s.schema,i,{errorOnInvalidContent:e??s.options.enableContentCheck});return c&&a.replaceWith(0,d.content.size,h).setMeta("preventUpdate",!n),!0}return c&&a.setMeta("preventUpdate",!n),u.insertContentAt({from:0,to:d.content.size},t,{parseOptions:i,errorOnInvalidContent:e??s.options.enableContentCheck})};function Ow(t,e){const n=Ei(e,t.schema),{from:i,to:s,empty:a}=t.selection,c=[];a?(t.storedMarks&&c.push(...t.storedMarks),c.push(...t.selection.$head.marks())):t.doc.nodesBetween(i,s,d=>{c.push(...d.marks)});const u=c.find(d=>d.type.name===n.name);return u?{...u.attrs}:{}}function Rw(t,e){const n=new CS(t);return e.forEach(i=>{i.steps.forEach(s=>{n.step(s)})}),n}function tD(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function nD(t,e,n){const i=[];return t.nodesBetween(e.from,e.to,(s,a)=>{n(s)&&i.push({node:s,pos:a})}),i}function iD(t,e){for(let n=t.depth;n>0;n-=1){const i=t.node(n);if(e(i))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:i}}}function Ju(t){return e=>iD(e.$from,t)}function se(t,e,n){return t.config[e]===void 0&&t.parent?se(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind({...n,parent:t.parent?se(t.parent,e,n):null}):t.config[e]}function wm(t){return t.map(e=>{const n={name:e.name,options:e.options,storage:e.storage},i=se(e,"addExtensions",n);return i?[e,...wm(i())]:e}).flat(10)}function km(t,e){const n=ts.fromSchema(e).serializeFragment(t),s=document.implementation.createHTMLDocument().createElement("div");return s.appendChild(n),s.innerHTML}function jw(t){return typeof t=="function"}function Me(t,e=void 0,...n){return jw(t)?e?t.bind(e)(...n):t(...n):t}function rD(t={}){return Object.keys(t).length===0&&t.constructor===Object}function nl(t){const e=t.filter(s=>s.type==="extension"),n=t.filter(s=>s.type==="node"),i=t.filter(s=>s.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:i}}function Dw(t){const e=[],{nodeExtensions:n,markExtensions:i}=nl(t),s=[...n,...i],a={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(c=>{const u={name:c.name,options:c.options,storage:c.storage,extensions:s},d=se(c,"addGlobalAttributes",u);if(!d)return;d().forEach(m=>{m.types.forEach(y=>{Object.entries(m.attributes).forEach(([x,v])=>{e.push({type:y,name:x,attribute:{...a,...v}})})})})}),s.forEach(c=>{const u={name:c.name,options:c.options,storage:c.storage},d=se(c,"addAttributes",u);if(!d)return;const h=d();Object.entries(h).forEach(([m,y])=>{const x={...a,...y};typeof x?.default=="function"&&(x.default=x.default()),x?.isRequired&&x?.default===void 0&&delete x.default,e.push({type:c.name,name:m,attribute:x})})}),e}function et(...t){return t.filter(e=>!!e).reduce((e,n)=>{const i={...e};return Object.entries(n).forEach(([s,a])=>{if(!i[s]){i[s]=a;return}if(s==="class"){const u=a?String(a).split(" "):[],d=i[s]?i[s].split(" "):[],h=u.filter(m=>!d.includes(m));i[s]=[...d,...h].join(" ")}else if(s==="style"){const u=a?a.split(";").map(m=>m.trim()).filter(Boolean):[],d=i[s]?i[s].split(";").map(m=>m.trim()).filter(Boolean):[],h=new Map;d.forEach(m=>{const[y,x]=m.split(":").map(v=>v.trim());h.set(y,x)}),u.forEach(m=>{const[y,x]=m.split(":").map(v=>v.trim());h.set(y,x)}),i[s]=Array.from(h.entries()).map(([m,y])=>`${m}: ${y}`).join("; ")}else i[s]=a}),i},{})}function Da(t,e){return e.filter(n=>n.type===t.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(t.attrs)||{}:{[n.name]:t.attrs[n.name]}).reduce((n,i)=>et(n,i),{})}function sD(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function Nv(t,e){return"style"in t?t:{...t,getAttrs:n=>{const i=t.getAttrs?t.getAttrs(n):t.attrs;if(i===!1)return!1;const s=e.reduce((a,c)=>{const u=c.attribute.parseHTML?c.attribute.parseHTML(n):sD(n.getAttribute(c.name));return u==null?a:{...a,[c.name]:u}},{});return{...i,...s}}}}function Tv(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>e==="attrs"&&rD(n)?!1:n!=null))}function Cv(t){var e,n;const i={};return!((e=t?.attribute)!=null&&e.isRequired)&&"default"in(t?.attribute||{})&&(i.default=t.attribute.default),((n=t?.attribute)==null?void 0:n.validate)!==void 0&&(i.validate=t.attribute.validate),[t.name,i]}function lD(t,e){var n;const i=Dw(t),{nodeExtensions:s,markExtensions:a}=nl(t),c=(n=s.find(h=>se(h,"topNode")))==null?void 0:n.name,u=Object.fromEntries(s.map(h=>{const m=i.filter(T=>T.type===h.name),y={name:h.name,options:h.options,storage:h.storage,editor:e},x=t.reduce((T,M)=>{const D=se(M,"extendNodeSchema",y);return{...T,...D?D(h):{}}},{}),v=Tv({...x,content:Me(se(h,"content",y)),marks:Me(se(h,"marks",y)),group:Me(se(h,"group",y)),inline:Me(se(h,"inline",y)),atom:Me(se(h,"atom",y)),selectable:Me(se(h,"selectable",y)),draggable:Me(se(h,"draggable",y)),code:Me(se(h,"code",y)),whitespace:Me(se(h,"whitespace",y)),linebreakReplacement:Me(se(h,"linebreakReplacement",y)),defining:Me(se(h,"defining",y)),isolating:Me(se(h,"isolating",y)),attrs:Object.fromEntries(m.map(Cv))}),S=Me(se(h,"parseHTML",y));S&&(v.parseDOM=S.map(T=>Nv(T,m)));const E=se(h,"renderHTML",y);E&&(v.toDOM=T=>E({node:T,HTMLAttributes:Da(T,m)}));const k=se(h,"renderText",y);return k&&(v.toText=k),[h.name,v]})),d=Object.fromEntries(a.map(h=>{const m=i.filter(k=>k.type===h.name),y={name:h.name,options:h.options,storage:h.storage,editor:e},x=t.reduce((k,T)=>{const M=se(T,"extendMarkSchema",y);return{...k,...M?M(h):{}}},{}),v=Tv({...x,inclusive:Me(se(h,"inclusive",y)),excludes:Me(se(h,"excludes",y)),group:Me(se(h,"group",y)),spanning:Me(se(h,"spanning",y)),code:Me(se(h,"code",y)),attrs:Object.fromEntries(m.map(Cv))}),S=Me(se(h,"parseHTML",y));S&&(v.parseDOM=S.map(k=>Nv(k,m)));const E=se(h,"renderHTML",y);return E&&(v.toDOM=k=>E({mark:k,HTMLAttributes:Da(k,m)})),[h.name,v]}));return new fS({topNode:c,nodes:u,marks:d})}function aD(t){const e=t.filter((n,i)=>t.indexOf(n)!==i);return Array.from(new Set(e))}function tu(t){return t.sort((n,i)=>{const s=se(n,"priority")||100,a=se(i,"priority")||100;return s>a?-1:s<a?1:0})}function zw(t){const e=tu(wm(t)),n=aD(e.map(i=>i.name));return n.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${n.map(i=>`'${i}'`).join(", ")}]. This can lead to issues.`),e}function Lw(t,e,n){const{from:i,to:s}=e,{blockSeparator:a=`

`,textSerializers:c={}}=n||{};let u="";return t.nodesBetween(i,s,(d,h,m,y)=>{var x;d.isBlock&&h>i&&(u+=a);const v=c?.[d.type.name];if(v)return m&&(u+=v({node:d,pos:h,parent:m,index:y,range:e})),!1;d.isText&&(u+=(x=d?.text)==null?void 0:x.slice(Math.max(i,h)-h,s-h))}),u}function oD(t,e){const n={from:0,to:t.content.size};return Lw(t,n,e)}function _w(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}function cD(t,e){const n=ht(e,t.schema),{from:i,to:s}=t.selection,a=[];t.doc.nodesBetween(i,s,u=>{a.push(u)});const c=a.reverse().find(u=>u.type.name===n.name);return c?{...c.attrs}:{}}function Bw(t,e){const n=Yu(typeof e=="string"?e:e.name,t.schema);return n==="node"?cD(t,e):n==="mark"?Ow(t,e):{}}function uD(t,e=JSON.stringify){const n={};return t.filter(i=>{const s=e(i);return Object.prototype.hasOwnProperty.call(n,s)?!1:n[s]=!0})}function fD(t){const e=uD(t);return e.length===1?e:e.filter((n,i)=>!e.filter((a,c)=>c!==i).some(a=>n.oldRange.from>=a.oldRange.from&&n.oldRange.to<=a.oldRange.to&&n.newRange.from>=a.newRange.from&&n.newRange.to<=a.newRange.to))}function Hw(t){const{mapping:e,steps:n}=t,i=[];return e.maps.forEach((s,a)=>{const c=[];if(s.ranges.length)s.forEach((u,d)=>{c.push({from:u,to:d})});else{const{from:u,to:d}=n[a];if(u===void 0||d===void 0)return;c.push({from:u,to:d})}c.forEach(({from:u,to:d})=>{const h=e.slice(a).map(u,-1),m=e.slice(a).map(d),y=e.invert().map(h,-1),x=e.invert().map(m);i.push({oldRange:{from:y,to:x},newRange:{from:h,to:m}})})}),fD(i)}function Em(t,e,n){const i=[];return t===e?n.resolve(t).marks().forEach(s=>{const a=n.resolve(t),c=Sm(a,s.type);c&&i.push({mark:s,...c})}):n.nodesBetween(t,e,(s,a)=>{!s||s?.nodeSize===void 0||i.push(...s.marks.map(c=>({from:a,to:a+s.nodeSize,mark:c})))}),i}var dD=(t,e,n,i=20)=>{const s=t.doc.resolve(n);let a=i,c=null;for(;a>0&&c===null;){const u=s.node(a);u?.type.name===e?c=u:a-=1}return[c,a]};function Sc(t,e){return e.nodes[t]||e.marks[t]||null}function Bc(t,e,n){return Object.fromEntries(Object.entries(n).filter(([i])=>{const s=t.find(a=>a.type===e&&a.name===i);return s?s.attribute.keepOnSplit:!1}))}var hD=(t,e=500)=>{let n="";const i=t.parentOffset;return t.parent.nodesBetween(Math.max(0,i-e),i,(s,a,c,u)=>{var d,h;const m=((h=(d=s.type.spec).toText)==null?void 0:h.call(d,{node:s,pos:a,parent:c,index:u}))||s.textContent||"%leaf%";n+=s.isAtom&&!s.isText?m:m.slice(0,Math.max(0,i-a))}),n};function Rp(t,e,n={}){const{empty:i,ranges:s}=t.selection,a=e?Ei(e,t.schema):null;if(i)return!!(t.storedMarks||t.selection.$from.marks()).filter(y=>a?a.name===y.type.name:!0).find(y=>Zc(y.attrs,n,{strict:!1}));let c=0;const u=[];if(s.forEach(({$from:y,$to:x})=>{const v=y.pos,S=x.pos;t.doc.nodesBetween(v,S,(E,k)=>{if(!E.isText&&!E.marks.length)return;const T=Math.max(v,k),M=Math.min(S,k+E.nodeSize),D=M-T;c+=D,u.push(...E.marks.map(V=>({mark:V,from:T,to:M})))})}),c===0)return!1;const d=u.filter(y=>a?a.name===y.mark.type.name:!0).filter(y=>Zc(y.mark.attrs,n,{strict:!1})).reduce((y,x)=>y+x.to-x.from,0),h=u.filter(y=>a?y.mark.type!==a&&y.mark.type.excludes(a):!0).reduce((y,x)=>y+x.to-x.from,0);return(d>0?d+h:d)>=c}function pD(t,e,n={}){if(!e)return fr(t,null,n)||Rp(t,null,n);const i=Yu(e,t.schema);return i==="node"?fr(t,e,n):i==="mark"?Rp(t,e,n):!1}var mD=(t,e)=>{const{$from:n,$to:i,$anchor:s}=t.selection;if(e){const a=Ju(u=>u.type.name===e)(t.selection);if(!a)return!1;const c=t.doc.resolve(a.pos+1);return s.pos+1===c.end()}return!(i.parentOffset<i.parent.nodeSize-2||n.pos!==i.pos)},gD=t=>{const{$from:e,$to:n}=t.selection;return!(e.parentOffset>0||e.pos!==n.pos)};function Av(t,e){return Array.isArray(e)?e.some(n=>(typeof n=="string"?n:n.name)===t.name):e}function Mv(t,e){const{nodeExtensions:n}=nl(e),i=n.find(c=>c.name===t);if(!i)return!1;const s={name:i.name,options:i.options,storage:i.storage},a=Me(se(i,"group",s));return typeof a!="string"?!1:a.split(" ").includes("list")}function Xu(t,{checkChildren:e=!0,ignoreWhitespace:n=!1}={}){var i;if(n){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((i=t.text)!=null?i:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(e){let s=!0;return t.content.forEach(a=>{s!==!1&&(Xu(a,{ignoreWhitespace:n,checkChildren:e})||(s=!1))}),s}return!1}function Uw(t){return t instanceof ae}var qw=class Iw{constructor(e){this.position=e}static fromJSON(e){return new Iw(e.position)}toJSON(){return{position:this.position}}};function yD(t,e){const n=e.mapping.mapResult(t.position);return{position:new qw(n.pos),mapResult:n}}function bD(t){return new qw(t)}function xD(t,e,n){var i;const{selection:s}=e;let a=null;if(Tw(s)&&(a=s.$cursor),a){const u=(i=t.storedMarks)!=null?i:a.marks();return a.parent.type.allowsMarkType(n)&&(!!n.isInSet(u)||!u.some(h=>h.type.excludes(n)))}const{ranges:c}=s;return c.some(({$from:u,$to:d})=>{let h=u.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(n):!1;return t.doc.nodesBetween(u.pos,d.pos,(m,y,x)=>{if(h)return!1;if(m.isInline){const v=!x||x.type.allowsMarkType(n),S=!!n.isInSet(m.marks)||!m.marks.some(E=>E.type.excludes(n));h=v&&S}return!h}),h})}var vD=(t,e={})=>({tr:n,state:i,dispatch:s})=>{const{selection:a}=n,{empty:c,ranges:u}=a,d=Ei(t,i.schema);if(s)if(c){const h=Ow(i,d);n.addStoredMark(d.create({...h,...e}))}else u.forEach(h=>{const m=h.$from.pos,y=h.$to.pos;i.doc.nodesBetween(m,y,(x,v)=>{const S=Math.max(v,m),E=Math.min(v+x.nodeSize,y);x.marks.find(T=>T.type===d)?x.marks.forEach(T=>{d===T.type&&n.addMark(S,E,d.create({...T.attrs,...e}))}):n.addMark(S,E,d.create(e))})});return xD(i,n,d)},SD=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),wD=(t,e={})=>({state:n,dispatch:i,chain:s})=>{const a=ht(t,n.schema);let c;return n.selection.$anchor.sameParent(n.selection.$head)&&(c=n.selection.$anchor.parent.attrs),a.isTextblock?s().command(({commands:u})=>Vx(a,{...c,...e})(n)?!0:u.clearNodes()).command(({state:u})=>Vx(a,{...c,...e})(u,i)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},kD=t=>({tr:e,dispatch:n})=>{if(n){const{doc:i}=e,s=Ur(t,0,i.content.size),a=ae.create(i,s);e.setSelection(a)}return!0},ED=(t,e)=>({tr:n,state:i,dispatch:s})=>{const{selection:a}=i;let c,u;return typeof e=="number"?(c=e,u=e):e&&"from"in e&&"to"in e?(c=e.from,u=e.to):(c=a.from,u=a.to),s&&n.doc.nodesBetween(c,u,(d,h)=>{d.isText||n.setNodeMarkup(h,void 0,{...d.attrs,dir:t})}),!0},ND=t=>({tr:e,dispatch:n})=>{if(n){const{doc:i}=e,{from:s,to:a}=typeof t=="number"?{from:t,to:t}:t,c=ue.atStart(i).from,u=ue.atEnd(i).to,d=Ur(s,c,u),h=Ur(a,c,u),m=ue.create(i,d,h);e.setSelection(m)}return!0},TD=t=>({state:e,dispatch:n})=>{const i=ht(t,e.schema);return xO(i)(e,n)};function Ov(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const i=n.filter(s=>e?.includes(s.type.name));t.tr.ensureMarks(i)}}var CD=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:i,editor:s})=>{const{selection:a,doc:c}=e,{$from:u,$to:d}=a,h=s.extensionManager.attributes,m=Bc(h,u.node().type.name,u.node().attrs);if(a instanceof ae&&a.node.isBlock)return!u.parentOffset||!Si(c,u.pos)?!1:(i&&(t&&Ov(n,s.extensionManager.splittableMarks),e.split(u.pos).scrollIntoView()),!0);if(!u.parent.isBlock)return!1;const y=d.parentOffset===d.parent.content.size,x=u.depth===0?void 0:tD(u.node(-1).contentMatchAt(u.indexAfter(-1)));let v=y&&x?[{type:x,attrs:m}]:void 0,S=Si(e.doc,e.mapping.map(u.pos),1,v);if(!v&&!S&&Si(e.doc,e.mapping.map(u.pos),1,x?[{type:x}]:void 0)&&(S=!0,v=x?[{type:x,attrs:m}]:void 0),i){if(S&&(a instanceof ue&&e.deleteSelection(),e.split(e.mapping.map(u.pos),1,v),x&&!y&&!u.parentOffset&&u.parent.type!==x)){const E=e.mapping.map(u.before()),k=e.doc.resolve(E);u.node(-1).canReplaceWith(k.index(),k.index()+1,x)&&e.setNodeMarkup(e.mapping.map(u.before()),x)}t&&Ov(n,s.extensionManager.splittableMarks),e.scrollIntoView()}return S},AD=(t,e={})=>({tr:n,state:i,dispatch:s,editor:a})=>{var c;const u=ht(t,i.schema),{$from:d,$to:h}=i.selection,m=i.selection.node;if(m&&m.isBlock||d.depth<2||!d.sameParent(h))return!1;const y=d.node(-1);if(y.type!==u)return!1;const x=a.extensionManager.attributes;if(d.parent.content.size===0&&d.node(-1).childCount===d.indexAfter(-1)){if(d.depth===2||d.node(-3).type!==u||d.index(-2)!==d.node(-2).childCount-1)return!1;if(s){let T=J.empty;const M=d.index(-1)?1:d.index(-2)?2:3;for(let G=d.depth-M;G>=d.depth-3;G-=1)T=J.from(d.node(G).copy(T));const D=d.indexAfter(-1)<d.node(-2).childCount?1:d.indexAfter(-2)<d.node(-3).childCount?2:3,V={...Bc(x,d.node().type.name,d.node().attrs),...e},z=((c=u.contentMatch.defaultType)==null?void 0:c.createAndFill(V))||void 0;T=T.append(J.from(u.createAndFill(null,z)||void 0));const P=d.before(d.depth-(M-1));n.replace(P,d.after(-D),new ee(T,4-M,0));let L=-1;n.doc.nodesBetween(P,n.doc.content.size,(G,Z)=>{if(L>-1)return!1;G.isTextblock&&G.content.size===0&&(L=Z+1)}),L>-1&&n.setSelection(ue.near(n.doc.resolve(L))),n.scrollIntoView()}return!0}const v=h.pos===d.end()?y.contentMatchAt(0).defaultType:null,S={...Bc(x,y.type.name,y.attrs),...e},E={...Bc(x,d.node().type.name,d.node().attrs),...e};n.delete(d.pos,h.pos);const k=v?[{type:u,attrs:S},{type:v,attrs:E}]:[{type:u,attrs:S}];if(!Si(n.doc,d.pos,2))return!1;if(s){const{selection:T,storedMarks:M}=i,{splittableMarks:D}=a.extensionManager,V=M||T.$to.parentOffset&&T.$from.marks();if(n.split(d.pos,2,k).scrollIntoView(),!V||!s)return!0;const z=V.filter(P=>D.includes(P.type.name));n.ensureMarks(z)}return!0},Yh=(t,e)=>{const n=Ju(c=>c.type===e)(t.selection);if(!n)return!0;const i=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(i===void 0)return!0;const s=t.doc.nodeAt(i);return n.node.type===s?.type&&dr(t.doc,n.pos)&&t.join(n.pos),!0},Jh=(t,e)=>{const n=Ju(c=>c.type===e)(t.selection);if(!n)return!0;const i=t.doc.resolve(n.start).after(n.depth);if(i===void 0)return!0;const s=t.doc.nodeAt(i);return n.node.type===s?.type&&dr(t.doc,i)&&t.join(i),!0},MD=(t,e,n,i={})=>({editor:s,tr:a,state:c,dispatch:u,chain:d,commands:h,can:m})=>{const{extensions:y,splittableMarks:x}=s.extensionManager,v=ht(t,c.schema),S=ht(e,c.schema),{selection:E,storedMarks:k}=c,{$from:T,$to:M}=E,D=T.blockRange(M),V=k||E.$to.parentOffset&&E.$from.marks();if(!D)return!1;const z=Ju(P=>Mv(P.type.name,y))(E);if(D.depth>=1&&z&&D.depth-z.depth<=1){if(z.node.type===v)return h.liftListItem(S);if(Mv(z.node.type.name,y)&&v.validContent(z.node.content)&&u)return d().command(()=>(a.setNodeMarkup(z.pos,v),!0)).command(()=>Yh(a,v)).command(()=>Jh(a,v)).run()}return!n||!V||!u?d().command(()=>m().wrapInList(v,i)?!0:h.clearNodes()).wrapInList(v,i).command(()=>Yh(a,v)).command(()=>Jh(a,v)).run():d().command(()=>{const P=m().wrapInList(v,i),L=V.filter(G=>x.includes(G.type.name));return a.ensureMarks(L),P?!0:h.clearNodes()}).wrapInList(v,i).command(()=>Yh(a,v)).command(()=>Jh(a,v)).run()},OD=(t,e={},n={})=>({state:i,commands:s})=>{const{extendEmptyMarkRange:a=!1}=n,c=Ei(t,i.schema);return Rp(i,c,e)?s.unsetMark(c,{extendEmptyMarkRange:a}):s.setMark(c,e)},RD=(t,e,n={})=>({state:i,commands:s})=>{const a=ht(t,i.schema),c=ht(e,i.schema),u=fr(i,a,n);let d;return i.selection.$anchor.sameParent(i.selection.$head)&&(d=i.selection.$anchor.parent.attrs),u?s.setNode(c,d):s.setNode(a,{...d,...n})},jD=(t,e={})=>({state:n,commands:i})=>{const s=ht(t,n.schema);return fr(n,s,e)?i.lift(s):i.wrapIn(s,e)},DD=()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let i=0;i<n.length;i+=1){const s=n[i];let a;if(s.spec.isInputRules&&(a=s.getState(t))){if(e){const c=t.tr,u=a.transform;for(let d=u.steps.length-1;d>=0;d-=1)c.step(u.steps[d].invert(u.docs[d]));if(a.text){const d=c.doc.resolve(a.from).marks();c.replaceWith(a.from,a.to,t.schema.text(a.text,d))}else c.delete(a.from,a.to)}return!0}}return!1},zD=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:i,ranges:s}=n;return i||e&&s.forEach(a=>{t.removeMark(a.$from.pos,a.$to.pos)}),!0},LD=(t,e={})=>({tr:n,state:i,dispatch:s})=>{var a;const{extendEmptyMarkRange:c=!1}=e,{selection:u}=n,d=Ei(t,i.schema),{$from:h,empty:m,ranges:y}=u;if(!s)return!0;if(m&&c){let{from:x,to:v}=u;const S=(a=h.marks().find(k=>k.type===d))==null?void 0:a.attrs,E=Sm(h,d,S);E&&(x=E.from,v=E.to),n.removeMark(x,v,d)}else y.forEach(x=>{n.removeMark(x.$from.pos,x.$to.pos,d)});return n.removeStoredMark(d),!0},_D=t=>({tr:e,state:n,dispatch:i})=>{const{selection:s}=n;let a,c;return typeof t=="number"?(a=t,c=t):t&&"from"in t&&"to"in t?(a=t.from,c=t.to):(a=s.from,c=s.to),i&&e.doc.nodesBetween(a,c,(u,d)=>{if(u.isText)return;const h={...u.attrs};delete h.dir,e.setNodeMarkup(d,void 0,h)}),!0},BD=(t,e={})=>({tr:n,state:i,dispatch:s})=>{let a=null,c=null;const u=Yu(typeof t=="string"?t:t.name,i.schema);if(!u)return!1;u==="node"&&(a=ht(t,i.schema)),u==="mark"&&(c=Ei(t,i.schema));let d=!1;return n.selection.ranges.forEach(h=>{const m=h.$from.pos,y=h.$to.pos;let x,v,S,E;n.selection.empty?i.doc.nodesBetween(m,y,(k,T)=>{a&&a===k.type&&(d=!0,S=Math.max(T,m),E=Math.min(T+k.nodeSize,y),x=T,v=k)}):i.doc.nodesBetween(m,y,(k,T)=>{T<m&&a&&a===k.type&&(d=!0,S=Math.max(T,m),E=Math.min(T+k.nodeSize,y),x=T,v=k),T>=m&&T<=y&&(a&&a===k.type&&(d=!0,s&&n.setNodeMarkup(T,void 0,{...k.attrs,...e})),c&&k.marks.length&&k.marks.forEach(M=>{if(c===M.type&&(d=!0,s)){const D=Math.max(T,m),V=Math.min(T+k.nodeSize,y);n.addMark(D,V,c.create({...M.attrs,...e}))}}))}),v&&(x!==void 0&&s&&n.setNodeMarkup(x,void 0,{...v.attrs,...e}),c&&v.marks.length&&v.marks.forEach(k=>{c===k.type&&s&&n.addMark(S,E,c.create({...k.attrs,...e}))}))}),d},HD=(t,e={})=>({state:n,dispatch:i})=>{const s=ht(t,n.schema);return dO(s,e)(n,i)},UD=(t,e={})=>({state:n,dispatch:i})=>{const s=ht(t,n.schema);return hO(s,e)(n,i)},qD=class{constructor(){this.callbacks={}}on(t,e){return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(e),this}emit(t,...e){const n=this.callbacks[t];return n&&n.forEach(i=>i.apply(this,e)),this}off(t,e){const n=this.callbacks[t];return n&&(e?this.callbacks[t]=n.filter(i=>i!==e):delete this.callbacks[t]),this}once(t,e){const n=(...i)=>{this.off(t,n),e.apply(this,i)};return this.on(t,n)}removeAllListeners(){this.callbacks={}}},Qu=class{constructor(t){var e;this.find=t.find,this.handler=t.handler,this.undoable=(e=t.undoable)!=null?e:!0}},ID=(t,e)=>{if(vm(e))return e.exec(t);const n=e(t);if(!n)return null;const i=[n.text];return i.index=n.index,i.input=t,i.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),i.push(n.replaceWith)),i};function wc(t){var e;const{editor:n,from:i,to:s,text:a,rules:c,plugin:u}=t,{view:d}=n;if(d.composing)return!1;const h=d.state.doc.resolve(i);if(h.parent.type.spec.code||(e=h.nodeBefore||h.nodeAfter)!=null&&e.marks.find(x=>x.type.spec.code))return!1;let m=!1;const y=hD(h)+a;return c.forEach(x=>{if(m)return;const v=ID(y,x.find);if(!v)return;const S=d.state.tr,E=Ku({state:d.state,transaction:S}),k={from:i-(v[0].length-a.length),to:s},{commands:T,chain:M,can:D}=new Gu({editor:n,state:E});x.handler({state:E,range:k,match:v,commands:T,chain:M,can:D})===null||!S.steps.length||(x.undoable&&S.setMeta(u,{transform:S,from:i,to:s,text:a}),d.dispatch(S),m=!0)}),m}function VD(t){const{editor:e,rules:n}=t,i=new Ye({state:{init(){return null},apply(s,a,c){const u=s.getMeta(i);if(u)return u;const d=s.getMeta("applyInputRules");return d&&setTimeout(()=>{let{text:m}=d;typeof m=="string"?m=m:m=km(J.from(m),c.schema);const{from:y}=d,x=y+m.length;wc({editor:e,from:y,to:x,text:m,rules:n,plugin:i})}),s.selectionSet||s.docChanged?null:a}},props:{handleTextInput(s,a,c,u){return wc({editor:e,from:a,to:c,text:u,rules:n,plugin:i})},handleDOMEvents:{compositionend:s=>(setTimeout(()=>{const{$cursor:a}=s.state.selection;a&&wc({editor:e,from:a.pos,to:a.pos,text:"",rules:n,plugin:i})}),!1)},handleKeyDown(s,a){if(a.key!=="Enter")return!1;const{$cursor:c}=s.state.selection;return c?wc({editor:e,from:c.pos,to:c.pos,text:`
`,rules:n,plugin:i}):!1}},isInputRules:!0});return i}function PD(t){return Object.prototype.toString.call(t).slice(8,-1)}function kc(t){return PD(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function Vw(t,e){const n={...t};return kc(t)&&kc(e)&&Object.keys(e).forEach(i=>{kc(e[i])&&kc(t[i])?n[i]=Vw(t[i],e[i]):n[i]=e[i]}),n}var Nm=class{constructor(t={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...t},this.name=this.config.name}get options(){return{...Me(se(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...Me(se(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(t={}){const e=this.extend({...this.config,addOptions:()=>Vw(this.options,t)});return e.name=this.name,e.parent=this.parent,e}extend(t={}){const e=new this.constructor({...this.config,...t});return e.parent=this,this.child=e,e.name="name"in t?t.name:e.parent.name,e}},ns=class Pw extends Nm{constructor(){super(...arguments),this.type="mark"}static create(e={}){const n=typeof e=="function"?e():e;return new Pw(n)}static handleExit({editor:e,mark:n}){const{tr:i}=e.state,s=e.state.selection.$from;if(s.pos===s.end()){const c=s.marks();if(!!!c.find(h=>h?.type.name===n.name))return!1;const d=c.find(h=>h?.type.name===n.name);return d&&i.removeStoredMark(d),i.insertText(" ",s.pos),e.view.dispatch(i),!0}return!1}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}};function $D(t){return typeof t=="number"}var $w=class{constructor(t){this.find=t.find,this.handler=t.handler}},FD=(t,e,n)=>{if(vm(e))return[...t.matchAll(e)];const i=e(t,n);return i?i.map(s=>{const a=[s.text];return a.index=s.index,a.input=t,a.data=s.data,s.replaceWith&&(s.text.includes(s.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),a.push(s.replaceWith)),a}):[]};function KD(t){const{editor:e,state:n,from:i,to:s,rule:a,pasteEvent:c,dropEvent:u}=t,{commands:d,chain:h,can:m}=new Gu({editor:e,state:n}),y=[];return n.doc.nodesBetween(i,s,(v,S)=>{var E,k,T,M,D;if((k=(E=v.type)==null?void 0:E.spec)!=null&&k.code||!(v.isText||v.isTextblock||v.isInline))return;const V=(D=(M=(T=v.content)==null?void 0:T.size)!=null?M:v.nodeSize)!=null?D:0,z=Math.max(i,S),P=Math.min(s,S+V);if(z>=P)return;const L=v.isText?v.text||"":v.textBetween(z-S,P-S,void 0,"");FD(L,a.find,c).forEach(Z=>{if(Z.index===void 0)return;const he=z+Z.index+1,st=he+Z[0].length,_e={from:n.tr.mapping.map(he),to:n.tr.mapping.map(st)},lt=a.handler({state:n,range:_e,match:Z,commands:d,chain:h,can:m,pasteEvent:c,dropEvent:u});y.push(lt)})}),y.every(v=>v!==null)}var Ec=null,GD=t=>{var e;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=n.clipboardData)==null||e.setData("text/html",t),n};function YD(t){const{editor:e,rules:n}=t;let i=null,s=!1,a=!1,c=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,u;try{u=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{u=null}const d=({state:m,from:y,to:x,rule:v,pasteEvt:S})=>{const E=m.tr,k=Ku({state:m,transaction:E});if(!(!KD({editor:e,state:k,from:Math.max(y-1,0),to:x.b-1,rule:v,pasteEvent:S,dropEvent:u})||!E.steps.length)){try{u=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{u=null}return c=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,E}};return n.map(m=>new Ye({view(y){const x=S=>{var E;i=(E=y.dom.parentElement)!=null&&E.contains(S.target)?y.dom.parentElement:null,i&&(Ec=e)},v=()=>{Ec&&(Ec=null)};return window.addEventListener("dragstart",x),window.addEventListener("dragend",v),{destroy(){window.removeEventListener("dragstart",x),window.removeEventListener("dragend",v)}}},props:{handleDOMEvents:{drop:(y,x)=>{if(a=i===y.dom.parentElement,u=x,!a){const v=Ec;v?.isEditable&&setTimeout(()=>{const S=v.state.selection;S&&v.commands.deleteRange({from:S.from,to:S.to})},10)}return!1},paste:(y,x)=>{var v;const S=(v=x.clipboardData)==null?void 0:v.getData("text/html");return c=x,s=!!S?.includes("data-pm-slice"),!1}}},appendTransaction:(y,x,v)=>{const S=y[0],E=S.getMeta("uiEvent")==="paste"&&!s,k=S.getMeta("uiEvent")==="drop"&&!a,T=S.getMeta("applyPasteRules"),M=!!T;if(!E&&!k&&!M)return;if(M){let{text:z}=T;typeof z=="string"?z=z:z=km(J.from(z),v.schema);const{from:P}=T,L=P+z.length,G=GD(z);return d({rule:m,state:v,from:P,to:{b:L},pasteEvt:G})}const D=x.doc.content.findDiffStart(v.doc.content),V=x.doc.content.findDiffEnd(v.doc.content);if(!(!$D(D)||!V||D===V.b))return d({rule:m,state:v,from:D,to:V,pasteEvt:c})}}))}var Wu=class{constructor(t,e){this.splittableMarks=[],this.editor=e,this.baseExtensions=t,this.extensions=zw(t),this.schema=lD(this.extensions,e),this.setupExtensions()}get commands(){return this.extensions.reduce((t,e)=>{const n={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:Sc(e.name,this.schema)},i=se(e,"addCommands",n);return i?{...t,...i()}:t},{})}get plugins(){const{editor:t}=this;return tu([...this.extensions].reverse()).flatMap(i=>{const s={name:i.name,options:i.options,storage:this.editor.extensionStorage[i.name],editor:t,type:Sc(i.name,this.schema)},a=[],c=se(i,"addKeyboardShortcuts",s);let u={};if(i.type==="mark"&&se(i,"exitable",s)&&(u.ArrowRight=()=>ns.handleExit({editor:t,mark:i})),c){const x=Object.fromEntries(Object.entries(c()).map(([v,S])=>[v,()=>S({editor:t})]));u={...u,...x}}const d=cj(u);a.push(d);const h=se(i,"addInputRules",s);if(Av(i,t.options.enableInputRules)&&h){const x=h();if(x&&x.length){const v=VD({editor:t,rules:x}),S=Array.isArray(v)?v:[v];a.push(...S)}}const m=se(i,"addPasteRules",s);if(Av(i,t.options.enablePasteRules)&&m){const x=m();if(x&&x.length){const v=YD({editor:t,rules:x});a.push(...v)}}const y=se(i,"addProseMirrorPlugins",s);if(y){const x=y();a.push(...x)}return a})}get attributes(){return Dw(this.extensions)}get nodeViews(){const{editor:t}=this,{nodeExtensions:e}=nl(this.extensions);return Object.fromEntries(e.filter(n=>!!se(n,"addNodeView")).map(n=>{const i=this.attributes.filter(d=>d.type===n.name),s={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:ht(n.name,this.schema)},a=se(n,"addNodeView",s);if(!a)return[];const c=a();if(!c)return[];const u=(d,h,m,y,x)=>{const v=Da(d,i);return c({node:d,view:h,getPos:m,decorations:y,innerDecorations:x,editor:t,extension:n,HTMLAttributes:v})};return[n.name,u]}))}dispatchTransaction(t){const{editor:e}=this;return tu([...this.extensions].reverse()).reduceRight((i,s)=>{const a={name:s.name,options:s.options,storage:this.editor.extensionStorage[s.name],editor:e,type:Sc(s.name,this.schema)},c=se(s,"dispatchTransaction",a);return c?u=>{c.call(a,{transaction:u,next:i})}:i},t)}get markViews(){const{editor:t}=this,{markExtensions:e}=nl(this.extensions);return Object.fromEntries(e.filter(n=>!!se(n,"addMarkView")).map(n=>{const i=this.attributes.filter(u=>u.type===n.name),s={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:Ei(n.name,this.schema)},a=se(n,"addMarkView",s);if(!a)return[];const c=(u,d,h)=>{const m=Da(u,i);return a()({mark:u,view:d,inline:h,editor:t,extension:n,HTMLAttributes:m,updateAttributes:y=>{o3(u,t,y)}})};return[n.name,c]}))}setupExtensions(){const t=this.extensions;this.editor.extensionStorage=Object.fromEntries(t.map(e=>[e.name,e.storage])),t.forEach(e=>{var n;const i={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:Sc(e.name,this.schema)};e.type==="mark"&&((n=Me(se(e,"keepOnSplit",i)))==null||n)&&this.splittableMarks.push(e.name);const s=se(e,"onBeforeCreate",i),a=se(e,"onCreate",i),c=se(e,"onUpdate",i),u=se(e,"onSelectionUpdate",i),d=se(e,"onTransaction",i),h=se(e,"onFocus",i),m=se(e,"onBlur",i),y=se(e,"onDestroy",i);s&&this.editor.on("beforeCreate",s),a&&this.editor.on("create",a),c&&this.editor.on("update",c),u&&this.editor.on("selectionUpdate",u),d&&this.editor.on("transaction",d),h&&this.editor.on("focus",h),m&&this.editor.on("blur",m),y&&this.editor.on("destroy",y)})}};Wu.resolve=zw;Wu.sort=tu;Wu.flatten=wm;var JD={};xm(JD,{ClipboardTextSerializer:()=>Kw,Commands:()=>Gw,Delete:()=>Yw,Drop:()=>Jw,Editable:()=>Xw,FocusEvents:()=>Ww,Keymap:()=>Zw,Paste:()=>ek,Tabindex:()=>tk,TextDirection:()=>nk,focusEventsPluginKey:()=>Qw});var rt=class Fw extends Nm{constructor(){super(...arguments),this.type="extension"}static create(e={}){const n=typeof e=="function"?e():e;return new Fw(n)}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}},Kw=rt.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Ye({key:new mt("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:i,selection:s}=e,{ranges:a}=s,c=Math.min(...a.map(m=>m.$from.pos)),u=Math.max(...a.map(m=>m.$to.pos)),d=_w(n);return Lw(i,{from:c,to:u},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:d})}}})]}}),Gw=rt.create({name:"commands",addCommands(){return{...Ew}}}),Yw=rt.create({name:"delete",onUpdate({transaction:t,appendedTransactions:e}){var n,i,s;const a=()=>{var c,u,d,h;if((h=(d=(u=(c=this.editor.options.coreExtensionOptions)==null?void 0:c.delete)==null?void 0:u.filterTransaction)==null?void 0:d.call(u,t))!=null?h:t.getMeta("y-sync$"))return;const m=Rw(t.before,[t,...e]);Hw(m).forEach(v=>{m.mapping.mapResult(v.oldRange.from).deletedAfter&&m.mapping.mapResult(v.oldRange.to).deletedBefore&&m.before.nodesBetween(v.oldRange.from,v.oldRange.to,(S,E)=>{const k=E+S.nodeSize-2,T=v.oldRange.from<=E&&k<=v.oldRange.to;this.editor.emit("delete",{type:"node",node:S,from:E,to:k,newFrom:m.mapping.map(E),newTo:m.mapping.map(k),deletedRange:v.oldRange,newRange:v.newRange,partial:!T,editor:this.editor,transaction:t,combinedTransform:m})})});const x=m.mapping;m.steps.forEach((v,S)=>{var E,k;if(v instanceof zn){const T=x.slice(S).map(v.from,-1),M=x.slice(S).map(v.to),D=x.invert().map(T,-1),V=x.invert().map(M),z=(E=m.doc.nodeAt(T-1))==null?void 0:E.marks.some(L=>L.eq(v.mark)),P=(k=m.doc.nodeAt(M))==null?void 0:k.marks.some(L=>L.eq(v.mark));this.editor.emit("delete",{type:"mark",mark:v.mark,from:v.from,to:v.to,deletedRange:{from:D,to:V},newRange:{from:T,to:M},partial:!!(P||z),editor:this.editor,transaction:t,combinedTransform:m})}})};(s=(i=(n=this.editor.options.coreExtensionOptions)==null?void 0:n.delete)==null?void 0:i.async)==null||s?setTimeout(a,0):a()}}),Jw=rt.create({name:"drop",addProseMirrorPlugins(){return[new Ye({key:new mt("tiptapDrop"),props:{handleDrop:(t,e,n,i)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:n,moved:i})}}})]}}),Xw=rt.create({name:"editable",addProseMirrorPlugins(){return[new Ye({key:new mt("editable"),props:{editable:()=>this.editor.options.editable}})]}}),Qw=new mt("focusEvents"),Ww=rt.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new Ye({key:Qw,props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const i=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(i),!1},blur:(e,n)=>{t.isFocused=!1;const i=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(i),!1}}}})]}}),Zw=rt.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:c})=>[()=>c.undoInputRule(),()=>c.command(({tr:u})=>{const{selection:d,doc:h}=u,{empty:m,$anchor:y}=d,{pos:x,parent:v}=y,S=y.parent.isTextblock&&x>0?u.doc.resolve(x-1):y,E=S.parent.type.spec.isolating,k=y.pos-y.parentOffset,T=E&&S.parent.childCount===1?k===y.pos:ye.atStart(h).from===x;return!m||!v.type.isTextblock||v.textContent.length||!T||T&&y.parent.type.name==="paragraph"?!1:c.clearNodes()}),()=>c.deleteSelection(),()=>c.joinBackward(),()=>c.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:c})=>[()=>c.deleteSelection(),()=>c.deleteCurrentNode(),()=>c.joinForward(),()=>c.selectNodeForward()]),i={Enter:()=>this.editor.commands.first(({commands:c})=>[()=>c.newlineInCode(),()=>c.createParagraphNear(),()=>c.liftEmptyBlock(),()=>c.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},s={...i},a={...i,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return eu()||Mw()?a:s},addProseMirrorPlugins(){return[new Ye({key:new mt("clearDocument"),appendTransaction:(t,e,n)=>{if(t.some(E=>E.getMeta("composition")))return;const i=t.some(E=>E.docChanged)&&!e.doc.eq(n.doc),s=t.some(E=>E.getMeta("preventClearDocument"));if(!i||s)return;const{empty:a,from:c,to:u}=e.selection,d=ye.atStart(e.doc).from,h=ye.atEnd(e.doc).to;if(a||!(c===d&&u===h)||!Xu(n.doc))return;const x=n.tr,v=Ku({state:n,transaction:x}),{commands:S}=new Gu({editor:this.editor,state:v});if(S.clearNodes(),!!x.steps.length)return x}})]}}),ek=rt.create({name:"paste",addProseMirrorPlugins(){return[new Ye({key:new mt("tiptapPaste"),props:{handlePaste:(t,e,n)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:n})}}})]}}),tk=rt.create({name:"tabindex",addProseMirrorPlugins(){return[new Ye({key:new mt("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),nk=rt.create({name:"textDirection",addOptions(){return{direction:void 0}},addGlobalAttributes(){if(!this.options.direction)return[];const{nodeExtensions:t}=nl(this.extensions);return[{types:t.filter(e=>e.name!=="text").map(e=>e.name),attributes:{dir:{default:this.options.direction,parseHTML:e=>{const n=e.getAttribute("dir");return n&&(n==="ltr"||n==="rtl"||n==="auto")?n:this.options.direction},renderHTML:e=>e.dir?{dir:e.dir}:{}}}}]},addProseMirrorPlugins(){return[new Ye({key:new mt("textDirection"),props:{attributes:()=>{const t=this.options.direction;return t?{dir:t}:{}}}})]}}),XD=class da{constructor(e,n,i=!1,s=null){this.currentNode=null,this.actualDepth=null,this.isBlock=i,this.resolvedPos=e,this.editor=n,this.currentNode=s}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!=null?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let n=this.from,i=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,i=this.to-1}this.editor.commands.insertContentAt({from:n,to:i},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(e);return new da(n,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new da(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new da(e,this.editor)}get children(){const e=[];return this.node.content.forEach((n,i)=>{const s=n.isBlock&&!n.isTextblock,a=n.isAtom&&!n.isText,c=n.isInline,u=this.pos+i+(a?0:1);if(u<0||u>this.resolvedPos.doc.nodeSize-2)return;const d=this.resolvedPos.doc.resolve(u);if(!s&&!c&&d.depth<=this.depth)return;const h=new da(d,this.editor,s,s||c?n:null);s&&(h.actualDepth=this.depth+1),e.push(h)}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,n={}){let i=null,s=this.parent;for(;s&&!i;){if(s.node.type.name===e)if(Object.keys(n).length>0){const a=s.node.attrs,c=Object.keys(n);for(let u=0;u<c.length;u+=1){const d=c[u];if(a[d]!==n[d])break}}else i=s;s=s.parent}return i}querySelector(e,n={}){return this.querySelectorAll(e,n,!0)[0]||null}querySelectorAll(e,n={},i=!1){let s=[];if(!this.children||this.children.length===0)return s;const a=Object.keys(n);return this.children.forEach(c=>{i&&s.length>0||(c.node.type.name===e&&a.every(d=>n[d]===c.node.attrs[d])&&s.push(c),!(i&&s.length>0)&&(s=s.concat(c.querySelectorAll(e,n,i))))}),s}setAttribute(e){const{tr:n}=this.editor.state;n.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(n)}},QD=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function WD(t,e,n){const i=document.querySelector("style[data-tiptap-style]");if(i!==null)return i;const s=document.createElement("style");return e&&s.setAttribute("nonce",e),s.setAttribute("data-tiptap-style",""),s.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(s),s}var ZD=class extends qD{constructor(t={}){super(),this.css=null,this.className="tiptap",this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document<"u"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,textDirection:void 0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onMount:()=>null,onUnmount:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:i})=>{throw i},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null,enableExtensionDispatchTransaction:!0},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.utils={getUpdatedPosition:yD,createMappablePosition:bD},this.setOptions(t),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("mount",this.options.onMount),this.on("unmount",this.options.onUnmount),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:i,slice:s,moved:a})=>this.options.onDrop(i,s,a)),this.on("paste",({event:i,slice:s})=>this.options.onPaste(i,s)),this.on("delete",this.options.onDelete);const e=this.createDoc(),n=Cw(e,this.options.autofocus);this.editorState=Ys.create({doc:e,schema:this.schema,selection:n||void 0}),this.options.element&&this.mount(this.options.element)}mount(t){if(typeof document>"u")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(t),this.emit("mount",{editor:this}),this.css&&!document.head.contains(this.css)&&document.head.appendChild(this.css),window.setTimeout(()=>{this.isDestroyed||(this.options.autofocus!==!1&&this.options.autofocus!==null&&this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){const t=this.editorView.dom;t?.editor&&delete t.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css&&!document.querySelectorAll(`.${this.className}`).length)try{typeof this.css.remove=="function"?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(t){console.warn("Failed to remove CSS element:",t)}this.css=null,this.emit("unmount",{editor:this})}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document<"u"&&(this.css=WD(QD,this.options.injectNonce))}setOptions(t={}){this.options={...this.options,...t},!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(t,e=!0){this.setOptions({editable:t}),e&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:t=>{this.editorState=t},dispatch:t=>{this.dispatchTransaction(t)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(t,e)=>{if(this.editorView)return this.editorView[e];if(e==="state")return this.editorState;if(e in t)return Reflect.get(t,e);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${e}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(t,e){const n=jw(e)?e(t,[...this.state.plugins]):[...this.state.plugins,t],i=this.state.reconfigure({plugins:n});return this.view.updateState(i),i}unregisterPlugin(t){if(this.isDestroyed)return;const e=this.state.plugins;let n=e;if([].concat(t).forEach(s=>{const a=typeof s=="string"?`${s}$`:s.key;n=n.filter(c=>!c.key.startsWith(a))}),e.length===n.length)return;const i=this.state.reconfigure({plugins:n});return this.view.updateState(i),i}createExtensionManager(){var t,e;const i=[...this.options.enableCoreExtensions?[Xw,Kw.configure({blockSeparator:(e=(t=this.options.coreExtensionOptions)==null?void 0:t.clipboardTextSerializer)==null?void 0:e.blockSeparator}),Gw,Ww,Zw,tk,Jw,ek,Yw,nk.configure({direction:this.options.textDirection})].filter(s=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[s.name]!==!1:!0):[],...this.options.extensions].filter(s=>["extension","node","mark"].includes(s?.type));this.extensionManager=new Wu(i,this)}createCommandManager(){this.commandManager=new Gu({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let t;try{t=Op(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(e){if(!(e instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(e.message))throw e;this.emit("contentError",{editor:this,error:e,disableCollaboration:()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(n=>n.name!=="collaboration"),this.createExtensionManager()}}),t=Op(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return t}createView(t){const{editorProps:e,enableExtensionDispatchTransaction:n}=this.options,i=e.dispatchTransaction||this.dispatchTransaction.bind(this),s=n?this.extensionManager.dispatchTransaction(i):i;this.editorView=new ww(t,{...e,attributes:{role:"textbox",...e?.attributes},dispatchTransaction:s,state:this.editorState,markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews});const a=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(a),this.prependClass(),this.injectCSS();const c=this.view.dom;c.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`${this.className} ${this.view.dom.className}`}captureTransaction(t){this.isCapturingTransaction=!0,t(),this.isCapturingTransaction=!1;const e=this.capturedTransaction;return this.capturedTransaction=null,e}dispatchTransaction(t){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=t;return}t.steps.forEach(h=>{var m;return(m=this.capturedTransaction)==null?void 0:m.step(h)});return}const{state:e,transactions:n}=this.state.applyTransaction(t),i=!this.state.selection.eq(e.selection),s=n.includes(t),a=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:t,nextState:e}),!s)return;this.view.updateState(e),this.emit("transaction",{editor:this,transaction:t,appendedTransactions:n.slice(1)}),i&&this.emit("selectionUpdate",{editor:this,transaction:t});const c=n.findLast(h=>h.getMeta("focus")||h.getMeta("blur")),u=c?.getMeta("focus"),d=c?.getMeta("blur");u&&this.emit("focus",{editor:this,event:u.event,transaction:c}),d&&this.emit("blur",{editor:this,event:d.event,transaction:c}),!(t.getMeta("preventUpdate")||!n.some(h=>h.docChanged)||a.doc.eq(e.doc))&&this.emit("update",{editor:this,transaction:t,appendedTransactions:n.slice(1)})}getAttributes(t){return Bw(this.state,t)}isActive(t,e){const n=typeof t=="string"?t:null,i=typeof t=="string"?e:t;return pD(this.state,n,i)}getJSON(){return this.state.doc.toJSON()}getHTML(){return km(this.state.doc.content,this.schema)}getText(t){const{blockSeparator:e=`

`,textSerializers:n={}}=t||{};return oD(this.state.doc,{blockSeparator:e,textSerializers:{..._w(this.schema),...n}})}get isEmpty(){return Xu(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var t,e;return(e=(t=this.editorView)==null?void 0:t.isDestroyed)!=null?e:!0}$node(t,e){var n;return((n=this.$doc)==null?void 0:n.querySelector(t,e))||null}$nodes(t,e){var n;return((n=this.$doc)==null?void 0:n.querySelectorAll(t,e))||null}$pos(t){const e=this.state.doc.resolve(t);return new XD(e,this)}get $doc(){return this.$pos(0)}};function il(t){return new Qu({find:t.find,handler:({state:e,range:n,match:i})=>{const s=Me(t.getAttributes,void 0,i);if(s===!1||s===null)return null;const{tr:a}=e,c=i[i.length-1],u=i[0];if(c){const d=u.search(/\S/),h=n.from+u.indexOf(c),m=h+c.length;if(Em(n.from,n.to,e.doc).filter(v=>v.mark.type.excluded.find(E=>E===t.type&&E!==v.mark.type)).filter(v=>v.to>h).length)return null;m<n.to&&a.delete(m,n.to),h>n.from&&a.delete(n.from+d,h);const x=n.from+d+c.length;a.addMark(n.from+d,x,t.type.create(s||{})),a.removeStoredMark(t.type)}},undoable:t.undoable})}function ik(t){return new Qu({find:t.find,handler:({state:e,range:n,match:i})=>{const s=Me(t.getAttributes,void 0,i)||{},{tr:a}=e,c=n.from;let u=n.to;const d=t.type.create(s);if(i[1]){const h=i[0].lastIndexOf(i[1]);let m=c+h;m>u?m=u:u=m+i[1].length;const y=i[0][i[0].length-1];a.insertText(y,c+i[0].length-1),a.replaceWith(m,u,d)}else if(i[0]){const h=t.type.isInline?c:c-1;a.insert(h,t.type.create(s)).delete(a.mapping.map(c),a.mapping.map(u))}a.scrollIntoView()},undoable:t.undoable})}function jp(t){return new Qu({find:t.find,handler:({state:e,range:n,match:i})=>{const s=e.doc.resolve(n.from),a=Me(t.getAttributes,void 0,i)||{};if(!s.node(-1).canReplaceWith(s.index(-1),s.indexAfter(-1),t.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,t.type,a)},undoable:t.undoable})}function rl(t){return new Qu({find:t.find,handler:({state:e,range:n,match:i,chain:s})=>{const a=Me(t.getAttributes,void 0,i)||{},c=e.tr.delete(n.from,n.to),d=c.doc.resolve(n.from).blockRange(),h=d&&im(d,t.type,a);if(!h)return null;if(c.wrap(d,h),t.keepMarks&&t.editor){const{selection:y,storedMarks:x}=e,{splittableMarks:v}=t.editor.extensionManager,S=x||y.$to.parentOffset&&y.$from.marks();if(S){const E=S.filter(k=>v.includes(k.type.name));c.ensureMarks(E)}}if(t.keepAttributes){const y=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";s().updateAttributes(y,a).run()}const m=c.doc.resolve(n.from-1).nodeBefore;m&&m.type===t.type&&dr(c.doc,n.from-1)&&(!t.joinPredicate||t.joinPredicate(i,m))&&c.join(n.from-1)},undoable:t.undoable})}var e3=t=>"touches"in t,t3=class{constructor(t){this.directions=["bottom-left","bottom-right","top-left","top-right"],this.minSize={height:8,width:8},this.preserveAspectRatio=!1,this.classNames={container:"",wrapper:"",handle:"",resizing:""},this.initialWidth=0,this.initialHeight=0,this.aspectRatio=1,this.isResizing=!1,this.activeHandle=null,this.startX=0,this.startY=0,this.startWidth=0,this.startHeight=0,this.isShiftKeyPressed=!1,this.lastEditableState=void 0,this.handleMap=new Map,this.handleMouseMove=u=>{if(!this.isResizing||!this.activeHandle)return;const d=u.clientX-this.startX,h=u.clientY-this.startY;this.handleResize(d,h)},this.handleTouchMove=u=>{if(!this.isResizing||!this.activeHandle)return;const d=u.touches[0];if(!d)return;const h=d.clientX-this.startX,m=d.clientY-this.startY;this.handleResize(h,m)},this.handleMouseUp=()=>{if(!this.isResizing)return;const u=this.element.offsetWidth,d=this.element.offsetHeight;this.onCommit(u,d),this.isResizing=!1,this.activeHandle=null,this.container.dataset.resizeState="false",this.classNames.resizing&&this.container.classList.remove(this.classNames.resizing),document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp)},this.handleKeyDown=u=>{u.key==="Shift"&&(this.isShiftKeyPressed=!0)},this.handleKeyUp=u=>{u.key==="Shift"&&(this.isShiftKeyPressed=!1)};var e,n,i,s,a,c;this.node=t.node,this.editor=t.editor,this.element=t.element,this.contentElement=t.contentElement,this.getPos=t.getPos,this.onResize=t.onResize,this.onCommit=t.onCommit,this.onUpdate=t.onUpdate,(e=t.options)!=null&&e.min&&(this.minSize={...this.minSize,...t.options.min}),(n=t.options)!=null&&n.max&&(this.maxSize=t.options.max),(i=t?.options)!=null&&i.directions&&(this.directions=t.options.directions),(s=t.options)!=null&&s.preserveAspectRatio&&(this.preserveAspectRatio=t.options.preserveAspectRatio),(a=t.options)!=null&&a.className&&(this.classNames={container:t.options.className.container||"",wrapper:t.options.className.wrapper||"",handle:t.options.className.handle||"",resizing:t.options.className.resizing||""}),(c=t.options)!=null&&c.createCustomHandle&&(this.createCustomHandle=t.options.createCustomHandle),this.wrapper=this.createWrapper(),this.container=this.createContainer(),this.applyInitialSize(),this.attachHandles(),this.editor.on("update",this.handleEditorUpdate.bind(this))}get dom(){return this.container}get contentDOM(){var t;return(t=this.contentElement)!=null?t:null}handleEditorUpdate(){const t=this.editor.isEditable;t!==this.lastEditableState&&(this.lastEditableState=t,t?t&&this.handleMap.size===0&&this.attachHandles():this.removeHandles())}update(t,e,n){return t.type!==this.node.type?!1:(this.node=t,this.onUpdate?this.onUpdate(t,e,n):!0)}destroy(){this.isResizing&&(this.container.dataset.resizeState="false",this.classNames.resizing&&this.container.classList.remove(this.classNames.resizing),document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp),this.isResizing=!1,this.activeHandle=null),this.editor.off("update",this.handleEditorUpdate.bind(this)),this.container.remove()}createContainer(){const t=document.createElement("div");return t.dataset.resizeContainer="",t.dataset.node=this.node.type.name,t.style.display="flex",this.classNames.container&&(t.className=this.classNames.container),t.appendChild(this.wrapper),t}createWrapper(){const t=document.createElement("div");return t.style.position="relative",t.style.display="block",t.dataset.resizeWrapper="",this.classNames.wrapper&&(t.className=this.classNames.wrapper),t.appendChild(this.element),t}createHandle(t){const e=document.createElement("div");return e.dataset.resizeHandle=t,e.style.position="absolute",this.classNames.handle&&(e.className=this.classNames.handle),e}positionHandle(t,e){const n=e.includes("top"),i=e.includes("bottom"),s=e.includes("left"),a=e.includes("right");n&&(t.style.top="0"),i&&(t.style.bottom="0"),s&&(t.style.left="0"),a&&(t.style.right="0"),(e==="top"||e==="bottom")&&(t.style.left="0",t.style.right="0"),(e==="left"||e==="right")&&(t.style.top="0",t.style.bottom="0")}attachHandles(){this.directions.forEach(t=>{let e;this.createCustomHandle?e=this.createCustomHandle(t):e=this.createHandle(t),e instanceof HTMLElement||(console.warn(`[ResizableNodeView] createCustomHandle("${t}") did not return an HTMLElement. Falling back to default handle.`),e=this.createHandle(t)),this.createCustomHandle||this.positionHandle(e,t),e.addEventListener("mousedown",n=>this.handleResizeStart(n,t)),e.addEventListener("touchstart",n=>this.handleResizeStart(n,t)),this.handleMap.set(t,e),this.wrapper.appendChild(e)})}removeHandles(){this.handleMap.forEach(t=>t.remove()),this.handleMap.clear()}applyInitialSize(){const t=this.node.attrs.width,e=this.node.attrs.height;t?(this.element.style.width=`${t}px`,this.initialWidth=t):this.initialWidth=this.element.offsetWidth,e?(this.element.style.height=`${e}px`,this.initialHeight=e):this.initialHeight=this.element.offsetHeight,this.initialWidth>0&&this.initialHeight>0&&(this.aspectRatio=this.initialWidth/this.initialHeight)}handleResizeStart(t,e){t.preventDefault(),t.stopPropagation(),this.isResizing=!0,this.activeHandle=e,e3(t)?(this.startX=t.touches[0].clientX,this.startY=t.touches[0].clientY):(this.startX=t.clientX,this.startY=t.clientY),this.startWidth=this.element.offsetWidth,this.startHeight=this.element.offsetHeight,this.startWidth>0&&this.startHeight>0&&(this.aspectRatio=this.startWidth/this.startHeight),this.getPos(),this.container.dataset.resizeState="true",this.classNames.resizing&&this.container.classList.add(this.classNames.resizing),document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("touchmove",this.handleTouchMove),document.addEventListener("mouseup",this.handleMouseUp),document.addEventListener("keydown",this.handleKeyDown),document.addEventListener("keyup",this.handleKeyUp)}handleResize(t,e){if(!this.activeHandle)return;const n=this.preserveAspectRatio||this.isShiftKeyPressed,{width:i,height:s}=this.calculateNewDimensions(this.activeHandle,t,e),a=this.applyConstraints(i,s,n);this.element.style.width=`${a.width}px`,this.element.style.height=`${a.height}px`,this.onResize&&this.onResize(a.width,a.height)}calculateNewDimensions(t,e,n){let i=this.startWidth,s=this.startHeight;const a=t.includes("right"),c=t.includes("left"),u=t.includes("bottom"),d=t.includes("top");return a?i=this.startWidth+e:c&&(i=this.startWidth-e),u?s=this.startHeight+n:d&&(s=this.startHeight-n),(t==="right"||t==="left")&&(i=this.startWidth+(a?e:-e)),(t==="top"||t==="bottom")&&(s=this.startHeight+(u?n:-n)),this.preserveAspectRatio||this.isShiftKeyPressed?this.applyAspectRatio(i,s,t):{width:i,height:s}}applyConstraints(t,e,n){var i,s,a,c;if(!n){let h=Math.max(this.minSize.width,t),m=Math.max(this.minSize.height,e);return(i=this.maxSize)!=null&&i.width&&(h=Math.min(this.maxSize.width,h)),(s=this.maxSize)!=null&&s.height&&(m=Math.min(this.maxSize.height,m)),{width:h,height:m}}let u=t,d=e;return u<this.minSize.width&&(u=this.minSize.width,d=u/this.aspectRatio),d<this.minSize.height&&(d=this.minSize.height,u=d*this.aspectRatio),(a=this.maxSize)!=null&&a.width&&u>this.maxSize.width&&(u=this.maxSize.width,d=u/this.aspectRatio),(c=this.maxSize)!=null&&c.height&&d>this.maxSize.height&&(d=this.maxSize.height,u=d*this.aspectRatio),{width:u,height:d}}applyAspectRatio(t,e,n){const i=n==="left"||n==="right",s=n==="top"||n==="bottom";return i?{width:t,height:t/this.aspectRatio}:s?{width:e*this.aspectRatio,height:e}:{width:t,height:t/this.aspectRatio}}};function n3(t,e){const{selection:n}=t,{$from:i}=n;if(n instanceof ae){const a=i.index();return i.parent.canReplaceWith(a,a+1,e)}let s=i.depth;for(;s>=0;){const a=i.index(s);if(i.node(s).contentMatchAt(a).matchType(e))return!0;s-=1}return!1}var i3={};xm(i3,{createAtomBlockMarkdownSpec:()=>rk,createBlockMarkdownSpec:()=>r3,createInlineMarkdownSpec:()=>a3,parseAttributes:()=>Tm,parseIndentedBlocks:()=>Dp,renderNestedMarkdownContent:()=>Am,serializeAttributes:()=>Cm});function Tm(t){if(!t?.trim())return{};const e={},n=[],i=t.replace(/["']([^"']*)["']/g,h=>(n.push(h),`__QUOTED_${n.length-1}__`)),s=i.match(/(?:^|\s)\.([a-zA-Z][\w-]*)/g);if(s){const h=s.map(m=>m.trim().slice(1));e.class=h.join(" ")}const a=i.match(/(?:^|\s)#([a-zA-Z][\w-]*)/);a&&(e.id=a[1]);const c=/([a-zA-Z][\w-]*)\s*=\s*(__QUOTED_\d+__)/g;Array.from(i.matchAll(c)).forEach(([,h,m])=>{var y;const x=parseInt(((y=m.match(/__QUOTED_(\d+)__/))==null?void 0:y[1])||"0",10),v=n[x];v&&(e[h]=v.slice(1,-1))});const d=i.replace(/(?:^|\s)\.([a-zA-Z][\w-]*)/g,"").replace(/(?:^|\s)#([a-zA-Z][\w-]*)/g,"").replace(/([a-zA-Z][\w-]*)\s*=\s*__QUOTED_\d+__/g,"").trim();return d&&d.split(/\s+/).filter(Boolean).forEach(m=>{m.match(/^[a-zA-Z][\w-]*$/)&&(e[m]=!0)}),e}function Cm(t){if(!t||Object.keys(t).length===0)return"";const e=[];return t.class&&String(t.class).split(/\s+/).filter(Boolean).forEach(i=>e.push(`.${i}`)),t.id&&e.push(`#${t.id}`),Object.entries(t).forEach(([n,i])=>{n==="class"||n==="id"||(i===!0?e.push(n):i!==!1&&i!=null&&e.push(`${n}="${String(i)}"`))}),e.join(" ")}function rk(t){const{nodeName:e,name:n,parseAttributes:i=Tm,serializeAttributes:s=Cm,defaultAttributes:a={},requiredAttributes:c=[],allowedAttributes:u}=t,d=n||e,h=m=>{if(!u)return m;const y={};return u.forEach(x=>{x in m&&(y[x]=m[x])}),y};return{parseMarkdown:(m,y)=>{const x={...a,...m.attributes};return y.createNode(e,x,[])},markdownTokenizer:{name:e,level:"block",start(m){var y;const x=new RegExp(`^:::${d}(?:\\s|$)`,"m"),v=(y=m.match(x))==null?void 0:y.index;return v!==void 0?v:-1},tokenize(m,y,x){const v=new RegExp(`^:::${d}(?:\\s+\\{([^}]*)\\})?\\s*:::(?:\\n|$)`),S=m.match(v);if(!S)return;const E=S[1]||"",k=i(E);if(!c.find(M=>!(M in k)))return{type:e,raw:S[0],attributes:k}}},renderMarkdown:m=>{const y=h(m.attrs||{}),x=s(y),v=x?` {${x}}`:"";return`:::${d}${v} :::`}}}function r3(t){const{nodeName:e,name:n,getContent:i,parseAttributes:s=Tm,serializeAttributes:a=Cm,defaultAttributes:c={},content:u="block",allowedAttributes:d}=t,h=n||e,m=y=>{if(!d)return y;const x={};return d.forEach(v=>{v in y&&(x[v]=y[v])}),x};return{parseMarkdown:(y,x)=>{let v;if(i){const E=i(y);v=typeof E=="string"?[{type:"text",text:E}]:E}else u==="block"?v=x.parseChildren(y.tokens||[]):v=x.parseInline(y.tokens||[]);const S={...c,...y.attributes};return x.createNode(e,S,v)},markdownTokenizer:{name:e,level:"block",start(y){var x;const v=new RegExp(`^:::${h}`,"m"),S=(x=y.match(v))==null?void 0:x.index;return S!==void 0?S:-1},tokenize(y,x,v){var S;const E=new RegExp(`^:::${h}(?:\\s+\\{([^}]*)\\})?\\s*\\n`),k=y.match(E);if(!k)return;const[T,M=""]=k,D=s(M);let V=1;const z=T.length;let P="";const L=/^:::([\w-]*)(\s.*)?/gm,G=y.slice(z);for(L.lastIndex=0;;){const Z=L.exec(G);if(Z===null)break;const he=Z.index,st=Z[1];if(!((S=Z[2])!=null&&S.endsWith(":::"))){if(st)V+=1;else if(V-=1,V===0){const _e=G.slice(0,he);P=_e.trim();const lt=y.slice(0,z+he+Z[0].length);let Oe=[];if(P)if(u==="block")for(Oe=v.blockTokens(_e),Oe.forEach(je=>{je.text&&(!je.tokens||je.tokens.length===0)&&(je.tokens=v.inlineTokens(je.text))});Oe.length>0;){const je=Oe[Oe.length-1];if(je.type==="paragraph"&&(!je.text||je.text.trim()===""))Oe.pop();else break}else Oe=v.inlineTokens(P);return{type:e,raw:lt,attributes:D,content:P,tokens:Oe}}}}}},renderMarkdown:(y,x)=>{const v=m(y.attrs||{}),S=a(v),E=S?` {${S}}`:"",k=x.renderChildren(y.content||[],`

`);return`:::${h}${E}

${k}

:::`}}}function s3(t){if(!t.trim())return{};const e={},n=/(\w+)=(?:"([^"]*)"|'([^']*)')/g;let i=n.exec(t);for(;i!==null;){const[,s,a,c]=i;e[s]=a||c,i=n.exec(t)}return e}function l3(t){return Object.entries(t).filter(([,e])=>e!=null).map(([e,n])=>`${e}="${n}"`).join(" ")}function a3(t){const{nodeName:e,name:n,getContent:i,parseAttributes:s=s3,serializeAttributes:a=l3,defaultAttributes:c={},selfClosing:u=!1,allowedAttributes:d}=t,h=n||e,m=x=>{if(!d)return x;const v={};return d.forEach(S=>{const E=typeof S=="string"?S:S.name,k=typeof S=="string"?void 0:S.skipIfDefault;if(E in x){const T=x[E];if(k!==void 0&&T===k)return;v[E]=T}}),v},y=h.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return{parseMarkdown:(x,v)=>{const S={...c,...x.attributes};if(u)return v.createNode(e,S);const E=i?i(x):x.content||"";return E?v.createNode(e,S,[v.createTextNode(E)]):v.createNode(e,S,[])},markdownTokenizer:{name:e,level:"inline",start(x){const v=u?new RegExp(`\\[${y}\\s*[^\\]]*\\]`):new RegExp(`\\[${y}\\s*[^\\]]*\\][\\s\\S]*?\\[\\/${y}\\]`),S=x.match(v),E=S?.index;return E!==void 0?E:-1},tokenize(x,v,S){const E=u?new RegExp(`^\\[${y}\\s*([^\\]]*)\\]`):new RegExp(`^\\[${y}\\s*([^\\]]*)\\]([\\s\\S]*?)\\[\\/${y}\\]`),k=x.match(E);if(!k)return;let T="",M="";if(u){const[,V]=k;M=V}else{const[,V,z]=k;M=V,T=z||""}const D=s(M.trim());return{type:e,raw:k[0],content:T.trim(),attributes:D}}},renderMarkdown:x=>{let v="";i?v=i(x):x.content&&x.content.length>0&&(v=x.content.filter(T=>T.type==="text").map(T=>T.text).join(""));const S=m(x.attrs||{}),E=a(S),k=E?` ${E}`:"";return u?`[${h}${k}]`:`[${h}${k}]${v}[/${h}]`}}}function Dp(t,e,n){var i,s,a,c;const u=t.split(`
`),d=[];let h="",m=0;const y=e.baseIndentSize||2;for(;m<u.length;){const x=u[m],v=x.match(e.itemPattern);if(!v){if(d.length>0)break;if(x.trim()===""){m+=1,h=`${h}${x}
`;continue}else return}const S=e.extractItemData(v),{indentLevel:E,mainContent:k}=S;h=`${h}${x}
`;const T=[k];for(m+=1;m<u.length;){const z=u[m];if(z.trim()===""){const L=u.slice(m+1).findIndex(he=>he.trim()!=="");if(L===-1)break;if((((s=(i=u[m+1+L].match(/^(\s*)/))==null?void 0:i[1])==null?void 0:s.length)||0)>E){T.push(z),h=`${h}${z}
`,m+=1;continue}else break}if((((c=(a=z.match(/^(\s*)/))==null?void 0:a[1])==null?void 0:c.length)||0)>E)T.push(z),h=`${h}${z}
`,m+=1;else break}let M;const D=T.slice(1);if(D.length>0){const z=D.map(P=>P.slice(E+y)).join(`
`);z.trim()&&(e.customNestedParser?M=e.customNestedParser(z):M=n.blockTokens(z))}const V=e.createToken(S,M);d.push(V)}if(d.length!==0)return{items:d,raw:h}}function Am(t,e,n,i){if(!t||!Array.isArray(t.content))return"";const s=typeof n=="function"?n(i):n,[a,...c]=t.content,u=e.renderChildren([a]),d=[`${s}${u}`];return c&&c.length>0&&c.forEach(h=>{const m=e.renderChildren([h]);if(m){const y=m.split(`
`).map(x=>x?e.indent(x):"").join(`
`);d.push(y)}}),d.join(`
`)}function o3(t,e,n={}){const{state:i}=e,{doc:s,tr:a}=i,c=t;s.descendants((u,d)=>{const h=a.mapping.map(d),m=a.mapping.map(d)+u.nodeSize;let y=null;if(u.marks.forEach(v=>{if(v!==c)return!1;y=v}),!y)return;let x=!1;if(Object.keys(n).forEach(v=>{n[v]!==y.attrs[v]&&(x=!0)}),x){const v=t.type.create({...t.attrs,...n});a.removeMark(h,m,t.type),a.addMark(h,m,v)}}),a.docChanged&&e.view.dispatch(a)}var It=class sk extends Nm{constructor(){super(...arguments),this.type="node"}static create(e={}){const n=typeof e=="function"?e():e;return new sk(n)}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}};function Zr(t){return new $w({find:t.find,handler:({state:e,range:n,match:i,pasteEvent:s})=>{const a=Me(t.getAttributes,void 0,i,s);if(a===!1||a===null)return null;const{tr:c}=e,u=i[i.length-1],d=i[0];let h=n.to;if(u){const m=d.search(/\S/),y=n.from+d.indexOf(u),x=y+u.length;if(Em(n.from,n.to,e.doc).filter(S=>S.mark.type.excluded.find(k=>k===t.type&&k!==S.mark.type)).filter(S=>S.to>y).length)return null;x<n.to&&c.delete(x,n.to),y>n.from&&c.delete(n.from+m,y),h=n.from+m+u.length,c.addMark(n.from+m,h,t.type.create(a||{})),c.removeStoredMark(t.type)}}})}function c3(t){return new $w({find:t.find,handler({match:e,chain:n,range:i,pasteEvent:s}){const a=Me(t.getAttributes,void 0,e,s),c=Me(t.getContent,void 0,a);if(a===!1||a===null)return null;const u={type:t.type.name,attrs:a};c&&(u.content=c),e.input&&n().deleteRange(i).insertContentAt(i.from,u)}})}const{getOwnPropertyNames:u3,getOwnPropertySymbols:f3}=Object,{hasOwnProperty:d3}=Object.prototype;function Xh(t,e){return function(i,s,a){return t(i,s,a)&&e(i,s,a)}}function Nc(t){return function(n,i,s){if(!n||!i||typeof n!="object"||typeof i!="object")return t(n,i,s);const{cache:a}=s,c=a.get(n),u=a.get(i);if(c&&u)return c===i&&u===n;a.set(n,i),a.set(i,n);const d=t(n,i,s);return a.delete(n),a.delete(i),d}}function h3(t){return t?.[Symbol.toStringTag]}function Rv(t){return u3(t).concat(f3(t))}const p3=Object.hasOwn||((t,e)=>d3.call(t,e));function is(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const m3="__v",g3="__o",y3="_owner",{getOwnPropertyDescriptor:jv,keys:Dv}=Object;function b3(t,e){return t.byteLength===e.byteLength&&nu(new Uint8Array(t),new Uint8Array(e))}function x3(t,e,n){let i=t.length;if(e.length!==i)return!1;for(;i-- >0;)if(!n.equals(t[i],e[i],i,i,t,e,n))return!1;return!0}function v3(t,e){return t.byteLength===e.byteLength&&nu(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function S3(t,e){return is(t.getTime(),e.getTime())}function w3(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function k3(t,e){return t===e}function zv(t,e,n){const i=t.size;if(i!==e.size)return!1;if(!i)return!0;const s=new Array(i),a=t.entries();let c,u,d=0;for(;(c=a.next())&&!c.done;){const h=e.entries();let m=!1,y=0;for(;(u=h.next())&&!u.done;){if(s[y]){y++;continue}const x=c.value,v=u.value;if(n.equals(x[0],v[0],d,y,t,e,n)&&n.equals(x[1],v[1],x[0],v[0],t,e,n)){m=s[y]=!0;break}y++}if(!m)return!1;d++}return!0}const E3=is;function N3(t,e,n){const i=Dv(t);let s=i.length;if(Dv(e).length!==s)return!1;for(;s-- >0;)if(!lk(t,e,n,i[s]))return!1;return!0}function aa(t,e,n){const i=Rv(t);let s=i.length;if(Rv(e).length!==s)return!1;let a,c,u;for(;s-- >0;)if(a=i[s],!lk(t,e,n,a)||(c=jv(t,a),u=jv(e,a),(c||u)&&(!c||!u||c.configurable!==u.configurable||c.enumerable!==u.enumerable||c.writable!==u.writable)))return!1;return!0}function T3(t,e){return is(t.valueOf(),e.valueOf())}function C3(t,e){return t.source===e.source&&t.flags===e.flags}function Lv(t,e,n){const i=t.size;if(i!==e.size)return!1;if(!i)return!0;const s=new Array(i),a=t.values();let c,u;for(;(c=a.next())&&!c.done;){const d=e.values();let h=!1,m=0;for(;(u=d.next())&&!u.done;){if(!s[m]&&n.equals(c.value,u.value,c.value,u.value,t,e,n)){h=s[m]=!0;break}m++}if(!h)return!1}return!0}function nu(t,e){let n=t.byteLength;if(e.byteLength!==n||t.byteOffset!==e.byteOffset)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function A3(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function lk(t,e,n,i){return(i===y3||i===g3||i===m3)&&(t.$$typeof||e.$$typeof)?!0:p3(e,i)&&n.equals(t[i],e[i],i,i,t,e,n)}const M3="[object ArrayBuffer]",O3="[object Arguments]",R3="[object Boolean]",j3="[object DataView]",D3="[object Date]",z3="[object Error]",L3="[object Map]",_3="[object Number]",B3="[object Object]",H3="[object RegExp]",U3="[object Set]",q3="[object String]",I3={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},V3="[object URL]",P3=Object.prototype.toString;function $3({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:n,areDatesEqual:i,areErrorsEqual:s,areFunctionsEqual:a,areMapsEqual:c,areNumbersEqual:u,areObjectsEqual:d,arePrimitiveWrappersEqual:h,areRegExpsEqual:m,areSetsEqual:y,areTypedArraysEqual:x,areUrlsEqual:v,unknownTagComparators:S}){return function(k,T,M){if(k===T)return!0;if(k==null||T==null)return!1;const D=typeof k;if(D!==typeof T)return!1;if(D!=="object")return D==="number"?u(k,T,M):D==="function"?a(k,T,M):!1;const V=k.constructor;if(V!==T.constructor)return!1;if(V===Object)return d(k,T,M);if(Array.isArray(k))return e(k,T,M);if(V===Date)return i(k,T,M);if(V===RegExp)return m(k,T,M);if(V===Map)return c(k,T,M);if(V===Set)return y(k,T,M);const z=P3.call(k);if(z===D3)return i(k,T,M);if(z===H3)return m(k,T,M);if(z===L3)return c(k,T,M);if(z===U3)return y(k,T,M);if(z===B3)return typeof k.then!="function"&&typeof T.then!="function"&&d(k,T,M);if(z===V3)return v(k,T,M);if(z===z3)return s(k,T,M);if(z===O3)return d(k,T,M);if(I3[z])return x(k,T,M);if(z===M3)return t(k,T,M);if(z===j3)return n(k,T,M);if(z===R3||z===_3||z===q3)return h(k,T,M);if(S){let P=S[z];if(!P){const L=h3(k);L&&(P=S[L])}if(P)return P(k,T,M)}return!1}}function F3({circular:t,createCustomConfig:e,strict:n}){let i={areArrayBuffersEqual:b3,areArraysEqual:n?aa:x3,areDataViewsEqual:v3,areDatesEqual:S3,areErrorsEqual:w3,areFunctionsEqual:k3,areMapsEqual:n?Xh(zv,aa):zv,areNumbersEqual:E3,areObjectsEqual:n?aa:N3,arePrimitiveWrappersEqual:T3,areRegExpsEqual:C3,areSetsEqual:n?Xh(Lv,aa):Lv,areTypedArraysEqual:n?Xh(nu,aa):nu,areUrlsEqual:A3,unknownTagComparators:void 0};if(e&&(i=Object.assign({},i,e(i))),t){const s=Nc(i.areArraysEqual),a=Nc(i.areMapsEqual),c=Nc(i.areObjectsEqual),u=Nc(i.areSetsEqual);i=Object.assign({},i,{areArraysEqual:s,areMapsEqual:a,areObjectsEqual:c,areSetsEqual:u})}return i}function K3(t){return function(e,n,i,s,a,c,u){return t(e,n,u)}}function G3({circular:t,comparator:e,createState:n,equals:i,strict:s}){if(n)return function(u,d){const{cache:h=t?new WeakMap:void 0,meta:m}=n();return e(u,d,{cache:h,equals:i,meta:m,strict:s})};if(t)return function(u,d){return e(u,d,{cache:new WeakMap,equals:i,meta:void 0,strict:s})};const a={cache:void 0,equals:i,meta:void 0,strict:s};return function(u,d){return e(u,d,a)}}const Y3=pr();pr({strict:!0});pr({circular:!0});pr({circular:!0,strict:!0});pr({createInternalComparator:()=>is});pr({strict:!0,createInternalComparator:()=>is});pr({circular:!0,createInternalComparator:()=>is});pr({circular:!0,createInternalComparator:()=>is,strict:!0});function pr(t={}){const{circular:e=!1,createInternalComparator:n,createState:i,strict:s=!1}=t,a=F3(t),c=$3(a),u=n?n(c):K3(c);return G3({circular:e,comparator:c,createState:i,equals:u,strict:s})}var Qh={exports:{}},Wh={};var _v;function J3(){if(_v)return Wh;_v=1;var t=_a(),e=Y1();function n(h,m){return h===m&&(h!==0||1/h===1/m)||h!==h&&m!==m}var i=typeof Object.is=="function"?Object.is:n,s=e.useSyncExternalStore,a=t.useRef,c=t.useEffect,u=t.useMemo,d=t.useDebugValue;return Wh.useSyncExternalStoreWithSelector=function(h,m,y,x,v){var S=a(null);if(S.current===null){var E={hasValue:!1,value:null};S.current=E}else E=S.current;S=u(function(){function T(P){if(!M){if(M=!0,D=P,P=x(P),v!==void 0&&E.hasValue){var L=E.value;if(v(L,P))return V=L}return V=P}if(L=V,i(D,P))return L;var G=x(P);return v!==void 0&&v(L,G)?(D=P,L):(D=P,V=G)}var M=!1,D,V,z=y===void 0?null:y;return[function(){return T(m())},z===null?void 0:function(){return T(z())}]},[m,y,x,v]);var k=s(h,S[0],S[1]);return c(function(){E.hasValue=!0,E.value=k},[k]),d(k),k},Wh}var Bv;function X3(){return Bv||(Bv=1,Qh.exports=J3()),Qh.exports}var Q3=X3(),W3=(...t)=>e=>{t.forEach(n=>{typeof n=="function"?n(e):n&&(n.current=e)})},Z3=({contentComponent:t})=>{const e=J1.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getServerSnapshot);return b.jsx(b.Fragment,{children:Object.values(e)})};function e4(){const t=new Set;let e={};return{subscribe(n){return t.add(n),()=>{t.delete(n)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(n,i){e={...e,[n]:QC.createPortal(i.reactElement,i.element,n)},t.forEach(s=>s())},removeRenderer(n){const i={...e};delete i[n],e=i,t.forEach(s=>s())}}}var t4=class extends Gr.Component{constructor(t){var e;super(t),this.editorContentRef=Gr.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!((e=t.editor)!=null&&e.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){var t;const e=this.props.editor;if(e&&!e.isDestroyed&&((t=e.view.dom)!=null&&t.parentNode)){if(e.contentComponent)return;const n=this.editorContentRef.current;n.append(...e.view.dom.parentNode.childNodes),e.setOptions({element:n}),e.contentComponent=e4(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(i=>i.hasContentComponentInitialized?i:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var t;const e=this.props.editor;if(e){this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null;try{if(!((t=e.view.dom)!=null&&t.parentNode))return;const n=document.createElement("div");n.append(...e.view.dom.parentNode.childNodes),e.setOptions({element:n})}catch{}}}render(){const{editor:t,innerRef:e,...n}=this.props;return b.jsxs(b.Fragment,{children:[b.jsx("div",{ref:W3(e,this.editorContentRef),...n}),t?.contentComponent&&b.jsx(Z3,{contentComponent:t.contentComponent})]})}},n4=A.forwardRef((t,e)=>{const n=Gr.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[t.editor]);return Gr.createElement(t4,{key:n,innerRef:e,...t})}),ak=Gr.memo(n4),i4=typeof window<"u"?A.useLayoutEffect:A.useEffect,r4=class{constructor(t){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=t,this.lastSnapshot={editor:t,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(t){return this.subscribers.add(t),()=>{this.subscribers.delete(t)}}watch(t){if(this.editor=t,this.editor){const e=()=>{this.transactionNumber+=1,this.subscribers.forEach(i=>i())},n=this.editor;return n.on("transaction",e),()=>{n.off("transaction",e)}}}};function s4(t){var e;const[n]=A.useState(()=>new r4(t.editor)),i=Q3.useSyncExternalStoreWithSelector(n.subscribe,n.getSnapshot,n.getServerSnapshot,t.selector,(e=t.equalityFn)!=null?e:Y3);return i4(()=>n.watch(t.editor),[t.editor,n]),A.useDebugValue(i),i}var l4=!1,zp=typeof window>"u",a4=zp||!!(typeof window<"u"&&window.next),o4=class ok{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(n=>n())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?zp||a4?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...i)=>{var s,a;return(a=(s=this.options.current).onBeforeCreate)==null?void 0:a.call(s,...i)},onBlur:(...i)=>{var s,a;return(a=(s=this.options.current).onBlur)==null?void 0:a.call(s,...i)},onCreate:(...i)=>{var s,a;return(a=(s=this.options.current).onCreate)==null?void 0:a.call(s,...i)},onDestroy:(...i)=>{var s,a;return(a=(s=this.options.current).onDestroy)==null?void 0:a.call(s,...i)},onFocus:(...i)=>{var s,a;return(a=(s=this.options.current).onFocus)==null?void 0:a.call(s,...i)},onSelectionUpdate:(...i)=>{var s,a;return(a=(s=this.options.current).onSelectionUpdate)==null?void 0:a.call(s,...i)},onTransaction:(...i)=>{var s,a;return(a=(s=this.options.current).onTransaction)==null?void 0:a.call(s,...i)},onUpdate:(...i)=>{var s,a;return(a=(s=this.options.current).onUpdate)==null?void 0:a.call(s,...i)},onContentError:(...i)=>{var s,a;return(a=(s=this.options.current).onContentError)==null?void 0:a.call(s,...i)},onDrop:(...i)=>{var s,a;return(a=(s=this.options.current).onDrop)==null?void 0:a.call(s,...i)},onPaste:(...i)=>{var s,a;return(a=(s=this.options.current).onPaste)==null?void 0:a.call(s,...i)},onDelete:(...i)=>{var s,a;return(a=(s=this.options.current).onDelete)==null?void 0:a.call(s,...i)}};return new ZD(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,n){return Object.keys(e).every(i=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(i)?!0:i==="extensions"&&e.extensions&&n.extensions?e.extensions.length!==n.extensions.length?!1:e.extensions.every((s,a)=>{var c;return s===((c=n.extensions)==null?void 0:c[a])}):e[i]===n[i])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?ok.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((i,s)=>i===e[s]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,n=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){n&&n.setOptions(this.options.current);return}n&&!n.isDestroyed&&(n.destroy(),this.instanceId===e&&this.setEditor(null))},1)}};function c4(t={},e=[]){const n=A.useRef(t);n.current=t;const[i]=A.useState(()=>new o4(n)),s=J1.useSyncExternalStore(i.subscribe,i.getEditor,i.getServerSnapshot);return A.useDebugValue(s),A.useEffect(i.onRender(e)),s4({editor:s,selector:({transactionNumber:a})=>t.shouldRerenderOnTransaction===!1||t.shouldRerenderOnTransaction===void 0?null:t.immediatelyRender&&a===0?0:a+1}),s}var ck=A.createContext({editor:null});ck.Consumer;var u4=A.createContext({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}}),f4=()=>A.useContext(u4);Gr.forwardRef((t,e)=>{const{onDragStart:n}=f4(),i=t.as||"div";return b.jsx(i,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...t.style}})});Gr.createContext({markViewContentRef:()=>{}});var Mm=A.createContext({get editor(){throw new Error("useTiptap must be used within a <Tiptap> provider")}});Mm.displayName="TiptapContext";var d4=()=>A.useContext(Mm);function uk({editor:t,instance:e,children:n}){const i=t??e;if(!i)throw new Error("Tiptap: An editor instance is required. Pass a non-null `editor` prop.");const s=A.useMemo(()=>({editor:i}),[i]),a=A.useMemo(()=>({editor:i}),[i]);return b.jsx(ck.Provider,{value:a,children:b.jsx(Mm.Provider,{value:s,children:n})})}uk.displayName="Tiptap";function fk({...t}){const{editor:e}=d4();return b.jsx(ak,{editor:e,...t})}fk.displayName="Tiptap.Content";Object.assign(uk,{Content:fk});var iu=(t,e)=>{if(t==="slot")return 0;if(t instanceof Function)return t(e);const{children:n,...i}=e??{};if(t==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[t,i,n]},h4=/^\s*>\s$/,p4=It.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return iu("blockquote",{...et(this.options.HTMLAttributes,t),children:iu("slot",{})})},parseMarkdown:(t,e)=>e.createNode("blockquote",void 0,e.parseChildren(t.tokens||[])),renderMarkdown:(t,e)=>{if(!t.content)return"";const n=">",i=[];return t.content.forEach(s=>{const u=e.renderChildren([s]).split(`
`).map(d=>d.trim()===""?n:`${n} ${d}`);i.push(u.join(`
`))}),i.join(`
${n}
`)},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[rl({find:h4,type:this.type})]}}),m4=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,g4=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,y4=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,b4=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,x4=ns.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return iu("strong",{...et(this.options.HTMLAttributes,t),children:iu("slot",{})})},markdownTokenName:"strong",parseMarkdown:(t,e)=>e.applyMark("bold",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`**${e.renderChildren(t)}**`,addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[il({find:m4,type:this.type}),il({find:y4,type:this.type})]},addPasteRules(){return[Zr({find:g4,type:this.type}),Zr({find:b4,type:this.type})]}}),v4=/(^|[^`])`([^`]+)`(?!`)$/,S4=/(^|[^`])`([^`]+)`(?!`)/g,w4=ns.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",et(this.options.HTMLAttributes,t),0]},markdownTokenName:"codespan",parseMarkdown:(t,e)=>e.applyMark("code",[{type:"text",text:t.text||""}]),renderMarkdown:(t,e)=>t.content?`\`${e.renderChildren(t.content)}\``:"",addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[il({find:v4,type:this.type})]},addPasteRules(){return[Zr({find:S4,type:this.type})]}}),Zh=4,k4=/^```([a-z]+)?[\s\n]$/,E4=/^~~~([a-z]+)?[\s\n]$/,N4=It.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,enableTabIndentation:!1,tabSize:Zh,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:t=>{var e;const{languageClassPrefix:n}=this.options;if(!n)return null;const a=[...((e=t.firstElementChild)==null?void 0:e.classList)||[]].filter(c=>c.startsWith(n)).map(c=>c.replace(n,""))[0];return a||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",et(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},markdownTokenName:"code",parseMarkdown:(t,e)=>{var n;return((n=t.raw)==null?void 0:n.startsWith("```"))===!1&&t.codeBlockStyle!=="indented"?[]:e.createNode("codeBlock",{language:t.lang||null},t.text?[e.createTextNode(t.text)]:[])},renderMarkdown:(t,e)=>{var n;let i="";const s=((n=t.attrs)==null?void 0:n.language)||"";return t.content?i=[`\`\`\`${s}`,e.renderChildren(t.content),"```"].join(`
`):i=`\`\`\`${s}

\`\`\``,i},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,n=e.pos===1;return!t||e.parent.type.name!==this.name?!1:n||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Tab:({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;const n=(e=this.options.tabSize)!=null?e:Zh,{state:i}=t,{selection:s}=i,{$from:a,empty:c}=s;if(a.parent.type!==this.type)return!1;const u=" ".repeat(n);return c?t.commands.insertContent(u):t.commands.command(({tr:d})=>{const{from:h,to:m}=s,v=i.doc.textBetween(h,m,`
`,`
`).split(`
`).map(S=>u+S).join(`
`);return d.replaceWith(h,m,i.schema.text(v)),!0})},"Shift-Tab":({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;const n=(e=this.options.tabSize)!=null?e:Zh,{state:i}=t,{selection:s}=i,{$from:a,empty:c}=s;return a.parent.type!==this.type?!1:c?t.commands.command(({tr:u})=>{var d;const{pos:h}=a,m=a.start(),y=a.end(),v=i.doc.textBetween(m,y,`
`,`
`).split(`
`);let S=0,E=0;const k=h-m;for(let P=0;P<v.length;P+=1){if(E+v[P].length>=k){S=P;break}E+=v[P].length+1}const M=((d=v[S].match(/^ */))==null?void 0:d[0])||"",D=Math.min(M.length,n);if(D===0)return!0;let V=m;for(let P=0;P<S;P+=1)V+=v[P].length+1;return u.delete(V,V+D),h-V<=D&&u.setSelection(ue.create(u.doc,V)),!0}):t.commands.command(({tr:u})=>{const{from:d,to:h}=s,x=i.doc.textBetween(d,h,`
`,`
`).split(`
`).map(v=>{var S;const E=((S=v.match(/^ */))==null?void 0:S[0])||"",k=Math.min(E.length,n);return v.slice(k)}).join(`
`);return u.replaceWith(d,h,i.schema.text(x)),!0})},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:n}=e,{$from:i,empty:s}=n;if(!s||i.parent.type!==this.type)return!1;const a=i.parentOffset===i.parent.nodeSize-2,c=i.parent.textContent.endsWith(`

`);return!a||!c?!1:t.chain().command(({tr:u})=>(u.delete(i.pos-2,i.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:n,doc:i}=e,{$from:s,empty:a}=n;if(!a||s.parent.type!==this.type||!(s.parentOffset===s.parent.nodeSize-2))return!1;const u=s.after();return u===void 0?!1:i.nodeAt(u)?t.commands.command(({tr:h})=>(h.setSelection(ye.near(i.resolve(u))),!0)):t.commands.exitCode()}}},addInputRules(){return[jp({find:k4,type:this.type,getAttributes:t=>({language:t[1]})}),jp({find:E4,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new Ye({key:new mt("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const n=e.clipboardData.getData("text/plain"),i=e.clipboardData.getData("vscode-editor-data"),s=i?JSON.parse(i):void 0,a=s?.mode;if(!n||!a)return!1;const{tr:c,schema:u}=t.state,d=u.text(n.replace(/\r\n?/g,`
`));return c.replaceSelectionWith(this.type.create({language:a},d)),c.selection.$from.parent.type!==this.type&&c.setSelection(ue.near(c.doc.resolve(Math.max(0,c.selection.from-2)))),c.setMeta("paste",!0),t.dispatch(c),!0}}})]}}),T4=It.create({name:"doc",topNode:!0,content:"block+",renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`

`):""}),C4=It.create({name:"hardBreak",markdownTokenName:"br",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",et(this.options.HTMLAttributes,t)]},renderText(){return`
`},renderMarkdown:()=>`  
`,parseMarkdown:()=>({type:"hardBreak"}),addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:i})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:s,storedMarks:a}=n;if(s.$from.parent.type.spec.isolating)return!1;const{keepMarks:c}=this.options,{splittableMarks:u}=i.extensionManager,d=a||s.$to.parentOffset&&s.$from.marks();return e().insertContent({type:this.name}).command(({tr:h,dispatch:m})=>{if(m&&d&&c){const y=d.filter(x=>u.includes(x.type.name));h.ensureMarks(y)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),A4=It.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,et(this.options.HTMLAttributes,e),0]},parseMarkdown:(t,e)=>e.createNode("heading",{level:t.depth||1},e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>{var n;const i=(n=t.attrs)!=null&&n.level?parseInt(t.attrs.level,10):1,s="#".repeat(i);return t.content?`${s} ${e.renderChildren(t.content)}`:""},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>jp({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}}),M4=It.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{},nextNodeType:"paragraph"}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",et(this.options.HTMLAttributes,t)]},markdownTokenName:"hr",parseMarkdown:(t,e)=>e.createNode("horizontalRule"),renderMarkdown:()=>"---",addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{if(!n3(e,e.schema.nodes[this.name]))return!1;const{selection:n}=e,{$to:i}=n,s=t();return Uw(n)?s.insertContentAt(i.pos,{type:this.name}):s.insertContent({type:this.name}),s.command(({state:a,tr:c,dispatch:u})=>{if(u){const{$to:d}=c.selection,h=d.end();if(d.nodeAfter)d.nodeAfter.isTextblock?c.setSelection(ue.create(c.doc,d.pos+1)):d.nodeAfter.isBlock?c.setSelection(ae.create(c.doc,d.pos)):c.setSelection(ue.create(c.doc,d.pos));else{const m=a.schema.nodes[this.options.nextNodeType]||d.parent.type.contentMatch.defaultType,y=m?.create();y&&(c.insert(h,y),c.setSelection(ue.create(c.doc,h+1)))}c.scrollIntoView()}return!0}).run()}}},addInputRules(){return[ik({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),O4=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,R4=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,j4=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,D4=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,z4=ns.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:t=>t.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",et(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},markdownTokenName:"em",parseMarkdown:(t,e)=>e.applyMark("italic",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`*${e.renderChildren(t)}*`,addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[il({find:O4,type:this.type}),il({find:j4,type:this.type})]},addPasteRules(){return[Zr({find:R4,type:this.type}),Zr({find:D4,type:this.type})]}});const L4="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",_4="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",Lp="numeric",_p="ascii",Bp="alpha",ba="asciinumeric",ha="alphanumeric",Hp="domain",dk="emoji",B4="scheme",H4="slashscheme",ep="whitespace";function U4(t,e){return t in e||(e[t]=[]),e[t]}function qr(t,e,n){e[Lp]&&(e[ba]=!0,e[ha]=!0),e[_p]&&(e[ba]=!0,e[Bp]=!0),e[ba]&&(e[ha]=!0),e[Bp]&&(e[ha]=!0),e[ha]&&(e[Hp]=!0),e[dk]&&(e[Hp]=!0);for(const i in e){const s=U4(i,n);s.indexOf(t)<0&&s.push(t)}}function q4(t,e){const n={};for(const i in e)e[i].indexOf(t)>=0&&(n[i]=!0);return n}function Jt(t=null){this.j={},this.jr=[],this.jd=null,this.t=t}Jt.groups={};Jt.prototype={accepts(){return!!this.t},go(t){const e=this,n=e.j[t];if(n)return n;for(let i=0;i<e.jr.length;i++){const s=e.jr[i][0],a=e.jr[i][1];if(a&&s.test(t))return a}return e.jd},has(t,e=!1){return e?t in this.j:!!this.go(t)},ta(t,e,n,i){for(let s=0;s<t.length;s++)this.tt(t[s],e,n,i)},tr(t,e,n,i){i=i||Jt.groups;let s;return e&&e.j?s=e:(s=new Jt(e),n&&i&&qr(e,n,i)),this.jr.push([t,s]),s},ts(t,e,n,i){let s=this;const a=t.length;if(!a)return s;for(let c=0;c<a-1;c++)s=s.tt(t[c]);return s.tt(t[a-1],e,n,i)},tt(t,e,n,i){i=i||Jt.groups;const s=this;if(e&&e.j)return s.j[t]=e,e;const a=e;let c,u=s.go(t);if(u?(c=new Jt,Object.assign(c.j,u.j),c.jr.push.apply(c.jr,u.jr),c.jd=u.jd,c.t=u.t):c=new Jt,a){if(i)if(c.t&&typeof c.t=="string"){const d=Object.assign(q4(c.t,i),n);qr(a,d,i)}else n&&qr(a,n,i);c.t=a}return s.j[t]=c,c}};const ge=(t,e,n,i,s)=>t.ta(e,n,i,s),Qe=(t,e,n,i,s)=>t.tr(e,n,i,s),Hv=(t,e,n,i,s)=>t.ts(e,n,i,s),X=(t,e,n,i,s)=>t.tt(e,n,i,s),yi="WORD",Up="UWORD",hk="ASCIINUMERICAL",pk="ALPHANUMERICAL",za="LOCALHOST",qp="TLD",Ip="UTLD",Hc="SCHEME",Gs="SLASH_SCHEME",Om="NUM",Vp="WS",Rm="NL",xa="OPENBRACE",va="CLOSEBRACE",ru="OPENBRACKET",su="CLOSEBRACKET",lu="OPENPAREN",au="CLOSEPAREN",ou="OPENANGLEBRACKET",cu="CLOSEANGLEBRACKET",uu="FULLWIDTHLEFTPAREN",fu="FULLWIDTHRIGHTPAREN",du="LEFTCORNERBRACKET",hu="RIGHTCORNERBRACKET",pu="LEFTWHITECORNERBRACKET",mu="RIGHTWHITECORNERBRACKET",gu="FULLWIDTHLESSTHAN",yu="FULLWIDTHGREATERTHAN",bu="AMPERSAND",xu="APOSTROPHE",vu="ASTERISK",Zi="AT",Su="BACKSLASH",wu="BACKTICK",ku="CARET",nr="COLON",jm="COMMA",Eu="DOLLAR",$n="DOT",Nu="EQUALS",Dm="EXCLAMATION",En="HYPHEN",Sa="PERCENT",Tu="PIPE",Cu="PLUS",Au="POUND",wa="QUERY",zm="QUOTE",mk="FULLWIDTHMIDDLEDOT",Lm="SEMI",Fn="SLASH",ka="TILDE",Mu="UNDERSCORE",gk="EMOJI",Ou="SYM";var yk=Object.freeze({__proto__:null,ALPHANUMERICAL:pk,AMPERSAND:bu,APOSTROPHE:xu,ASCIINUMERICAL:hk,ASTERISK:vu,AT:Zi,BACKSLASH:Su,BACKTICK:wu,CARET:ku,CLOSEANGLEBRACKET:cu,CLOSEBRACE:va,CLOSEBRACKET:su,CLOSEPAREN:au,COLON:nr,COMMA:jm,DOLLAR:Eu,DOT:$n,EMOJI:gk,EQUALS:Nu,EXCLAMATION:Dm,FULLWIDTHGREATERTHAN:yu,FULLWIDTHLEFTPAREN:uu,FULLWIDTHLESSTHAN:gu,FULLWIDTHMIDDLEDOT:mk,FULLWIDTHRIGHTPAREN:fu,HYPHEN:En,LEFTCORNERBRACKET:du,LEFTWHITECORNERBRACKET:pu,LOCALHOST:za,NL:Rm,NUM:Om,OPENANGLEBRACKET:ou,OPENBRACE:xa,OPENBRACKET:ru,OPENPAREN:lu,PERCENT:Sa,PIPE:Tu,PLUS:Cu,POUND:Au,QUERY:wa,QUOTE:zm,RIGHTCORNERBRACKET:hu,RIGHTWHITECORNERBRACKET:mu,SCHEME:Hc,SEMI:Lm,SLASH:Fn,SLASH_SCHEME:Gs,SYM:Ou,TILDE:ka,TLD:qp,UNDERSCORE:Mu,UTLD:Ip,UWORD:Up,WORD:yi,WS:Vp});const mi=/[a-z]/,oa=new RegExp("\\p{L}","u"),tp=new RegExp("\\p{Emoji}","u"),gi=/\d/,np=/\s/,Uv="\r",ip=`
`,I4="",V4="",rp="";let Tc=null,Cc=null;function P4(t=[]){const e={};Jt.groups=e;const n=new Jt;Tc==null&&(Tc=qv(L4)),Cc==null&&(Cc=qv(_4)),X(n,"'",xu),X(n,"{",xa),X(n,"}",va),X(n,"[",ru),X(n,"]",su),X(n,"(",lu),X(n,")",au),X(n,"<",ou),X(n,">",cu),X(n,"",uu),X(n,"",fu),X(n,"",du),X(n,"",hu),X(n,"",pu),X(n,"",mu),X(n,"",gu),X(n,"",yu),X(n,"&",bu),X(n,"*",vu),X(n,"@",Zi),X(n,"`",wu),X(n,"^",ku),X(n,":",nr),X(n,",",jm),X(n,"$",Eu),X(n,".",$n),X(n,"=",Nu),X(n,"!",Dm),X(n,"-",En),X(n,"%",Sa),X(n,"|",Tu),X(n,"+",Cu),X(n,"#",Au),X(n,"?",wa),X(n,'"',zm),X(n,"/",Fn),X(n,";",Lm),X(n,"~",ka),X(n,"_",Mu),X(n,"\\",Su),X(n,"",mk);const i=Qe(n,gi,Om,{[Lp]:!0});Qe(i,gi,i);const s=Qe(i,mi,hk,{[ba]:!0}),a=Qe(i,oa,pk,{[ha]:!0}),c=Qe(n,mi,yi,{[_p]:!0});Qe(c,gi,s),Qe(c,mi,c),Qe(s,gi,s),Qe(s,mi,s);const u=Qe(n,oa,Up,{[Bp]:!0});Qe(u,mi),Qe(u,gi,a),Qe(u,oa,u),Qe(a,gi,a),Qe(a,mi),Qe(a,oa,a);const d=X(n,ip,Rm,{[ep]:!0}),h=X(n,Uv,Vp,{[ep]:!0}),m=Qe(n,np,Vp,{[ep]:!0});X(n,rp,m),X(h,ip,d),X(h,rp,m),Qe(h,np,m),X(m,Uv),X(m,ip),Qe(m,np,m),X(m,rp,m);const y=Qe(n,tp,gk,{[dk]:!0});X(y,"#"),Qe(y,tp,y),X(y,I4,y);const x=X(y,V4);X(x,"#"),Qe(x,tp,y);const v=[[mi,c],[gi,s]],S=[[mi,null],[oa,u],[gi,a]];for(let E=0;E<Tc.length;E++)Xi(n,Tc[E],qp,yi,v);for(let E=0;E<Cc.length;E++)Xi(n,Cc[E],Ip,Up,S);qr(qp,{tld:!0,ascii:!0},e),qr(Ip,{utld:!0,alpha:!0},e),Xi(n,"file",Hc,yi,v),Xi(n,"mailto",Hc,yi,v),Xi(n,"http",Gs,yi,v),Xi(n,"https",Gs,yi,v),Xi(n,"ftp",Gs,yi,v),Xi(n,"ftps",Gs,yi,v),qr(Hc,{scheme:!0,ascii:!0},e),qr(Gs,{slashscheme:!0,ascii:!0},e),t=t.sort((E,k)=>E[0]>k[0]?1:-1);for(let E=0;E<t.length;E++){const k=t[E][0],M=t[E][1]?{[B4]:!0}:{[H4]:!0};k.indexOf("-")>=0?M[Hp]=!0:mi.test(k)?gi.test(k)?M[ba]=!0:M[_p]=!0:M[Lp]=!0,Hv(n,k,k,M)}return Hv(n,"localhost",za,{ascii:!0}),n.jd=new Jt(Ou),{start:n,tokens:Object.assign({groups:e},yk)}}function bk(t,e){const n=$4(e.replace(/[A-Z]/g,u=>u.toLowerCase())),i=n.length,s=[];let a=0,c=0;for(;c<i;){let u=t,d=null,h=0,m=null,y=-1,x=-1;for(;c<i&&(d=u.go(n[c]));)u=d,u.accepts()?(y=0,x=0,m=u):y>=0&&(y+=n[c].length,x++),h+=n[c].length,a+=n[c].length,c++;a-=y,c-=x,h-=y,s.push({t:m.t,v:e.slice(a-h,a),s:a-h,e:a})}return s}function $4(t){const e=[],n=t.length;let i=0;for(;i<n;){let s=t.charCodeAt(i),a,c=s<55296||s>56319||i+1===n||(a=t.charCodeAt(i+1))<56320||a>57343?t[i]:t.slice(i,i+2);e.push(c),i+=c.length}return e}function Xi(t,e,n,i,s){let a;const c=e.length;for(let u=0;u<c-1;u++){const d=e[u];t.j[d]?a=t.j[d]:(a=new Jt(i),a.jr=s.slice(),t.j[d]=a),t=a}return a=new Jt(n),a.jr=s.slice(),t.j[e[c-1]]=a,a}function qv(t){const e=[],n=[];let i=0,s="0123456789";for(;i<t.length;){let a=0;for(;s.indexOf(t[i+a])>=0;)a++;if(a>0){e.push(n.join(""));for(let c=parseInt(t.substring(i,i+a),10);c>0;c--)n.pop();i+=a}else n.push(t[i]),i++}return e}const La={defaultProtocol:"http",events:null,format:Iv,formatHref:Iv,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function _m(t,e=null){let n=Object.assign({},La);t&&(n=Object.assign(n,t instanceof _m?t.o:t));const i=n.ignoreTags,s=[];for(let a=0;a<i.length;a++)s.push(i[a].toUpperCase());this.o=n,e&&(this.defaultRender=e),this.ignoreTags=s}_m.prototype={o:La,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,e,n){const i=e!=null;let s=this.o[t];return s&&(typeof s=="object"?(s=n.t in s?s[n.t]:La[t],typeof s=="function"&&i&&(s=s(e,n))):typeof s=="function"&&i&&(s=s(e,n.t,n)),s)},getObj(t,e,n){let i=this.o[t];return typeof i=="function"&&e!=null&&(i=i(e,n.t,n)),i},render(t){const e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}};function Iv(t){return t}function xk(t,e){this.t="token",this.v=t,this.tk=e}xk.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),n=t.get("truncate",e,this),i=t.get("format",e,this);return n&&i.length>n?i.substring(0,n)+"":i},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t=La.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,n=this.toHref(t.get("defaultProtocol")),i=t.get("formatHref",n,this),s=t.get("tagName",n,e),a=this.toFormattedString(t),c={},u=t.get("className",n,e),d=t.get("target",n,e),h=t.get("rel",n,e),m=t.getObj("attributes",n,e),y=t.getObj("events",n,e);return c.href=i,u&&(c.class=u),d&&(c.target=d),h&&(c.rel=h),m&&Object.assign(c,m),{tagName:s,attributes:c,content:a,eventListeners:y}}};function Zu(t,e){class n extends xk{constructor(s,a){super(s,a),this.t=t}}for(const i in e)n.prototype[i]=e[i];return n.t=t,n}const Vv=Zu("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),Pv=Zu("text"),F4=Zu("nl"),Ac=Zu("url",{isLink:!0,toHref(t=La.defaultProtocol){return this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==za&&t[1].t===nr}}),kn=t=>new Jt(t);function K4({groups:t}){const e=t.domain.concat([bu,vu,Zi,Su,wu,ku,Eu,Nu,En,Om,Sa,Tu,Cu,Au,Fn,Ou,ka,Mu]),n=[xu,nr,jm,$n,Dm,Sa,wa,zm,Lm,ou,cu,xa,va,su,ru,lu,au,uu,fu,du,hu,pu,mu,gu,yu],i=[bu,xu,vu,Su,wu,ku,Eu,Nu,En,xa,va,Sa,Tu,Cu,Au,wa,Fn,Ou,ka,Mu],s=kn(),a=X(s,ka);ge(a,i,a),ge(a,t.domain,a);const c=kn(),u=kn(),d=kn();ge(s,t.domain,c),ge(s,t.scheme,u),ge(s,t.slashscheme,d),ge(c,i,a),ge(c,t.domain,c);const h=X(c,Zi);X(a,Zi,h),X(u,Zi,h),X(d,Zi,h);const m=X(a,$n);ge(m,i,a),ge(m,t.domain,a);const y=kn();ge(h,t.domain,y),ge(y,t.domain,y);const x=X(y,$n);ge(x,t.domain,y);const v=kn(Vv);ge(x,t.tld,v),ge(x,t.utld,v),X(h,za,v);const S=X(y,En);X(S,En,S),ge(S,t.domain,y),ge(v,t.domain,y),X(v,$n,x),X(v,En,S);const E=X(v,nr);ge(E,t.numeric,Vv);const k=X(c,En),T=X(c,$n);X(k,En,k),ge(k,t.domain,c),ge(T,i,a),ge(T,t.domain,c);const M=kn(Ac);ge(T,t.tld,M),ge(T,t.utld,M),ge(M,t.domain,c),ge(M,i,a),X(M,$n,T),X(M,En,k),X(M,Zi,h);const D=X(M,nr),V=kn(Ac);ge(D,t.numeric,V);const z=kn(Ac),P=kn();ge(z,e,z),ge(z,n,P),ge(P,e,z),ge(P,n,P),X(M,Fn,z),X(V,Fn,z);const L=X(u,nr),G=X(d,nr),Z=X(G,Fn),he=X(Z,Fn);ge(u,t.domain,c),X(u,$n,T),X(u,En,k),ge(d,t.domain,c),X(d,$n,T),X(d,En,k),ge(L,t.domain,z),X(L,Fn,z),X(L,wa,z),ge(he,t.domain,z),ge(he,e,z),X(he,Fn,z);const st=[[xa,va],[ru,su],[lu,au],[ou,cu],[uu,fu],[du,hu],[pu,mu],[gu,yu]];for(let _e=0;_e<st.length;_e++){const[lt,Oe]=st[_e],je=X(z,lt);X(P,lt,je),X(je,Oe,z);const U=kn(Ac);ge(je,e,U);const Q=kn();ge(je,n),ge(U,e,U),ge(U,n,Q),ge(Q,e,U),ge(Q,n,Q),X(U,Oe,z),X(Q,Oe,z)}return X(s,za,M),X(s,Rm,F4),{start:s,tokens:yk}}function G4(t,e,n){let i=n.length,s=0,a=[],c=[];for(;s<i;){let u=t,d=null,h=null,m=0,y=null,x=-1;for(;s<i&&!(d=u.go(n[s].t));)c.push(n[s++]);for(;s<i&&(h=d||u.go(n[s].t));)d=null,u=h,u.accepts()?(x=0,y=u):x>=0&&x++,s++,m++;if(x<0)s-=m,s<i&&(c.push(n[s]),s++);else{c.length>0&&(a.push(sp(Pv,e,c)),c=[]),s-=x,m-=x;const v=y.t,S=n.slice(s-m,s);a.push(sp(v,e,S))}}return c.length>0&&a.push(sp(Pv,e,c)),a}function sp(t,e,n){const i=n[0].s,s=n[n.length-1].e,a=e.slice(i,s);return new t(a,n)}const Y4=typeof console<"u"&&console&&console.warn||(()=>{}),J4="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",$e={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function X4(){return Jt.groups={},$e.scanner=null,$e.parser=null,$e.tokenQueue=[],$e.pluginQueue=[],$e.customSchemes=[],$e.initialized=!1,$e}function $v(t,e=!1){if($e.initialized&&Y4(`linkifyjs: already initialized - will not register custom scheme "${t}" ${J4}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(t))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);$e.customSchemes.push([t,e])}function Q4(){$e.scanner=P4($e.customSchemes);for(let t=0;t<$e.tokenQueue.length;t++)$e.tokenQueue[t][1]({scanner:$e.scanner});$e.parser=K4($e.scanner.tokens);for(let t=0;t<$e.pluginQueue.length;t++)$e.pluginQueue[t][1]({scanner:$e.scanner,parser:$e.parser});return $e.initialized=!0,$e}function Bm(t){return $e.initialized||Q4(),G4($e.parser.start,t,bk($e.scanner.start,t))}Bm.scan=bk;function vk(t,e=null,n=null){if(e&&typeof e=="object"){if(n)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);n=e,e=null}const i=new _m(n),s=Bm(t),a=[];for(let c=0;c<s.length;c++){const u=s[c];u.isLink&&(!e||u.t===e)&&i.check(u)&&a.push(u.toFormattedObject(i))}return a}var Hm="[\0- -\u2029]",W4=new RegExp(Hm),Z4=new RegExp(`${Hm}$`),ez=new RegExp(Hm,"g");function tz(t){return t.length===1?t[0].isLink:t.length===3&&t[1].isLink?["()","[]"].includes(t[0].value+t[2].value):!1}function nz(t){return new Ye({key:new mt("autolink"),appendTransaction:(e,n,i)=>{const s=e.some(h=>h.docChanged)&&!n.doc.eq(i.doc),a=e.some(h=>h.getMeta("preventAutolink"));if(!s||a)return;const{tr:c}=i,u=Rw(n.doc,[...e]);if(Hw(u).forEach(({newRange:h})=>{const m=nD(i.doc,h,v=>v.isTextblock);let y,x;if(m.length>1)y=m[0],x=i.doc.textBetween(y.pos,y.pos+y.node.nodeSize,void 0," ");else if(m.length){const v=i.doc.textBetween(h.from,h.to," "," ");if(!Z4.test(v))return;y=m[0],x=i.doc.textBetween(y.pos,h.to,void 0," ")}if(y&&x){const v=x.split(W4).filter(Boolean);if(v.length<=0)return!1;const S=v[v.length-1],E=y.pos+x.lastIndexOf(S);if(!S)return!1;const k=Bm(S).map(T=>T.toObject(t.defaultProtocol));if(!tz(k))return!1;k.filter(T=>T.isLink).map(T=>({...T,from:E+T.start+1,to:E+T.end+1})).filter(T=>i.schema.marks.code?!i.doc.rangeHasMark(T.from,T.to,i.schema.marks.code):!0).filter(T=>t.validate(T.value)).filter(T=>t.shouldAutoLink(T.value)).forEach(T=>{Em(T.from,T.to,i.doc).some(M=>M.mark.type===t.type)||c.addMark(T.from,T.to,t.type.create({href:T.href}))})}}),!!c.steps.length)return c}})}function iz(t){return new Ye({key:new mt("handleClickLink"),props:{handleClick:(e,n,i)=>{var s,a;if(i.button!==0||!e.editable)return!1;let c=null;if(i.target instanceof HTMLAnchorElement)c=i.target;else{const d=i.target;if(!d)return!1;const h=t.editor.view.dom;c=d.closest("a"),c&&!h.contains(c)&&(c=null)}if(!c)return!1;let u=!1;if(t.enableClickSelection&&(u=t.editor.commands.extendMarkRange(t.type.name)),t.openOnClick){const d=Bw(e.state,t.type.name),h=(s=c.href)!=null?s:d.href,m=(a=c.target)!=null?a:d.target;h&&(window.open(h,m),u=!0)}return u}}})}function rz(t){return new Ye({key:new mt("handlePasteLink"),props:{handlePaste:(e,n,i)=>{const{shouldAutoLink:s}=t,{state:a}=e,{selection:c}=a,{empty:u}=c;if(u)return!1;let d="";i.content.forEach(m=>{d+=m.textContent});const h=vk(d,{defaultProtocol:t.defaultProtocol}).find(m=>m.isLink&&m.value===d);return!d||!h||s!==void 0&&!s(h.value)?!1:t.editor.commands.setMark(t.type,{href:h.href})}}})}function zr(t,e){const n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(i=>{const s=typeof i=="string"?i:i.scheme;s&&n.push(s)}),!t||t.replace(ez,"").match(new RegExp(`^(?:(?:${n.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var Sk=ns.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(t=>{if(typeof t=="string"){$v(t);return}$v(t.scheme,t.optionalSlashes)})},onDestroy(){X4()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(t,e)=>!!zr(t,e.protocols),validate:t=>!!t,shouldAutoLink:t=>{const e=/^[a-z][a-z0-9+.-]*:\/\//i.test(t),n=/^[a-z][a-z0-9+.-]*:/i.test(t);if(e||n&&!t.includes("@"))return!0;const s=(t.includes("@")?t.split("@").pop():t).split(/[/?#:]/)[0];return!(/^\d{1,3}(\.\d{1,3}){3}$/.test(s)||!/\./.test(s))}}},addAttributes(){return{href:{default:null,parseHTML(t){return t.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class},title:{default:null}}},parseHTML(){return[{tag:"a[href]",getAttrs:t=>{const e=t.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:n=>!!zr(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:t}){return this.options.isAllowedUri(t.href,{defaultValidate:e=>!!zr(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",et(this.options.HTMLAttributes,t),0]:["a",et(this.options.HTMLAttributes,{...t,href:""}),0]},markdownTokenName:"link",parseMarkdown:(t,e)=>e.applyMark("link",e.parseInline(t.tokens||[]),{href:t.href,title:t.title||null}),renderMarkdown:(t,e)=>{var n,i,s,a;const c=(i=(n=t.attrs)==null?void 0:n.href)!=null?i:"",u=(a=(s=t.attrs)==null?void 0:s.title)!=null?a:"",d=e.renderChildren(t);return u?`[${d}](${c} "${u}")`:`[${d}](${c})`},addCommands(){return{setLink:t=>({chain:e})=>{const{href:n}=t;return this.options.isAllowedUri(n,{defaultValidate:i=>!!zr(i,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,t).setMeta("preventAutolink",!0).run():!1},toggleLink:t=>({chain:e})=>{const{href:n}=t||{};return n&&!this.options.isAllowedUri(n,{defaultValidate:i=>!!zr(i,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:e().toggleMark(this.name,t,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:t})=>t().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[Zr({find:t=>{const e=[];if(t){const{protocols:n,defaultProtocol:i}=this.options,s=vk(t).filter(a=>a.isLink&&this.options.isAllowedUri(a.value,{defaultValidate:c=>!!zr(c,n),protocols:n,defaultProtocol:i}));s.length&&s.forEach(a=>{this.options.shouldAutoLink(a.value)&&e.push({text:a.value,data:{href:a.href},index:a.start})})}return e},type:this.type,getAttributes:t=>{var e;return{href:(e=t.data)==null?void 0:e.href}}})]},addProseMirrorPlugins(){const t=[],{protocols:e,defaultProtocol:n}=this.options;return this.options.autolink&&t.push(nz({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:i=>this.options.isAllowedUri(i,{defaultValidate:s=>!!zr(s,e),protocols:e,defaultProtocol:n}),shouldAutoLink:this.options.shouldAutoLink})),t.push(iz({type:this.type,editor:this.editor,openOnClick:this.options.openOnClick==="whenNotEditable"?!0:this.options.openOnClick,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&t.push(rz({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type,shouldAutoLink:this.options.shouldAutoLink})),t}}),sz=Sk,lz=Object.defineProperty,az=(t,e)=>{for(var n in e)lz(t,n,{get:e[n],enumerable:!0})},oz="listItem",Fv="textStyle",Kv=/^\s*([-+*])\s$/,wk=It.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",et(this.options.HTMLAttributes,t),0]},markdownTokenName:"list",parseMarkdown:(t,e)=>t.type!=="list"||t.ordered?[]:{type:"bulletList",content:t.items?e.parseChildren(t.items):[]},renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownOptions:{indentsContent:!0},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(oz,this.editor.getAttributes(Fv)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=rl({find:Kv,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=rl({find:Kv,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(Fv),editor:this.editor})),[t]}}),kk=It.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",et(this.options.HTMLAttributes,t),0]},markdownTokenName:"list_item",parseMarkdown:(t,e)=>{if(t.type!=="list_item")return[];let n=[];if(t.tokens&&t.tokens.length>0)if(t.tokens.some(s=>s.type==="paragraph"))n=e.parseChildren(t.tokens);else{const s=t.tokens[0];if(s&&s.type==="text"&&s.tokens&&s.tokens.length>0){if(n=[{type:"paragraph",content:e.parseInline(s.tokens)}],t.tokens.length>1){const c=t.tokens.slice(1),u=e.parseChildren(c);n.push(...u)}}else n=e.parseChildren(t.tokens)}return n.length===0&&(n=[{type:"paragraph",content:[]}]),{type:"listItem",content:n}},renderMarkdown:(t,e,n)=>Am(t,e,i=>{var s,a;return i.parentType==="bulletList"?"- ":i.parentType==="orderedList"?`${(((a=(s=i.meta)==null?void 0:s.parentAttrs)==null?void 0:a.start)||1)+i.index}. `:"- "},n),addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),cz={};az(cz,{findListItemPos:()=>Ja,getNextListDepth:()=>Um,handleBackspace:()=>Pp,handleDelete:()=>$p,hasListBefore:()=>Ek,hasListItemAfter:()=>uz,hasListItemBefore:()=>Nk,listItemHasSubList:()=>Tk,nextListIsDeeper:()=>Ck,nextListIsHigher:()=>Ak});var Ja=(t,e)=>{const{$from:n}=e.selection,i=ht(t,e.schema);let s=null,a=n.depth,c=n.pos,u=null;for(;a>0&&u===null;)s=n.node(a),s.type===i?u=a:(a-=1,c-=1);return u===null?null:{$pos:e.doc.resolve(c),depth:u}},Um=(t,e)=>{const n=Ja(t,e);if(!n)return!1;const[,i]=dD(e,t,n.$pos.pos+4);return i},Ek=(t,e,n)=>{const{$anchor:i}=t.selection,s=Math.max(0,i.pos-2),a=t.doc.resolve(s).node();return!(!a||!n.includes(a.type.name))},Nk=(t,e)=>{var n;const{$anchor:i}=e.selection,s=e.doc.resolve(i.pos-2);return!(s.index()===0||((n=s.nodeBefore)==null?void 0:n.type.name)!==t)},Tk=(t,e,n)=>{if(!n)return!1;const i=ht(t,e.schema);let s=!1;return n.descendants(a=>{a.type===i&&(s=!0)}),s},Pp=(t,e,n)=>{if(t.commands.undoInputRule())return!0;if(t.state.selection.from!==t.state.selection.to)return!1;if(!fr(t.state,e)&&Ek(t.state,e,n)){const{$anchor:u}=t.state.selection,d=t.state.doc.resolve(u.before()-1),h=[];d.node().descendants((x,v)=>{x.type.name===e&&h.push({node:x,pos:v})});const m=h.at(-1);if(!m)return!1;const y=t.state.doc.resolve(d.start()+m.pos+1);return t.chain().cut({from:u.start()-1,to:u.end()+1},y.end()).joinForward().run()}if(!fr(t.state,e)||!gD(t.state))return!1;const i=Ja(e,t.state);if(!i)return!1;const a=t.state.doc.resolve(i.$pos.pos-2).node(i.depth),c=Tk(e,t.state,a);return Nk(e,t.state)&&!c?t.commands.joinItemBackward():t.chain().liftListItem(e).run()},Ck=(t,e)=>{const n=Um(t,e),i=Ja(t,e);return!i||!n?!1:n>i.depth},Ak=(t,e)=>{const n=Um(t,e),i=Ja(t,e);return!i||!n?!1:n<i.depth},$p=(t,e)=>{if(!fr(t.state,e)||!mD(t.state,e))return!1;const{selection:n}=t.state,{$from:i,$to:s}=n;return!n.empty&&i.sameParent(s)?!1:Ck(e,t.state)?t.chain().focus(t.state.selection.from+4).lift(e).joinBackward().run():Ak(e,t.state)?t.chain().joinForward().joinBackward().run():t.commands.joinItemForward()},uz=(t,e)=>{var n;const{$anchor:i}=e.selection,s=e.doc.resolve(i.pos-i.parentOffset-2);return!(s.index()===s.parent.childCount-1||((n=s.nodeAfter)==null?void 0:n.type.name)!==t)},Mk=rt.create({name:"listKeymap",addOptions(){return{listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}},addKeyboardShortcuts(){return{Delete:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n})=>{t.state.schema.nodes[n]!==void 0&&$p(t,n)&&(e=!0)}),e},"Mod-Delete":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n})=>{t.state.schema.nodes[n]!==void 0&&$p(t,n)&&(e=!0)}),e},Backspace:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:i})=>{t.state.schema.nodes[n]!==void 0&&Pp(t,n,i)&&(e=!0)}),e},"Mod-Backspace":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:i})=>{t.state.schema.nodes[n]!==void 0&&Pp(t,n,i)&&(e=!0)}),e}}}}),Gv=/^(\s*)(\d+)\.\s+(.*)$/,fz=/^\s/;function dz(t){const e=[];let n=0,i=0;for(;n<t.length;){const s=t[n],a=s.match(Gv);if(!a)break;const[,c,u,d]=a,h=c.length;let m=d,y=n+1;const x=[s];for(;y<t.length;){const v=t[y];if(v.match(Gv))break;if(v.trim()==="")x.push(v),m+=`
`,y+=1;else if(v.match(fz))x.push(v),m+=`
${v.slice(h+2)}`,y+=1;else break}e.push({indent:h,number:parseInt(u,10),content:m.trim(),raw:x.join(`
`)}),i=y,n=y}return[e,i]}function Ok(t,e,n){var i;const s=[];let a=0;for(;a<t.length;){const c=t[a];if(c.indent===e){const u=c.content.split(`
`),d=((i=u[0])==null?void 0:i.trim())||"",h=[];d&&h.push({type:"paragraph",raw:d,tokens:n.inlineTokens(d)});const m=u.slice(1).join(`
`).trim();if(m){const v=n.blockTokens(m);h.push(...v)}let y=a+1;const x=[];for(;y<t.length&&t[y].indent>e;)x.push(t[y]),y+=1;if(x.length>0){const v=Math.min(...x.map(E=>E.indent)),S=Ok(x,v,n);h.push({type:"list",ordered:!0,start:x[0].number,items:S,raw:x.map(E=>E.raw).join(`
`)})}s.push({type:"list_item",raw:c.raw,tokens:h}),a=y}else a+=1}return s}function hz(t,e){return t.map(n=>{if(n.type!=="list_item")return e.parseChildren([n])[0];const i=[];return n.tokens&&n.tokens.length>0&&n.tokens.forEach(s=>{if(s.type==="paragraph"||s.type==="list"||s.type==="blockquote"||s.type==="code")i.push(...e.parseChildren([s]));else if(s.type==="text"&&s.tokens){const a=e.parseChildren([s]);i.push({type:"paragraph",content:a})}else{const a=e.parseChildren([s]);a.length>0&&i.push(...a)}}),{type:"listItem",content:i}})}var pz="listItem",Yv="textStyle",Jv=/^(\d+)\.\s$/,Rk=It.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1},type:{default:null,parseHTML:t=>t.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...n}=t;return e===1?["ol",et(this.options.HTMLAttributes,n),0]:["ol",et(this.options.HTMLAttributes,t),0]},markdownTokenName:"list",parseMarkdown:(t,e)=>{if(t.type!=="list"||!t.ordered)return[];const n=t.start||1,i=t.items?hz(t.items,e):[];return n!==1?{type:"orderedList",attrs:{start:n},content:i}:{type:"orderedList",content:i}},renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownTokenizer:{name:"orderedList",level:"block",start:t=>{const e=t.match(/^(\s*)(\d+)\.\s+/),n=e?.index;return n!==void 0?n:-1},tokenize:(t,e,n)=>{var i;const s=t.split(`
`),[a,c]=dz(s);if(a.length===0)return;const u=Ok(a,0,n);return u.length===0?void 0:{type:"list",ordered:!0,start:((i=a[0])==null?void 0:i.number)||1,items:u,raw:s.slice(0,c).join(`
`)}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(pz,this.editor.getAttributes(Yv)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=rl({find:Jv,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=rl({find:Jv,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(Yv)}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1],editor:this.editor})),[t]}}),mz=/^\s*(\[([( |x])?\])\s$/,gz=It.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:t=>{const e=t.getAttribute("data-checked");return e===""||e==="true"},renderHTML:t=>({"data-checked":t.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:t,HTMLAttributes:e}){return["li",et(this.options.HTMLAttributes,e,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:t.attrs.checked?"checked":null}],["span"]],["div",0]]},parseMarkdown:(t,e)=>{const n=[];if(t.tokens&&t.tokens.length>0?n.push(e.createNode("paragraph",{},e.parseInline(t.tokens))):t.text?n.push(e.createNode("paragraph",{},[e.createNode("text",{text:t.text})])):n.push(e.createNode("paragraph",{},[])),t.nestedTokens&&t.nestedTokens.length>0){const i=e.parseChildren(t.nestedTokens);n.push(...i)}return e.createNode("taskItem",{checked:t.checked||!1},n)},renderMarkdown:(t,e)=>{var n;const s=`- [${(n=t.attrs)!=null&&n.checked?"x":" "}] `;return Am(t,e,s)},addKeyboardShortcuts(){const t={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...t,Tab:()=>this.editor.commands.sinkListItem(this.name)}:t},addNodeView(){return({node:t,HTMLAttributes:e,getPos:n,editor:i})=>{const s=document.createElement("li"),a=document.createElement("label"),c=document.createElement("span"),u=document.createElement("input"),d=document.createElement("div"),h=y=>{var x,v;u.ariaLabel=((v=(x=this.options.a11y)==null?void 0:x.checkboxLabel)==null?void 0:v.call(x,y,u.checked))||`Task item checkbox for ${y.textContent||"empty task item"}`};h(t),a.contentEditable="false",u.type="checkbox",u.addEventListener("mousedown",y=>y.preventDefault()),u.addEventListener("change",y=>{if(!i.isEditable&&!this.options.onReadOnlyChecked){u.checked=!u.checked;return}const{checked:x}=y.target;i.isEditable&&typeof n=="function"&&i.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:v})=>{const S=n();if(typeof S!="number")return!1;const E=v.doc.nodeAt(S);return v.setNodeMarkup(S,void 0,{...E?.attrs,checked:x}),!0}).run(),!i.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(t,x)||(u.checked=!u.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([y,x])=>{s.setAttribute(y,x)}),s.dataset.checked=t.attrs.checked,u.checked=t.attrs.checked,a.append(u,c),s.append(a,d),Object.entries(e).forEach(([y,x])=>{s.setAttribute(y,x)});let m=new Set(Object.keys(e));return{dom:s,contentDOM:d,update:y=>{if(y.type!==this.type)return!1;s.dataset.checked=y.attrs.checked,u.checked=y.attrs.checked,h(y);const x=i.extensionManager.attributes,v=Da(y,x),S=new Set(Object.keys(v)),E=this.options.HTMLAttributes;return m.forEach(k=>{S.has(k)||(k in E?s.setAttribute(k,E[k]):s.removeAttribute(k))}),Object.entries(v).forEach(([k,T])=>{T==null?k in E?s.setAttribute(k,E[k]):s.removeAttribute(k):s.setAttribute(k,T)}),m=S,!0}}}},addInputRules(){return[rl({find:mz,type:this.type,getAttributes:t=>({checked:t[t.length-1]==="x"})})]}}),yz=It.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:t}){return["ul",et(this.options.HTMLAttributes,t,{"data-type":this.name}),0]},parseMarkdown:(t,e)=>e.createNode("taskList",{},e.parseChildren(t.items||[])),renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownTokenizer:{name:"taskList",level:"block",start(t){var e;const n=(e=t.match(/^\s*[-+*]\s+\[([ xX])\]\s+/))==null?void 0:e.index;return n!==void 0?n:-1},tokenize(t,e,n){const i=a=>{const c=Dp(a,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:u=>({indentLevel:u[1].length,mainContent:u[4],checked:u[3].toLowerCase()==="x"}),createToken:(u,d)=>({type:"taskItem",raw:"",mainContent:u.mainContent,indentLevel:u.indentLevel,checked:u.checked,text:u.mainContent,tokens:n.inlineTokens(u.mainContent),nestedTokens:d}),customNestedParser:i},n);return c?[{type:"taskList",raw:c.raw,items:c.items}]:n.blockTokens(a)},s=Dp(t,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:a=>({indentLevel:a[1].length,mainContent:a[4],checked:a[3].toLowerCase()==="x"}),createToken:(a,c)=>({type:"taskItem",raw:"",mainContent:a.mainContent,indentLevel:a.indentLevel,checked:a.checked,text:a.mainContent,tokens:n.inlineTokens(a.mainContent),nestedTokens:c}),customNestedParser:i},n);if(s)return{type:"taskList",raw:s.raw,items:s.items}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleTaskList:()=>({commands:t})=>t.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});rt.create({name:"listKit",addExtensions(){const t=[];return this.options.bulletList!==!1&&t.push(wk.configure(this.options.bulletList)),this.options.listItem!==!1&&t.push(kk.configure(this.options.listItem)),this.options.listKeymap!==!1&&t.push(Mk.configure(this.options.listKeymap)),this.options.orderedList!==!1&&t.push(Rk.configure(this.options.orderedList)),this.options.taskItem!==!1&&t.push(gz.configure(this.options.taskItem)),this.options.taskList!==!1&&t.push(yz.configure(this.options.taskList)),t}});var Xv="&nbsp;",bz="",xz=It.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",et(this.options.HTMLAttributes,t),0]},parseMarkdown:(t,e)=>{const n=t.tokens||[];if(n.length===1&&n[0].type==="image")return e.parseChildren([n[0]]);const i=e.parseInline(n);return i.length===1&&i[0].type==="text"&&(i[0].text===Xv||i[0].text===bz)?e.createNode("paragraph",void 0,[]):e.createNode("paragraph",void 0,i)},renderMarkdown:(t,e)=>{if(!t)return"";const n=Array.isArray(t.content)?t.content:[];return n.length===0?Xv:e.renderChildren(n)},addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),vz=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,Sz=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,wz=ns.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",et(this.options.HTMLAttributes,t),0]},markdownTokenName:"del",parseMarkdown:(t,e)=>e.applyMark("strike",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`~~${e.renderChildren(t)}~~`,addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[il({find:vz,type:this.type})]},addPasteRules(){return[Zr({find:Sz,type:this.type})]}}),kz=It.create({name:"text",group:"inline",parseMarkdown:t=>({type:"text",text:t.text||""}),renderMarkdown:t=>t.text||""}),Ez=ns.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["u",et(this.options.HTMLAttributes,t),0]},parseMarkdown(t,e){return e.applyMark(this.name||"underline",e.parseInline(t.tokens||[]))},renderMarkdown(t,e){return`++${e.renderChildren(t)}++`},markdownTokenizer:{name:"underline",level:"inline",start(t){return t.indexOf("++")},tokenize(t,e,n){const s=/^(\+\+)([\s\S]+?)(\+\+)/.exec(t);if(!s)return;const a=s[2].trim();return{type:"underline",raw:s[0],text:a,tokens:n.inlineTokens(a)}}},addCommands(){return{setUnderline:()=>({commands:t})=>t.setMark(this.name),toggleUnderline:()=>({commands:t})=>t.toggleMark(this.name),unsetUnderline:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}});function Nz(t={}){return new Ye({view(e){return new Tz(e,t)}})}class Tz{constructor(e,n){var i;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(i=n.width)!==null&&i!==void 0?i:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(s=>{let a=c=>{this[s](c)};return e.dom.addEventListener(s,a),{name:s,handler:a}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,i,s=this.editorView.dom,a=s.getBoundingClientRect(),c=a.width/s.offsetWidth,u=a.height/s.offsetHeight;if(n){let y=e.nodeBefore,x=e.nodeAfter;if(y||x){let v=this.editorView.nodeDOM(this.cursorPos-(y?y.nodeSize:0));if(v){let S=v.getBoundingClientRect(),E=y?S.bottom:S.top;y&&x&&(E=(E+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let k=this.width/2*u;i={left:S.left,right:S.right,top:E-k,bottom:E+k}}}}if(!i){let y=this.editorView.coordsAtPos(this.cursorPos),x=this.width/2*c;i={left:y.left-x,right:y.left+x,top:y.top,bottom:y.bottom}}let d=this.editorView.dom.offsetParent;this.element||(this.element=d.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let h,m;if(!d||d==document.body&&getComputedStyle(d).position=="static")h=-pageXOffset,m=-pageYOffset;else{let y=d.getBoundingClientRect(),x=y.width/d.offsetWidth,v=y.height/d.offsetHeight;h=y.left-d.scrollLeft*x,m=y.top-d.scrollTop*v}this.element.style.left=(i.left-h)/c+"px",this.element.style.top=(i.top-m)/u+"px",this.element.style.width=(i.right-i.left)/c+"px",this.element.style.height=(i.bottom-i.top)/u+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),i=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),s=i&&i.type.spec.disableDropCursor,a=typeof s=="function"?s(this.editorView,n,e):s;if(n&&!a){let c=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let u=wS(this.editorView.state.doc,c,this.editorView.dragging.slice);u!=null&&(c=u)}this.setCursor(c),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}class We extends ye{constructor(e){super(e,e)}map(e,n){let i=e.resolve(n.map(this.head));return We.valid(i)?new We(i):ye.near(i)}content(){return ee.empty}eq(e){return e instanceof We&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new We(e.resolve(n.pos))}getBookmark(){return new qm(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!Cz(e)||!Az(e))return!1;let i=n.type.spec.allowGapCursor;if(i!=null)return i;let s=n.contentMatchAt(e.index()).defaultType;return s&&s.isTextblock}static findGapCursorFrom(e,n,i=!1){e:for(;;){if(!i&&We.valid(e))return e;let s=e.pos,a=null;for(let c=e.depth;;c--){let u=e.node(c);if(n>0?e.indexAfter(c)<u.childCount:e.index(c)>0){a=u.child(n>0?e.indexAfter(c):e.index(c)-1);break}else if(c==0)return null;s+=n;let d=e.doc.resolve(s);if(We.valid(d))return d}for(;;){let c=n>0?a.firstChild:a.lastChild;if(!c){if(a.isAtom&&!a.isText&&!ae.isSelectable(a)){e=e.doc.resolve(s+a.nodeSize*n),i=!1;continue e}break}a=c,s+=n;let u=e.doc.resolve(s);if(We.valid(u))return u}return null}}}We.prototype.visible=!1;We.findFrom=We.findGapCursorFrom;ye.jsonID("gapcursor",We);class qm{constructor(e){this.pos=e}map(e){return new qm(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return We.valid(n)?new We(n):ye.near(n)}}function jk(t){return t.isAtom||t.spec.isolating||t.spec.createGapCursor}function Cz(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),i=t.node(e);if(n==0){if(i.type.spec.isolating)return!0;continue}for(let s=i.child(n-1);;s=s.lastChild){if(s.childCount==0&&!s.inlineContent||jk(s.type))return!0;if(s.inlineContent)return!1}}return!0}function Az(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),i=t.node(e);if(n==i.childCount){if(i.type.spec.isolating)return!0;continue}for(let s=i.child(n);;s=s.firstChild){if(s.childCount==0&&!s.inlineContent||jk(s.type))return!0;if(s.inlineContent)return!1}}return!0}function Mz(){return new Ye({props:{decorations:Dz,createSelectionBetween(t,e,n){return e.pos==n.pos&&We.valid(n)?new We(n):null},handleClick:Rz,handleKeyDown:Oz,handleDOMEvents:{beforeinput:jz}}})}const Oz=kw({ArrowLeft:Mc("horiz",-1),ArrowRight:Mc("horiz",1),ArrowUp:Mc("vert",-1),ArrowDown:Mc("vert",1)});function Mc(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(i,s,a){let c=i.selection,u=e>0?c.$to:c.$from,d=c.empty;if(c instanceof ue){if(!a.endOfTextblock(n)||u.depth==0)return!1;d=!1,u=i.doc.resolve(e>0?u.after():u.before())}let h=We.findGapCursorFrom(u,e,d);return h?(s&&s(i.tr.setSelection(new We(h))),!0):!1}}function Rz(t,e,n){if(!t||!t.editable)return!1;let i=t.state.doc.resolve(e);if(!We.valid(i))return!1;let s=t.posAtCoords({left:n.clientX,top:n.clientY});return s&&s.inside>-1&&ae.isSelectable(t.state.doc.nodeAt(s.inside))?!1:(t.dispatch(t.state.tr.setSelection(new We(i))),!0)}function jz(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof We))return!1;let{$from:n}=t.state.selection,i=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!i)return!1;let s=J.empty;for(let c=i.length-1;c>=0;c--)s=J.from(i[c].createAndFill(null,s));let a=t.state.tr.replace(n.pos,n.pos,new ee(s,0,0));return a.setSelection(ue.near(a.doc.resolve(n.pos+1))),t.dispatch(a),!1}function Dz(t){if(!(t.selection instanceof We))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",Ke.create(t.doc,[Ht.widget(t.selection.head,e,{key:"gapcursor"})])}var Ru=200,wt=function(){};wt.prototype.append=function(e){return e.length?(e=wt.from(e),!this.length&&e||e.length<Ru&&this.leafAppend(e)||this.length<Ru&&e.leafPrepend(this)||this.appendInner(e)):this};wt.prototype.prepend=function(e){return e.length?wt.from(e).append(this):this};wt.prototype.appendInner=function(e){return new zz(this,e)};wt.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?wt.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};wt.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};wt.prototype.forEach=function(e,n,i){n===void 0&&(n=0),i===void 0&&(i=this.length),n<=i?this.forEachInner(e,n,i,0):this.forEachInvertedInner(e,n,i,0)};wt.prototype.map=function(e,n,i){n===void 0&&(n=0),i===void 0&&(i=this.length);var s=[];return this.forEach(function(a,c){return s.push(e(a,c))},n,i),s};wt.from=function(e){return e instanceof wt?e:e&&e.length?new Dk(e):wt.empty};var Dk=(function(t){function e(i){t.call(this),this.values=i}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(s,a){return s==0&&a==this.length?this:new e(this.values.slice(s,a))},e.prototype.getInner=function(s){return this.values[s]},e.prototype.forEachInner=function(s,a,c,u){for(var d=a;d<c;d++)if(s(this.values[d],u+d)===!1)return!1},e.prototype.forEachInvertedInner=function(s,a,c,u){for(var d=a-1;d>=c;d--)if(s(this.values[d],u+d)===!1)return!1},e.prototype.leafAppend=function(s){if(this.length+s.length<=Ru)return new e(this.values.concat(s.flatten()))},e.prototype.leafPrepend=function(s){if(this.length+s.length<=Ru)return new e(s.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e})(wt);wt.empty=new Dk([]);var zz=(function(t){function e(n,i){t.call(this),this.left=n,this.right=i,this.length=n.length+i.length,this.depth=Math.max(n.depth,i.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(i){return i<this.left.length?this.left.get(i):this.right.get(i-this.left.length)},e.prototype.forEachInner=function(i,s,a,c){var u=this.left.length;if(s<u&&this.left.forEachInner(i,s,Math.min(a,u),c)===!1||a>u&&this.right.forEachInner(i,Math.max(s-u,0),Math.min(this.length,a)-u,c+u)===!1)return!1},e.prototype.forEachInvertedInner=function(i,s,a,c){var u=this.left.length;if(s>u&&this.right.forEachInvertedInner(i,s-u,Math.max(a,u)-u,c+u)===!1||a<u&&this.left.forEachInvertedInner(i,Math.min(s,u),a,c)===!1)return!1},e.prototype.sliceInner=function(i,s){if(i==0&&s==this.length)return this;var a=this.left.length;return s<=a?this.left.slice(i,s):i>=a?this.right.slice(i-a,s-a):this.left.slice(i,a).append(this.right.slice(0,s-a))},e.prototype.leafAppend=function(i){var s=this.right.leafAppend(i);if(s)return new e(this.left,s)},e.prototype.leafPrepend=function(i){var s=this.left.leafPrepend(i);if(s)return new e(s,this.right)},e.prototype.appendInner=function(i){return this.left.depth>=Math.max(this.right.depth,i.depth)+1?new e(this.left,new e(this.right,i)):new e(this,i)},e})(wt);const Lz=500;class Dn{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let i=this.items.length;for(;;i--)if(this.items.get(i-1).selection){--i;break}let s,a;n&&(s=this.remapping(i,this.items.length),a=s.maps.length);let c=e.tr,u,d,h=[],m=[];return this.items.forEach((y,x)=>{if(!y.step){s||(s=this.remapping(i,x+1),a=s.maps.length),a--,m.push(y);return}if(s){m.push(new Kn(y.map));let v=y.step.map(s.slice(a)),S;v&&c.maybeStep(v).doc&&(S=c.mapping.maps[c.mapping.maps.length-1],h.push(new Kn(S,void 0,void 0,h.length+m.length))),a--,S&&s.appendMap(S,a)}else c.maybeStep(y.step);if(y.selection)return u=s?y.selection.map(s.slice(a)):y.selection,d=new Dn(this.items.slice(0,i).append(m.reverse().concat(h)),this.eventCount-1),!1},this.items.length,0),{remaining:d,transform:c,selection:u}}addTransform(e,n,i,s){let a=[],c=this.eventCount,u=this.items,d=!s&&u.length?u.get(u.length-1):null;for(let m=0;m<e.steps.length;m++){let y=e.steps[m].invert(e.docs[m]),x=new Kn(e.mapping.maps[m],y,n),v;(v=d&&d.merge(x))&&(x=v,m?a.pop():u=u.slice(0,u.length-1)),a.push(x),n&&(c++,n=void 0),s||(d=x)}let h=c-i.depth;return h>Bz&&(u=_z(u,h),c-=h),new Dn(u.append(a),c)}remapping(e,n){let i=new Ca;return this.items.forEach((s,a)=>{let c=s.mirrorOffset!=null&&a-s.mirrorOffset>=e?i.maps.length-s.mirrorOffset:void 0;i.appendMap(s.map,c)},e,n),i}addMaps(e){return this.eventCount==0?this:new Dn(this.items.append(e.map(n=>new Kn(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let i=[],s=Math.max(0,this.items.length-n),a=e.mapping,c=e.steps.length,u=this.eventCount;this.items.forEach(x=>{x.selection&&u--},s);let d=n;this.items.forEach(x=>{let v=a.getMirror(--d);if(v==null)return;c=Math.min(c,v);let S=a.maps[v];if(x.step){let E=e.steps[v].invert(e.docs[v]),k=x.selection&&x.selection.map(a.slice(d+1,v));k&&u++,i.push(new Kn(S,E,k))}else i.push(new Kn(S))},s);let h=[];for(let x=n;x<c;x++)h.push(new Kn(a.maps[x]));let m=this.items.slice(0,s).append(h).append(i),y=new Dn(m,u);return y.emptyItemCount()>Lz&&(y=y.compress(this.items.length-i.length)),y}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),i=n.maps.length,s=[],a=0;return this.items.forEach((c,u)=>{if(u>=e)s.push(c),c.selection&&a++;else if(c.step){let d=c.step.map(n.slice(i)),h=d&&d.getMap();if(i--,h&&n.appendMap(h,i),d){let m=c.selection&&c.selection.map(n.slice(i));m&&a++;let y=new Kn(h.invert(),d,m),x,v=s.length-1;(x=s.length&&s[v].merge(y))?s[v]=x:s.push(y)}}else c.map&&i--},this.items.length,0),new Dn(wt.from(s.reverse()),a)}}Dn.empty=new Dn(wt.empty,0);function _z(t,e){let n;return t.forEach((i,s)=>{if(i.selection&&e--==0)return n=s,!1}),t.slice(n)}class Kn{constructor(e,n,i,s){this.map=e,this.step=n,this.selection=i,this.mirrorOffset=s}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new Kn(n.getMap().invert(),n,this.selection)}}}class er{constructor(e,n,i,s,a){this.done=e,this.undone=n,this.prevRanges=i,this.prevTime=s,this.prevComposition=a}}const Bz=20;function Hz(t,e,n,i){let s=n.getMeta(Kr),a;if(s)return s.historyState;n.getMeta(Iz)&&(t=new er(t.done,t.undone,null,0,-1));let c=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(c&&c.getMeta(Kr))return c.getMeta(Kr).redo?new er(t.done.addTransform(n,void 0,i,Uc(e)),t.undone,Qv(n.mapping.maps),t.prevTime,t.prevComposition):new er(t.done,t.undone.addTransform(n,void 0,i,Uc(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(c&&c.getMeta("addToHistory")===!1)){let u=n.getMeta("composition"),d=t.prevTime==0||!c&&t.prevComposition!=u&&(t.prevTime<(n.time||0)-i.newGroupDelay||!Uz(n,t.prevRanges)),h=c?lp(t.prevRanges,n.mapping):Qv(n.mapping.maps);return new er(t.done.addTransform(n,d?e.selection.getBookmark():void 0,i,Uc(e)),Dn.empty,h,n.time,u??t.prevComposition)}else return(a=n.getMeta("rebased"))?new er(t.done.rebased(n,a),t.undone.rebased(n,a),lp(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new er(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),lp(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function Uz(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((i,s)=>{for(let a=0;a<e.length;a+=2)i<=e[a+1]&&s>=e[a]&&(n=!0)}),n}function Qv(t){let e=[];for(let n=t.length-1;n>=0&&e.length==0;n--)t[n].forEach((i,s,a,c)=>e.push(a,c));return e}function lp(t,e){if(!t)return null;let n=[];for(let i=0;i<t.length;i+=2){let s=e.map(t[i],1),a=e.map(t[i+1],-1);s<=a&&n.push(s,a)}return n}function qz(t,e,n){let i=Uc(e),s=Kr.get(e).spec.config,a=(n?t.undone:t.done).popEvent(e,i);if(!a)return null;let c=a.selection.resolve(a.transform.doc),u=(n?t.done:t.undone).addTransform(a.transform,e.selection.getBookmark(),s,i),d=new er(n?u:a.remaining,n?a.remaining:u,null,0,-1);return a.transform.setSelection(c).setMeta(Kr,{redo:n,historyState:d})}let ap=!1,Wv=null;function Uc(t){let e=t.plugins;if(Wv!=e){ap=!1,Wv=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){ap=!0;break}}return ap}const Kr=new mt("history"),Iz=new mt("closeHistory");function Vz(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new Ye({key:Kr,state:{init(){return new er(Dn.empty,Dn.empty,null,0,-1)},apply(e,n,i){return Hz(n,i,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let i=n.inputType,s=i=="historyUndo"?Lk:i=="historyRedo"?_k:null;return!s||!e.editable?!1:(n.preventDefault(),s(e.state,e.dispatch))}}}})}function zk(t,e){return(n,i)=>{let s=Kr.getState(n);if(!s||(t?s.undone:s.done).eventCount==0)return!1;if(i){let a=qz(s,n,t);a&&i(e?a.scrollIntoView():a)}return!0}}const Lk=zk(!1,!0),_k=zk(!0,!0);rt.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:t=>t.length,wordCounter:t=>t.split(" ").filter(e=>e!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=t=>{const e=t?.node||this.editor.state.doc;if((t?.mode||this.options.mode)==="textSize"){const i=e.textBetween(0,e.content.size,void 0," ");return this.options.textCounter(i)}return e.nodeSize},this.storage.words=t=>{const e=t?.node||this.editor.state.doc,n=e.textBetween(0,e.content.size," "," ");return this.options.wordCounter(n)}},addProseMirrorPlugins(){let t=!1;return[new Ye({key:new mt("characterCount"),appendTransaction:(e,n,i)=>{if(t)return;const s=this.options.limit;if(s==null||s===0){t=!0;return}const a=this.storage.characters({node:i.doc});if(a>s){const c=a-s,u=0,d=c;console.warn(`[CharacterCount] Initial content exceeded limit of ${s} characters. Content was automatically trimmed.`);const h=i.tr.deleteRange(u,d);return t=!0,h}t=!0},filterTransaction:(e,n)=>{const i=this.options.limit;if(!e.docChanged||i===0||i===null||i===void 0)return!0;const s=this.storage.characters({node:n.doc}),a=this.storage.characters({node:e.doc});if(a<=i||s>i&&a>i&&a<=s)return!0;if(s>i&&a>i&&a>s||!e.getMeta("paste"))return!1;const u=e.selection.$head.pos,d=a-i,h=u-d,m=u;return e.deleteRange(h,m),!(this.storage.characters({node:e.doc})>i)}})]}});var Pz=rt.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[Nz(this.options)]}});rt.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new Ye({key:new mt("focus"),props:{decorations:({doc:t,selection:e})=>{const{isEditable:n,isFocused:i}=this.editor,{anchor:s}=e,a=[];if(!n||!i)return Ke.create(t,[]);let c=0;this.options.mode==="deepest"&&t.descendants((d,h)=>{if(d.isText)return;if(!(s>=h&&s<=h+d.nodeSize-1))return!1;c+=1});let u=0;return t.descendants((d,h)=>{if(d.isText||!(s>=h&&s<=h+d.nodeSize-1))return!1;if(u+=1,this.options.mode==="deepest"&&c-u>0||this.options.mode==="shallowest"&&u>1)return this.options.mode==="deepest";a.push(Ht.node(h,h+d.nodeSize,{class:this.options.className}))}),Ke.create(t,a)}}})]}});var $z=rt.create({name:"gapCursor",addProseMirrorPlugins(){return[Mz()]},extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=Me(se(t,"allowGapCursor",n)))!=null?e:null}}}),Zv="placeholder";function Fz(t){return t.replace(/\s+/g,"-").replace(/[^a-zA-Z0-9-]/g,"").replace(/^[0-9-]+/,"").replace(/^-+/,"").toLowerCase()}rt.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",dataAttribute:Zv,placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){const t=this.options.dataAttribute?`data-${Fz(this.options.dataAttribute)}`:`data-${Zv}`;return[new Ye({key:new mt("placeholder"),props:{decorations:({doc:e,selection:n})=>{const i=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:s}=n,a=[];if(!i)return null;const c=this.editor.isEmpty;return e.descendants((u,d)=>{const h=s>=d&&s<=d+u.nodeSize,m=!u.isLeaf&&Xu(u);if((h||!this.options.showOnlyCurrent)&&m){const y=[this.options.emptyNodeClass];c&&y.push(this.options.emptyEditorClass);const x=Ht.node(d,d+u.nodeSize,{class:y.join(" "),[t]:typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:u,pos:d,hasAnchor:h}):this.options.placeholder});a.push(x)}return this.options.includeChildren}),Ke.create(e,a)}}})]}});rt.create({name:"selection",addOptions(){return{className:"selection"}},addProseMirrorPlugins(){const{editor:t,options:e}=this;return[new Ye({key:new mt("selection"),props:{decorations(n){return n.selection.empty||t.isFocused||!t.isEditable||Uw(n.selection)||t.view.dragging?null:Ke.create(n.doc,[Ht.inline(n.selection.from,n.selection.to,{class:e.className})])}}})]}});function e1({types:t,node:e}){return e&&Array.isArray(t)&&t.includes(e.type)||e?.type===t}var Kz=rt.create({name:"trailingNode",addOptions(){return{node:void 0,notAfter:[]}},addProseMirrorPlugins(){var t;const e=new mt(this.name),n=this.options.node||((t=this.editor.schema.topNodeType.contentMatch.defaultType)==null?void 0:t.name)||"paragraph",i=Object.entries(this.editor.schema.nodes).map(([,s])=>s).filter(s=>(this.options.notAfter||[]).concat(n).includes(s.name));return[new Ye({key:e,appendTransaction:(s,a,c)=>{const{doc:u,tr:d,schema:h}=c,m=e.getState(c),y=u.content.size,x=h.nodes[n];if(m)return d.insert(y,x.create())},state:{init:(s,a)=>{const c=a.tr.doc.lastChild;return!e1({node:c,types:i})},apply:(s,a)=>{if(!s.docChanged||s.getMeta("__uniqueIDTransaction"))return a;const c=s.doc.lastChild;return!e1({node:c,types:i})}}})]}}),Gz=rt.create({name:"undoRedo",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>Lk(t,e),redo:()=>({state:t,dispatch:e})=>_k(t,e)}},addProseMirrorPlugins(){return[Vz(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),Yz=rt.create({name:"starterKit",addExtensions(){var t,e,n,i;const s=[];return this.options.bold!==!1&&s.push(x4.configure(this.options.bold)),this.options.blockquote!==!1&&s.push(p4.configure(this.options.blockquote)),this.options.bulletList!==!1&&s.push(wk.configure(this.options.bulletList)),this.options.code!==!1&&s.push(w4.configure(this.options.code)),this.options.codeBlock!==!1&&s.push(N4.configure(this.options.codeBlock)),this.options.document!==!1&&s.push(T4.configure(this.options.document)),this.options.dropcursor!==!1&&s.push(Pz.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&s.push($z.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&s.push(C4.configure(this.options.hardBreak)),this.options.heading!==!1&&s.push(A4.configure(this.options.heading)),this.options.undoRedo!==!1&&s.push(Gz.configure(this.options.undoRedo)),this.options.horizontalRule!==!1&&s.push(M4.configure(this.options.horizontalRule)),this.options.italic!==!1&&s.push(z4.configure(this.options.italic)),this.options.listItem!==!1&&s.push(kk.configure(this.options.listItem)),this.options.listKeymap!==!1&&s.push(Mk.configure((t=this.options)==null?void 0:t.listKeymap)),this.options.link!==!1&&s.push(Sk.configure((e=this.options)==null?void 0:e.link)),this.options.orderedList!==!1&&s.push(Rk.configure(this.options.orderedList)),this.options.paragraph!==!1&&s.push(xz.configure(this.options.paragraph)),this.options.strike!==!1&&s.push(wz.configure(this.options.strike)),this.options.text!==!1&&s.push(kz.configure(this.options.text)),this.options.underline!==!1&&s.push(Ez.configure((n=this.options)==null?void 0:n.underline)),this.options.trailingNode!==!1&&s.push(Kz.configure((i=this.options)==null?void 0:i.trailingNode)),s}}),Jz=Yz,Xz=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,Qz=It.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{},resize:!1}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null},width:{default:null},height:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:t}){return["img",et(this.options.HTMLAttributes,t)]},parseMarkdown:(t,e)=>e.createNode("image",{src:t.href,title:t.title,alt:t.text}),renderMarkdown:t=>{var e,n,i,s,a,c;const u=(n=(e=t.attrs)==null?void 0:e.src)!=null?n:"",d=(s=(i=t.attrs)==null?void 0:i.alt)!=null?s:"",h=(c=(a=t.attrs)==null?void 0:a.title)!=null?c:"";return h?`![${d}](${u} "${h}")`:`![${d}](${u})`},addNodeView(){if(!this.options.resize||!this.options.resize.enabled||typeof document>"u")return null;const{directions:t,minWidth:e,minHeight:n,alwaysPreserveAspectRatio:i}=this.options.resize;return({node:s,getPos:a,HTMLAttributes:c,editor:u})=>{const d=document.createElement("img");Object.entries(c).forEach(([y,x])=>{if(x!=null)switch(y){case"width":case"height":break;default:d.setAttribute(y,x);break}}),d.src=c.src;const h=new t3({element:d,editor:u,node:s,getPos:a,onResize:(y,x)=>{d.style.width=`${y}px`,d.style.height=`${x}px`},onCommit:(y,x)=>{const v=a();v!==void 0&&this.editor.chain().setNodeSelection(v).updateAttributes(this.name,{width:y,height:x}).run()},onUpdate:(y,x,v)=>y.type===s.type,options:{directions:t,min:{width:e,height:n},preserveAspectRatio:i===!0}}),m=h.dom;return m.style.visibility="hidden",m.style.pointerEvents="none",d.onload=()=>{m.style.visibility="",m.style.pointerEvents=""},h}},addCommands(){return{setImage:t=>({commands:e})=>e.insertContent({type:this.name,attrs:t})}},addInputRules(){return[ik({find:Xz,type:this.type,getAttributes:t=>{const[,,e,n,i]=t;return{src:n,alt:e,title:i}}})]}}),Wz=Qz,Zz=/^((?:https?:)?\/\/)?((?:www|m|music)\.)?((?:youtube\.com|youtu\.be|youtube-nocookie\.com))(\/(?:[\w-]+\?v=|embed\/|v\/)?)([\w-]+)(\S+)?$/,eL=/^((?:https?:)?\/\/)?((?:www|m|music)\.)?((?:youtube\.com|youtu\.be|youtube-nocookie\.com))(\/(?:[\w-]+\?v=|embed\/|v\/)?)([\w-]+)(\S+)?$/g,Bk=t=>t.match(Zz),t1=(t,e)=>e?"https://www.youtube-nocookie.com/embed/videoseries?list=":t?"https://www.youtube-nocookie.com/embed/":"https://www.youtube.com/embed/",tL=t=>{const{url:e,allowFullscreen:n,autoplay:i,ccLanguage:s,ccLoadPolicy:a,controls:c,disableKBcontrols:u,enableIFrameApi:d,endTime:h,interfaceLanguage:m,ivLoadPolicy:y,loop:x,modestBranding:v,nocookie:S,origin:E,playlist:k,progressBarColor:T,startAt:M,rel:D}=t;if(!Bk(e))return null;if(e.includes("/embed/"))return e;if(e.includes("youtu.be")){const G=e.split("/").pop();return G?`${t1(S)}${G}`:null}const z=/(?:(v|list)=|shorts\/)([-\w]+)/gm.exec(e);if(!z||!z[2])return null;let P=`${t1(S,z[1]==="list")}${z[2]}`;const L=[];return n===!1&&L.push("fs=0"),i&&L.push("autoplay=1"),s&&L.push(`cc_lang_pref=${s}`),a&&L.push("cc_load_policy=1"),c||L.push("controls=0"),u&&L.push("disablekb=1"),d&&L.push("enablejsapi=1"),h&&L.push(`end=${h}`),m&&L.push(`hl=${m}`),y&&L.push(`iv_load_policy=${y}`),x&&L.push("loop=1"),v&&L.push("modestbranding=1"),E&&L.push(`origin=${E}`),k&&L.push(`playlist=${k}`),M&&L.push(`start=${M}`),T&&L.push(`color=${T}`),D!==void 0&&L.push(`rel=${D}`),L.length&&(P+=`${z[1]==="list"?"&":"?"}${L.join("&")}`),P},nL=It.create({name:"youtube",addOptions(){return{addPasteHandler:!0,allowFullscreen:!0,autoplay:!1,ccLanguage:void 0,ccLoadPolicy:void 0,controls:!0,disableKBcontrols:!1,enableIFrameApi:!1,endTime:0,height:480,interfaceLanguage:void 0,ivLoadPolicy:0,loop:!1,modestBranding:!1,HTMLAttributes:{},inline:!1,nocookie:!1,origin:"",playlist:"",progressBarColor:void 0,width:640,rel:1}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},start:{default:0},width:{default:this.options.width},height:{default:this.options.height}}},parseHTML(){return[{tag:"div[data-youtube-video] iframe"}]},addCommands(){return{setYoutubeVideo:t=>({commands:e})=>Bk(t.src)?e.insertContent({type:this.name,attrs:t}):!1}},addPasteRules(){return this.options.addPasteHandler?[c3({find:eL,type:this.type,getAttributes:t=>({src:t.input})})]:[]},renderHTML({HTMLAttributes:t}){const e=tL({url:t.src,allowFullscreen:this.options.allowFullscreen,autoplay:this.options.autoplay,ccLanguage:this.options.ccLanguage,ccLoadPolicy:this.options.ccLoadPolicy,controls:this.options.controls,disableKBcontrols:this.options.disableKBcontrols,enableIFrameApi:this.options.enableIFrameApi,endTime:this.options.endTime,interfaceLanguage:this.options.interfaceLanguage,ivLoadPolicy:this.options.ivLoadPolicy,loop:this.options.loop,modestBranding:this.options.modestBranding,nocookie:this.options.nocookie,origin:this.options.origin,playlist:this.options.playlist,progressBarColor:this.options.progressBarColor,startAt:t.start||0,rel:this.options.rel});return t.src=e,["div",{"data-youtube-video":""},["iframe",et(this.options.HTMLAttributes,{width:this.options.width,height:this.options.height,allowfullscreen:this.options.allowFullscreen,autoplay:this.options.autoplay,ccLanguage:this.options.ccLanguage,ccLoadPolicy:this.options.ccLoadPolicy,disableKBcontrols:this.options.disableKBcontrols,enableIFrameApi:this.options.enableIFrameApi,endTime:this.options.endTime,interfaceLanguage:this.options.interfaceLanguage,ivLoadPolicy:this.options.ivLoadPolicy,loop:this.options.loop,modestBranding:this.options.modestBranding,origin:this.options.origin,playlist:this.options.playlist,progressBarColor:this.options.progressBarColor,rel:this.options.rel},t)]]},...rk({nodeName:"youtube",allowedAttributes:["src","width","height","start"]})}),iL=nL;function Hk({value:t,onChange:e,minHeight:n="200px",onImageUpload:i}){const s=A.useRef(null),[a,c]=A.useState(""),[u,d]=A.useState(""),[h,m]=A.useState(""),[y,x]=A.useState(!1),[v,S]=A.useState(!1),[E,k]=A.useState(!1),[T,M]=A.useState(!1),D=c4({extensions:[Jz,sz.configure({openOnClick:!1,HTMLAttributes:{class:"text-white underline hover:text-white/90"}}),Wz.configure({HTMLAttributes:{class:"max-w-full h-auto rounded"}}),iL.configure({width:640,height:360,HTMLAttributes:{class:"rounded"}})],content:t,editorProps:{attributes:{class:"text-white min-h-[240px] px-5 py-4 text-base focus:outline-none [&_h2]:text-xl [&_h2]:font-semibold [&_h3]:text-lg [&_h3]:font-medium [&_p]:my-2 [&_ul]:list-disc [&_ul]:pl-6 [&_ol]:list-decimal [&_ol]:pl-6 [&_blockquote]:border-l-2 [&_blockquote]:border-white/30 [&_blockquote]:pl-4 [&_blockquote]:italic [&_blockquote]:text-white/80 [&_a]:underline [&_img]:max-w-full [&_img]:h-auto"}},onUpdate:({editor:G})=>e(G.getHTML())});if(A.useEffect(()=>{D&&D.getHTML()!==t&&D.commands.setContent(t,{emitUpdate:!1})},[t,D]),!D)return b.jsx("div",{className:"animate-pulse h-[200px] bg-white/5 rounded"});const V=()=>{a.trim()?D.chain().focus().setLink({href:a.trim()}).run():D.chain().focus().unsetLink().run(),c(""),x(!1)},z=()=>{u.trim()&&D.chain().focus().setImage({src:u.trim()}).run(),d(""),S(!1)},P=()=>{const G=h.trim();G&&D.chain().focus().setYoutubeVideo({src:G}).run(),m(""),k(!1)},L=async G=>{const Z=G.target.files?.[0];if(!(!Z||!i)){M(!0);try{const he=await i(Z);D.chain().focus().setImage({src:he}).run()}finally{M(!1),s.current&&(s.current.value="")}S(!1)}};return b.jsxs("div",{className:"border border-white/20 bg-white/5 rounded-lg focus-within:border-white/50 focus-within:ring-1 focus-within:ring-white/20 transition-colors overflow-hidden",style:{minHeight:n},children:[b.jsx(rL,{editor:D,showLinkInput:y,setShowLinkInput:x,linkUrl:a,setLinkUrl:c,onSetLink:V,showImageInput:v,setShowImageInput:S,imageUrl:u,setImageUrl:d,onSetImage:z,imageInputRef:s,onImageFile:L,onImageUpload:i,uploadingImage:T,showYoutubeInput:E,setShowYoutubeInput:k,youtubeUrl:h,setYoutubeUrl:m,onSetYoutube:P}),b.jsx(ak,{editor:D})]})}function rL({editor:t,showLinkInput:e,setShowLinkInput:n,linkUrl:i,setLinkUrl:s,onSetLink:a,showImageInput:c,setShowImageInput:u,imageUrl:d,setImageUrl:h,onSetImage:m,imageInputRef:y,onImageFile:x,onImageUpload:v,uploadingImage:S,showYoutubeInput:E,setShowYoutubeInput:k,youtubeUrl:T,setYoutubeUrl:M,onSetYoutube:D}){const V="px-2 py-1 text-xs uppercase text-white/60 hover:text-white transition-colors",z="bg-white/20 text-white";return b.jsxs("div",{className:"p-2 border-b border-white/10 space-y-2",children:[b.jsxs("div",{className:"flex flex-wrap gap-1",children:[b.jsx("button",{type:"button",onClick:()=>t.chain().focus().toggleBold().run(),className:`${V} ${t.isActive("bold")?z:""}`,children:"Bold"}),b.jsx("button",{type:"button",onClick:()=>t.chain().focus().toggleItalic().run(),className:`${V} ${t.isActive("italic")?z:""}`,children:"Italic"}),b.jsx("button",{type:"button",onClick:()=>t.chain().focus().toggleHeading({level:2}).run(),className:`${V} ${t.isActive("heading",{level:2})?z:""}`,children:"H2"}),b.jsx("button",{type:"button",onClick:()=>t.chain().focus().toggleHeading({level:3}).run(),className:`${V} ${t.isActive("heading",{level:3})?z:""}`,children:"H3"}),b.jsx("button",{type:"button",onClick:()=>t.chain().focus().toggleBulletList().run(),className:`${V} ${t.isActive("bulletList")?z:""}`,children:"List"}),b.jsx("button",{type:"button",onClick:()=>t.chain().focus().toggleOrderedList().run(),className:`${V} ${t.isActive("orderedList")?z:""}`,children:"Numbered"}),b.jsx("button",{type:"button",onClick:()=>t.chain().focus().toggleBlockquote().run(),className:`${V} ${t.isActive("blockquote")?z:""}`,children:"Quote"}),b.jsx("span",{className:"w-px h-5 bg-white/20 mx-1"}),b.jsx("button",{type:"button",onClick:()=>{n(!e),u(!1),k(!1)},className:`${V} ${t.isActive("link")?z:""}`,children:"Link"}),b.jsx("button",{type:"button",onClick:()=>{u(!c),n(!1),k(!1)},className:V,children:"Image"}),b.jsx("button",{type:"button",onClick:()=>{k(!E),n(!1),u(!1)},className:V,children:"YouTube"})]}),e&&b.jsxs("div",{className:"flex gap-2 items-center flex-wrap",children:[b.jsx("input",{type:"url",value:i,onChange:P=>s(P.target.value),placeholder:"https://...",className:"flex-1 min-w-[280px] px-4 py-2 bg-white/5 border border-white/20 rounded text-white text-sm placeholder-white/40 focus:outline-none focus:border-white/50",onKeyDown:P=>P.key==="Enter"&&a()}),b.jsx("button",{type:"button",onClick:a,className:"px-3 py-1.5 bg-white/10 text-white text-xs uppercase hover:bg-white/20",children:"Set"}),b.jsx("button",{type:"button",onClick:()=>t.chain().focus().unsetLink().run(),className:"px-3 py-1.5 text-red-400/80 hover:text-red-400 text-xs",children:"Remove link"})]}),c&&b.jsxs("div",{className:"flex gap-2 items-center flex-wrap",children:[b.jsx("input",{type:"url",value:d,onChange:P=>h(P.target.value),placeholder:"Image URL",className:"flex-1 min-w-[280px] px-4 py-2 bg-white/5 border border-white/20 rounded text-white text-sm placeholder-white/40 focus:outline-none focus:border-white/50",onKeyDown:P=>P.key==="Enter"&&m()}),b.jsx("button",{type:"button",onClick:m,className:"px-3 py-1.5 bg-white/10 text-white text-xs uppercase hover:bg-white/20",children:"Insert"}),v&&b.jsxs(b.Fragment,{children:[b.jsx("input",{ref:y,type:"file",accept:"image/jpeg,image/png,image/gif,image/webp",onChange:x,className:"hidden"}),b.jsx("button",{type:"button",onClick:()=>y.current?.click(),disabled:S,className:"px-3 py-1.5 border border-white/30 text-white text-xs uppercase hover:border-white/50 disabled:opacity-50",children:S?"Uploading":"Upload"})]})]}),E&&b.jsxs("div",{className:"flex gap-2 items-center flex-wrap",children:[b.jsx("input",{type:"url",value:T,onChange:P=>M(P.target.value),placeholder:"YouTube URL (youtube.com/watch?v=... or youtu.be/...)",className:"flex-1 min-w-[320px] px-4 py-2 bg-white/5 border border-white/20 rounded text-white text-sm placeholder-white/40 focus:outline-none focus:border-white/50",onKeyDown:P=>P.key==="Enter"&&D()}),b.jsx("button",{type:"button",onClick:D,className:"px-3 py-1.5 bg-white/10 text-white text-xs uppercase hover:bg-white/20",children:"Embed"})]})]})}function sL(){const t=es(),e=A.useRef(null),[n,i]=A.useState(""),[s,a]=A.useState(""),[c,u]=A.useState(""),[d,h]=A.useState(""),[m,y]=A.useState(!1),[x,v]=A.useState(!1),[S,E]=A.useState(""),k=async M=>{const D=M.target.files?.[0];if(!D)return;if(!["image/jpeg","image/png","image/gif","image/webp"].includes(D.type)){E("Use JPEG, PNG, GIF, or WebP");return}if(D.size>5*1024*1024){E("Image must be under 5MB");return}E(""),y(!0);try{const z=new FormData;z.append("thumbnail",D);const{data:P}=await xt.post("/upload-thumbnail",z,{headers:{"Content-Type":"multipart/form-data"}});h(P.url)}catch{E("Failed to upload thumbnail")}finally{y(!1),e.current&&(e.current.value="")}},T=async M=>{if(M.preventDefault(),E(""),!n.trim()){E("Title is required");return}if(!c.trim()){E("Short description is required");return}v(!0);try{await xt.post("/articles",{title:n.trim(),thumbnail:d,shortDescription:c.trim(),content:s}),t("/admin/articles")}catch(D){const V=D?.response?.data?.error;E(V||"Failed to create article")}finally{v(!1)}};return b.jsxs("div",{className:"p-8 md:p-12 lg:p-16 max-w-5xl mx-auto",children:[b.jsxs("div",{className:"flex items-center justify-between mb-10",children:[b.jsx("h1",{className:"font-serif text-3xl md:text-4xl font-normal text-white",children:"Create Article"}),b.jsx("button",{type:"button",onClick:()=>t("/admin/articles"),className:"text-white/60 hover:text-white text-sm uppercase tracking-wider transition-colors",children:" Back to list"})]}),b.jsxs("form",{onSubmit:T,className:"space-y-10",children:[S&&b.jsx("div",{className:"px-5 py-4 bg-red-500/10 border border-red-500/30 rounded text-red-400 text-sm",children:S}),b.jsxs("section",{className:"space-y-6",children:[b.jsx("h2",{className:"text-xs font-medium tracking-[0.2em] uppercase text-white/40 border-b border-white/10 pb-3",children:"Basics"}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-medium tracking-widest uppercase text-white/60 mb-3",children:"Title"}),b.jsx("input",{type:"text",value:n,onChange:M=>i(M.target.value),className:"w-full max-w-full px-5 py-4 text-base bg-white/5 border border-white/20 rounded text-white placeholder-white/40 focus:outline-none focus:border-white/50 focus:ring-1 focus:ring-white/20 transition-colors",placeholder:"Article title"})]}),b.jsxs("div",{children:[b.jsxs("label",{className:"block text-xs font-medium tracking-widest uppercase text-white/60 mb-3",children:["Short description ",b.jsx("span",{className:"text-red-400",children:"*"})]}),b.jsx("textarea",{value:c,onChange:M=>u(M.target.value),rows:4,required:!0,className:"w-full max-w-full px-5 py-4 text-base bg-white/5 border border-white/20 rounded text-white placeholder-white/40 focus:outline-none focus:border-white/50 focus:ring-1 focus:ring-white/20 resize-y transition-colors",placeholder:"Brief description (required)"})]})]}),b.jsxs("section",{className:"space-y-6",children:[b.jsx("h2",{className:"text-xs font-medium tracking-[0.2em] uppercase text-white/40 border-b border-white/10 pb-3",children:"Thumbnail"}),b.jsxs("div",{className:"flex flex-col sm:flex-row items-start gap-6",children:[b.jsx("div",{className:"shrink-0 w-full sm:w-48 h-36 bg-white/5 border border-white/20 rounded overflow-hidden flex items-center justify-center",children:d?b.jsx("img",{src:d,alt:"Thumbnail",className:"w-full h-full object-cover"}):m?b.jsx("span",{className:"text-white/50 text-sm",children:"Uploading"}):b.jsx("span",{className:"text-white/40 text-sm text-center px-4",children:"No image"})}),b.jsxs("div",{className:"flex flex-col gap-2",children:[b.jsx("input",{ref:e,type:"file",accept:"image/jpeg,image/png,image/gif,image/webp",onChange:k,className:"hidden"}),b.jsx("button",{type:"button",onClick:()=>e.current?.click(),disabled:m,className:"px-6 py-3 border border-white/30 text-white text-sm uppercase tracking-wider hover:border-white/50 hover:bg-white/5 rounded transition-colors disabled:opacity-50",children:m?"Uploading":"Choose image"}),d&&b.jsx("button",{type:"button",onClick:()=>h(""),className:"text-red-400/80 hover:text-red-400 text-sm",children:"Remove"}),b.jsx("p",{className:"text-white/40 text-xs",children:"JPEG, PNG, GIF, or WebP. Max 5MB."})]})]})]}),b.jsxs("section",{className:"space-y-6",children:[b.jsx("h2",{className:"text-xs font-medium tracking-[0.2em] uppercase text-white/40 border-b border-white/10 pb-3",children:"Content"}),b.jsx("div",{children:b.jsx(Hk,{value:s,onChange:a,onImageUpload:async M=>{const D=new FormData;D.append("image",M);const{data:V}=await xt.post("/upload-image",D,{headers:{"Content-Type":"multipart/form-data"}});return V.url}})})]}),b.jsxs("div",{className:"flex flex-wrap gap-4 pt-4 border-t border-white/10",children:[b.jsx("button",{type:"submit",disabled:x,className:"px-8 py-4 bg-white text-black text-sm font-medium tracking-widest uppercase hover:bg-white/90 disabled:opacity-50 rounded transition-colors",children:x?"Creating":"Create Article"}),b.jsx("button",{type:"button",onClick:()=>t("/admin/articles"),className:"px-8 py-4 border border-white/30 text-white text-sm font-medium tracking-widest uppercase hover:border-white/50 hover:bg-white/5 rounded transition-colors",children:"Cancel"})]})]})]})}function lL(){const t=es(),{id:e}=g1(),n=A.useRef(null),[i,s]=A.useState(""),[a,c]=A.useState(""),[u,d]=A.useState(""),[h,m]=A.useState(""),[y,x]=A.useState(!0),[v,S]=A.useState(!1),[E,k]=A.useState(!1),[T,M]=A.useState("");A.useEffect(()=>{e&&xt.get(`/articles/${e}`).then(({data:z})=>{s(z.title),c(z.content||""),d(z.shortDescription||""),m(z.thumbnail||"")}).catch(()=>M("Article not found")).finally(()=>x(!1))},[e]);const D=async z=>{const P=z.target.files?.[0];if(!P)return;if(!["image/jpeg","image/png","image/gif","image/webp"].includes(P.type)){M("Use JPEG, PNG, GIF, or WebP");return}if(P.size>5*1024*1024){M("Image must be under 5MB");return}M(""),S(!0);try{const G=new FormData;G.append("thumbnail",P);const{data:Z}=await xt.post("/upload-thumbnail",G,{headers:{"Content-Type":"multipart/form-data"}});m(Z.url)}catch{M("Failed to upload thumbnail")}finally{S(!1),n.current&&(n.current.value="")}},V=async z=>{if(z.preventDefault(),M(""),!i.trim()){M("Title is required");return}if(!u.trim()){M("Short description is required");return}if(e){k(!0);try{await xt.put(`/articles/${e}`,{title:i.trim(),thumbnail:h,shortDescription:u.trim(),content:a}),t("/admin/articles")}catch(P){const L=P?.response?.data?.error;M(L||"Failed to update article")}finally{k(!1)}}};return y?b.jsx("div",{className:"p-8 md:p-12 lg:p-16 max-w-5xl mx-auto",children:b.jsx("p",{className:"text-white/60",children:"Loading"})}):b.jsxs("div",{className:"p-8 md:p-12 lg:p-16 max-w-5xl mx-auto",children:[b.jsxs("div",{className:"flex items-center justify-between mb-10",children:[b.jsx("h1",{className:"font-serif text-3xl md:text-4xl font-normal text-white",children:"Edit Article"}),b.jsx("button",{type:"button",onClick:()=>t("/admin/articles"),className:"text-white/60 hover:text-white text-sm uppercase tracking-wider transition-colors",children:" Back to list"})]}),b.jsxs("form",{onSubmit:V,className:"space-y-10",children:[T&&b.jsx("div",{className:"px-5 py-4 bg-red-500/10 border border-red-500/30 rounded text-red-400 text-sm",children:T}),b.jsxs("section",{className:"space-y-6",children:[b.jsx("h2",{className:"text-xs font-medium tracking-[0.2em] uppercase text-white/40 border-b border-white/10 pb-3",children:"Basics"}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-medium tracking-widest uppercase text-white/60 mb-3",children:"Title"}),b.jsx("input",{type:"text",value:i,onChange:z=>s(z.target.value),className:"w-full max-w-full px-5 py-4 text-base bg-white/5 border border-white/20 rounded text-white placeholder-white/40 focus:outline-none focus:border-white/50 focus:ring-1 focus:ring-white/20 transition-colors",placeholder:"Article title"})]}),b.jsxs("div",{children:[b.jsxs("label",{className:"block text-xs font-medium tracking-widest uppercase text-white/60 mb-3",children:["Short description ",b.jsx("span",{className:"text-red-400",children:"*"})]}),b.jsx("textarea",{value:u,onChange:z=>d(z.target.value),rows:4,required:!0,className:"w-full max-w-full px-5 py-4 text-base bg-white/5 border border-white/20 rounded text-white placeholder-white/40 focus:outline-none focus:border-white/50 focus:ring-1 focus:ring-white/20 resize-y transition-colors",placeholder:"Brief description (required)"})]})]}),b.jsxs("section",{className:"space-y-6",children:[b.jsx("h2",{className:"text-xs font-medium tracking-[0.2em] uppercase text-white/40 border-b border-white/10 pb-3",children:"Thumbnail"}),b.jsxs("div",{className:"flex flex-col sm:flex-row items-start gap-6",children:[b.jsx("div",{className:"shrink-0 w-full sm:w-48 h-36 bg-white/5 border border-white/20 rounded overflow-hidden flex items-center justify-center",children:h?b.jsx("img",{src:h,alt:"Thumbnail",className:"w-full h-full object-cover"}):v?b.jsx("span",{className:"text-white/50 text-sm",children:"Uploading"}):b.jsx("span",{className:"text-white/40 text-sm text-center px-4",children:"No image"})}),b.jsxs("div",{className:"flex flex-col gap-2",children:[b.jsx("input",{ref:n,type:"file",accept:"image/jpeg,image/png,image/gif,image/webp",onChange:D,className:"hidden"}),b.jsx("button",{type:"button",onClick:()=>n.current?.click(),disabled:v,className:"px-6 py-3 border border-white/30 text-white text-sm uppercase tracking-wider hover:border-white/50 hover:bg-white/5 rounded transition-colors disabled:opacity-50",children:v?"Uploading":"Choose image"}),h&&b.jsx("button",{type:"button",onClick:()=>m(""),className:"text-red-400/80 hover:text-red-400 text-sm",children:"Remove"}),b.jsx("p",{className:"text-white/40 text-xs",children:"JPEG, PNG, GIF, or WebP. Max 5MB."})]})]})]}),b.jsxs("section",{className:"space-y-6",children:[b.jsx("h2",{className:"text-xs font-medium tracking-[0.2em] uppercase text-white/40 border-b border-white/10 pb-3",children:"Content"}),b.jsx("div",{children:b.jsx(Hk,{value:a,onChange:c,onImageUpload:async z=>{const P=new FormData;P.append("image",z);const{data:L}=await xt.post("/upload-image",P,{headers:{"Content-Type":"multipart/form-data"}});return L.url}})})]}),b.jsxs("div",{className:"flex flex-wrap gap-4 pt-4 border-t border-white/10",children:[b.jsx("button",{type:"submit",disabled:E,className:"px-8 py-4 bg-white text-black text-sm font-medium tracking-widest uppercase hover:bg-white/90 disabled:opacity-50 rounded transition-colors",children:E?"Saving":"Save Changes"}),b.jsx("button",{type:"button",onClick:()=>t("/admin/articles"),className:"px-8 py-4 border border-white/30 text-white text-sm font-medium tracking-widest uppercase hover:border-white/50 hover:bg-white/5 rounded transition-colors",children:"Cancel"})]})]})]})}function aL(){return b.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center px-6 bg-white",children:[b.jsx("p",{className:"text-xs font-medium tracking-[0.3em] uppercase text-black/50 mb-4",children:"404"}),b.jsx("h1",{className:"font-serif text-4xl md:text-5xl font-normal text-black tracking-tight text-center mb-6",children:"Page not found"}),b.jsx("p",{className:"text-black/60 text-center max-w-md mb-12",children:"The page you're looking for doesn't exist or has been moved."}),b.jsx(Ee,{to:"/",className:"inline-block px-8 py-4 border border-black text-black text-sm font-medium tracking-widest uppercase hover:bg-black hover:text-white transition-colors",children:"Back to home"})]})}function oL(){const[t,e]=A.useState("loading");return A.useEffect(()=>{fetch("http://localhost:3000/api/admin/verify",{credentials:"include"}).then(n=>n.ok?e("authorized"):e("unauthorized")).catch(()=>e("unauthorized"))},[]),t==="loading"?b.jsx("div",{className:"min-h-screen flex items-center justify-center bg-black",children:b.jsx("div",{className:"w-px h-12 bg-white/30 animate-pulse"})}):t==="unauthorized"?b.jsx(aL,{}):b.jsx(Yp,{})}const cL=[{to:"/admin",label:"Dashboard",icon:b.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-5 h-5 shrink-0",children:[b.jsx("rect",{x:"3",y:"3",width:"7",height:"7",rx:"1"}),b.jsx("rect",{x:"14",y:"3",width:"7",height:"7",rx:"1"}),b.jsx("rect",{x:"14",y:"14",width:"7",height:"7",rx:"1"}),b.jsx("rect",{x:"3",y:"14",width:"7",height:"7",rx:"1"})]})},{to:"/admin/articles",label:"Articles",icon:b.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-5 h-5 shrink-0",children:[b.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),b.jsx("path",{d:"M14 2v6h6"}),b.jsx("path",{d:"M16 13H8"}),b.jsx("path",{d:"M16 17H8"}),b.jsx("path",{d:"M10 9H8"})]})},{to:"/admin/settings",label:"Settings",icon:b.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-5 h-5 shrink-0",children:[b.jsx("path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"}),b.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}];function uL(){const t=es(),e=async()=>{try{await xt.post("/logout"),t("/mac-/adam/admin/69846d7f374584e675d7fa28")}catch{t("/mac-/adam/admin/69846d7f374584e675d7fa28")}};return b.jsxs("div",{className:"min-h-screen flex bg-black",children:[b.jsxs("aside",{className:"w-72 shrink-0 border-r border-white/10 flex flex-col",children:[b.jsx("div",{className:"p-6 border-b border-white/10",children:b.jsx("p",{className:"text-xs font-medium tracking-widest uppercase text-white/50",children:"Admin"})}),b.jsx("nav",{className:"flex-1 py-6",children:cL.map(({to:n,label:i,icon:s})=>b.jsxs(k1,{to:n,end:n==="/admin",className:({isActive:a})=>`flex items-center gap-4 px-6 py-4 mx-2 rounded-lg text-sm font-medium tracking-wide transition-all ${a?"bg-white/10 text-white":"text-white/60 hover:text-white hover:bg-white/5"}`,children:[s,i]},n))}),b.jsx("div",{className:"p-6 border-t border-white/10",children:b.jsxs("button",{type:"button",onClick:e,className:"flex items-center gap-4 w-full px-6 py-4 mx-2 rounded-lg text-sm font-medium tracking-widest uppercase text-white/60 hover:text-white hover:bg-white/5 transition-all",children:[b.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-5 h-5 shrink-0",children:[b.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),b.jsx("polyline",{points:"16 17 21 12 16 7"}),b.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),"Logout"]})})]}),b.jsx("main",{className:"flex-1 overflow-auto",children:b.jsx(Yp,{})})]})}function fL(){return b.jsxs(qC,{children:[b.jsx(t2,{}),b.jsxs(mC,{children:[b.jsxs(ft,{path:"/",element:b.jsx(ZC,{}),children:[b.jsx(ft,{index:!0,element:b.jsx(BA,{})}),b.jsx(ft,{path:"regulation-reset",element:b.jsx(HA,{})}),b.jsx(ft,{path:"courses",element:b.jsx(qA,{})}),b.jsx(ft,{path:"private-work",element:b.jsx(IA,{})}),b.jsx(ft,{path:"for-law-firms",element:b.jsx(PA,{})}),b.jsx(ft,{path:"about",element:b.jsx($A,{})}),b.jsx(ft,{path:"contact",element:b.jsx(FA,{})}),b.jsx(ft,{path:"articles",element:b.jsx(KA,{})}),b.jsx(ft,{path:"articles/:id",element:b.jsx(YA,{})})]}),b.jsx(ft,{path:"/admin/signup",element:b.jsx(JA,{})}),b.jsx(ft,{path:"/mac-/adam/admin/69846d7f374584e675d7fa28",element:b.jsx(XA,{})}),b.jsx(ft,{path:"/admin",element:b.jsx(oL,{}),children:b.jsxs(ft,{element:b.jsx(uL,{}),children:[b.jsx(ft,{index:!0,element:b.jsx(QA,{})}),b.jsx(ft,{path:"settings",element:b.jsx(WA,{})}),b.jsx(ft,{path:"articles",element:b.jsx(iM,{})}),b.jsx(ft,{path:"articles/new",element:b.jsx(sL,{})}),b.jsx(ft,{path:"articles/:id/edit",element:b.jsx(lL,{})})]})})]})]})}gT.createRoot(document.getElementById("root")).render(b.jsx(A.StrictMode,{children:b.jsx(fL,{})}));

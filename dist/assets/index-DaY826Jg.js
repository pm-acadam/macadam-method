(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();function s1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var wh={exports:{}},ra={};var $0;function dT(){if($0)return ra;$0=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,s,a){var c=null;if(a!==void 0&&(c=""+a),s.key!==void 0&&(c=""+s.key),"key"in s){a={};for(var u in s)u!=="key"&&(a[u]=s[u])}else a=s;return s=a.ref,{$$typeof:t,type:i,key:c,ref:s!==void 0?s:null,props:a}}return ra.Fragment=e,ra.jsx=n,ra.jsxs=n,ra}var F0;function fT(){return F0||(F0=1,wh.exports=dT()),wh.exports}var b=fT(),Sh={exports:{}},pe={};var K0;function hT(){if(K0)return pe;K0=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),x=Symbol.iterator;function v(O){return O===null||typeof O!="object"?null:(O=x&&O[x]||O["@@iterator"],typeof O=="function"?O:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,E={};function T(O,G,Q){this.props=O,this.context=G,this.refs=E,this.updater=Q||w}T.prototype.isReactComponent={},T.prototype.setState=function(O,G){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,G,"setState")},T.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function A(){}A.prototype=T.prototype;function j(O,G,Q){this.props=O,this.context=G,this.refs=E,this.updater=Q||w}var U=j.prototype=new A;U.constructor=j,k(U,T.prototype),U.isPureReactComponent=!0;var z=Array.isArray;function V(){}var L={H:null,A:null,T:null,S:null},K=Object.prototype.hasOwnProperty;function Z(O,G,Q){var te=Q.ref;return{$$typeof:t,type:O,key:G,ref:te!==void 0?te:null,props:Q}}function he(O,G){return Z(O.type,G,O.props)}function We(O){return typeof O=="object"&&O!==null&&O.$$typeof===t}function re(O){var G={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(Q){return G[Q]})}var qe=/\/+/g;function Ne(O,G){return typeof O=="object"&&O!==null&&O.key!=null?re(""+O.key):G.toString(36)}function Te(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(V,V):(O.status="pending",O.then(function(G){O.status==="pending"&&(O.status="fulfilled",O.value=G)},function(G){O.status==="pending"&&(O.status="rejected",O.reason=G)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function q(O,G,Q,te,fe){var xe=typeof O;(xe==="undefined"||xe==="boolean")&&(O=null);var De=!1;if(O===null)De=!0;else switch(xe){case"bigint":case"string":case"number":De=!0;break;case"object":switch(O.$$typeof){case t:case e:De=!0;break;case p:return De=O._init,q(De(O._payload),G,Q,te,fe)}}if(De)return fe=fe(O),De=te===""?"."+Ne(O,0):te,z(fe)?(Q="",De!=null&&(Q=De.replace(qe,"$&/")+"/"),q(fe,G,Q,"",function(dl){return dl})):fe!=null&&(We(fe)&&(fe=he(fe,Q+(fe.key==null||O&&O.key===fe.key?"":(""+fe.key).replace(qe,"$&/")+"/")+De)),G.push(fe)),1;De=0;var Bt=te===""?".":te+":";if(z(O))for(var st=0;st<O.length;st++)te=O[st],xe=Bt+Ne(te,st),De+=q(te,G,Q,xe,fe);else if(st=v(O),typeof st=="function")for(O=st.call(O),st=0;!(te=O.next()).done;)te=te.value,xe=Bt+Ne(te,st++),De+=q(te,G,Q,xe,fe);else if(xe==="object"){if(typeof O.then=="function")return q(Te(O),G,Q,te,fe);throw G=String(O),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return De}function W(O,G,Q){if(O==null)return O;var te=[],fe=0;return q(O,te,"","",function(xe){return G.call(Q,xe,fe++)}),te}function se(O){if(O._status===-1){var G=O._result;G=G(),G.then(function(Q){(O._status===0||O._status===-1)&&(O._status=1,O._result=Q)},function(Q){(O._status===0||O._status===-1)&&(O._status=2,O._result=Q)}),O._status===-1&&(O._status=0,O._result=G)}if(O._status===1)return O._result.default;throw O._result}var Oe=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},ze={map:W,forEach:function(O,G,Q){W(O,function(){G.apply(this,arguments)},Q)},count:function(O){var G=0;return W(O,function(){G++}),G},toArray:function(O){return W(O,function(G){return G})||[]},only:function(O){if(!We(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return pe.Activity=g,pe.Children=ze,pe.Component=T,pe.Fragment=n,pe.Profiler=s,pe.PureComponent=j,pe.StrictMode=i,pe.Suspense=f,pe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=L,pe.__COMPILER_RUNTIME={__proto__:null,c:function(O){return L.H.useMemoCache(O)}},pe.cache=function(O){return function(){return O.apply(null,arguments)}},pe.cacheSignal=function(){return null},pe.cloneElement=function(O,G,Q){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var te=k({},O.props),fe=O.key;if(G!=null)for(xe in G.key!==void 0&&(fe=""+G.key),G)!K.call(G,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&G.ref===void 0||(te[xe]=G[xe]);var xe=arguments.length-2;if(xe===1)te.children=Q;else if(1<xe){for(var De=Array(xe),Bt=0;Bt<xe;Bt++)De[Bt]=arguments[Bt+2];te.children=De}return Z(O.type,fe,te)},pe.createContext=function(O){return O={$$typeof:c,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:a,_context:O},O},pe.createElement=function(O,G,Q){var te,fe={},xe=null;if(G!=null)for(te in G.key!==void 0&&(xe=""+G.key),G)K.call(G,te)&&te!=="key"&&te!=="__self"&&te!=="__source"&&(fe[te]=G[te]);var De=arguments.length-2;if(De===1)fe.children=Q;else if(1<De){for(var Bt=Array(De),st=0;st<De;st++)Bt[st]=arguments[st+2];fe.children=Bt}if(O&&O.defaultProps)for(te in De=O.defaultProps,De)fe[te]===void 0&&(fe[te]=De[te]);return Z(O,xe,fe)},pe.createRef=function(){return{current:null}},pe.forwardRef=function(O){return{$$typeof:u,render:O}},pe.isValidElement=We,pe.lazy=function(O){return{$$typeof:p,_payload:{_status:-1,_result:O},_init:se}},pe.memo=function(O,G){return{$$typeof:h,type:O,compare:G===void 0?null:G}},pe.startTransition=function(O){var G=L.T,Q={};L.T=Q;try{var te=O(),fe=L.S;fe!==null&&fe(Q,te),typeof te=="object"&&te!==null&&typeof te.then=="function"&&te.then(V,Oe)}catch(xe){Oe(xe)}finally{G!==null&&Q.types!==null&&(G.types=Q.types),L.T=G}},pe.unstable_useCacheRefresh=function(){return L.H.useCacheRefresh()},pe.use=function(O){return L.H.use(O)},pe.useActionState=function(O,G,Q){return L.H.useActionState(O,G,Q)},pe.useCallback=function(O,G){return L.H.useCallback(O,G)},pe.useContext=function(O){return L.H.useContext(O)},pe.useDebugValue=function(){},pe.useDeferredValue=function(O,G){return L.H.useDeferredValue(O,G)},pe.useEffect=function(O,G){return L.H.useEffect(O,G)},pe.useEffectEvent=function(O){return L.H.useEffectEvent(O)},pe.useId=function(){return L.H.useId()},pe.useImperativeHandle=function(O,G,Q){return L.H.useImperativeHandle(O,G,Q)},pe.useInsertionEffect=function(O,G){return L.H.useInsertionEffect(O,G)},pe.useLayoutEffect=function(O,G){return L.H.useLayoutEffect(O,G)},pe.useMemo=function(O,G){return L.H.useMemo(O,G)},pe.useOptimistic=function(O,G){return L.H.useOptimistic(O,G)},pe.useReducer=function(O,G,Q){return L.H.useReducer(O,G,Q)},pe.useRef=function(O){return L.H.useRef(O)},pe.useState=function(O){return L.H.useState(O)},pe.useSyncExternalStore=function(O,G,Q){return L.H.useSyncExternalStore(O,G,Q)},pe.useTransition=function(){return L.H.useTransition()},pe.version="19.2.4",pe}var G0;function Ua(){return G0||(G0=1,Sh.exports=hT()),Sh.exports}var C=Ua();const Jr=s1(C);var kh={exports:{}},sa={},Eh={exports:{}},Nh={};var Y0;function pT(){return Y0||(Y0=1,(function(t){function e(q,W){var se=q.length;q.push(W);e:for(;0<se;){var Oe=se-1>>>1,ze=q[Oe];if(0<s(ze,W))q[Oe]=W,q[se]=ze,se=Oe;else break e}}function n(q){return q.length===0?null:q[0]}function i(q){if(q.length===0)return null;var W=q[0],se=q.pop();if(se!==W){q[0]=se;e:for(var Oe=0,ze=q.length,O=ze>>>1;Oe<O;){var G=2*(Oe+1)-1,Q=q[G],te=G+1,fe=q[te];if(0>s(Q,se))te<ze&&0>s(fe,Q)?(q[Oe]=fe,q[te]=se,Oe=te):(q[Oe]=Q,q[G]=se,Oe=G);else if(te<ze&&0>s(fe,se))q[Oe]=fe,q[te]=se,Oe=te;else break e}}return W}function s(q,W){var se=q.sortIndex-W.sortIndex;return se!==0?se:q.id-W.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var c=Date,u=c.now();t.unstable_now=function(){return c.now()-u}}var f=[],h=[],p=1,g=null,x=3,v=!1,w=!1,k=!1,E=!1,T=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;function U(q){for(var W=n(h);W!==null;){if(W.callback===null)i(h);else if(W.startTime<=q)i(h),W.sortIndex=W.expirationTime,e(f,W);else break;W=n(h)}}function z(q){if(k=!1,U(q),!w)if(n(f)!==null)w=!0,V||(V=!0,re());else{var W=n(h);W!==null&&Te(z,W.startTime-q)}}var V=!1,L=-1,K=5,Z=-1;function he(){return E?!0:!(t.unstable_now()-Z<K)}function We(){if(E=!1,V){var q=t.unstable_now();Z=q;var W=!0;try{e:{w=!1,k&&(k=!1,A(L),L=-1),v=!0;var se=x;try{t:{for(U(q),g=n(f);g!==null&&!(g.expirationTime>q&&he());){var Oe=g.callback;if(typeof Oe=="function"){g.callback=null,x=g.priorityLevel;var ze=Oe(g.expirationTime<=q);if(q=t.unstable_now(),typeof ze=="function"){g.callback=ze,U(q),W=!0;break t}g===n(f)&&i(f),U(q)}else i(f);g=n(f)}if(g!==null)W=!0;else{var O=n(h);O!==null&&Te(z,O.startTime-q),W=!1}}break e}finally{g=null,x=se,v=!1}W=void 0}}finally{W?re():V=!1}}}var re;if(typeof j=="function")re=function(){j(We)};else if(typeof MessageChannel<"u"){var qe=new MessageChannel,Ne=qe.port2;qe.port1.onmessage=We,re=function(){Ne.postMessage(null)}}else re=function(){T(We,0)};function Te(q,W){L=T(function(){q(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(q){q.callback=null},t.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<q?Math.floor(1e3/q):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_next=function(q){switch(x){case 1:case 2:case 3:var W=3;break;default:W=x}var se=x;x=W;try{return q()}finally{x=se}},t.unstable_requestPaint=function(){E=!0},t.unstable_runWithPriority=function(q,W){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var se=x;x=q;try{return W()}finally{x=se}},t.unstable_scheduleCallback=function(q,W,se){var Oe=t.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?Oe+se:Oe):se=Oe,q){case 1:var ze=-1;break;case 2:ze=250;break;case 5:ze=1073741823;break;case 4:ze=1e4;break;default:ze=5e3}return ze=se+ze,q={id:p++,callback:W,priorityLevel:q,startTime:se,expirationTime:ze,sortIndex:-1},se>Oe?(q.sortIndex=se,e(h,q),n(f)===null&&q===n(h)&&(k?(A(L),L=-1):k=!0,Te(z,se-Oe))):(q.sortIndex=ze,e(f,q),w||v||(w=!0,V||(V=!0,re()))),q},t.unstable_shouldYield=he,t.unstable_wrapCallback=function(q){var W=x;return function(){var se=x;x=W;try{return q.apply(this,arguments)}finally{x=se}}}})(Nh)),Nh}var J0;function mT(){return J0||(J0=1,Eh.exports=pT()),Eh.exports}var Th={exports:{}},Dt={};var X0;function gT(){if(X0)return Dt;X0=1;var t=Ua();function e(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)h+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function a(f,h,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:g==null?null:""+g,children:f,containerInfo:h,implementation:p}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Dt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Dt.createPortal=function(f,h){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return a(f,h,null,p)},Dt.flushSync=function(f){var h=c.T,p=i.p;try{if(c.T=null,i.p=2,f)return f()}finally{c.T=h,i.p=p,i.d.f()}},Dt.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,i.d.C(f,h))},Dt.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},Dt.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var p=h.as,g=u(p,h.crossOrigin),x=typeof h.integrity=="string"?h.integrity:void 0,v=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;p==="style"?i.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:g,integrity:x,fetchPriority:v}):p==="script"&&i.d.X(f,{crossOrigin:g,integrity:x,fetchPriority:v,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Dt.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var p=u(h.as,h.crossOrigin);i.d.M(f,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&i.d.M(f)},Dt.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var p=h.as,g=u(p,h.crossOrigin);i.d.L(f,p,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Dt.preloadModule=function(f,h){if(typeof f=="string")if(h){var p=u(h.as,h.crossOrigin);i.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else i.d.m(f)},Dt.requestFormReset=function(f){i.d.r(f)},Dt.unstable_batchedUpdates=function(f,h){return f(h)},Dt.useFormState=function(f,h,p){return c.H.useFormState(f,h,p)},Dt.useFormStatus=function(){return c.H.useHostTransitionStatus()},Dt.version="19.2.4",Dt}var W0;function l1(){if(W0)return Th.exports;W0=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Th.exports=gT(),Th.exports}var Q0;function yT(){if(Q0)return sa;Q0=1;var t=mT(),e=Ua(),n=l1();function i(r){var l="https://react.dev/errors/"+r;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)l+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function a(r){var l=r,o=r;if(r.alternate)for(;l.return;)l=l.return;else{r=l;do l=r,(l.flags&4098)!==0&&(o=l.return),r=l.return;while(r)}return l.tag===3?o:null}function c(r){if(r.tag===13){var l=r.memoizedState;if(l===null&&(r=r.alternate,r!==null&&(l=r.memoizedState)),l!==null)return l.dehydrated}return null}function u(r){if(r.tag===31){var l=r.memoizedState;if(l===null&&(r=r.alternate,r!==null&&(l=r.memoizedState)),l!==null)return l.dehydrated}return null}function f(r){if(a(r)!==r)throw Error(i(188))}function h(r){var l=r.alternate;if(!l){if(l=a(r),l===null)throw Error(i(188));return l!==r?null:r}for(var o=r,d=l;;){var m=o.return;if(m===null)break;var y=m.alternate;if(y===null){if(d=m.return,d!==null){o=d;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===o)return f(m),r;if(y===d)return f(m),l;y=y.sibling}throw Error(i(188))}if(o.return!==d.return)o=m,d=y;else{for(var S=!1,N=m.child;N;){if(N===o){S=!0,o=m,d=y;break}if(N===d){S=!0,d=m,o=y;break}N=N.sibling}if(!S){for(N=y.child;N;){if(N===o){S=!0,o=y,d=m;break}if(N===d){S=!0,d=y,o=m;break}N=N.sibling}if(!S)throw Error(i(189))}}if(o.alternate!==d)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?r:l}function p(r){var l=r.tag;if(l===5||l===26||l===27||l===6)return r;for(r=r.child;r!==null;){if(l=p(r),l!==null)return l;r=r.sibling}return null}var g=Object.assign,x=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),A=Symbol.for("react.consumer"),j=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),z=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),K=Symbol.for("react.lazy"),Z=Symbol.for("react.activity"),he=Symbol.for("react.memo_cache_sentinel"),We=Symbol.iterator;function re(r){return r===null||typeof r!="object"?null:(r=We&&r[We]||r["@@iterator"],typeof r=="function"?r:null)}var qe=Symbol.for("react.client.reference");function Ne(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===qe?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case k:return"Fragment";case T:return"Profiler";case E:return"StrictMode";case z:return"Suspense";case V:return"SuspenseList";case Z:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case w:return"Portal";case j:return r.displayName||"Context";case A:return(r._context.displayName||"Context")+".Consumer";case U:var l=r.render;return r=r.displayName,r||(r=l.displayName||l.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case L:return l=r.displayName||null,l!==null?l:Ne(r.type)||"Memo";case K:l=r._payload,r=r._init;try{return Ne(r(l))}catch{}}return null}var Te=Array.isArray,q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se={pending:!1,data:null,method:null,action:null},Oe=[],ze=-1;function O(r){return{current:r}}function G(r){0>ze||(r.current=Oe[ze],Oe[ze]=null,ze--)}function Q(r,l){ze++,Oe[ze]=r.current,r.current=l}var te=O(null),fe=O(null),xe=O(null),De=O(null);function Bt(r,l){switch(Q(xe,l),Q(fe,r),Q(te,null),l.nodeType){case 9:case 11:r=(r=l.documentElement)&&(r=r.namespaceURI)?h0(r):0;break;default:if(r=l.tagName,l=l.namespaceURI)l=h0(l),r=p0(l,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}G(te),Q(te,r)}function st(){G(te),G(fe),G(xe)}function dl(r){r.memoizedState!==null&&Q(De,r);var l=te.current,o=p0(l,r.type);l!==o&&(Q(fe,r),Q(te,o))}function Qa(r){fe.current===r&&(G(te),G(fe)),De.current===r&&(G(De),ea._currentValue=se)}var nd,Vm;function yr(r){if(nd===void 0)try{throw Error()}catch(o){var l=o.stack.trim().match(/\n( *(at )?)/);nd=l&&l[1]||"",Vm=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+nd+r+Vm}var id=!1;function rd(r,l){if(!r||id)return"";id=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(l){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(I){var H=I}Reflect.construct(r,[],Y)}else{try{Y.call()}catch(I){H=I}r.call(Y.prototype)}}else{try{throw Error()}catch(I){H=I}(Y=r())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(I){if(I&&H&&typeof I.stack=="string")return[I.stack,H.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=d.DetermineComponentFrameRoot(),S=y[0],N=y[1];if(S&&N){var M=S.split(`
`),B=N.split(`
`);for(m=d=0;d<M.length&&!M[d].includes("DetermineComponentFrameRoot");)d++;for(;m<B.length&&!B[m].includes("DetermineComponentFrameRoot");)m++;if(d===M.length||m===B.length)for(d=M.length-1,m=B.length-1;1<=d&&0<=m&&M[d]!==B[m];)m--;for(;1<=d&&0<=m;d--,m--)if(M[d]!==B[m]){if(d!==1||m!==1)do if(d--,m--,0>m||M[d]!==B[m]){var $=`
`+M[d].replace(" at new "," at ");return r.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",r.displayName)),$}while(1<=d&&0<=m);break}}}finally{id=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?yr(o):""}function Pk(r,l){switch(r.tag){case 26:case 27:case 5:return yr(r.type);case 16:return yr("Lazy");case 13:return r.child!==l&&l!==null?yr("Suspense Fallback"):yr("Suspense");case 19:return yr("SuspenseList");case 0:case 15:return rd(r.type,!1);case 11:return rd(r.type.render,!1);case 1:return rd(r.type,!0);case 31:return yr("Activity");default:return""}}function $m(r){try{var l="",o=null;do l+=Pk(r,o),o=r,r=r.return;while(r);return l}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}var sd=Object.prototype.hasOwnProperty,ld=t.unstable_scheduleCallback,ad=t.unstable_cancelCallback,Vk=t.unstable_shouldYield,$k=t.unstable_requestPaint,en=t.unstable_now,Fk=t.unstable_getCurrentPriorityLevel,Fm=t.unstable_ImmediatePriority,Km=t.unstable_UserBlockingPriority,Za=t.unstable_NormalPriority,Kk=t.unstable_LowPriority,Gm=t.unstable_IdlePriority,Gk=t.log,Yk=t.unstable_setDisableYieldValue,fl=null,tn=null;function Ci(r){if(typeof Gk=="function"&&Yk(r),tn&&typeof tn.setStrictMode=="function")try{tn.setStrictMode(fl,r)}catch{}}var nn=Math.clz32?Math.clz32:Wk,Jk=Math.log,Xk=Math.LN2;function Wk(r){return r>>>=0,r===0?32:31-(Jk(r)/Xk|0)|0}var eo=256,to=262144,no=4194304;function br(r){var l=r&42;if(l!==0)return l;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return r&261888;case 262144:case 524288:case 1048576:case 2097152:return r&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function io(r,l,o){var d=r.pendingLanes;if(d===0)return 0;var m=0,y=r.suspendedLanes,S=r.pingedLanes;r=r.warmLanes;var N=d&134217727;return N!==0?(d=N&~y,d!==0?m=br(d):(S&=N,S!==0?m=br(S):o||(o=N&~r,o!==0&&(m=br(o))))):(N=d&~y,N!==0?m=br(N):S!==0?m=br(S):o||(o=d&~r,o!==0&&(m=br(o)))),m===0?0:l!==0&&l!==m&&(l&y)===0&&(y=m&-m,o=l&-l,y>=o||y===32&&(o&4194048)!==0)?l:m}function hl(r,l){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&l)===0}function Qk(r,l){switch(r){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ym(){var r=no;return no<<=1,(no&62914560)===0&&(no=4194304),r}function od(r){for(var l=[],o=0;31>o;o++)l.push(r);return l}function pl(r,l){r.pendingLanes|=l,l!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Zk(r,l,o,d,m,y){var S=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var N=r.entanglements,M=r.expirationTimes,B=r.hiddenUpdates;for(o=S&~o;0<o;){var $=31-nn(o),Y=1<<$;N[$]=0,M[$]=-1;var H=B[$];if(H!==null)for(B[$]=null,$=0;$<H.length;$++){var I=H[$];I!==null&&(I.lane&=-536870913)}o&=~Y}d!==0&&Jm(r,d,0),y!==0&&m===0&&r.tag!==0&&(r.suspendedLanes|=y&~(S&~l))}function Jm(r,l,o){r.pendingLanes|=l,r.suspendedLanes&=~l;var d=31-nn(l);r.entangledLanes|=l,r.entanglements[d]=r.entanglements[d]|1073741824|o&261930}function Xm(r,l){var o=r.entangledLanes|=l;for(r=r.entanglements;o;){var d=31-nn(o),m=1<<d;m&l|r[d]&l&&(r[d]|=l),o&=~m}}function Wm(r,l){var o=l&-l;return o=(o&42)!==0?1:cd(o),(o&(r.suspendedLanes|l))!==0?0:o}function cd(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function ud(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Qm(){var r=W.p;return r!==0?r:(r=window.event,r===void 0?32:B0(r.type))}function Zm(r,l){var o=W.p;try{return W.p=r,l()}finally{W.p=o}}var Ai=Math.random().toString(36).slice(2),Et="__reactFiber$"+Ai,Vt="__reactProps$"+Ai,ls="__reactContainer$"+Ai,dd="__reactEvents$"+Ai,eE="__reactListeners$"+Ai,tE="__reactHandles$"+Ai,eg="__reactResources$"+Ai,ml="__reactMarker$"+Ai;function fd(r){delete r[Et],delete r[Vt],delete r[dd],delete r[eE],delete r[tE]}function as(r){var l=r[Et];if(l)return l;for(var o=r.parentNode;o;){if(l=o[ls]||o[Et]){if(o=l.alternate,l.child!==null||o!==null&&o.child!==null)for(r=w0(r);r!==null;){if(o=r[Et])return o;r=w0(r)}return l}r=o,o=r.parentNode}return null}function cs(r){if(r=r[Et]||r[ls]){var l=r.tag;if(l===5||l===6||l===13||l===31||l===26||l===27||l===3)return r}return null}function gl(r){var l=r.tag;if(l===5||l===26||l===27||l===6)return r.stateNode;throw Error(i(33))}function us(r){var l=r[eg];return l||(l=r[eg]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function bt(r){r[ml]=!0}var tg=new Set,ng={};function xr(r,l){ds(r,l),ds(r+"Capture",l)}function ds(r,l){for(ng[r]=l,r=0;r<l.length;r++)tg.add(l[r])}var nE=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ig={},rg={};function iE(r){return sd.call(rg,r)?!0:sd.call(ig,r)?!1:nE.test(r)?rg[r]=!0:(ig[r]=!0,!1)}function ro(r,l,o){if(iE(l))if(o===null)r.removeAttribute(l);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(l);return;case"boolean":var d=l.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){r.removeAttribute(l);return}}r.setAttribute(l,""+o)}}function so(r,l,o){if(o===null)r.removeAttribute(l);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(l);return}r.setAttribute(l,""+o)}}function Wn(r,l,o,d){if(d===null)r.removeAttribute(o);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(l,o,""+d)}}function hn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function sg(r){var l=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function rE(r,l,o){var d=Object.getOwnPropertyDescriptor(r.constructor.prototype,l);if(!r.hasOwnProperty(l)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var m=d.get,y=d.set;return Object.defineProperty(r,l,{configurable:!0,get:function(){return m.call(this)},set:function(S){o=""+S,y.call(this,S)}}),Object.defineProperty(r,l,{enumerable:d.enumerable}),{getValue:function(){return o},setValue:function(S){o=""+S},stopTracking:function(){r._valueTracker=null,delete r[l]}}}}function hd(r){if(!r._valueTracker){var l=sg(r)?"checked":"value";r._valueTracker=rE(r,l,""+r[l])}}function lg(r){if(!r)return!1;var l=r._valueTracker;if(!l)return!0;var o=l.getValue(),d="";return r&&(d=sg(r)?r.checked?"true":"false":r.value),r=d,r!==o?(l.setValue(r),!0):!1}function lo(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var sE=/[\n"\\]/g;function pn(r){return r.replace(sE,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function pd(r,l,o,d,m,y,S,N){r.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?r.type=S:r.removeAttribute("type"),l!=null?S==="number"?(l===0&&r.value===""||r.value!=l)&&(r.value=""+hn(l)):r.value!==""+hn(l)&&(r.value=""+hn(l)):S!=="submit"&&S!=="reset"||r.removeAttribute("value"),l!=null?md(r,S,hn(l)):o!=null?md(r,S,hn(o)):d!=null&&r.removeAttribute("value"),m==null&&y!=null&&(r.defaultChecked=!!y),m!=null&&(r.checked=m&&typeof m!="function"&&typeof m!="symbol"),N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?r.name=""+hn(N):r.removeAttribute("name")}function ag(r,l,o,d,m,y,S,N){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(r.type=y),l!=null||o!=null){if(!(y!=="submit"&&y!=="reset"||l!=null)){hd(r);return}o=o!=null?""+hn(o):"",l=l!=null?""+hn(l):o,N||l===r.value||(r.value=l),r.defaultValue=l}d=d??m,d=typeof d!="function"&&typeof d!="symbol"&&!!d,r.checked=N?r.checked:!!d,r.defaultChecked=!!d,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(r.name=S),hd(r)}function md(r,l,o){l==="number"&&lo(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function fs(r,l,o,d){if(r=r.options,l){l={};for(var m=0;m<o.length;m++)l["$"+o[m]]=!0;for(o=0;o<r.length;o++)m=l.hasOwnProperty("$"+r[o].value),r[o].selected!==m&&(r[o].selected=m),m&&d&&(r[o].defaultSelected=!0)}else{for(o=""+hn(o),l=null,m=0;m<r.length;m++){if(r[m].value===o){r[m].selected=!0,d&&(r[m].defaultSelected=!0);return}l!==null||r[m].disabled||(l=r[m])}l!==null&&(l.selected=!0)}}function og(r,l,o){if(l!=null&&(l=""+hn(l),l!==r.value&&(r.value=l),o==null)){r.defaultValue!==l&&(r.defaultValue=l);return}r.defaultValue=o!=null?""+hn(o):""}function cg(r,l,o,d){if(l==null){if(d!=null){if(o!=null)throw Error(i(92));if(Te(d)){if(1<d.length)throw Error(i(93));d=d[0]}o=d}o==null&&(o=""),l=o}o=hn(l),r.defaultValue=o,d=r.textContent,d===o&&d!==""&&d!==null&&(r.value=d),hd(r)}function hs(r,l){if(l){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=l;return}}r.textContent=l}var lE=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ug(r,l,o){var d=l.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?d?r.setProperty(l,""):l==="float"?r.cssFloat="":r[l]="":d?r.setProperty(l,o):typeof o!="number"||o===0||lE.has(l)?l==="float"?r.cssFloat=o:r[l]=(""+o).trim():r[l]=o+"px"}function dg(r,l,o){if(l!=null&&typeof l!="object")throw Error(i(62));if(r=r.style,o!=null){for(var d in o)!o.hasOwnProperty(d)||l!=null&&l.hasOwnProperty(d)||(d.indexOf("--")===0?r.setProperty(d,""):d==="float"?r.cssFloat="":r[d]="");for(var m in l)d=l[m],l.hasOwnProperty(m)&&o[m]!==d&&ug(r,m,d)}else for(var y in l)l.hasOwnProperty(y)&&ug(r,y,l[y])}function gd(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var aE=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),oE=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ao(r){return oE.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}function Qn(){}var yd=null;function bd(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var ps=null,ms=null;function fg(r){var l=cs(r);if(l&&(r=l.stateNode)){var o=r[Vt]||null;e:switch(r=l.stateNode,l.type){case"input":if(pd(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),l=o.name,o.type==="radio"&&l!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+pn(""+l)+'"][type="radio"]'),l=0;l<o.length;l++){var d=o[l];if(d!==r&&d.form===r.form){var m=d[Vt]||null;if(!m)throw Error(i(90));pd(d,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(l=0;l<o.length;l++)d=o[l],d.form===r.form&&lg(d)}break e;case"textarea":og(r,o.value,o.defaultValue);break e;case"select":l=o.value,l!=null&&fs(r,!!o.multiple,l,!1)}}}var xd=!1;function hg(r,l,o){if(xd)return r(l,o);xd=!0;try{var d=r(l);return d}finally{if(xd=!1,(ps!==null||ms!==null)&&(Jo(),ps&&(l=ps,r=ms,ms=ps=null,fg(l),r)))for(l=0;l<r.length;l++)fg(r[l])}}function yl(r,l){var o=r.stateNode;if(o===null)return null;var d=o[Vt]||null;if(d===null)return null;o=d[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(r=r.type,d=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!d;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(i(231,l,typeof o));return o}var Zn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vd=!1;if(Zn)try{var bl={};Object.defineProperty(bl,"passive",{get:function(){vd=!0}}),window.addEventListener("test",bl,bl),window.removeEventListener("test",bl,bl)}catch{vd=!1}var Mi=null,wd=null,oo=null;function pg(){if(oo)return oo;var r,l=wd,o=l.length,d,m="value"in Mi?Mi.value:Mi.textContent,y=m.length;for(r=0;r<o&&l[r]===m[r];r++);var S=o-r;for(d=1;d<=S&&l[o-d]===m[y-d];d++);return oo=m.slice(r,1<d?1-d:void 0)}function co(r){var l=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&l===13&&(r=13)):r=l,r===10&&(r=13),32<=r||r===13?r:0}function uo(){return!0}function mg(){return!1}function $t(r){function l(o,d,m,y,S){this._reactName=o,this._targetInst=m,this.type=d,this.nativeEvent=y,this.target=S,this.currentTarget=null;for(var N in r)r.hasOwnProperty(N)&&(o=r[N],this[N]=o?o(y):y[N]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?uo:mg,this.isPropagationStopped=mg,this}return g(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=uo)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=uo)},persist:function(){},isPersistent:uo}),l}var vr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fo=$t(vr),xl=g({},vr,{view:0,detail:0}),cE=$t(xl),Sd,kd,vl,ho=g({},xl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nd,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==vl&&(vl&&r.type==="mousemove"?(Sd=r.screenX-vl.screenX,kd=r.screenY-vl.screenY):kd=Sd=0,vl=r),Sd)},movementY:function(r){return"movementY"in r?r.movementY:kd}}),gg=$t(ho),uE=g({},ho,{dataTransfer:0}),dE=$t(uE),fE=g({},xl,{relatedTarget:0}),Ed=$t(fE),hE=g({},vr,{animationName:0,elapsedTime:0,pseudoElement:0}),pE=$t(hE),mE=g({},vr,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),gE=$t(mE),yE=g({},vr,{data:0}),yg=$t(yE),bE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wE(r){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(r):(r=vE[r])?!!l[r]:!1}function Nd(){return wE}var SE=g({},xl,{key:function(r){if(r.key){var l=bE[r.key]||r.key;if(l!=="Unidentified")return l}return r.type==="keypress"?(r=co(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?xE[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nd,charCode:function(r){return r.type==="keypress"?co(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?co(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),kE=$t(SE),EE=g({},ho,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bg=$t(EE),NE=g({},xl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nd}),TE=$t(NE),CE=g({},vr,{propertyName:0,elapsedTime:0,pseudoElement:0}),AE=$t(CE),ME=g({},ho,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),OE=$t(ME),RE=g({},vr,{newState:0,oldState:0}),jE=$t(RE),DE=[9,13,27,32],Td=Zn&&"CompositionEvent"in window,wl=null;Zn&&"documentMode"in document&&(wl=document.documentMode);var zE=Zn&&"TextEvent"in window&&!wl,xg=Zn&&(!Td||wl&&8<wl&&11>=wl),vg=" ",wg=!1;function Sg(r,l){switch(r){case"keyup":return DE.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kg(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var gs=!1;function LE(r,l){switch(r){case"compositionend":return kg(l);case"keypress":return l.which!==32?null:(wg=!0,vg);case"textInput":return r=l.data,r===vg&&wg?null:r;default:return null}}function _E(r,l){if(gs)return r==="compositionend"||!Td&&Sg(r,l)?(r=pg(),oo=wd=Mi=null,gs=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return xg&&l.locale!=="ko"?null:l.data;default:return null}}var BE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Eg(r){var l=r&&r.nodeName&&r.nodeName.toLowerCase();return l==="input"?!!BE[r.type]:l==="textarea"}function Ng(r,l,o,d){ps?ms?ms.push(d):ms=[d]:ps=d,l=nc(l,"onChange"),0<l.length&&(o=new fo("onChange","change",null,o,d),r.push({event:o,listeners:l}))}var Sl=null,kl=null;function HE(r){a0(r,0)}function po(r){var l=gl(r);if(lg(l))return r}function Tg(r,l){if(r==="change")return l}var Cg=!1;if(Zn){var Cd;if(Zn){var Ad="oninput"in document;if(!Ad){var Ag=document.createElement("div");Ag.setAttribute("oninput","return;"),Ad=typeof Ag.oninput=="function"}Cd=Ad}else Cd=!1;Cg=Cd&&(!document.documentMode||9<document.documentMode)}function Mg(){Sl&&(Sl.detachEvent("onpropertychange",Og),kl=Sl=null)}function Og(r){if(r.propertyName==="value"&&po(kl)){var l=[];Ng(l,kl,r,bd(r)),hg(HE,l)}}function UE(r,l,o){r==="focusin"?(Mg(),Sl=l,kl=o,Sl.attachEvent("onpropertychange",Og)):r==="focusout"&&Mg()}function qE(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return po(kl)}function IE(r,l){if(r==="click")return po(l)}function PE(r,l){if(r==="input"||r==="change")return po(l)}function VE(r,l){return r===l&&(r!==0||1/r===1/l)||r!==r&&l!==l}var rn=typeof Object.is=="function"?Object.is:VE;function El(r,l){if(rn(r,l))return!0;if(typeof r!="object"||r===null||typeof l!="object"||l===null)return!1;var o=Object.keys(r),d=Object.keys(l);if(o.length!==d.length)return!1;for(d=0;d<o.length;d++){var m=o[d];if(!sd.call(l,m)||!rn(r[m],l[m]))return!1}return!0}function Rg(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function jg(r,l){var o=Rg(r);r=0;for(var d;o;){if(o.nodeType===3){if(d=r+o.textContent.length,r<=l&&d>=l)return{node:o,offset:l-r};r=d}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Rg(o)}}function Dg(r,l){return r&&l?r===l?!0:r&&r.nodeType===3?!1:l&&l.nodeType===3?Dg(r,l.parentNode):"contains"in r?r.contains(l):r.compareDocumentPosition?!!(r.compareDocumentPosition(l)&16):!1:!1}function zg(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var l=lo(r.document);l instanceof r.HTMLIFrameElement;){try{var o=typeof l.contentWindow.location.href=="string"}catch{o=!1}if(o)r=l.contentWindow;else break;l=lo(r.document)}return l}function Md(r){var l=r&&r.nodeName&&r.nodeName.toLowerCase();return l&&(l==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||l==="textarea"||r.contentEditable==="true")}var $E=Zn&&"documentMode"in document&&11>=document.documentMode,ys=null,Od=null,Nl=null,Rd=!1;function Lg(r,l,o){var d=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Rd||ys==null||ys!==lo(d)||(d=ys,"selectionStart"in d&&Md(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Nl&&El(Nl,d)||(Nl=d,d=nc(Od,"onSelect"),0<d.length&&(l=new fo("onSelect","select",null,l,o),r.push({event:l,listeners:d}),l.target=ys)))}function wr(r,l){var o={};return o[r.toLowerCase()]=l.toLowerCase(),o["Webkit"+r]="webkit"+l,o["Moz"+r]="moz"+l,o}var bs={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionrun:wr("Transition","TransitionRun"),transitionstart:wr("Transition","TransitionStart"),transitioncancel:wr("Transition","TransitionCancel"),transitionend:wr("Transition","TransitionEnd")},jd={},_g={};Zn&&(_g=document.createElement("div").style,"AnimationEvent"in window||(delete bs.animationend.animation,delete bs.animationiteration.animation,delete bs.animationstart.animation),"TransitionEvent"in window||delete bs.transitionend.transition);function Sr(r){if(jd[r])return jd[r];if(!bs[r])return r;var l=bs[r],o;for(o in l)if(l.hasOwnProperty(o)&&o in _g)return jd[r]=l[o];return r}var Bg=Sr("animationend"),Hg=Sr("animationiteration"),Ug=Sr("animationstart"),FE=Sr("transitionrun"),KE=Sr("transitionstart"),GE=Sr("transitioncancel"),qg=Sr("transitionend"),Ig=new Map,Dd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Dd.push("scrollEnd");function Rn(r,l){Ig.set(r,l),xr(l,[r])}var mo=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)},mn=[],xs=0,zd=0;function go(){for(var r=xs,l=zd=xs=0;l<r;){var o=mn[l];mn[l++]=null;var d=mn[l];mn[l++]=null;var m=mn[l];mn[l++]=null;var y=mn[l];if(mn[l++]=null,d!==null&&m!==null){var S=d.pending;S===null?m.next=m:(m.next=S.next,S.next=m),d.pending=m}y!==0&&Pg(o,m,y)}}function yo(r,l,o,d){mn[xs++]=r,mn[xs++]=l,mn[xs++]=o,mn[xs++]=d,zd|=d,r.lanes|=d,r=r.alternate,r!==null&&(r.lanes|=d)}function Ld(r,l,o,d){return yo(r,l,o,d),bo(r)}function kr(r,l){return yo(r,null,null,l),bo(r)}function Pg(r,l,o){r.lanes|=o;var d=r.alternate;d!==null&&(d.lanes|=o);for(var m=!1,y=r.return;y!==null;)y.childLanes|=o,d=y.alternate,d!==null&&(d.childLanes|=o),y.tag===22&&(r=y.stateNode,r===null||r._visibility&1||(m=!0)),r=y,y=y.return;return r.tag===3?(y=r.stateNode,m&&l!==null&&(m=31-nn(o),r=y.hiddenUpdates,d=r[m],d===null?r[m]=[l]:d.push(l),l.lane=o|536870912),y):null}function bo(r){if(50<Gl)throw Gl=0,Ff=null,Error(i(185));for(var l=r.return;l!==null;)r=l,l=r.return;return r.tag===3?r.stateNode:null}var vs={};function YE(r,l,o,d){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sn(r,l,o,d){return new YE(r,l,o,d)}function _d(r){return r=r.prototype,!(!r||!r.isReactComponent)}function ei(r,l){var o=r.alternate;return o===null?(o=sn(r.tag,l,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=l,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&65011712,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,l=r.dependencies,o.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function Vg(r,l){r.flags&=65011714;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=l,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,l=o.dependencies,r.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),r}function xo(r,l,o,d,m,y){var S=0;if(d=r,typeof r=="function")_d(r)&&(S=1);else if(typeof r=="string")S=ZN(r,o,te.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case Z:return r=sn(31,o,l,m),r.elementType=Z,r.lanes=y,r;case k:return Er(o.children,m,y,l);case E:S=8,m|=24;break;case T:return r=sn(12,o,l,m|2),r.elementType=T,r.lanes=y,r;case z:return r=sn(13,o,l,m),r.elementType=z,r.lanes=y,r;case V:return r=sn(19,o,l,m),r.elementType=V,r.lanes=y,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case j:S=10;break e;case A:S=9;break e;case U:S=11;break e;case L:S=14;break e;case K:S=16,d=null;break e}S=29,o=Error(i(130,r===null?"null":typeof r,"")),d=null}return l=sn(S,o,l,m),l.elementType=r,l.type=d,l.lanes=y,l}function Er(r,l,o,d){return r=sn(7,r,d,l),r.lanes=o,r}function Bd(r,l,o){return r=sn(6,r,null,l),r.lanes=o,r}function $g(r){var l=sn(18,null,null,0);return l.stateNode=r,l}function Hd(r,l,o){return l=sn(4,r.children!==null?r.children:[],r.key,l),l.lanes=o,l.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},l}var Fg=new WeakMap;function gn(r,l){if(typeof r=="object"&&r!==null){var o=Fg.get(r);return o!==void 0?o:(l={value:r,source:l,stack:$m(l)},Fg.set(r,l),l)}return{value:r,source:l,stack:$m(l)}}var ws=[],Ss=0,vo=null,Tl=0,yn=[],bn=0,Oi=null,qn=1,In="";function ti(r,l){ws[Ss++]=Tl,ws[Ss++]=vo,vo=r,Tl=l}function Kg(r,l,o){yn[bn++]=qn,yn[bn++]=In,yn[bn++]=Oi,Oi=r;var d=qn;r=In;var m=32-nn(d)-1;d&=~(1<<m),o+=1;var y=32-nn(l)+m;if(30<y){var S=m-m%5;y=(d&(1<<S)-1).toString(32),d>>=S,m-=S,qn=1<<32-nn(l)+m|o<<m|d,In=y+r}else qn=1<<y|o<<m|d,In=r}function Ud(r){r.return!==null&&(ti(r,1),Kg(r,1,0))}function qd(r){for(;r===vo;)vo=ws[--Ss],ws[Ss]=null,Tl=ws[--Ss],ws[Ss]=null;for(;r===Oi;)Oi=yn[--bn],yn[bn]=null,In=yn[--bn],yn[bn]=null,qn=yn[--bn],yn[bn]=null}function Gg(r,l){yn[bn++]=qn,yn[bn++]=In,yn[bn++]=Oi,qn=l.id,In=l.overflow,Oi=r}var Nt=null,$e=null,Ee=!1,Ri=null,xn=!1,Id=Error(i(519));function ji(r){var l=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Cl(gn(l,r)),Id}function Yg(r){var l=r.stateNode,o=r.type,d=r.memoizedProps;switch(l[Et]=r,l[Vt]=d,o){case"dialog":we("cancel",l),we("close",l);break;case"iframe":case"object":case"embed":we("load",l);break;case"video":case"audio":for(o=0;o<Jl.length;o++)we(Jl[o],l);break;case"source":we("error",l);break;case"img":case"image":case"link":we("error",l),we("load",l);break;case"details":we("toggle",l);break;case"input":we("invalid",l),ag(l,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0);break;case"select":we("invalid",l);break;case"textarea":we("invalid",l),cg(l,d.value,d.defaultValue,d.children)}o=d.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||l.textContent===""+o||d.suppressHydrationWarning===!0||d0(l.textContent,o)?(d.popover!=null&&(we("beforetoggle",l),we("toggle",l)),d.onScroll!=null&&we("scroll",l),d.onScrollEnd!=null&&we("scrollend",l),d.onClick!=null&&(l.onclick=Qn),l=!0):l=!1,l||ji(r,!0)}function Jg(r){for(Nt=r.return;Nt;)switch(Nt.tag){case 5:case 31:case 13:xn=!1;return;case 27:case 3:xn=!0;return;default:Nt=Nt.return}}function ks(r){if(r!==Nt)return!1;if(!Ee)return Jg(r),Ee=!0,!1;var l=r.tag,o;if((o=l!==3&&l!==27)&&((o=l===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||lh(r.type,r.memoizedProps)),o=!o),o&&$e&&ji(r),Jg(r),l===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));$e=v0(r)}else if(l===31){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));$e=v0(r)}else l===27?(l=$e,Ki(r.type)?(r=dh,dh=null,$e=r):$e=l):$e=Nt?wn(r.stateNode.nextSibling):null;return!0}function Nr(){$e=Nt=null,Ee=!1}function Pd(){var r=Ri;return r!==null&&(Yt===null?Yt=r:Yt.push.apply(Yt,r),Ri=null),r}function Cl(r){Ri===null?Ri=[r]:Ri.push(r)}var Vd=O(null),Tr=null,ni=null;function Di(r,l,o){Q(Vd,l._currentValue),l._currentValue=o}function ii(r){r._currentValue=Vd.current,G(Vd)}function $d(r,l,o){for(;r!==null;){var d=r.alternate;if((r.childLanes&l)!==l?(r.childLanes|=l,d!==null&&(d.childLanes|=l)):d!==null&&(d.childLanes&l)!==l&&(d.childLanes|=l),r===o)break;r=r.return}}function Fd(r,l,o,d){var m=r.child;for(m!==null&&(m.return=r);m!==null;){var y=m.dependencies;if(y!==null){var S=m.child;y=y.firstContext;e:for(;y!==null;){var N=y;y=m;for(var M=0;M<l.length;M++)if(N.context===l[M]){y.lanes|=o,N=y.alternate,N!==null&&(N.lanes|=o),$d(y.return,o,r),d||(S=null);break e}y=N.next}}else if(m.tag===18){if(S=m.return,S===null)throw Error(i(341));S.lanes|=o,y=S.alternate,y!==null&&(y.lanes|=o),$d(S,o,r),S=null}else S=m.child;if(S!==null)S.return=m;else for(S=m;S!==null;){if(S===r){S=null;break}if(m=S.sibling,m!==null){m.return=S.return,S=m;break}S=S.return}m=S}}function Es(r,l,o,d){r=null;for(var m=l,y=!1;m!==null;){if(!y){if((m.flags&524288)!==0)y=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var S=m.alternate;if(S===null)throw Error(i(387));if(S=S.memoizedProps,S!==null){var N=m.type;rn(m.pendingProps.value,S.value)||(r!==null?r.push(N):r=[N])}}else if(m===De.current){if(S=m.alternate,S===null)throw Error(i(387));S.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(r!==null?r.push(ea):r=[ea])}m=m.return}r!==null&&Fd(l,r,o,d),l.flags|=262144}function wo(r){for(r=r.firstContext;r!==null;){if(!rn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Cr(r){Tr=r,ni=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Tt(r){return Xg(Tr,r)}function So(r,l){return Tr===null&&Cr(r),Xg(r,l)}function Xg(r,l){var o=l._currentValue;if(l={context:l,memoizedValue:o,next:null},ni===null){if(r===null)throw Error(i(308));ni=l,r.dependencies={lanes:0,firstContext:l},r.flags|=524288}else ni=ni.next=l;return o}var JE=typeof AbortController<"u"?AbortController:function(){var r=[],l=this.signal={aborted:!1,addEventListener:function(o,d){r.push(d)}};this.abort=function(){l.aborted=!0,r.forEach(function(o){return o()})}},XE=t.unstable_scheduleCallback,WE=t.unstable_NormalPriority,ct={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Kd(){return{controller:new JE,data:new Map,refCount:0}}function Al(r){r.refCount--,r.refCount===0&&XE(WE,function(){r.controller.abort()})}var Ml=null,Gd=0,Ns=0,Ts=null;function QE(r,l){if(Ml===null){var o=Ml=[];Gd=0,Ns=Wf(),Ts={status:"pending",value:void 0,then:function(d){o.push(d)}}}return Gd++,l.then(Wg,Wg),l}function Wg(){if(--Gd===0&&Ml!==null){Ts!==null&&(Ts.status="fulfilled");var r=Ml;Ml=null,Ns=0,Ts=null;for(var l=0;l<r.length;l++)(0,r[l])()}}function ZE(r,l){var o=[],d={status:"pending",value:null,reason:null,then:function(m){o.push(m)}};return r.then(function(){d.status="fulfilled",d.value=l;for(var m=0;m<o.length;m++)(0,o[m])(l)},function(m){for(d.status="rejected",d.reason=m,m=0;m<o.length;m++)(0,o[m])(void 0)}),d}var Qg=q.S;q.S=function(r,l){Lb=en(),typeof l=="object"&&l!==null&&typeof l.then=="function"&&QE(r,l),Qg!==null&&Qg(r,l)};var Ar=O(null);function Yd(){var r=Ar.current;return r!==null?r:Ie.pooledCache}function ko(r,l){l===null?Q(Ar,Ar.current):Q(Ar,l.pool)}function Zg(){var r=Yd();return r===null?null:{parent:ct._currentValue,pool:r}}var Cs=Error(i(460)),Jd=Error(i(474)),Eo=Error(i(542)),No={then:function(){}};function ey(r){return r=r.status,r==="fulfilled"||r==="rejected"}function ty(r,l,o){switch(o=r[o],o===void 0?r.push(l):o!==l&&(l.then(Qn,Qn),l=o),l.status){case"fulfilled":return l.value;case"rejected":throw r=l.reason,iy(r),r;default:if(typeof l.status=="string")l.then(Qn,Qn);else{if(r=Ie,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=l,r.status="pending",r.then(function(d){if(l.status==="pending"){var m=l;m.status="fulfilled",m.value=d}},function(d){if(l.status==="pending"){var m=l;m.status="rejected",m.reason=d}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw r=l.reason,iy(r),r}throw Or=l,Cs}}function Mr(r){try{var l=r._init;return l(r._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Or=o,Cs):o}}var Or=null;function ny(){if(Or===null)throw Error(i(459));var r=Or;return Or=null,r}function iy(r){if(r===Cs||r===Eo)throw Error(i(483))}var As=null,Ol=0;function To(r){var l=Ol;return Ol+=1,As===null&&(As=[]),ty(As,r,l)}function Rl(r,l){l=l.props.ref,r.ref=l!==void 0?l:null}function Co(r,l){throw l.$$typeof===x?Error(i(525)):(r=Object.prototype.toString.call(l),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":r)))}function ry(r){function l(D,R){if(r){var _=D.deletions;_===null?(D.deletions=[R],D.flags|=16):_.push(R)}}function o(D,R){if(!r)return null;for(;R!==null;)l(D,R),R=R.sibling;return null}function d(D){for(var R=new Map;D!==null;)D.key!==null?R.set(D.key,D):R.set(D.index,D),D=D.sibling;return R}function m(D,R){return D=ei(D,R),D.index=0,D.sibling=null,D}function y(D,R,_){return D.index=_,r?(_=D.alternate,_!==null?(_=_.index,_<R?(D.flags|=67108866,R):_):(D.flags|=67108866,R)):(D.flags|=1048576,R)}function S(D){return r&&D.alternate===null&&(D.flags|=67108866),D}function N(D,R,_,F){return R===null||R.tag!==6?(R=Bd(_,D.mode,F),R.return=D,R):(R=m(R,_),R.return=D,R)}function M(D,R,_,F){var ae=_.type;return ae===k?$(D,R,_.props.children,F,_.key):R!==null&&(R.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===K&&Mr(ae)===R.type)?(R=m(R,_.props),Rl(R,_),R.return=D,R):(R=xo(_.type,_.key,_.props,null,D.mode,F),Rl(R,_),R.return=D,R)}function B(D,R,_,F){return R===null||R.tag!==4||R.stateNode.containerInfo!==_.containerInfo||R.stateNode.implementation!==_.implementation?(R=Hd(_,D.mode,F),R.return=D,R):(R=m(R,_.children||[]),R.return=D,R)}function $(D,R,_,F,ae){return R===null||R.tag!==7?(R=Er(_,D.mode,F,ae),R.return=D,R):(R=m(R,_),R.return=D,R)}function Y(D,R,_){if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return R=Bd(""+R,D.mode,_),R.return=D,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case v:return _=xo(R.type,R.key,R.props,null,D.mode,_),Rl(_,R),_.return=D,_;case w:return R=Hd(R,D.mode,_),R.return=D,R;case K:return R=Mr(R),Y(D,R,_)}if(Te(R)||re(R))return R=Er(R,D.mode,_,null),R.return=D,R;if(typeof R.then=="function")return Y(D,To(R),_);if(R.$$typeof===j)return Y(D,So(D,R),_);Co(D,R)}return null}function H(D,R,_,F){var ae=R!==null?R.key:null;if(typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint")return ae!==null?null:N(D,R,""+_,F);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case v:return _.key===ae?M(D,R,_,F):null;case w:return _.key===ae?B(D,R,_,F):null;case K:return _=Mr(_),H(D,R,_,F)}if(Te(_)||re(_))return ae!==null?null:$(D,R,_,F,null);if(typeof _.then=="function")return H(D,R,To(_),F);if(_.$$typeof===j)return H(D,R,So(D,_),F);Co(D,_)}return null}function I(D,R,_,F,ae){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return D=D.get(_)||null,N(R,D,""+F,ae);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case v:return D=D.get(F.key===null?_:F.key)||null,M(R,D,F,ae);case w:return D=D.get(F.key===null?_:F.key)||null,B(R,D,F,ae);case K:return F=Mr(F),I(D,R,_,F,ae)}if(Te(F)||re(F))return D=D.get(_)||null,$(R,D,F,ae,null);if(typeof F.then=="function")return I(D,R,_,To(F),ae);if(F.$$typeof===j)return I(D,R,_,So(R,F),ae);Co(R,F)}return null}function ne(D,R,_,F){for(var ae=null,Ce=null,ie=R,ge=R=0,ke=null;ie!==null&&ge<_.length;ge++){ie.index>ge?(ke=ie,ie=null):ke=ie.sibling;var Ae=H(D,ie,_[ge],F);if(Ae===null){ie===null&&(ie=ke);break}r&&ie&&Ae.alternate===null&&l(D,ie),R=y(Ae,R,ge),Ce===null?ae=Ae:Ce.sibling=Ae,Ce=Ae,ie=ke}if(ge===_.length)return o(D,ie),Ee&&ti(D,ge),ae;if(ie===null){for(;ge<_.length;ge++)ie=Y(D,_[ge],F),ie!==null&&(R=y(ie,R,ge),Ce===null?ae=ie:Ce.sibling=ie,Ce=ie);return Ee&&ti(D,ge),ae}for(ie=d(ie);ge<_.length;ge++)ke=I(ie,D,ge,_[ge],F),ke!==null&&(r&&ke.alternate!==null&&ie.delete(ke.key===null?ge:ke.key),R=y(ke,R,ge),Ce===null?ae=ke:Ce.sibling=ke,Ce=ke);return r&&ie.forEach(function(Wi){return l(D,Wi)}),Ee&&ti(D,ge),ae}function ce(D,R,_,F){if(_==null)throw Error(i(151));for(var ae=null,Ce=null,ie=R,ge=R=0,ke=null,Ae=_.next();ie!==null&&!Ae.done;ge++,Ae=_.next()){ie.index>ge?(ke=ie,ie=null):ke=ie.sibling;var Wi=H(D,ie,Ae.value,F);if(Wi===null){ie===null&&(ie=ke);break}r&&ie&&Wi.alternate===null&&l(D,ie),R=y(Wi,R,ge),Ce===null?ae=Wi:Ce.sibling=Wi,Ce=Wi,ie=ke}if(Ae.done)return o(D,ie),Ee&&ti(D,ge),ae;if(ie===null){for(;!Ae.done;ge++,Ae=_.next())Ae=Y(D,Ae.value,F),Ae!==null&&(R=y(Ae,R,ge),Ce===null?ae=Ae:Ce.sibling=Ae,Ce=Ae);return Ee&&ti(D,ge),ae}for(ie=d(ie);!Ae.done;ge++,Ae=_.next())Ae=I(ie,D,ge,Ae.value,F),Ae!==null&&(r&&Ae.alternate!==null&&ie.delete(Ae.key===null?ge:Ae.key),R=y(Ae,R,ge),Ce===null?ae=Ae:Ce.sibling=Ae,Ce=Ae);return r&&ie.forEach(function(uT){return l(D,uT)}),Ee&&ti(D,ge),ae}function Ue(D,R,_,F){if(typeof _=="object"&&_!==null&&_.type===k&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case v:e:{for(var ae=_.key;R!==null;){if(R.key===ae){if(ae=_.type,ae===k){if(R.tag===7){o(D,R.sibling),F=m(R,_.props.children),F.return=D,D=F;break e}}else if(R.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===K&&Mr(ae)===R.type){o(D,R.sibling),F=m(R,_.props),Rl(F,_),F.return=D,D=F;break e}o(D,R);break}else l(D,R);R=R.sibling}_.type===k?(F=Er(_.props.children,D.mode,F,_.key),F.return=D,D=F):(F=xo(_.type,_.key,_.props,null,D.mode,F),Rl(F,_),F.return=D,D=F)}return S(D);case w:e:{for(ae=_.key;R!==null;){if(R.key===ae)if(R.tag===4&&R.stateNode.containerInfo===_.containerInfo&&R.stateNode.implementation===_.implementation){o(D,R.sibling),F=m(R,_.children||[]),F.return=D,D=F;break e}else{o(D,R);break}else l(D,R);R=R.sibling}F=Hd(_,D.mode,F),F.return=D,D=F}return S(D);case K:return _=Mr(_),Ue(D,R,_,F)}if(Te(_))return ne(D,R,_,F);if(re(_)){if(ae=re(_),typeof ae!="function")throw Error(i(150));return _=ae.call(_),ce(D,R,_,F)}if(typeof _.then=="function")return Ue(D,R,To(_),F);if(_.$$typeof===j)return Ue(D,R,So(D,_),F);Co(D,_)}return typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint"?(_=""+_,R!==null&&R.tag===6?(o(D,R.sibling),F=m(R,_),F.return=D,D=F):(o(D,R),F=Bd(_,D.mode,F),F.return=D,D=F),S(D)):o(D,R)}return function(D,R,_,F){try{Ol=0;var ae=Ue(D,R,_,F);return As=null,ae}catch(ie){if(ie===Cs||ie===Eo)throw ie;var Ce=sn(29,ie,null,D.mode);return Ce.lanes=F,Ce.return=D,Ce}}}var Rr=ry(!0),sy=ry(!1),zi=!1;function Xd(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Wd(r,l){r=r.updateQueue,l.updateQueue===r&&(l.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Li(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function _i(r,l,o){var d=r.updateQueue;if(d===null)return null;if(d=d.shared,(Re&2)!==0){var m=d.pending;return m===null?l.next=l:(l.next=m.next,m.next=l),d.pending=l,l=bo(r),Pg(r,null,o),l}return yo(r,d,l,o),bo(r)}function jl(r,l,o){if(l=l.updateQueue,l!==null&&(l=l.shared,(o&4194048)!==0)){var d=l.lanes;d&=r.pendingLanes,o|=d,l.lanes=o,Xm(r,o)}}function Qd(r,l){var o=r.updateQueue,d=r.alternate;if(d!==null&&(d=d.updateQueue,o===d)){var m=null,y=null;if(o=o.firstBaseUpdate,o!==null){do{var S={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};y===null?m=y=S:y=y.next=S,o=o.next}while(o!==null);y===null?m=y=l:y=y.next=l}else m=y=l;o={baseState:d.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:d.shared,callbacks:d.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=l:r.next=l,o.lastBaseUpdate=l}var Zd=!1;function Dl(){if(Zd){var r=Ts;if(r!==null)throw r}}function zl(r,l,o,d){Zd=!1;var m=r.updateQueue;zi=!1;var y=m.firstBaseUpdate,S=m.lastBaseUpdate,N=m.shared.pending;if(N!==null){m.shared.pending=null;var M=N,B=M.next;M.next=null,S===null?y=B:S.next=B,S=M;var $=r.alternate;$!==null&&($=$.updateQueue,N=$.lastBaseUpdate,N!==S&&(N===null?$.firstBaseUpdate=B:N.next=B,$.lastBaseUpdate=M))}if(y!==null){var Y=m.baseState;S=0,$=B=M=null,N=y;do{var H=N.lane&-536870913,I=H!==N.lane;if(I?(Se&H)===H:(d&H)===H){H!==0&&H===Ns&&(Zd=!0),$!==null&&($=$.next={lane:0,tag:N.tag,payload:N.payload,callback:null,next:null});e:{var ne=r,ce=N;H=l;var Ue=o;switch(ce.tag){case 1:if(ne=ce.payload,typeof ne=="function"){Y=ne.call(Ue,Y,H);break e}Y=ne;break e;case 3:ne.flags=ne.flags&-65537|128;case 0:if(ne=ce.payload,H=typeof ne=="function"?ne.call(Ue,Y,H):ne,H==null)break e;Y=g({},Y,H);break e;case 2:zi=!0}}H=N.callback,H!==null&&(r.flags|=64,I&&(r.flags|=8192),I=m.callbacks,I===null?m.callbacks=[H]:I.push(H))}else I={lane:H,tag:N.tag,payload:N.payload,callback:N.callback,next:null},$===null?(B=$=I,M=Y):$=$.next=I,S|=H;if(N=N.next,N===null){if(N=m.shared.pending,N===null)break;I=N,N=I.next,I.next=null,m.lastBaseUpdate=I,m.shared.pending=null}}while(!0);$===null&&(M=Y),m.baseState=M,m.firstBaseUpdate=B,m.lastBaseUpdate=$,y===null&&(m.shared.lanes=0),Ii|=S,r.lanes=S,r.memoizedState=Y}}function ly(r,l){if(typeof r!="function")throw Error(i(191,r));r.call(l)}function ay(r,l){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)ly(o[r],l)}var Ms=O(null),Ao=O(0);function oy(r,l){r=fi,Q(Ao,r),Q(Ms,l),fi=r|l.baseLanes}function ef(){Q(Ao,fi),Q(Ms,Ms.current)}function tf(){fi=Ao.current,G(Ms),G(Ao)}var ln=O(null),vn=null;function Bi(r){var l=r.alternate;Q(lt,lt.current&1),Q(ln,r),vn===null&&(l===null||Ms.current!==null||l.memoizedState!==null)&&(vn=r)}function nf(r){Q(lt,lt.current),Q(ln,r),vn===null&&(vn=r)}function cy(r){r.tag===22?(Q(lt,lt.current),Q(ln,r),vn===null&&(vn=r)):Hi()}function Hi(){Q(lt,lt.current),Q(ln,ln.current)}function an(r){G(ln),vn===r&&(vn=null),G(lt)}var lt=O(0);function Mo(r){for(var l=r;l!==null;){if(l.tag===13){var o=l.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||ch(o)||uh(o)))return l}else if(l.tag===19&&(l.memoizedProps.revealOrder==="forwards"||l.memoizedProps.revealOrder==="backwards"||l.memoizedProps.revealOrder==="unstable_legacy-backwards"||l.memoizedProps.revealOrder==="together")){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===r)break;for(;l.sibling===null;){if(l.return===null||l.return===r)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var ri=0,me=null,Be=null,ut=null,Oo=!1,Os=!1,jr=!1,Ro=0,Ll=0,Rs=null,eN=0;function Qe(){throw Error(i(321))}function rf(r,l){if(l===null)return!1;for(var o=0;o<l.length&&o<r.length;o++)if(!rn(r[o],l[o]))return!1;return!0}function sf(r,l,o,d,m,y){return ri=y,me=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,q.H=r===null||r.memoizedState===null?Ky:vf,jr=!1,y=o(d,m),jr=!1,Os&&(y=dy(l,o,d,m)),uy(r),y}function uy(r){q.H=Hl;var l=Be!==null&&Be.next!==null;if(ri=0,ut=Be=me=null,Oo=!1,Ll=0,Rs=null,l)throw Error(i(300));r===null||dt||(r=r.dependencies,r!==null&&wo(r)&&(dt=!0))}function dy(r,l,o,d){me=r;var m=0;do{if(Os&&(Rs=null),Ll=0,Os=!1,25<=m)throw Error(i(301));if(m+=1,ut=Be=null,r.updateQueue!=null){var y=r.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}q.H=Gy,y=l(o,d)}while(Os);return y}function tN(){var r=q.H,l=r.useState()[0];return l=typeof l.then=="function"?_l(l):l,r=r.useState()[0],(Be!==null?Be.memoizedState:null)!==r&&(me.flags|=1024),l}function lf(){var r=Ro!==0;return Ro=0,r}function af(r,l,o){l.updateQueue=r.updateQueue,l.flags&=-2053,r.lanes&=~o}function of(r){if(Oo){for(r=r.memoizedState;r!==null;){var l=r.queue;l!==null&&(l.pending=null),r=r.next}Oo=!1}ri=0,ut=Be=me=null,Os=!1,Ll=Ro=0,Rs=null}function Ht(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ut===null?me.memoizedState=ut=r:ut=ut.next=r,ut}function at(){if(Be===null){var r=me.alternate;r=r!==null?r.memoizedState:null}else r=Be.next;var l=ut===null?me.memoizedState:ut.next;if(l!==null)ut=l,Be=r;else{if(r===null)throw me.alternate===null?Error(i(467)):Error(i(310));Be=r,r={memoizedState:Be.memoizedState,baseState:Be.baseState,baseQueue:Be.baseQueue,queue:Be.queue,next:null},ut===null?me.memoizedState=ut=r:ut=ut.next=r}return ut}function jo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function _l(r){var l=Ll;return Ll+=1,Rs===null&&(Rs=[]),r=ty(Rs,r,l),l=me,(ut===null?l.memoizedState:ut.next)===null&&(l=l.alternate,q.H=l===null||l.memoizedState===null?Ky:vf),r}function Do(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return _l(r);if(r.$$typeof===j)return Tt(r)}throw Error(i(438,String(r)))}function cf(r){var l=null,o=me.updateQueue;if(o!==null&&(l=o.memoCache),l==null){var d=me.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(l={data:d.data.map(function(m){return m.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),o===null&&(o=jo(),me.updateQueue=o),o.memoCache=l,o=l.data[l.index],o===void 0)for(o=l.data[l.index]=Array(r),d=0;d<r;d++)o[d]=he;return l.index++,o}function si(r,l){return typeof l=="function"?l(r):l}function zo(r){var l=at();return uf(l,Be,r)}function uf(r,l,o){var d=r.queue;if(d===null)throw Error(i(311));d.lastRenderedReducer=o;var m=r.baseQueue,y=d.pending;if(y!==null){if(m!==null){var S=m.next;m.next=y.next,y.next=S}l.baseQueue=m=y,d.pending=null}if(y=r.baseState,m===null)r.memoizedState=y;else{l=m.next;var N=S=null,M=null,B=l,$=!1;do{var Y=B.lane&-536870913;if(Y!==B.lane?(Se&Y)===Y:(ri&Y)===Y){var H=B.revertLane;if(H===0)M!==null&&(M=M.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),Y===Ns&&($=!0);else if((ri&H)===H){B=B.next,H===Ns&&($=!0);continue}else Y={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},M===null?(N=M=Y,S=y):M=M.next=Y,me.lanes|=H,Ii|=H;Y=B.action,jr&&o(y,Y),y=B.hasEagerState?B.eagerState:o(y,Y)}else H={lane:Y,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},M===null?(N=M=H,S=y):M=M.next=H,me.lanes|=Y,Ii|=Y;B=B.next}while(B!==null&&B!==l);if(M===null?S=y:M.next=N,!rn(y,r.memoizedState)&&(dt=!0,$&&(o=Ts,o!==null)))throw o;r.memoizedState=y,r.baseState=S,r.baseQueue=M,d.lastRenderedState=y}return m===null&&(d.lanes=0),[r.memoizedState,d.dispatch]}function df(r){var l=at(),o=l.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=r;var d=o.dispatch,m=o.pending,y=l.memoizedState;if(m!==null){o.pending=null;var S=m=m.next;do y=r(y,S.action),S=S.next;while(S!==m);rn(y,l.memoizedState)||(dt=!0),l.memoizedState=y,l.baseQueue===null&&(l.baseState=y),o.lastRenderedState=y}return[y,d]}function fy(r,l,o){var d=me,m=at(),y=Ee;if(y){if(o===void 0)throw Error(i(407));o=o()}else o=l();var S=!rn((Be||m).memoizedState,o);if(S&&(m.memoizedState=o,dt=!0),m=m.queue,pf(my.bind(null,d,m,r),[r]),m.getSnapshot!==l||S||ut!==null&&ut.memoizedState.tag&1){if(d.flags|=2048,js(9,{destroy:void 0},py.bind(null,d,m,o,l),null),Ie===null)throw Error(i(349));y||(ri&127)!==0||hy(d,l,o)}return o}function hy(r,l,o){r.flags|=16384,r={getSnapshot:l,value:o},l=me.updateQueue,l===null?(l=jo(),me.updateQueue=l,l.stores=[r]):(o=l.stores,o===null?l.stores=[r]:o.push(r))}function py(r,l,o,d){l.value=o,l.getSnapshot=d,gy(l)&&yy(r)}function my(r,l,o){return o(function(){gy(l)&&yy(r)})}function gy(r){var l=r.getSnapshot;r=r.value;try{var o=l();return!rn(r,o)}catch{return!0}}function yy(r){var l=kr(r,2);l!==null&&Jt(l,r,2)}function ff(r){var l=Ht();if(typeof r=="function"){var o=r;if(r=o(),jr){Ci(!0);try{o()}finally{Ci(!1)}}}return l.memoizedState=l.baseState=r,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:si,lastRenderedState:r},l}function by(r,l,o,d){return r.baseState=o,uf(r,Be,typeof d=="function"?d:si)}function nN(r,l,o,d,m){if(Bo(r))throw Error(i(485));if(r=l.action,r!==null){var y={payload:m,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){y.listeners.push(S)}};q.T!==null?o(!0):y.isTransition=!1,d(y),o=l.pending,o===null?(y.next=l.pending=y,xy(l,y)):(y.next=o.next,l.pending=o.next=y)}}function xy(r,l){var o=l.action,d=l.payload,m=r.state;if(l.isTransition){var y=q.T,S={};q.T=S;try{var N=o(m,d),M=q.S;M!==null&&M(S,N),vy(r,l,N)}catch(B){hf(r,l,B)}finally{y!==null&&S.types!==null&&(y.types=S.types),q.T=y}}else try{y=o(m,d),vy(r,l,y)}catch(B){hf(r,l,B)}}function vy(r,l,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(d){wy(r,l,d)},function(d){return hf(r,l,d)}):wy(r,l,o)}function wy(r,l,o){l.status="fulfilled",l.value=o,Sy(l),r.state=o,l=r.pending,l!==null&&(o=l.next,o===l?r.pending=null:(o=o.next,l.next=o,xy(r,o)))}function hf(r,l,o){var d=r.pending;if(r.pending=null,d!==null){d=d.next;do l.status="rejected",l.reason=o,Sy(l),l=l.next;while(l!==d)}r.action=null}function Sy(r){r=r.listeners;for(var l=0;l<r.length;l++)(0,r[l])()}function ky(r,l){return l}function Ey(r,l){if(Ee){var o=Ie.formState;if(o!==null){e:{var d=me;if(Ee){if($e){t:{for(var m=$e,y=xn;m.nodeType!==8;){if(!y){m=null;break t}if(m=wn(m.nextSibling),m===null){m=null;break t}}y=m.data,m=y==="F!"||y==="F"?m:null}if(m){$e=wn(m.nextSibling),d=m.data==="F!";break e}}ji(d)}d=!1}d&&(l=o[0])}}return o=Ht(),o.memoizedState=o.baseState=l,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ky,lastRenderedState:l},o.queue=d,o=Vy.bind(null,me,d),d.dispatch=o,d=ff(!1),y=xf.bind(null,me,!1,d.queue),d=Ht(),m={state:l,dispatch:null,action:r,pending:null},d.queue=m,o=nN.bind(null,me,m,y,o),m.dispatch=o,d.memoizedState=r,[l,o,!1]}function Ny(r){var l=at();return Ty(l,Be,r)}function Ty(r,l,o){if(l=uf(r,l,ky)[0],r=zo(si)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var d=_l(l)}catch(S){throw S===Cs?Eo:S}else d=l;l=at();var m=l.queue,y=m.dispatch;return o!==l.memoizedState&&(me.flags|=2048,js(9,{destroy:void 0},iN.bind(null,m,o),null)),[d,y,r]}function iN(r,l){r.action=l}function Cy(r){var l=at(),o=Be;if(o!==null)return Ty(l,o,r);at(),l=l.memoizedState,o=at();var d=o.queue.dispatch;return o.memoizedState=r,[l,d,!1]}function js(r,l,o,d){return r={tag:r,create:o,deps:d,inst:l,next:null},l=me.updateQueue,l===null&&(l=jo(),me.updateQueue=l),o=l.lastEffect,o===null?l.lastEffect=r.next=r:(d=o.next,o.next=r,r.next=d,l.lastEffect=r),r}function Ay(){return at().memoizedState}function Lo(r,l,o,d){var m=Ht();me.flags|=r,m.memoizedState=js(1|l,{destroy:void 0},o,d===void 0?null:d)}function _o(r,l,o,d){var m=at();d=d===void 0?null:d;var y=m.memoizedState.inst;Be!==null&&d!==null&&rf(d,Be.memoizedState.deps)?m.memoizedState=js(l,y,o,d):(me.flags|=r,m.memoizedState=js(1|l,y,o,d))}function My(r,l){Lo(8390656,8,r,l)}function pf(r,l){_o(2048,8,r,l)}function rN(r){me.flags|=4;var l=me.updateQueue;if(l===null)l=jo(),me.updateQueue=l,l.events=[r];else{var o=l.events;o===null?l.events=[r]:o.push(r)}}function Oy(r){var l=at().memoizedState;return rN({ref:l,nextImpl:r}),function(){if((Re&2)!==0)throw Error(i(440));return l.impl.apply(void 0,arguments)}}function Ry(r,l){return _o(4,2,r,l)}function jy(r,l){return _o(4,4,r,l)}function Dy(r,l){if(typeof l=="function"){r=r();var o=l(r);return function(){typeof o=="function"?o():l(null)}}if(l!=null)return r=r(),l.current=r,function(){l.current=null}}function zy(r,l,o){o=o!=null?o.concat([r]):null,_o(4,4,Dy.bind(null,l,r),o)}function mf(){}function Ly(r,l){var o=at();l=l===void 0?null:l;var d=o.memoizedState;return l!==null&&rf(l,d[1])?d[0]:(o.memoizedState=[r,l],r)}function _y(r,l){var o=at();l=l===void 0?null:l;var d=o.memoizedState;if(l!==null&&rf(l,d[1]))return d[0];if(d=r(),jr){Ci(!0);try{r()}finally{Ci(!1)}}return o.memoizedState=[d,l],d}function gf(r,l,o){return o===void 0||(ri&1073741824)!==0&&(Se&261930)===0?r.memoizedState=l:(r.memoizedState=o,r=Bb(),me.lanes|=r,Ii|=r,o)}function By(r,l,o,d){return rn(o,l)?o:Ms.current!==null?(r=gf(r,o,d),rn(r,l)||(dt=!0),r):(ri&42)===0||(ri&1073741824)!==0&&(Se&261930)===0?(dt=!0,r.memoizedState=o):(r=Bb(),me.lanes|=r,Ii|=r,l)}function Hy(r,l,o,d,m){var y=W.p;W.p=y!==0&&8>y?y:8;var S=q.T,N={};q.T=N,xf(r,!1,l,o);try{var M=m(),B=q.S;if(B!==null&&B(N,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var $=ZE(M,d);Bl(r,l,$,un(r))}else Bl(r,l,d,un(r))}catch(Y){Bl(r,l,{then:function(){},status:"rejected",reason:Y},un())}finally{W.p=y,S!==null&&N.types!==null&&(S.types=N.types),q.T=S}}function sN(){}function yf(r,l,o,d){if(r.tag!==5)throw Error(i(476));var m=Uy(r).queue;Hy(r,m,l,se,o===null?sN:function(){return qy(r),o(d)})}function Uy(r){var l=r.memoizedState;if(l!==null)return l;l={memoizedState:se,baseState:se,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:si,lastRenderedState:se},next:null};var o={};return l.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:si,lastRenderedState:o},next:null},r.memoizedState=l,r=r.alternate,r!==null&&(r.memoizedState=l),l}function qy(r){var l=Uy(r);l.next===null&&(l=r.alternate.memoizedState),Bl(r,l.next.queue,{},un())}function bf(){return Tt(ea)}function Iy(){return at().memoizedState}function Py(){return at().memoizedState}function lN(r){for(var l=r.return;l!==null;){switch(l.tag){case 24:case 3:var o=un();r=Li(o);var d=_i(l,r,o);d!==null&&(Jt(d,l,o),jl(d,l,o)),l={cache:Kd()},r.payload=l;return}l=l.return}}function aN(r,l,o){var d=un();o={lane:d,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Bo(r)?$y(l,o):(o=Ld(r,l,o,d),o!==null&&(Jt(o,r,d),Fy(o,l,d)))}function Vy(r,l,o){var d=un();Bl(r,l,o,d)}function Bl(r,l,o,d){var m={lane:d,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Bo(r))$y(l,m);else{var y=r.alternate;if(r.lanes===0&&(y===null||y.lanes===0)&&(y=l.lastRenderedReducer,y!==null))try{var S=l.lastRenderedState,N=y(S,o);if(m.hasEagerState=!0,m.eagerState=N,rn(N,S))return yo(r,l,m,0),Ie===null&&go(),!1}catch{}if(o=Ld(r,l,m,d),o!==null)return Jt(o,r,d),Fy(o,l,d),!0}return!1}function xf(r,l,o,d){if(d={lane:2,revertLane:Wf(),gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},Bo(r)){if(l)throw Error(i(479))}else l=Ld(r,o,d,2),l!==null&&Jt(l,r,2)}function Bo(r){var l=r.alternate;return r===me||l!==null&&l===me}function $y(r,l){Os=Oo=!0;var o=r.pending;o===null?l.next=l:(l.next=o.next,o.next=l),r.pending=l}function Fy(r,l,o){if((o&4194048)!==0){var d=l.lanes;d&=r.pendingLanes,o|=d,l.lanes=o,Xm(r,o)}}var Hl={readContext:Tt,use:Do,useCallback:Qe,useContext:Qe,useEffect:Qe,useImperativeHandle:Qe,useLayoutEffect:Qe,useInsertionEffect:Qe,useMemo:Qe,useReducer:Qe,useRef:Qe,useState:Qe,useDebugValue:Qe,useDeferredValue:Qe,useTransition:Qe,useSyncExternalStore:Qe,useId:Qe,useHostTransitionStatus:Qe,useFormState:Qe,useActionState:Qe,useOptimistic:Qe,useMemoCache:Qe,useCacheRefresh:Qe};Hl.useEffectEvent=Qe;var Ky={readContext:Tt,use:Do,useCallback:function(r,l){return Ht().memoizedState=[r,l===void 0?null:l],r},useContext:Tt,useEffect:My,useImperativeHandle:function(r,l,o){o=o!=null?o.concat([r]):null,Lo(4194308,4,Dy.bind(null,l,r),o)},useLayoutEffect:function(r,l){return Lo(4194308,4,r,l)},useInsertionEffect:function(r,l){Lo(4,2,r,l)},useMemo:function(r,l){var o=Ht();l=l===void 0?null:l;var d=r();if(jr){Ci(!0);try{r()}finally{Ci(!1)}}return o.memoizedState=[d,l],d},useReducer:function(r,l,o){var d=Ht();if(o!==void 0){var m=o(l);if(jr){Ci(!0);try{o(l)}finally{Ci(!1)}}}else m=l;return d.memoizedState=d.baseState=m,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:m},d.queue=r,r=r.dispatch=aN.bind(null,me,r),[d.memoizedState,r]},useRef:function(r){var l=Ht();return r={current:r},l.memoizedState=r},useState:function(r){r=ff(r);var l=r.queue,o=Vy.bind(null,me,l);return l.dispatch=o,[r.memoizedState,o]},useDebugValue:mf,useDeferredValue:function(r,l){var o=Ht();return gf(o,r,l)},useTransition:function(){var r=ff(!1);return r=Hy.bind(null,me,r.queue,!0,!1),Ht().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,l,o){var d=me,m=Ht();if(Ee){if(o===void 0)throw Error(i(407));o=o()}else{if(o=l(),Ie===null)throw Error(i(349));(Se&127)!==0||hy(d,l,o)}m.memoizedState=o;var y={value:o,getSnapshot:l};return m.queue=y,My(my.bind(null,d,y,r),[r]),d.flags|=2048,js(9,{destroy:void 0},py.bind(null,d,y,o,l),null),o},useId:function(){var r=Ht(),l=Ie.identifierPrefix;if(Ee){var o=In,d=qn;o=(d&~(1<<32-nn(d)-1)).toString(32)+o,l="_"+l+"R_"+o,o=Ro++,0<o&&(l+="H"+o.toString(32)),l+="_"}else o=eN++,l="_"+l+"r_"+o.toString(32)+"_";return r.memoizedState=l},useHostTransitionStatus:bf,useFormState:Ey,useActionState:Ey,useOptimistic:function(r){var l=Ht();l.memoizedState=l.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=o,l=xf.bind(null,me,!0,o),o.dispatch=l,[r,l]},useMemoCache:cf,useCacheRefresh:function(){return Ht().memoizedState=lN.bind(null,me)},useEffectEvent:function(r){var l=Ht(),o={impl:r};return l.memoizedState=o,function(){if((Re&2)!==0)throw Error(i(440));return o.impl.apply(void 0,arguments)}}},vf={readContext:Tt,use:Do,useCallback:Ly,useContext:Tt,useEffect:pf,useImperativeHandle:zy,useInsertionEffect:Ry,useLayoutEffect:jy,useMemo:_y,useReducer:zo,useRef:Ay,useState:function(){return zo(si)},useDebugValue:mf,useDeferredValue:function(r,l){var o=at();return By(o,Be.memoizedState,r,l)},useTransition:function(){var r=zo(si)[0],l=at().memoizedState;return[typeof r=="boolean"?r:_l(r),l]},useSyncExternalStore:fy,useId:Iy,useHostTransitionStatus:bf,useFormState:Ny,useActionState:Ny,useOptimistic:function(r,l){var o=at();return by(o,Be,r,l)},useMemoCache:cf,useCacheRefresh:Py};vf.useEffectEvent=Oy;var Gy={readContext:Tt,use:Do,useCallback:Ly,useContext:Tt,useEffect:pf,useImperativeHandle:zy,useInsertionEffect:Ry,useLayoutEffect:jy,useMemo:_y,useReducer:df,useRef:Ay,useState:function(){return df(si)},useDebugValue:mf,useDeferredValue:function(r,l){var o=at();return Be===null?gf(o,r,l):By(o,Be.memoizedState,r,l)},useTransition:function(){var r=df(si)[0],l=at().memoizedState;return[typeof r=="boolean"?r:_l(r),l]},useSyncExternalStore:fy,useId:Iy,useHostTransitionStatus:bf,useFormState:Cy,useActionState:Cy,useOptimistic:function(r,l){var o=at();return Be!==null?by(o,Be,r,l):(o.baseState=r,[r,o.queue.dispatch])},useMemoCache:cf,useCacheRefresh:Py};Gy.useEffectEvent=Oy;function wf(r,l,o,d){l=r.memoizedState,o=o(d,l),o=o==null?l:g({},l,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var Sf={enqueueSetState:function(r,l,o){r=r._reactInternals;var d=un(),m=Li(d);m.payload=l,o!=null&&(m.callback=o),l=_i(r,m,d),l!==null&&(Jt(l,r,d),jl(l,r,d))},enqueueReplaceState:function(r,l,o){r=r._reactInternals;var d=un(),m=Li(d);m.tag=1,m.payload=l,o!=null&&(m.callback=o),l=_i(r,m,d),l!==null&&(Jt(l,r,d),jl(l,r,d))},enqueueForceUpdate:function(r,l){r=r._reactInternals;var o=un(),d=Li(o);d.tag=2,l!=null&&(d.callback=l),l=_i(r,d,o),l!==null&&(Jt(l,r,o),jl(l,r,o))}};function Yy(r,l,o,d,m,y,S){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(d,y,S):l.prototype&&l.prototype.isPureReactComponent?!El(o,d)||!El(m,y):!0}function Jy(r,l,o,d){r=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(o,d),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(o,d),l.state!==r&&Sf.enqueueReplaceState(l,l.state,null)}function Dr(r,l){var o=l;if("ref"in l){o={};for(var d in l)d!=="ref"&&(o[d]=l[d])}if(r=r.defaultProps){o===l&&(o=g({},o));for(var m in r)o[m]===void 0&&(o[m]=r[m])}return o}function Xy(r){mo(r)}function Wy(r){console.error(r)}function Qy(r){mo(r)}function Ho(r,l){try{var o=r.onUncaughtError;o(l.value,{componentStack:l.stack})}catch(d){setTimeout(function(){throw d})}}function Zy(r,l,o){try{var d=r.onCaughtError;d(o.value,{componentStack:o.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function kf(r,l,o){return o=Li(o),o.tag=3,o.payload={element:null},o.callback=function(){Ho(r,l)},o}function eb(r){return r=Li(r),r.tag=3,r}function tb(r,l,o,d){var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var y=d.value;r.payload=function(){return m(y)},r.callback=function(){Zy(l,o,d)}}var S=o.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(r.callback=function(){Zy(l,o,d),typeof m!="function"&&(Pi===null?Pi=new Set([this]):Pi.add(this));var N=d.stack;this.componentDidCatch(d.value,{componentStack:N!==null?N:""})})}function oN(r,l,o,d,m){if(o.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(l=o.alternate,l!==null&&Es(l,o,m,!0),o=ln.current,o!==null){switch(o.tag){case 31:case 13:return vn===null?Xo():o.alternate===null&&Ze===0&&(Ze=3),o.flags&=-257,o.flags|=65536,o.lanes=m,d===No?o.flags|=16384:(l=o.updateQueue,l===null?o.updateQueue=new Set([d]):l.add(d),Yf(r,d,m)),!1;case 22:return o.flags|=65536,d===No?o.flags|=16384:(l=o.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([d])},o.updateQueue=l):(o=l.retryQueue,o===null?l.retryQueue=new Set([d]):o.add(d)),Yf(r,d,m)),!1}throw Error(i(435,o.tag))}return Yf(r,d,m),Xo(),!1}if(Ee)return l=ln.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=m,d!==Id&&(r=Error(i(422),{cause:d}),Cl(gn(r,o)))):(d!==Id&&(l=Error(i(423),{cause:d}),Cl(gn(l,o))),r=r.current.alternate,r.flags|=65536,m&=-m,r.lanes|=m,d=gn(d,o),m=kf(r.stateNode,d,m),Qd(r,m),Ze!==4&&(Ze=2)),!1;var y=Error(i(520),{cause:d});if(y=gn(y,o),Kl===null?Kl=[y]:Kl.push(y),Ze!==4&&(Ze=2),l===null)return!0;d=gn(d,o),o=l;do{switch(o.tag){case 3:return o.flags|=65536,r=m&-m,o.lanes|=r,r=kf(o.stateNode,d,r),Qd(o,r),!1;case 1:if(l=o.type,y=o.stateNode,(o.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Pi===null||!Pi.has(y))))return o.flags|=65536,m&=-m,o.lanes|=m,m=eb(m),tb(m,r,o,d),Qd(o,m),!1}o=o.return}while(o!==null);return!1}var Ef=Error(i(461)),dt=!1;function Ct(r,l,o,d){l.child=r===null?sy(l,null,o,d):Rr(l,r.child,o,d)}function nb(r,l,o,d,m){o=o.render;var y=l.ref;if("ref"in d){var S={};for(var N in d)N!=="ref"&&(S[N]=d[N])}else S=d;return Cr(l),d=sf(r,l,o,S,y,m),N=lf(),r!==null&&!dt?(af(r,l,m),li(r,l,m)):(Ee&&N&&Ud(l),l.flags|=1,Ct(r,l,d,m),l.child)}function ib(r,l,o,d,m){if(r===null){var y=o.type;return typeof y=="function"&&!_d(y)&&y.defaultProps===void 0&&o.compare===null?(l.tag=15,l.type=y,rb(r,l,y,d,m)):(r=xo(o.type,null,d,l,l.mode,m),r.ref=l.ref,r.return=l,l.child=r)}if(y=r.child,!jf(r,m)){var S=y.memoizedProps;if(o=o.compare,o=o!==null?o:El,o(S,d)&&r.ref===l.ref)return li(r,l,m)}return l.flags|=1,r=ei(y,d),r.ref=l.ref,r.return=l,l.child=r}function rb(r,l,o,d,m){if(r!==null){var y=r.memoizedProps;if(El(y,d)&&r.ref===l.ref)if(dt=!1,l.pendingProps=d=y,jf(r,m))(r.flags&131072)!==0&&(dt=!0);else return l.lanes=r.lanes,li(r,l,m)}return Nf(r,l,o,d,m)}function sb(r,l,o,d){var m=d.children,y=r!==null?r.memoizedState:null;if(r===null&&l.stateNode===null&&(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),d.mode==="hidden"){if((l.flags&128)!==0){if(y=y!==null?y.baseLanes|o:o,r!==null){for(d=l.child=r.child,m=0;d!==null;)m=m|d.lanes|d.childLanes,d=d.sibling;d=m&~y}else d=0,l.child=null;return lb(r,l,y,o,d)}if((o&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},r!==null&&ko(l,y!==null?y.cachePool:null),y!==null?oy(l,y):ef(),cy(l);else return d=l.lanes=536870912,lb(r,l,y!==null?y.baseLanes|o:o,o,d)}else y!==null?(ko(l,y.cachePool),oy(l,y),Hi(),l.memoizedState=null):(r!==null&&ko(l,null),ef(),Hi());return Ct(r,l,m,o),l.child}function Ul(r,l){return r!==null&&r.tag===22||l.stateNode!==null||(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.sibling}function lb(r,l,o,d,m){var y=Yd();return y=y===null?null:{parent:ct._currentValue,pool:y},l.memoizedState={baseLanes:o,cachePool:y},r!==null&&ko(l,null),ef(),cy(l),r!==null&&Es(r,l,d,!0),l.childLanes=m,null}function Uo(r,l){return l=Io({mode:l.mode,children:l.children},r.mode),l.ref=r.ref,r.child=l,l.return=r,l}function ab(r,l,o){return Rr(l,r.child,null,o),r=Uo(l,l.pendingProps),r.flags|=2,an(l),l.memoizedState=null,r}function cN(r,l,o){var d=l.pendingProps,m=(l.flags&128)!==0;if(l.flags&=-129,r===null){if(Ee){if(d.mode==="hidden")return r=Uo(l,d),l.lanes=536870912,Ul(null,r);if(nf(l),(r=$e)?(r=x0(r,xn),r=r!==null&&r.data==="&"?r:null,r!==null&&(l.memoizedState={dehydrated:r,treeContext:Oi!==null?{id:qn,overflow:In}:null,retryLane:536870912,hydrationErrors:null},o=$g(r),o.return=l,l.child=o,Nt=l,$e=null)):r=null,r===null)throw ji(l);return l.lanes=536870912,null}return Uo(l,d)}var y=r.memoizedState;if(y!==null){var S=y.dehydrated;if(nf(l),m)if(l.flags&256)l.flags&=-257,l=ab(r,l,o);else if(l.memoizedState!==null)l.child=r.child,l.flags|=128,l=null;else throw Error(i(558));else if(dt||Es(r,l,o,!1),m=(o&r.childLanes)!==0,dt||m){if(d=Ie,d!==null&&(S=Wm(d,o),S!==0&&S!==y.retryLane))throw y.retryLane=S,kr(r,S),Jt(d,r,S),Ef;Xo(),l=ab(r,l,o)}else r=y.treeContext,$e=wn(S.nextSibling),Nt=l,Ee=!0,Ri=null,xn=!1,r!==null&&Gg(l,r),l=Uo(l,d),l.flags|=4096;return l}return r=ei(r.child,{mode:d.mode,children:d.children}),r.ref=l.ref,l.child=r,r.return=l,r}function qo(r,l){var o=l.ref;if(o===null)r!==null&&r.ref!==null&&(l.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(r===null||r.ref!==o)&&(l.flags|=4194816)}}function Nf(r,l,o,d,m){return Cr(l),o=sf(r,l,o,d,void 0,m),d=lf(),r!==null&&!dt?(af(r,l,m),li(r,l,m)):(Ee&&d&&Ud(l),l.flags|=1,Ct(r,l,o,m),l.child)}function ob(r,l,o,d,m,y){return Cr(l),l.updateQueue=null,o=dy(l,d,o,m),uy(r),d=lf(),r!==null&&!dt?(af(r,l,y),li(r,l,y)):(Ee&&d&&Ud(l),l.flags|=1,Ct(r,l,o,y),l.child)}function cb(r,l,o,d,m){if(Cr(l),l.stateNode===null){var y=vs,S=o.contextType;typeof S=="object"&&S!==null&&(y=Tt(S)),y=new o(d,y),l.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Sf,l.stateNode=y,y._reactInternals=l,y=l.stateNode,y.props=d,y.state=l.memoizedState,y.refs={},Xd(l),S=o.contextType,y.context=typeof S=="object"&&S!==null?Tt(S):vs,y.state=l.memoizedState,S=o.getDerivedStateFromProps,typeof S=="function"&&(wf(l,o,S,d),y.state=l.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(S=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),S!==y.state&&Sf.enqueueReplaceState(y,y.state,null),zl(l,d,y,m),Dl(),y.state=l.memoizedState),typeof y.componentDidMount=="function"&&(l.flags|=4194308),d=!0}else if(r===null){y=l.stateNode;var N=l.memoizedProps,M=Dr(o,N);y.props=M;var B=y.context,$=o.contextType;S=vs,typeof $=="object"&&$!==null&&(S=Tt($));var Y=o.getDerivedStateFromProps;$=typeof Y=="function"||typeof y.getSnapshotBeforeUpdate=="function",N=l.pendingProps!==N,$||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(N||B!==S)&&Jy(l,y,d,S),zi=!1;var H=l.memoizedState;y.state=H,zl(l,d,y,m),Dl(),B=l.memoizedState,N||H!==B||zi?(typeof Y=="function"&&(wf(l,o,Y,d),B=l.memoizedState),(M=zi||Yy(l,o,M,d,H,B,S))?($||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(l.flags|=4194308)):(typeof y.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=d,l.memoizedState=B),y.props=d,y.state=B,y.context=S,d=M):(typeof y.componentDidMount=="function"&&(l.flags|=4194308),d=!1)}else{y=l.stateNode,Wd(r,l),S=l.memoizedProps,$=Dr(o,S),y.props=$,Y=l.pendingProps,H=y.context,B=o.contextType,M=vs,typeof B=="object"&&B!==null&&(M=Tt(B)),N=o.getDerivedStateFromProps,(B=typeof N=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(S!==Y||H!==M)&&Jy(l,y,d,M),zi=!1,H=l.memoizedState,y.state=H,zl(l,d,y,m),Dl();var I=l.memoizedState;S!==Y||H!==I||zi||r!==null&&r.dependencies!==null&&wo(r.dependencies)?(typeof N=="function"&&(wf(l,o,N,d),I=l.memoizedState),($=zi||Yy(l,o,$,d,H,I,M)||r!==null&&r.dependencies!==null&&wo(r.dependencies))?(B||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(d,I,M),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(d,I,M)),typeof y.componentDidUpdate=="function"&&(l.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof y.componentDidUpdate!="function"||S===r.memoizedProps&&H===r.memoizedState||(l.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||S===r.memoizedProps&&H===r.memoizedState||(l.flags|=1024),l.memoizedProps=d,l.memoizedState=I),y.props=d,y.state=I,y.context=M,d=$):(typeof y.componentDidUpdate!="function"||S===r.memoizedProps&&H===r.memoizedState||(l.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||S===r.memoizedProps&&H===r.memoizedState||(l.flags|=1024),d=!1)}return y=d,qo(r,l),d=(l.flags&128)!==0,y||d?(y=l.stateNode,o=d&&typeof o.getDerivedStateFromError!="function"?null:y.render(),l.flags|=1,r!==null&&d?(l.child=Rr(l,r.child,null,m),l.child=Rr(l,null,o,m)):Ct(r,l,o,m),l.memoizedState=y.state,r=l.child):r=li(r,l,m),r}function ub(r,l,o,d){return Nr(),l.flags|=256,Ct(r,l,o,d),l.child}var Tf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Cf(r){return{baseLanes:r,cachePool:Zg()}}function Af(r,l,o){return r=r!==null?r.childLanes&~o:0,l&&(r|=cn),r}function db(r,l,o){var d=l.pendingProps,m=!1,y=(l.flags&128)!==0,S;if((S=y)||(S=r!==null&&r.memoizedState===null?!1:(lt.current&2)!==0),S&&(m=!0,l.flags&=-129),S=(l.flags&32)!==0,l.flags&=-33,r===null){if(Ee){if(m?Bi(l):Hi(),(r=$e)?(r=x0(r,xn),r=r!==null&&r.data!=="&"?r:null,r!==null&&(l.memoizedState={dehydrated:r,treeContext:Oi!==null?{id:qn,overflow:In}:null,retryLane:536870912,hydrationErrors:null},o=$g(r),o.return=l,l.child=o,Nt=l,$e=null)):r=null,r===null)throw ji(l);return uh(r)?l.lanes=32:l.lanes=536870912,null}var N=d.children;return d=d.fallback,m?(Hi(),m=l.mode,N=Io({mode:"hidden",children:N},m),d=Er(d,m,o,null),N.return=l,d.return=l,N.sibling=d,l.child=N,d=l.child,d.memoizedState=Cf(o),d.childLanes=Af(r,S,o),l.memoizedState=Tf,Ul(null,d)):(Bi(l),Mf(l,N))}var M=r.memoizedState;if(M!==null&&(N=M.dehydrated,N!==null)){if(y)l.flags&256?(Bi(l),l.flags&=-257,l=Of(r,l,o)):l.memoizedState!==null?(Hi(),l.child=r.child,l.flags|=128,l=null):(Hi(),N=d.fallback,m=l.mode,d=Io({mode:"visible",children:d.children},m),N=Er(N,m,o,null),N.flags|=2,d.return=l,N.return=l,d.sibling=N,l.child=d,Rr(l,r.child,null,o),d=l.child,d.memoizedState=Cf(o),d.childLanes=Af(r,S,o),l.memoizedState=Tf,l=Ul(null,d));else if(Bi(l),uh(N)){if(S=N.nextSibling&&N.nextSibling.dataset,S)var B=S.dgst;S=B,d=Error(i(419)),d.stack="",d.digest=S,Cl({value:d,source:null,stack:null}),l=Of(r,l,o)}else if(dt||Es(r,l,o,!1),S=(o&r.childLanes)!==0,dt||S){if(S=Ie,S!==null&&(d=Wm(S,o),d!==0&&d!==M.retryLane))throw M.retryLane=d,kr(r,d),Jt(S,r,d),Ef;ch(N)||Xo(),l=Of(r,l,o)}else ch(N)?(l.flags|=192,l.child=r.child,l=null):(r=M.treeContext,$e=wn(N.nextSibling),Nt=l,Ee=!0,Ri=null,xn=!1,r!==null&&Gg(l,r),l=Mf(l,d.children),l.flags|=4096);return l}return m?(Hi(),N=d.fallback,m=l.mode,M=r.child,B=M.sibling,d=ei(M,{mode:"hidden",children:d.children}),d.subtreeFlags=M.subtreeFlags&65011712,B!==null?N=ei(B,N):(N=Er(N,m,o,null),N.flags|=2),N.return=l,d.return=l,d.sibling=N,l.child=d,Ul(null,d),d=l.child,N=r.child.memoizedState,N===null?N=Cf(o):(m=N.cachePool,m!==null?(M=ct._currentValue,m=m.parent!==M?{parent:M,pool:M}:m):m=Zg(),N={baseLanes:N.baseLanes|o,cachePool:m}),d.memoizedState=N,d.childLanes=Af(r,S,o),l.memoizedState=Tf,Ul(r.child,d)):(Bi(l),o=r.child,r=o.sibling,o=ei(o,{mode:"visible",children:d.children}),o.return=l,o.sibling=null,r!==null&&(S=l.deletions,S===null?(l.deletions=[r],l.flags|=16):S.push(r)),l.child=o,l.memoizedState=null,o)}function Mf(r,l){return l=Io({mode:"visible",children:l},r.mode),l.return=r,r.child=l}function Io(r,l){return r=sn(22,r,null,l),r.lanes=0,r}function Of(r,l,o){return Rr(l,r.child,null,o),r=Mf(l,l.pendingProps.children),r.flags|=2,l.memoizedState=null,r}function fb(r,l,o){r.lanes|=l;var d=r.alternate;d!==null&&(d.lanes|=l),$d(r.return,l,o)}function Rf(r,l,o,d,m,y){var S=r.memoizedState;S===null?r.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:d,tail:o,tailMode:m,treeForkCount:y}:(S.isBackwards=l,S.rendering=null,S.renderingStartTime=0,S.last=d,S.tail=o,S.tailMode=m,S.treeForkCount=y)}function hb(r,l,o){var d=l.pendingProps,m=d.revealOrder,y=d.tail;d=d.children;var S=lt.current,N=(S&2)!==0;if(N?(S=S&1|2,l.flags|=128):S&=1,Q(lt,S),Ct(r,l,d,o),d=Ee?Tl:0,!N&&r!==null&&(r.flags&128)!==0)e:for(r=l.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&fb(r,o,l);else if(r.tag===19)fb(r,o,l);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===l)break e;for(;r.sibling===null;){if(r.return===null||r.return===l)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}switch(m){case"forwards":for(o=l.child,m=null;o!==null;)r=o.alternate,r!==null&&Mo(r)===null&&(m=o),o=o.sibling;o=m,o===null?(m=l.child,l.child=null):(m=o.sibling,o.sibling=null),Rf(l,!1,m,o,y,d);break;case"backwards":case"unstable_legacy-backwards":for(o=null,m=l.child,l.child=null;m!==null;){if(r=m.alternate,r!==null&&Mo(r)===null){l.child=m;break}r=m.sibling,m.sibling=o,o=m,m=r}Rf(l,!0,o,null,y,d);break;case"together":Rf(l,!1,null,null,void 0,d);break;default:l.memoizedState=null}return l.child}function li(r,l,o){if(r!==null&&(l.dependencies=r.dependencies),Ii|=l.lanes,(o&l.childLanes)===0)if(r!==null){if(Es(r,l,o,!1),(o&l.childLanes)===0)return null}else return null;if(r!==null&&l.child!==r.child)throw Error(i(153));if(l.child!==null){for(r=l.child,o=ei(r,r.pendingProps),l.child=o,o.return=l;r.sibling!==null;)r=r.sibling,o=o.sibling=ei(r,r.pendingProps),o.return=l;o.sibling=null}return l.child}function jf(r,l){return(r.lanes&l)!==0?!0:(r=r.dependencies,!!(r!==null&&wo(r)))}function uN(r,l,o){switch(l.tag){case 3:Bt(l,l.stateNode.containerInfo),Di(l,ct,r.memoizedState.cache),Nr();break;case 27:case 5:dl(l);break;case 4:Bt(l,l.stateNode.containerInfo);break;case 10:Di(l,l.type,l.memoizedProps.value);break;case 31:if(l.memoizedState!==null)return l.flags|=128,nf(l),null;break;case 13:var d=l.memoizedState;if(d!==null)return d.dehydrated!==null?(Bi(l),l.flags|=128,null):(o&l.child.childLanes)!==0?db(r,l,o):(Bi(l),r=li(r,l,o),r!==null?r.sibling:null);Bi(l);break;case 19:var m=(r.flags&128)!==0;if(d=(o&l.childLanes)!==0,d||(Es(r,l,o,!1),d=(o&l.childLanes)!==0),m){if(d)return hb(r,l,o);l.flags|=128}if(m=l.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),Q(lt,lt.current),d)break;return null;case 22:return l.lanes=0,sb(r,l,o,l.pendingProps);case 24:Di(l,ct,r.memoizedState.cache)}return li(r,l,o)}function pb(r,l,o){if(r!==null)if(r.memoizedProps!==l.pendingProps)dt=!0;else{if(!jf(r,o)&&(l.flags&128)===0)return dt=!1,uN(r,l,o);dt=(r.flags&131072)!==0}else dt=!1,Ee&&(l.flags&1048576)!==0&&Kg(l,Tl,l.index);switch(l.lanes=0,l.tag){case 16:e:{var d=l.pendingProps;if(r=Mr(l.elementType),l.type=r,typeof r=="function")_d(r)?(d=Dr(r,d),l.tag=1,l=cb(null,l,r,d,o)):(l.tag=0,l=Nf(null,l,r,d,o));else{if(r!=null){var m=r.$$typeof;if(m===U){l.tag=11,l=nb(null,l,r,d,o);break e}else if(m===L){l.tag=14,l=ib(null,l,r,d,o);break e}}throw l=Ne(r)||r,Error(i(306,l,""))}}return l;case 0:return Nf(r,l,l.type,l.pendingProps,o);case 1:return d=l.type,m=Dr(d,l.pendingProps),cb(r,l,d,m,o);case 3:e:{if(Bt(l,l.stateNode.containerInfo),r===null)throw Error(i(387));d=l.pendingProps;var y=l.memoizedState;m=y.element,Wd(r,l),zl(l,d,null,o);var S=l.memoizedState;if(d=S.cache,Di(l,ct,d),d!==y.cache&&Fd(l,[ct],o,!0),Dl(),d=S.element,y.isDehydrated)if(y={element:d,isDehydrated:!1,cache:S.cache},l.updateQueue.baseState=y,l.memoizedState=y,l.flags&256){l=ub(r,l,d,o);break e}else if(d!==m){m=gn(Error(i(424)),l),Cl(m),l=ub(r,l,d,o);break e}else for(r=l.stateNode.containerInfo,r.nodeType===9?r=r.body:r=r.nodeName==="HTML"?r.ownerDocument.body:r,$e=wn(r.firstChild),Nt=l,Ee=!0,Ri=null,xn=!0,o=sy(l,null,d,o),l.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Nr(),d===m){l=li(r,l,o);break e}Ct(r,l,d,o)}l=l.child}return l;case 26:return qo(r,l),r===null?(o=N0(l.type,null,l.pendingProps,null))?l.memoizedState=o:Ee||(o=l.type,r=l.pendingProps,d=ic(xe.current).createElement(o),d[Et]=l,d[Vt]=r,At(d,o,r),bt(d),l.stateNode=d):l.memoizedState=N0(l.type,r.memoizedProps,l.pendingProps,r.memoizedState),null;case 27:return dl(l),r===null&&Ee&&(d=l.stateNode=S0(l.type,l.pendingProps,xe.current),Nt=l,xn=!0,m=$e,Ki(l.type)?(dh=m,$e=wn(d.firstChild)):$e=m),Ct(r,l,l.pendingProps.children,o),qo(r,l),r===null&&(l.flags|=4194304),l.child;case 5:return r===null&&Ee&&((m=d=$e)&&(d=qN(d,l.type,l.pendingProps,xn),d!==null?(l.stateNode=d,Nt=l,$e=wn(d.firstChild),xn=!1,m=!0):m=!1),m||ji(l)),dl(l),m=l.type,y=l.pendingProps,S=r!==null?r.memoizedProps:null,d=y.children,lh(m,y)?d=null:S!==null&&lh(m,S)&&(l.flags|=32),l.memoizedState!==null&&(m=sf(r,l,tN,null,null,o),ea._currentValue=m),qo(r,l),Ct(r,l,d,o),l.child;case 6:return r===null&&Ee&&((r=o=$e)&&(o=IN(o,l.pendingProps,xn),o!==null?(l.stateNode=o,Nt=l,$e=null,r=!0):r=!1),r||ji(l)),null;case 13:return db(r,l,o);case 4:return Bt(l,l.stateNode.containerInfo),d=l.pendingProps,r===null?l.child=Rr(l,null,d,o):Ct(r,l,d,o),l.child;case 11:return nb(r,l,l.type,l.pendingProps,o);case 7:return Ct(r,l,l.pendingProps,o),l.child;case 8:return Ct(r,l,l.pendingProps.children,o),l.child;case 12:return Ct(r,l,l.pendingProps.children,o),l.child;case 10:return d=l.pendingProps,Di(l,l.type,d.value),Ct(r,l,d.children,o),l.child;case 9:return m=l.type._context,d=l.pendingProps.children,Cr(l),m=Tt(m),d=d(m),l.flags|=1,Ct(r,l,d,o),l.child;case 14:return ib(r,l,l.type,l.pendingProps,o);case 15:return rb(r,l,l.type,l.pendingProps,o);case 19:return hb(r,l,o);case 31:return cN(r,l,o);case 22:return sb(r,l,o,l.pendingProps);case 24:return Cr(l),d=Tt(ct),r===null?(m=Yd(),m===null&&(m=Ie,y=Kd(),m.pooledCache=y,y.refCount++,y!==null&&(m.pooledCacheLanes|=o),m=y),l.memoizedState={parent:d,cache:m},Xd(l),Di(l,ct,m)):((r.lanes&o)!==0&&(Wd(r,l),zl(l,null,null,o),Dl()),m=r.memoizedState,y=l.memoizedState,m.parent!==d?(m={parent:d,cache:d},l.memoizedState=m,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=m),Di(l,ct,d)):(d=y.cache,Di(l,ct,d),d!==m.cache&&Fd(l,[ct],o,!0))),Ct(r,l,l.pendingProps.children,o),l.child;case 29:throw l.pendingProps}throw Error(i(156,l.tag))}function ai(r){r.flags|=4}function Df(r,l,o,d,m){if((l=(r.mode&32)!==0)&&(l=!1),l){if(r.flags|=16777216,(m&335544128)===m)if(r.stateNode.complete)r.flags|=8192;else if(Ib())r.flags|=8192;else throw Or=No,Jd}else r.flags&=-16777217}function mb(r,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!O0(l))if(Ib())r.flags|=8192;else throw Or=No,Jd}function Po(r,l){l!==null&&(r.flags|=4),r.flags&16384&&(l=r.tag!==22?Ym():536870912,r.lanes|=l,_s|=l)}function ql(r,l){if(!Ee)switch(r.tailMode){case"hidden":l=r.tail;for(var o=null;l!==null;)l.alternate!==null&&(o=l),l=l.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var d=null;o!==null;)o.alternate!==null&&(d=o),o=o.sibling;d===null?l||r.tail===null?r.tail=null:r.tail.sibling=null:d.sibling=null}}function Fe(r){var l=r.alternate!==null&&r.alternate.child===r.child,o=0,d=0;if(l)for(var m=r.child;m!==null;)o|=m.lanes|m.childLanes,d|=m.subtreeFlags&65011712,d|=m.flags&65011712,m.return=r,m=m.sibling;else for(m=r.child;m!==null;)o|=m.lanes|m.childLanes,d|=m.subtreeFlags,d|=m.flags,m.return=r,m=m.sibling;return r.subtreeFlags|=d,r.childLanes=o,l}function dN(r,l,o){var d=l.pendingProps;switch(qd(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Fe(l),null;case 1:return Fe(l),null;case 3:return o=l.stateNode,d=null,r!==null&&(d=r.memoizedState.cache),l.memoizedState.cache!==d&&(l.flags|=2048),ii(ct),st(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(ks(l)?ai(l):r===null||r.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Pd())),Fe(l),null;case 26:var m=l.type,y=l.memoizedState;return r===null?(ai(l),y!==null?(Fe(l),mb(l,y)):(Fe(l),Df(l,m,null,d,o))):y?y!==r.memoizedState?(ai(l),Fe(l),mb(l,y)):(Fe(l),l.flags&=-16777217):(r=r.memoizedProps,r!==d&&ai(l),Fe(l),Df(l,m,r,d,o)),null;case 27:if(Qa(l),o=xe.current,m=l.type,r!==null&&l.stateNode!=null)r.memoizedProps!==d&&ai(l);else{if(!d){if(l.stateNode===null)throw Error(i(166));return Fe(l),null}r=te.current,ks(l)?Yg(l):(r=S0(m,d,o),l.stateNode=r,ai(l))}return Fe(l),null;case 5:if(Qa(l),m=l.type,r!==null&&l.stateNode!=null)r.memoizedProps!==d&&ai(l);else{if(!d){if(l.stateNode===null)throw Error(i(166));return Fe(l),null}if(y=te.current,ks(l))Yg(l);else{var S=ic(xe.current);switch(y){case 1:y=S.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:y=S.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":y=S.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":y=S.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":y=S.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof d.is=="string"?S.createElement("select",{is:d.is}):S.createElement("select"),d.multiple?y.multiple=!0:d.size&&(y.size=d.size);break;default:y=typeof d.is=="string"?S.createElement(m,{is:d.is}):S.createElement(m)}}y[Et]=l,y[Vt]=d;e:for(S=l.child;S!==null;){if(S.tag===5||S.tag===6)y.appendChild(S.stateNode);else if(S.tag!==4&&S.tag!==27&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===l)break e;for(;S.sibling===null;){if(S.return===null||S.return===l)break e;S=S.return}S.sibling.return=S.return,S=S.sibling}l.stateNode=y;e:switch(At(y,m,d),m){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}d&&ai(l)}}return Fe(l),Df(l,l.type,r===null?null:r.memoizedProps,l.pendingProps,o),null;case 6:if(r&&l.stateNode!=null)r.memoizedProps!==d&&ai(l);else{if(typeof d!="string"&&l.stateNode===null)throw Error(i(166));if(r=xe.current,ks(l)){if(r=l.stateNode,o=l.memoizedProps,d=null,m=Nt,m!==null)switch(m.tag){case 27:case 5:d=m.memoizedProps}r[Et]=l,r=!!(r.nodeValue===o||d!==null&&d.suppressHydrationWarning===!0||d0(r.nodeValue,o)),r||ji(l,!0)}else r=ic(r).createTextNode(d),r[Et]=l,l.stateNode=r}return Fe(l),null;case 31:if(o=l.memoizedState,r===null||r.memoizedState!==null){if(d=ks(l),o!==null){if(r===null){if(!d)throw Error(i(318));if(r=l.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(557));r[Et]=l}else Nr(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Fe(l),r=!1}else o=Pd(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=o),r=!0;if(!r)return l.flags&256?(an(l),l):(an(l),null);if((l.flags&128)!==0)throw Error(i(558))}return Fe(l),null;case 13:if(d=l.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(m=ks(l),d!==null&&d.dehydrated!==null){if(r===null){if(!m)throw Error(i(318));if(m=l.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(i(317));m[Et]=l}else Nr(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Fe(l),m=!1}else m=Pd(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=m),m=!0;if(!m)return l.flags&256?(an(l),l):(an(l),null)}return an(l),(l.flags&128)!==0?(l.lanes=o,l):(o=d!==null,r=r!==null&&r.memoizedState!==null,o&&(d=l.child,m=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(m=d.alternate.memoizedState.cachePool.pool),y=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(y=d.memoizedState.cachePool.pool),y!==m&&(d.flags|=2048)),o!==r&&o&&(l.child.flags|=8192),Po(l,l.updateQueue),Fe(l),null);case 4:return st(),r===null&&th(l.stateNode.containerInfo),Fe(l),null;case 10:return ii(l.type),Fe(l),null;case 19:if(G(lt),d=l.memoizedState,d===null)return Fe(l),null;if(m=(l.flags&128)!==0,y=d.rendering,y===null)if(m)ql(d,!1);else{if(Ze!==0||r!==null&&(r.flags&128)!==0)for(r=l.child;r!==null;){if(y=Mo(r),y!==null){for(l.flags|=128,ql(d,!1),r=y.updateQueue,l.updateQueue=r,Po(l,r),l.subtreeFlags=0,r=o,o=l.child;o!==null;)Vg(o,r),o=o.sibling;return Q(lt,lt.current&1|2),Ee&&ti(l,d.treeForkCount),l.child}r=r.sibling}d.tail!==null&&en()>Go&&(l.flags|=128,m=!0,ql(d,!1),l.lanes=4194304)}else{if(!m)if(r=Mo(y),r!==null){if(l.flags|=128,m=!0,r=r.updateQueue,l.updateQueue=r,Po(l,r),ql(d,!0),d.tail===null&&d.tailMode==="hidden"&&!y.alternate&&!Ee)return Fe(l),null}else 2*en()-d.renderingStartTime>Go&&o!==536870912&&(l.flags|=128,m=!0,ql(d,!1),l.lanes=4194304);d.isBackwards?(y.sibling=l.child,l.child=y):(r=d.last,r!==null?r.sibling=y:l.child=y,d.last=y)}return d.tail!==null?(r=d.tail,d.rendering=r,d.tail=r.sibling,d.renderingStartTime=en(),r.sibling=null,o=lt.current,Q(lt,m?o&1|2:o&1),Ee&&ti(l,d.treeForkCount),r):(Fe(l),null);case 22:case 23:return an(l),tf(),d=l.memoizedState!==null,r!==null?r.memoizedState!==null!==d&&(l.flags|=8192):d&&(l.flags|=8192),d?(o&536870912)!==0&&(l.flags&128)===0&&(Fe(l),l.subtreeFlags&6&&(l.flags|=8192)):Fe(l),o=l.updateQueue,o!==null&&Po(l,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==o&&(l.flags|=2048),r!==null&&G(Ar),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),l.memoizedState.cache!==o&&(l.flags|=2048),ii(ct),Fe(l),null;case 25:return null;case 30:return null}throw Error(i(156,l.tag))}function fN(r,l){switch(qd(l),l.tag){case 1:return r=l.flags,r&65536?(l.flags=r&-65537|128,l):null;case 3:return ii(ct),st(),r=l.flags,(r&65536)!==0&&(r&128)===0?(l.flags=r&-65537|128,l):null;case 26:case 27:case 5:return Qa(l),null;case 31:if(l.memoizedState!==null){if(an(l),l.alternate===null)throw Error(i(340));Nr()}return r=l.flags,r&65536?(l.flags=r&-65537|128,l):null;case 13:if(an(l),r=l.memoizedState,r!==null&&r.dehydrated!==null){if(l.alternate===null)throw Error(i(340));Nr()}return r=l.flags,r&65536?(l.flags=r&-65537|128,l):null;case 19:return G(lt),null;case 4:return st(),null;case 10:return ii(l.type),null;case 22:case 23:return an(l),tf(),r!==null&&G(Ar),r=l.flags,r&65536?(l.flags=r&-65537|128,l):null;case 24:return ii(ct),null;case 25:return null;default:return null}}function gb(r,l){switch(qd(l),l.tag){case 3:ii(ct),st();break;case 26:case 27:case 5:Qa(l);break;case 4:st();break;case 31:l.memoizedState!==null&&an(l);break;case 13:an(l);break;case 19:G(lt);break;case 10:ii(l.type);break;case 22:case 23:an(l),tf(),r!==null&&G(Ar);break;case 24:ii(ct)}}function Il(r,l){try{var o=l.updateQueue,d=o!==null?o.lastEffect:null;if(d!==null){var m=d.next;o=m;do{if((o.tag&r)===r){d=void 0;var y=o.create,S=o.inst;d=y(),S.destroy=d}o=o.next}while(o!==m)}}catch(N){_e(l,l.return,N)}}function Ui(r,l,o){try{var d=l.updateQueue,m=d!==null?d.lastEffect:null;if(m!==null){var y=m.next;d=y;do{if((d.tag&r)===r){var S=d.inst,N=S.destroy;if(N!==void 0){S.destroy=void 0,m=l;var M=o,B=N;try{B()}catch($){_e(m,M,$)}}}d=d.next}while(d!==y)}}catch($){_e(l,l.return,$)}}function yb(r){var l=r.updateQueue;if(l!==null){var o=r.stateNode;try{ay(l,o)}catch(d){_e(r,r.return,d)}}}function bb(r,l,o){o.props=Dr(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(d){_e(r,l,d)}}function Pl(r,l){try{var o=r.ref;if(o!==null){switch(r.tag){case 26:case 27:case 5:var d=r.stateNode;break;case 30:d=r.stateNode;break;default:d=r.stateNode}typeof o=="function"?r.refCleanup=o(d):o.current=d}}catch(m){_e(r,l,m)}}function Pn(r,l){var o=r.ref,d=r.refCleanup;if(o!==null)if(typeof d=="function")try{d()}catch(m){_e(r,l,m)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(m){_e(r,l,m)}else o.current=null}function xb(r){var l=r.type,o=r.memoizedProps,d=r.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":o.autoFocus&&d.focus();break e;case"img":o.src?d.src=o.src:o.srcSet&&(d.srcset=o.srcSet)}}catch(m){_e(r,r.return,m)}}function zf(r,l,o){try{var d=r.stateNode;zN(d,r.type,o,l),d[Vt]=l}catch(m){_e(r,r.return,m)}}function vb(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&Ki(r.type)||r.tag===4}function Lf(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||vb(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&Ki(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function _f(r,l,o){var d=r.tag;if(d===5||d===6)r=r.stateNode,l?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(r,l):(l=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,l.appendChild(r),o=o._reactRootContainer,o!=null||l.onclick!==null||(l.onclick=Qn));else if(d!==4&&(d===27&&Ki(r.type)&&(o=r.stateNode,l=null),r=r.child,r!==null))for(_f(r,l,o),r=r.sibling;r!==null;)_f(r,l,o),r=r.sibling}function Vo(r,l,o){var d=r.tag;if(d===5||d===6)r=r.stateNode,l?o.insertBefore(r,l):o.appendChild(r);else if(d!==4&&(d===27&&Ki(r.type)&&(o=r.stateNode),r=r.child,r!==null))for(Vo(r,l,o),r=r.sibling;r!==null;)Vo(r,l,o),r=r.sibling}function wb(r){var l=r.stateNode,o=r.memoizedProps;try{for(var d=r.type,m=l.attributes;m.length;)l.removeAttributeNode(m[0]);At(l,d,o),l[Et]=r,l[Vt]=o}catch(y){_e(r,r.return,y)}}var oi=!1,ft=!1,Bf=!1,Sb=typeof WeakSet=="function"?WeakSet:Set,xt=null;function hN(r,l){if(r=r.containerInfo,rh=uc,r=zg(r),Md(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var d=o.getSelection&&o.getSelection();if(d&&d.rangeCount!==0){o=d.anchorNode;var m=d.anchorOffset,y=d.focusNode;d=d.focusOffset;try{o.nodeType,y.nodeType}catch{o=null;break e}var S=0,N=-1,M=-1,B=0,$=0,Y=r,H=null;t:for(;;){for(var I;Y!==o||m!==0&&Y.nodeType!==3||(N=S+m),Y!==y||d!==0&&Y.nodeType!==3||(M=S+d),Y.nodeType===3&&(S+=Y.nodeValue.length),(I=Y.firstChild)!==null;)H=Y,Y=I;for(;;){if(Y===r)break t;if(H===o&&++B===m&&(N=S),H===y&&++$===d&&(M=S),(I=Y.nextSibling)!==null)break;Y=H,H=Y.parentNode}Y=I}o=N===-1||M===-1?null:{start:N,end:M}}else o=null}o=o||{start:0,end:0}}else o=null;for(sh={focusedElem:r,selectionRange:o},uc=!1,xt=l;xt!==null;)if(l=xt,r=l.child,(l.subtreeFlags&1028)!==0&&r!==null)r.return=l,xt=r;else for(;xt!==null;){switch(l=xt,y=l.alternate,r=l.flags,l.tag){case 0:if((r&4)!==0&&(r=l.updateQueue,r=r!==null?r.events:null,r!==null))for(o=0;o<r.length;o++)m=r[o],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((r&1024)!==0&&y!==null){r=void 0,o=l,m=y.memoizedProps,y=y.memoizedState,d=o.stateNode;try{var ne=Dr(o.type,m);r=d.getSnapshotBeforeUpdate(ne,y),d.__reactInternalSnapshotBeforeUpdate=r}catch(ce){_e(o,o.return,ce)}}break;case 3:if((r&1024)!==0){if(r=l.stateNode.containerInfo,o=r.nodeType,o===9)oh(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":oh(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=l.sibling,r!==null){r.return=l.return,xt=r;break}xt=l.return}}function kb(r,l,o){var d=o.flags;switch(o.tag){case 0:case 11:case 15:ui(r,o),d&4&&Il(5,o);break;case 1:if(ui(r,o),d&4)if(r=o.stateNode,l===null)try{r.componentDidMount()}catch(S){_e(o,o.return,S)}else{var m=Dr(o.type,l.memoizedProps);l=l.memoizedState;try{r.componentDidUpdate(m,l,r.__reactInternalSnapshotBeforeUpdate)}catch(S){_e(o,o.return,S)}}d&64&&yb(o),d&512&&Pl(o,o.return);break;case 3:if(ui(r,o),d&64&&(r=o.updateQueue,r!==null)){if(l=null,o.child!==null)switch(o.child.tag){case 27:case 5:l=o.child.stateNode;break;case 1:l=o.child.stateNode}try{ay(r,l)}catch(S){_e(o,o.return,S)}}break;case 27:l===null&&d&4&&wb(o);case 26:case 5:ui(r,o),l===null&&d&4&&xb(o),d&512&&Pl(o,o.return);break;case 12:ui(r,o);break;case 31:ui(r,o),d&4&&Tb(r,o);break;case 13:ui(r,o),d&4&&Cb(r,o),d&64&&(r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(o=SN.bind(null,o),PN(r,o))));break;case 22:if(d=o.memoizedState!==null||oi,!d){l=l!==null&&l.memoizedState!==null||ft,m=oi;var y=ft;oi=d,(ft=l)&&!y?di(r,o,(o.subtreeFlags&8772)!==0):ui(r,o),oi=m,ft=y}break;case 30:break;default:ui(r,o)}}function Eb(r){var l=r.alternate;l!==null&&(r.alternate=null,Eb(l)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(l=r.stateNode,l!==null&&fd(l)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Ge=null,Ft=!1;function ci(r,l,o){for(o=o.child;o!==null;)Nb(r,l,o),o=o.sibling}function Nb(r,l,o){if(tn&&typeof tn.onCommitFiberUnmount=="function")try{tn.onCommitFiberUnmount(fl,o)}catch{}switch(o.tag){case 26:ft||Pn(o,l),ci(r,l,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:ft||Pn(o,l);var d=Ge,m=Ft;Ki(o.type)&&(Ge=o.stateNode,Ft=!1),ci(r,l,o),Wl(o.stateNode),Ge=d,Ft=m;break;case 5:ft||Pn(o,l);case 6:if(d=Ge,m=Ft,Ge=null,ci(r,l,o),Ge=d,Ft=m,Ge!==null)if(Ft)try{(Ge.nodeType===9?Ge.body:Ge.nodeName==="HTML"?Ge.ownerDocument.body:Ge).removeChild(o.stateNode)}catch(y){_e(o,l,y)}else try{Ge.removeChild(o.stateNode)}catch(y){_e(o,l,y)}break;case 18:Ge!==null&&(Ft?(r=Ge,y0(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,o.stateNode),$s(r)):y0(Ge,o.stateNode));break;case 4:d=Ge,m=Ft,Ge=o.stateNode.containerInfo,Ft=!0,ci(r,l,o),Ge=d,Ft=m;break;case 0:case 11:case 14:case 15:Ui(2,o,l),ft||Ui(4,o,l),ci(r,l,o);break;case 1:ft||(Pn(o,l),d=o.stateNode,typeof d.componentWillUnmount=="function"&&bb(o,l,d)),ci(r,l,o);break;case 21:ci(r,l,o);break;case 22:ft=(d=ft)||o.memoizedState!==null,ci(r,l,o),ft=d;break;default:ci(r,l,o)}}function Tb(r,l){if(l.memoizedState===null&&(r=l.alternate,r!==null&&(r=r.memoizedState,r!==null))){r=r.dehydrated;try{$s(r)}catch(o){_e(l,l.return,o)}}}function Cb(r,l){if(l.memoizedState===null&&(r=l.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{$s(r)}catch(o){_e(l,l.return,o)}}function pN(r){switch(r.tag){case 31:case 13:case 19:var l=r.stateNode;return l===null&&(l=r.stateNode=new Sb),l;case 22:return r=r.stateNode,l=r._retryCache,l===null&&(l=r._retryCache=new Sb),l;default:throw Error(i(435,r.tag))}}function $o(r,l){var o=pN(r);l.forEach(function(d){if(!o.has(d)){o.add(d);var m=kN.bind(null,r,d);d.then(m,m)}})}function Kt(r,l){var o=l.deletions;if(o!==null)for(var d=0;d<o.length;d++){var m=o[d],y=r,S=l,N=S;e:for(;N!==null;){switch(N.tag){case 27:if(Ki(N.type)){Ge=N.stateNode,Ft=!1;break e}break;case 5:Ge=N.stateNode,Ft=!1;break e;case 3:case 4:Ge=N.stateNode.containerInfo,Ft=!0;break e}N=N.return}if(Ge===null)throw Error(i(160));Nb(y,S,m),Ge=null,Ft=!1,y=m.alternate,y!==null&&(y.return=null),m.return=null}if(l.subtreeFlags&13886)for(l=l.child;l!==null;)Ab(l,r),l=l.sibling}var jn=null;function Ab(r,l){var o=r.alternate,d=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Kt(l,r),Gt(r),d&4&&(Ui(3,r,r.return),Il(3,r),Ui(5,r,r.return));break;case 1:Kt(l,r),Gt(r),d&512&&(ft||o===null||Pn(o,o.return)),d&64&&oi&&(r=r.updateQueue,r!==null&&(d=r.callbacks,d!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?d:o.concat(d))));break;case 26:var m=jn;if(Kt(l,r),Gt(r),d&512&&(ft||o===null||Pn(o,o.return)),d&4){var y=o!==null?o.memoizedState:null;if(d=r.memoizedState,o===null)if(d===null)if(r.stateNode===null){e:{d=r.type,o=r.memoizedProps,m=m.ownerDocument||m;t:switch(d){case"title":y=m.getElementsByTagName("title")[0],(!y||y[ml]||y[Et]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=m.createElement(d),m.head.insertBefore(y,m.querySelector("head > title"))),At(y,d,o),y[Et]=r,bt(y),d=y;break e;case"link":var S=A0("link","href",m).get(d+(o.href||""));if(S){for(var N=0;N<S.length;N++)if(y=S[N],y.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&y.getAttribute("rel")===(o.rel==null?null:o.rel)&&y.getAttribute("title")===(o.title==null?null:o.title)&&y.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){S.splice(N,1);break t}}y=m.createElement(d),At(y,d,o),m.head.appendChild(y);break;case"meta":if(S=A0("meta","content",m).get(d+(o.content||""))){for(N=0;N<S.length;N++)if(y=S[N],y.getAttribute("content")===(o.content==null?null:""+o.content)&&y.getAttribute("name")===(o.name==null?null:o.name)&&y.getAttribute("property")===(o.property==null?null:o.property)&&y.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&y.getAttribute("charset")===(o.charSet==null?null:o.charSet)){S.splice(N,1);break t}}y=m.createElement(d),At(y,d,o),m.head.appendChild(y);break;default:throw Error(i(468,d))}y[Et]=r,bt(y),d=y}r.stateNode=d}else M0(m,r.type,r.stateNode);else r.stateNode=C0(m,d,r.memoizedProps);else y!==d?(y===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):y.count--,d===null?M0(m,r.type,r.stateNode):C0(m,d,r.memoizedProps)):d===null&&r.stateNode!==null&&zf(r,r.memoizedProps,o.memoizedProps)}break;case 27:Kt(l,r),Gt(r),d&512&&(ft||o===null||Pn(o,o.return)),o!==null&&d&4&&zf(r,r.memoizedProps,o.memoizedProps);break;case 5:if(Kt(l,r),Gt(r),d&512&&(ft||o===null||Pn(o,o.return)),r.flags&32){m=r.stateNode;try{hs(m,"")}catch(ne){_e(r,r.return,ne)}}d&4&&r.stateNode!=null&&(m=r.memoizedProps,zf(r,m,o!==null?o.memoizedProps:m)),d&1024&&(Bf=!0);break;case 6:if(Kt(l,r),Gt(r),d&4){if(r.stateNode===null)throw Error(i(162));d=r.memoizedProps,o=r.stateNode;try{o.nodeValue=d}catch(ne){_e(r,r.return,ne)}}break;case 3:if(lc=null,m=jn,jn=rc(l.containerInfo),Kt(l,r),jn=m,Gt(r),d&4&&o!==null&&o.memoizedState.isDehydrated)try{$s(l.containerInfo)}catch(ne){_e(r,r.return,ne)}Bf&&(Bf=!1,Mb(r));break;case 4:d=jn,jn=rc(r.stateNode.containerInfo),Kt(l,r),Gt(r),jn=d;break;case 12:Kt(l,r),Gt(r);break;case 31:Kt(l,r),Gt(r),d&4&&(d=r.updateQueue,d!==null&&(r.updateQueue=null,$o(r,d)));break;case 13:Kt(l,r),Gt(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Ko=en()),d&4&&(d=r.updateQueue,d!==null&&(r.updateQueue=null,$o(r,d)));break;case 22:m=r.memoizedState!==null;var M=o!==null&&o.memoizedState!==null,B=oi,$=ft;if(oi=B||m,ft=$||M,Kt(l,r),ft=$,oi=B,Gt(r),d&8192)e:for(l=r.stateNode,l._visibility=m?l._visibility&-2:l._visibility|1,m&&(o===null||M||oi||ft||zr(r)),o=null,l=r;;){if(l.tag===5||l.tag===26){if(o===null){M=o=l;try{if(y=M.stateNode,m)S=y.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{N=M.stateNode;var Y=M.memoizedProps.style,H=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;N.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(ne){_e(M,M.return,ne)}}}else if(l.tag===6){if(o===null){M=l;try{M.stateNode.nodeValue=m?"":M.memoizedProps}catch(ne){_e(M,M.return,ne)}}}else if(l.tag===18){if(o===null){M=l;try{var I=M.stateNode;m?b0(I,!0):b0(M.stateNode,!1)}catch(ne){_e(M,M.return,ne)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===r)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===r)break e;for(;l.sibling===null;){if(l.return===null||l.return===r)break e;o===l&&(o=null),l=l.return}o===l&&(o=null),l.sibling.return=l.return,l=l.sibling}d&4&&(d=r.updateQueue,d!==null&&(o=d.retryQueue,o!==null&&(d.retryQueue=null,$o(r,o))));break;case 19:Kt(l,r),Gt(r),d&4&&(d=r.updateQueue,d!==null&&(r.updateQueue=null,$o(r,d)));break;case 30:break;case 21:break;default:Kt(l,r),Gt(r)}}function Gt(r){var l=r.flags;if(l&2){try{for(var o,d=r.return;d!==null;){if(vb(d)){o=d;break}d=d.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var m=o.stateNode,y=Lf(r);Vo(r,y,m);break;case 5:var S=o.stateNode;o.flags&32&&(hs(S,""),o.flags&=-33);var N=Lf(r);Vo(r,N,S);break;case 3:case 4:var M=o.stateNode.containerInfo,B=Lf(r);_f(r,B,M);break;default:throw Error(i(161))}}catch($){_e(r,r.return,$)}r.flags&=-3}l&4096&&(r.flags&=-4097)}function Mb(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var l=r;Mb(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),r=r.sibling}}function ui(r,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)kb(r,l.alternate,l),l=l.sibling}function zr(r){for(r=r.child;r!==null;){var l=r;switch(l.tag){case 0:case 11:case 14:case 15:Ui(4,l,l.return),zr(l);break;case 1:Pn(l,l.return);var o=l.stateNode;typeof o.componentWillUnmount=="function"&&bb(l,l.return,o),zr(l);break;case 27:Wl(l.stateNode);case 26:case 5:Pn(l,l.return),zr(l);break;case 22:l.memoizedState===null&&zr(l);break;case 30:zr(l);break;default:zr(l)}r=r.sibling}}function di(r,l,o){for(o=o&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var d=l.alternate,m=r,y=l,S=y.flags;switch(y.tag){case 0:case 11:case 15:di(m,y,o),Il(4,y);break;case 1:if(di(m,y,o),d=y,m=d.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(B){_e(d,d.return,B)}if(d=y,m=d.updateQueue,m!==null){var N=d.stateNode;try{var M=m.shared.hiddenCallbacks;if(M!==null)for(m.shared.hiddenCallbacks=null,m=0;m<M.length;m++)ly(M[m],N)}catch(B){_e(d,d.return,B)}}o&&S&64&&yb(y),Pl(y,y.return);break;case 27:wb(y);case 26:case 5:di(m,y,o),o&&d===null&&S&4&&xb(y),Pl(y,y.return);break;case 12:di(m,y,o);break;case 31:di(m,y,o),o&&S&4&&Tb(m,y);break;case 13:di(m,y,o),o&&S&4&&Cb(m,y);break;case 22:y.memoizedState===null&&di(m,y,o),Pl(y,y.return);break;case 30:break;default:di(m,y,o)}l=l.sibling}}function Hf(r,l){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(r=l.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&Al(o))}function Uf(r,l){r=null,l.alternate!==null&&(r=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==r&&(l.refCount++,r!=null&&Al(r))}function Dn(r,l,o,d){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)Ob(r,l,o,d),l=l.sibling}function Ob(r,l,o,d){var m=l.flags;switch(l.tag){case 0:case 11:case 15:Dn(r,l,o,d),m&2048&&Il(9,l);break;case 1:Dn(r,l,o,d);break;case 3:Dn(r,l,o,d),m&2048&&(r=null,l.alternate!==null&&(r=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==r&&(l.refCount++,r!=null&&Al(r)));break;case 12:if(m&2048){Dn(r,l,o,d),r=l.stateNode;try{var y=l.memoizedProps,S=y.id,N=y.onPostCommit;typeof N=="function"&&N(S,l.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(M){_e(l,l.return,M)}}else Dn(r,l,o,d);break;case 31:Dn(r,l,o,d);break;case 13:Dn(r,l,o,d);break;case 23:break;case 22:y=l.stateNode,S=l.alternate,l.memoizedState!==null?y._visibility&2?Dn(r,l,o,d):Vl(r,l):y._visibility&2?Dn(r,l,o,d):(y._visibility|=2,Ds(r,l,o,d,(l.subtreeFlags&10256)!==0||!1)),m&2048&&Hf(S,l);break;case 24:Dn(r,l,o,d),m&2048&&Uf(l.alternate,l);break;default:Dn(r,l,o,d)}}function Ds(r,l,o,d,m){for(m=m&&((l.subtreeFlags&10256)!==0||!1),l=l.child;l!==null;){var y=r,S=l,N=o,M=d,B=S.flags;switch(S.tag){case 0:case 11:case 15:Ds(y,S,N,M,m),Il(8,S);break;case 23:break;case 22:var $=S.stateNode;S.memoizedState!==null?$._visibility&2?Ds(y,S,N,M,m):Vl(y,S):($._visibility|=2,Ds(y,S,N,M,m)),m&&B&2048&&Hf(S.alternate,S);break;case 24:Ds(y,S,N,M,m),m&&B&2048&&Uf(S.alternate,S);break;default:Ds(y,S,N,M,m)}l=l.sibling}}function Vl(r,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var o=r,d=l,m=d.flags;switch(d.tag){case 22:Vl(o,d),m&2048&&Hf(d.alternate,d);break;case 24:Vl(o,d),m&2048&&Uf(d.alternate,d);break;default:Vl(o,d)}l=l.sibling}}var $l=8192;function zs(r,l,o){if(r.subtreeFlags&$l)for(r=r.child;r!==null;)Rb(r,l,o),r=r.sibling}function Rb(r,l,o){switch(r.tag){case 26:zs(r,l,o),r.flags&$l&&r.memoizedState!==null&&eT(o,jn,r.memoizedState,r.memoizedProps);break;case 5:zs(r,l,o);break;case 3:case 4:var d=jn;jn=rc(r.stateNode.containerInfo),zs(r,l,o),jn=d;break;case 22:r.memoizedState===null&&(d=r.alternate,d!==null&&d.memoizedState!==null?(d=$l,$l=16777216,zs(r,l,o),$l=d):zs(r,l,o));break;default:zs(r,l,o)}}function jb(r){var l=r.alternate;if(l!==null&&(r=l.child,r!==null)){l.child=null;do l=r.sibling,r.sibling=null,r=l;while(r!==null)}}function Fl(r){var l=r.deletions;if((r.flags&16)!==0){if(l!==null)for(var o=0;o<l.length;o++){var d=l[o];xt=d,zb(d,r)}jb(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Db(r),r=r.sibling}function Db(r){switch(r.tag){case 0:case 11:case 15:Fl(r),r.flags&2048&&Ui(9,r,r.return);break;case 3:Fl(r);break;case 12:Fl(r);break;case 22:var l=r.stateNode;r.memoizedState!==null&&l._visibility&2&&(r.return===null||r.return.tag!==13)?(l._visibility&=-3,Fo(r)):Fl(r);break;default:Fl(r)}}function Fo(r){var l=r.deletions;if((r.flags&16)!==0){if(l!==null)for(var o=0;o<l.length;o++){var d=l[o];xt=d,zb(d,r)}jb(r)}for(r=r.child;r!==null;){switch(l=r,l.tag){case 0:case 11:case 15:Ui(8,l,l.return),Fo(l);break;case 22:o=l.stateNode,o._visibility&2&&(o._visibility&=-3,Fo(l));break;default:Fo(l)}r=r.sibling}}function zb(r,l){for(;xt!==null;){var o=xt;switch(o.tag){case 0:case 11:case 15:Ui(8,o,l);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var d=o.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:Al(o.memoizedState.cache)}if(d=o.child,d!==null)d.return=o,xt=d;else e:for(o=r;xt!==null;){d=xt;var m=d.sibling,y=d.return;if(Eb(d),d===o){xt=null;break e}if(m!==null){m.return=y,xt=m;break e}xt=y}}}var mN={getCacheForType:function(r){var l=Tt(ct),o=l.data.get(r);return o===void 0&&(o=r(),l.data.set(r,o)),o},cacheSignal:function(){return Tt(ct).controller.signal}},gN=typeof WeakMap=="function"?WeakMap:Map,Re=0,Ie=null,ve=null,Se=0,Le=0,on=null,qi=!1,Ls=!1,qf=!1,fi=0,Ze=0,Ii=0,Lr=0,If=0,cn=0,_s=0,Kl=null,Yt=null,Pf=!1,Ko=0,Lb=0,Go=1/0,Yo=null,Pi=null,mt=0,Vi=null,Bs=null,hi=0,Vf=0,$f=null,_b=null,Gl=0,Ff=null;function un(){return(Re&2)!==0&&Se!==0?Se&-Se:q.T!==null?Wf():Qm()}function Bb(){if(cn===0)if((Se&536870912)===0||Ee){var r=to;to<<=1,(to&3932160)===0&&(to=262144),cn=r}else cn=536870912;return r=ln.current,r!==null&&(r.flags|=32),cn}function Jt(r,l,o){(r===Ie&&(Le===2||Le===9)||r.cancelPendingCommit!==null)&&(Hs(r,0),$i(r,Se,cn,!1)),pl(r,o),((Re&2)===0||r!==Ie)&&(r===Ie&&((Re&2)===0&&(Lr|=o),Ze===4&&$i(r,Se,cn,!1)),Vn(r))}function Hb(r,l,o){if((Re&6)!==0)throw Error(i(327));var d=!o&&(l&127)===0&&(l&r.expiredLanes)===0||hl(r,l),m=d?xN(r,l):Gf(r,l,!0),y=d;do{if(m===0){Ls&&!d&&$i(r,l,0,!1);break}else{if(o=r.current.alternate,y&&!yN(o)){m=Gf(r,l,!1),y=!1;continue}if(m===2){if(y=l,r.errorRecoveryDisabledLanes&y)var S=0;else S=r.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){l=S;e:{var N=r;m=Kl;var M=N.current.memoizedState.isDehydrated;if(M&&(Hs(N,S).flags|=256),S=Gf(N,S,!1),S!==2){if(qf&&!M){N.errorRecoveryDisabledLanes|=y,Lr|=y,m=4;break e}y=Yt,Yt=m,y!==null&&(Yt===null?Yt=y:Yt.push.apply(Yt,y))}m=S}if(y=!1,m!==2)continue}}if(m===1){Hs(r,0),$i(r,l,0,!0);break}e:{switch(d=r,y=m,y){case 0:case 1:throw Error(i(345));case 4:if((l&4194048)!==l)break;case 6:$i(d,l,cn,!qi);break e;case 2:Yt=null;break;case 3:case 5:break;default:throw Error(i(329))}if((l&62914560)===l&&(m=Ko+300-en(),10<m)){if($i(d,l,cn,!qi),io(d,0,!0)!==0)break e;hi=l,d.timeoutHandle=m0(Ub.bind(null,d,o,Yt,Yo,Pf,l,cn,Lr,_s,qi,y,"Throttled",-0,0),m);break e}Ub(d,o,Yt,Yo,Pf,l,cn,Lr,_s,qi,y,null,-0,0)}}break}while(!0);Vn(r)}function Ub(r,l,o,d,m,y,S,N,M,B,$,Y,H,I){if(r.timeoutHandle=-1,Y=l.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Qn},Rb(l,y,Y);var ne=(y&62914560)===y?Ko-en():(y&4194048)===y?Lb-en():0;if(ne=tT(Y,ne),ne!==null){hi=y,r.cancelPendingCommit=ne(Gb.bind(null,r,l,y,o,d,m,S,N,M,$,Y,null,H,I)),$i(r,y,S,!B);return}}Gb(r,l,y,o,d,m,S,N,M)}function yN(r){for(var l=r;;){var o=l.tag;if((o===0||o===11||o===15)&&l.flags&16384&&(o=l.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var d=0;d<o.length;d++){var m=o[d],y=m.getSnapshot;m=m.value;try{if(!rn(y(),m))return!1}catch{return!1}}if(o=l.child,l.subtreeFlags&16384&&o!==null)o.return=l,l=o;else{if(l===r)break;for(;l.sibling===null;){if(l.return===null||l.return===r)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function $i(r,l,o,d){l&=~If,l&=~Lr,r.suspendedLanes|=l,r.pingedLanes&=~l,d&&(r.warmLanes|=l),d=r.expirationTimes;for(var m=l;0<m;){var y=31-nn(m),S=1<<y;d[y]=-1,m&=~S}o!==0&&Jm(r,o,l)}function Jo(){return(Re&6)===0?(Yl(0),!1):!0}function Kf(){if(ve!==null){if(Le===0)var r=ve.return;else r=ve,ni=Tr=null,of(r),As=null,Ol=0,r=ve;for(;r!==null;)gb(r.alternate,r),r=r.return;ve=null}}function Hs(r,l){var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,BN(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),hi=0,Kf(),Ie=r,ve=o=ei(r.current,null),Se=l,Le=0,on=null,qi=!1,Ls=hl(r,l),qf=!1,_s=cn=If=Lr=Ii=Ze=0,Yt=Kl=null,Pf=!1,(l&8)!==0&&(l|=l&32);var d=r.entangledLanes;if(d!==0)for(r=r.entanglements,d&=l;0<d;){var m=31-nn(d),y=1<<m;l|=r[m],d&=~y}return fi=l,go(),o}function qb(r,l){me=null,q.H=Hl,l===Cs||l===Eo?(l=ny(),Le=3):l===Jd?(l=ny(),Le=4):Le=l===Ef?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,on=l,ve===null&&(Ze=1,Ho(r,gn(l,r.current)))}function Ib(){var r=ln.current;return r===null?!0:(Se&4194048)===Se?vn===null:(Se&62914560)===Se||(Se&536870912)!==0?r===vn:!1}function Pb(){var r=q.H;return q.H=Hl,r===null?Hl:r}function Vb(){var r=q.A;return q.A=mN,r}function Xo(){Ze=4,qi||(Se&4194048)!==Se&&ln.current!==null||(Ls=!0),(Ii&134217727)===0&&(Lr&134217727)===0||Ie===null||$i(Ie,Se,cn,!1)}function Gf(r,l,o){var d=Re;Re|=2;var m=Pb(),y=Vb();(Ie!==r||Se!==l)&&(Yo=null,Hs(r,l)),l=!1;var S=Ze;e:do try{if(Le!==0&&ve!==null){var N=ve,M=on;switch(Le){case 8:Kf(),S=6;break e;case 3:case 2:case 9:case 6:ln.current===null&&(l=!0);var B=Le;if(Le=0,on=null,Us(r,N,M,B),o&&Ls){S=0;break e}break;default:B=Le,Le=0,on=null,Us(r,N,M,B)}}bN(),S=Ze;break}catch($){qb(r,$)}while(!0);return l&&r.shellSuspendCounter++,ni=Tr=null,Re=d,q.H=m,q.A=y,ve===null&&(Ie=null,Se=0,go()),S}function bN(){for(;ve!==null;)$b(ve)}function xN(r,l){var o=Re;Re|=2;var d=Pb(),m=Vb();Ie!==r||Se!==l?(Yo=null,Go=en()+500,Hs(r,l)):Ls=hl(r,l);e:do try{if(Le!==0&&ve!==null){l=ve;var y=on;t:switch(Le){case 1:Le=0,on=null,Us(r,l,y,1);break;case 2:case 9:if(ey(y)){Le=0,on=null,Fb(l);break}l=function(){Le!==2&&Le!==9||Ie!==r||(Le=7),Vn(r)},y.then(l,l);break e;case 3:Le=7;break e;case 4:Le=5;break e;case 7:ey(y)?(Le=0,on=null,Fb(l)):(Le=0,on=null,Us(r,l,y,7));break;case 5:var S=null;switch(ve.tag){case 26:S=ve.memoizedState;case 5:case 27:var N=ve;if(S?O0(S):N.stateNode.complete){Le=0,on=null;var M=N.sibling;if(M!==null)ve=M;else{var B=N.return;B!==null?(ve=B,Wo(B)):ve=null}break t}}Le=0,on=null,Us(r,l,y,5);break;case 6:Le=0,on=null,Us(r,l,y,6);break;case 8:Kf(),Ze=6;break e;default:throw Error(i(462))}}vN();break}catch($){qb(r,$)}while(!0);return ni=Tr=null,q.H=d,q.A=m,Re=o,ve!==null?0:(Ie=null,Se=0,go(),Ze)}function vN(){for(;ve!==null&&!Vk();)$b(ve)}function $b(r){var l=pb(r.alternate,r,fi);r.memoizedProps=r.pendingProps,l===null?Wo(r):ve=l}function Fb(r){var l=r,o=l.alternate;switch(l.tag){case 15:case 0:l=ob(o,l,l.pendingProps,l.type,void 0,Se);break;case 11:l=ob(o,l,l.pendingProps,l.type.render,l.ref,Se);break;case 5:of(l);default:gb(o,l),l=ve=Vg(l,fi),l=pb(o,l,fi)}r.memoizedProps=r.pendingProps,l===null?Wo(r):ve=l}function Us(r,l,o,d){ni=Tr=null,of(l),As=null,Ol=0;var m=l.return;try{if(oN(r,m,l,o,Se)){Ze=1,Ho(r,gn(o,r.current)),ve=null;return}}catch(y){if(m!==null)throw ve=m,y;Ze=1,Ho(r,gn(o,r.current)),ve=null;return}l.flags&32768?(Ee||d===1?r=!0:Ls||(Se&536870912)!==0?r=!1:(qi=r=!0,(d===2||d===9||d===3||d===6)&&(d=ln.current,d!==null&&d.tag===13&&(d.flags|=16384))),Kb(l,r)):Wo(l)}function Wo(r){var l=r;do{if((l.flags&32768)!==0){Kb(l,qi);return}r=l.return;var o=dN(l.alternate,l,fi);if(o!==null){ve=o;return}if(l=l.sibling,l!==null){ve=l;return}ve=l=r}while(l!==null);Ze===0&&(Ze=5)}function Kb(r,l){do{var o=fN(r.alternate,r);if(o!==null){o.flags&=32767,ve=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!l&&(r=r.sibling,r!==null)){ve=r;return}ve=r=o}while(r!==null);Ze=6,ve=null}function Gb(r,l,o,d,m,y,S,N,M){r.cancelPendingCommit=null;do Qo();while(mt!==0);if((Re&6)!==0)throw Error(i(327));if(l!==null){if(l===r.current)throw Error(i(177));if(y=l.lanes|l.childLanes,y|=zd,Zk(r,o,y,S,N,M),r===Ie&&(ve=Ie=null,Se=0),Bs=l,Vi=r,hi=o,Vf=y,$f=m,_b=d,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,EN(Za,function(){return Qb(),null})):(r.callbackNode=null,r.callbackPriority=0),d=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||d){d=q.T,q.T=null,m=W.p,W.p=2,S=Re,Re|=4;try{hN(r,l,o)}finally{Re=S,W.p=m,q.T=d}}mt=1,Yb(),Jb(),Xb()}}function Yb(){if(mt===1){mt=0;var r=Vi,l=Bs,o=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||o){o=q.T,q.T=null;var d=W.p;W.p=2;var m=Re;Re|=4;try{Ab(l,r);var y=sh,S=zg(r.containerInfo),N=y.focusedElem,M=y.selectionRange;if(S!==N&&N&&N.ownerDocument&&Dg(N.ownerDocument.documentElement,N)){if(M!==null&&Md(N)){var B=M.start,$=M.end;if($===void 0&&($=B),"selectionStart"in N)N.selectionStart=B,N.selectionEnd=Math.min($,N.value.length);else{var Y=N.ownerDocument||document,H=Y&&Y.defaultView||window;if(H.getSelection){var I=H.getSelection(),ne=N.textContent.length,ce=Math.min(M.start,ne),Ue=M.end===void 0?ce:Math.min(M.end,ne);!I.extend&&ce>Ue&&(S=Ue,Ue=ce,ce=S);var D=jg(N,ce),R=jg(N,Ue);if(D&&R&&(I.rangeCount!==1||I.anchorNode!==D.node||I.anchorOffset!==D.offset||I.focusNode!==R.node||I.focusOffset!==R.offset)){var _=Y.createRange();_.setStart(D.node,D.offset),I.removeAllRanges(),ce>Ue?(I.addRange(_),I.extend(R.node,R.offset)):(_.setEnd(R.node,R.offset),I.addRange(_))}}}}for(Y=[],I=N;I=I.parentNode;)I.nodeType===1&&Y.push({element:I,left:I.scrollLeft,top:I.scrollTop});for(typeof N.focus=="function"&&N.focus(),N=0;N<Y.length;N++){var F=Y[N];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}uc=!!rh,sh=rh=null}finally{Re=m,W.p=d,q.T=o}}r.current=l,mt=2}}function Jb(){if(mt===2){mt=0;var r=Vi,l=Bs,o=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||o){o=q.T,q.T=null;var d=W.p;W.p=2;var m=Re;Re|=4;try{kb(r,l.alternate,l)}finally{Re=m,W.p=d,q.T=o}}mt=3}}function Xb(){if(mt===4||mt===3){mt=0,$k();var r=Vi,l=Bs,o=hi,d=_b;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?mt=5:(mt=0,Bs=Vi=null,Wb(r,r.pendingLanes));var m=r.pendingLanes;if(m===0&&(Pi=null),ud(o),l=l.stateNode,tn&&typeof tn.onCommitFiberRoot=="function")try{tn.onCommitFiberRoot(fl,l,void 0,(l.current.flags&128)===128)}catch{}if(d!==null){l=q.T,m=W.p,W.p=2,q.T=null;try{for(var y=r.onRecoverableError,S=0;S<d.length;S++){var N=d[S];y(N.value,{componentStack:N.stack})}}finally{q.T=l,W.p=m}}(hi&3)!==0&&Qo(),Vn(r),m=r.pendingLanes,(o&261930)!==0&&(m&42)!==0?r===Ff?Gl++:(Gl=0,Ff=r):Gl=0,Yl(0)}}function Wb(r,l){(r.pooledCacheLanes&=l)===0&&(l=r.pooledCache,l!=null&&(r.pooledCache=null,Al(l)))}function Qo(){return Yb(),Jb(),Xb(),Qb()}function Qb(){if(mt!==5)return!1;var r=Vi,l=Vf;Vf=0;var o=ud(hi),d=q.T,m=W.p;try{W.p=32>o?32:o,q.T=null,o=$f,$f=null;var y=Vi,S=hi;if(mt=0,Bs=Vi=null,hi=0,(Re&6)!==0)throw Error(i(331));var N=Re;if(Re|=4,Db(y.current),Ob(y,y.current,S,o),Re=N,Yl(0,!1),tn&&typeof tn.onPostCommitFiberRoot=="function")try{tn.onPostCommitFiberRoot(fl,y)}catch{}return!0}finally{W.p=m,q.T=d,Wb(r,l)}}function Zb(r,l,o){l=gn(o,l),l=kf(r.stateNode,l,2),r=_i(r,l,2),r!==null&&(pl(r,2),Vn(r))}function _e(r,l,o){if(r.tag===3)Zb(r,r,o);else for(;l!==null;){if(l.tag===3){Zb(l,r,o);break}else if(l.tag===1){var d=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Pi===null||!Pi.has(d))){r=gn(o,r),o=eb(2),d=_i(l,o,2),d!==null&&(tb(o,d,l,r),pl(d,2),Vn(d));break}}l=l.return}}function Yf(r,l,o){var d=r.pingCache;if(d===null){d=r.pingCache=new gN;var m=new Set;d.set(l,m)}else m=d.get(l),m===void 0&&(m=new Set,d.set(l,m));m.has(o)||(qf=!0,m.add(o),r=wN.bind(null,r,l,o),l.then(r,r))}function wN(r,l,o){var d=r.pingCache;d!==null&&d.delete(l),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,Ie===r&&(Se&o)===o&&(Ze===4||Ze===3&&(Se&62914560)===Se&&300>en()-Ko?(Re&2)===0&&Hs(r,0):If|=o,_s===Se&&(_s=0)),Vn(r)}function e0(r,l){l===0&&(l=Ym()),r=kr(r,l),r!==null&&(pl(r,l),Vn(r))}function SN(r){var l=r.memoizedState,o=0;l!==null&&(o=l.retryLane),e0(r,o)}function kN(r,l){var o=0;switch(r.tag){case 31:case 13:var d=r.stateNode,m=r.memoizedState;m!==null&&(o=m.retryLane);break;case 19:d=r.stateNode;break;case 22:d=r.stateNode._retryCache;break;default:throw Error(i(314))}d!==null&&d.delete(l),e0(r,o)}function EN(r,l){return ld(r,l)}var Zo=null,qs=null,Jf=!1,ec=!1,Xf=!1,Fi=0;function Vn(r){r!==qs&&r.next===null&&(qs===null?Zo=qs=r:qs=qs.next=r),ec=!0,Jf||(Jf=!0,TN())}function Yl(r,l){if(!Xf&&ec){Xf=!0;do for(var o=!1,d=Zo;d!==null;){if(r!==0){var m=d.pendingLanes;if(m===0)var y=0;else{var S=d.suspendedLanes,N=d.pingedLanes;y=(1<<31-nn(42|r)+1)-1,y&=m&~(S&~N),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(o=!0,r0(d,y))}else y=Se,y=io(d,d===Ie?y:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(y&3)===0||hl(d,y)||(o=!0,r0(d,y));d=d.next}while(o);Xf=!1}}function NN(){t0()}function t0(){ec=Jf=!1;var r=0;Fi!==0&&_N()&&(r=Fi);for(var l=en(),o=null,d=Zo;d!==null;){var m=d.next,y=n0(d,l);y===0?(d.next=null,o===null?Zo=m:o.next=m,m===null&&(qs=o)):(o=d,(r!==0||(y&3)!==0)&&(ec=!0)),d=m}mt!==0&&mt!==5||Yl(r),Fi!==0&&(Fi=0)}function n0(r,l){for(var o=r.suspendedLanes,d=r.pingedLanes,m=r.expirationTimes,y=r.pendingLanes&-62914561;0<y;){var S=31-nn(y),N=1<<S,M=m[S];M===-1?((N&o)===0||(N&d)!==0)&&(m[S]=Qk(N,l)):M<=l&&(r.expiredLanes|=N),y&=~N}if(l=Ie,o=Se,o=io(r,r===l?o:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),d=r.callbackNode,o===0||r===l&&(Le===2||Le===9)||r.cancelPendingCommit!==null)return d!==null&&d!==null&&ad(d),r.callbackNode=null,r.callbackPriority=0;if((o&3)===0||hl(r,o)){if(l=o&-o,l===r.callbackPriority)return l;switch(d!==null&&ad(d),ud(o)){case 2:case 8:o=Km;break;case 32:o=Za;break;case 268435456:o=Gm;break;default:o=Za}return d=i0.bind(null,r),o=ld(o,d),r.callbackPriority=l,r.callbackNode=o,l}return d!==null&&d!==null&&ad(d),r.callbackPriority=2,r.callbackNode=null,2}function i0(r,l){if(mt!==0&&mt!==5)return r.callbackNode=null,r.callbackPriority=0,null;var o=r.callbackNode;if(Qo()&&r.callbackNode!==o)return null;var d=Se;return d=io(r,r===Ie?d:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),d===0?null:(Hb(r,d,l),n0(r,en()),r.callbackNode!=null&&r.callbackNode===o?i0.bind(null,r):null)}function r0(r,l){if(Qo())return null;Hb(r,l,!0)}function TN(){HN(function(){(Re&6)!==0?ld(Fm,NN):t0()})}function Wf(){if(Fi===0){var r=Ns;r===0&&(r=eo,eo<<=1,(eo&261888)===0&&(eo=256)),Fi=r}return Fi}function s0(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:ao(""+r)}function l0(r,l){var o=l.ownerDocument.createElement("input");return o.name=l.name,o.value=l.value,r.id&&o.setAttribute("form",r.id),l.parentNode.insertBefore(o,l),r=new FormData(r),o.parentNode.removeChild(o),r}function CN(r,l,o,d,m){if(l==="submit"&&o&&o.stateNode===m){var y=s0((m[Vt]||null).action),S=d.submitter;S&&(l=(l=S[Vt]||null)?s0(l.formAction):S.getAttribute("formAction"),l!==null&&(y=l,S=null));var N=new fo("action","action",null,d,m);r.push({event:N,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(Fi!==0){var M=S?l0(m,S):new FormData(m);yf(o,{pending:!0,data:M,method:m.method,action:y},null,M)}}else typeof y=="function"&&(N.preventDefault(),M=S?l0(m,S):new FormData(m),yf(o,{pending:!0,data:M,method:m.method,action:y},y,M))},currentTarget:m}]})}}for(var Qf=0;Qf<Dd.length;Qf++){var Zf=Dd[Qf],AN=Zf.toLowerCase(),MN=Zf[0].toUpperCase()+Zf.slice(1);Rn(AN,"on"+MN)}Rn(Bg,"onAnimationEnd"),Rn(Hg,"onAnimationIteration"),Rn(Ug,"onAnimationStart"),Rn("dblclick","onDoubleClick"),Rn("focusin","onFocus"),Rn("focusout","onBlur"),Rn(FE,"onTransitionRun"),Rn(KE,"onTransitionStart"),Rn(GE,"onTransitionCancel"),Rn(qg,"onTransitionEnd"),ds("onMouseEnter",["mouseout","mouseover"]),ds("onMouseLeave",["mouseout","mouseover"]),ds("onPointerEnter",["pointerout","pointerover"]),ds("onPointerLeave",["pointerout","pointerover"]),xr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),xr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),xr("onBeforeInput",["compositionend","keypress","textInput","paste"]),xr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),xr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),xr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ON=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Jl));function a0(r,l){l=(l&4)!==0;for(var o=0;o<r.length;o++){var d=r[o],m=d.event;d=d.listeners;e:{var y=void 0;if(l)for(var S=d.length-1;0<=S;S--){var N=d[S],M=N.instance,B=N.currentTarget;if(N=N.listener,M!==y&&m.isPropagationStopped())break e;y=N,m.currentTarget=B;try{y(m)}catch($){mo($)}m.currentTarget=null,y=M}else for(S=0;S<d.length;S++){if(N=d[S],M=N.instance,B=N.currentTarget,N=N.listener,M!==y&&m.isPropagationStopped())break e;y=N,m.currentTarget=B;try{y(m)}catch($){mo($)}m.currentTarget=null,y=M}}}}function we(r,l){var o=l[dd];o===void 0&&(o=l[dd]=new Set);var d=r+"__bubble";o.has(d)||(o0(l,r,2,!1),o.add(d))}function eh(r,l,o){var d=0;l&&(d|=4),o0(o,r,d,l)}var tc="_reactListening"+Math.random().toString(36).slice(2);function th(r){if(!r[tc]){r[tc]=!0,tg.forEach(function(o){o!=="selectionchange"&&(ON.has(o)||eh(o,!1,r),eh(o,!0,r))});var l=r.nodeType===9?r:r.ownerDocument;l===null||l[tc]||(l[tc]=!0,eh("selectionchange",!1,l))}}function o0(r,l,o,d){switch(B0(l)){case 2:var m=rT;break;case 8:m=sT;break;default:m=gh}o=m.bind(null,l,o,r),m=void 0,!vd||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(m=!0),d?m!==void 0?r.addEventListener(l,o,{capture:!0,passive:m}):r.addEventListener(l,o,!0):m!==void 0?r.addEventListener(l,o,{passive:m}):r.addEventListener(l,o,!1)}function nh(r,l,o,d,m){var y=d;if((l&1)===0&&(l&2)===0&&d!==null)e:for(;;){if(d===null)return;var S=d.tag;if(S===3||S===4){var N=d.stateNode.containerInfo;if(N===m)break;if(S===4)for(S=d.return;S!==null;){var M=S.tag;if((M===3||M===4)&&S.stateNode.containerInfo===m)return;S=S.return}for(;N!==null;){if(S=as(N),S===null)return;if(M=S.tag,M===5||M===6||M===26||M===27){d=y=S;continue e}N=N.parentNode}}d=d.return}hg(function(){var B=y,$=bd(o),Y=[];e:{var H=Ig.get(r);if(H!==void 0){var I=fo,ne=r;switch(r){case"keypress":if(co(o)===0)break e;case"keydown":case"keyup":I=kE;break;case"focusin":ne="focus",I=Ed;break;case"focusout":ne="blur",I=Ed;break;case"beforeblur":case"afterblur":I=Ed;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":I=gg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":I=dE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":I=TE;break;case Bg:case Hg:case Ug:I=pE;break;case qg:I=AE;break;case"scroll":case"scrollend":I=cE;break;case"wheel":I=OE;break;case"copy":case"cut":case"paste":I=gE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":I=bg;break;case"toggle":case"beforetoggle":I=jE}var ce=(l&4)!==0,Ue=!ce&&(r==="scroll"||r==="scrollend"),D=ce?H!==null?H+"Capture":null:H;ce=[];for(var R=B,_;R!==null;){var F=R;if(_=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||_===null||D===null||(F=yl(R,D),F!=null&&ce.push(Xl(R,F,_))),Ue)break;R=R.return}0<ce.length&&(H=new I(H,ne,null,o,$),Y.push({event:H,listeners:ce}))}}if((l&7)===0){e:{if(H=r==="mouseover"||r==="pointerover",I=r==="mouseout"||r==="pointerout",H&&o!==yd&&(ne=o.relatedTarget||o.fromElement)&&(as(ne)||ne[ls]))break e;if((I||H)&&(H=$.window===$?$:(H=$.ownerDocument)?H.defaultView||H.parentWindow:window,I?(ne=o.relatedTarget||o.toElement,I=B,ne=ne?as(ne):null,ne!==null&&(Ue=a(ne),ce=ne.tag,ne!==Ue||ce!==5&&ce!==27&&ce!==6)&&(ne=null)):(I=null,ne=B),I!==ne)){if(ce=gg,F="onMouseLeave",D="onMouseEnter",R="mouse",(r==="pointerout"||r==="pointerover")&&(ce=bg,F="onPointerLeave",D="onPointerEnter",R="pointer"),Ue=I==null?H:gl(I),_=ne==null?H:gl(ne),H=new ce(F,R+"leave",I,o,$),H.target=Ue,H.relatedTarget=_,F=null,as($)===B&&(ce=new ce(D,R+"enter",ne,o,$),ce.target=_,ce.relatedTarget=Ue,F=ce),Ue=F,I&&ne)t:{for(ce=RN,D=I,R=ne,_=0,F=D;F;F=ce(F))_++;F=0;for(var ae=R;ae;ae=ce(ae))F++;for(;0<_-F;)D=ce(D),_--;for(;0<F-_;)R=ce(R),F--;for(;_--;){if(D===R||R!==null&&D===R.alternate){ce=D;break t}D=ce(D),R=ce(R)}ce=null}else ce=null;I!==null&&c0(Y,H,I,ce,!1),ne!==null&&Ue!==null&&c0(Y,Ue,ne,ce,!0)}}e:{if(H=B?gl(B):window,I=H.nodeName&&H.nodeName.toLowerCase(),I==="select"||I==="input"&&H.type==="file")var Ce=Tg;else if(Eg(H))if(Cg)Ce=PE;else{Ce=qE;var ie=UE}else I=H.nodeName,!I||I.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?B&&gd(B.elementType)&&(Ce=Tg):Ce=IE;if(Ce&&(Ce=Ce(r,B))){Ng(Y,Ce,o,$);break e}ie&&ie(r,H,B),r==="focusout"&&B&&H.type==="number"&&B.memoizedProps.value!=null&&md(H,"number",H.value)}switch(ie=B?gl(B):window,r){case"focusin":(Eg(ie)||ie.contentEditable==="true")&&(ys=ie,Od=B,Nl=null);break;case"focusout":Nl=Od=ys=null;break;case"mousedown":Rd=!0;break;case"contextmenu":case"mouseup":case"dragend":Rd=!1,Lg(Y,o,$);break;case"selectionchange":if($E)break;case"keydown":case"keyup":Lg(Y,o,$)}var ge;if(Td)e:{switch(r){case"compositionstart":var ke="onCompositionStart";break e;case"compositionend":ke="onCompositionEnd";break e;case"compositionupdate":ke="onCompositionUpdate";break e}ke=void 0}else gs?Sg(r,o)&&(ke="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(ke="onCompositionStart");ke&&(xg&&o.locale!=="ko"&&(gs||ke!=="onCompositionStart"?ke==="onCompositionEnd"&&gs&&(ge=pg()):(Mi=$,wd="value"in Mi?Mi.value:Mi.textContent,gs=!0)),ie=nc(B,ke),0<ie.length&&(ke=new yg(ke,r,null,o,$),Y.push({event:ke,listeners:ie}),ge?ke.data=ge:(ge=kg(o),ge!==null&&(ke.data=ge)))),(ge=zE?LE(r,o):_E(r,o))&&(ke=nc(B,"onBeforeInput"),0<ke.length&&(ie=new yg("onBeforeInput","beforeinput",null,o,$),Y.push({event:ie,listeners:ke}),ie.data=ge)),CN(Y,r,B,o,$)}a0(Y,l)})}function Xl(r,l,o){return{instance:r,listener:l,currentTarget:o}}function nc(r,l){for(var o=l+"Capture",d=[];r!==null;){var m=r,y=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||y===null||(m=yl(r,o),m!=null&&d.unshift(Xl(r,m,y)),m=yl(r,l),m!=null&&d.push(Xl(r,m,y))),r.tag===3)return d;r=r.return}return[]}function RN(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function c0(r,l,o,d,m){for(var y=l._reactName,S=[];o!==null&&o!==d;){var N=o,M=N.alternate,B=N.stateNode;if(N=N.tag,M!==null&&M===d)break;N!==5&&N!==26&&N!==27||B===null||(M=B,m?(B=yl(o,y),B!=null&&S.unshift(Xl(o,B,M))):m||(B=yl(o,y),B!=null&&S.push(Xl(o,B,M)))),o=o.return}S.length!==0&&r.push({event:l,listeners:S})}var jN=/\r\n?/g,DN=/\u0000|\uFFFD/g;function u0(r){return(typeof r=="string"?r:""+r).replace(jN,`
`).replace(DN,"")}function d0(r,l){return l=u0(l),u0(r)===l}function He(r,l,o,d,m,y){switch(o){case"children":typeof d=="string"?l==="body"||l==="textarea"&&d===""||hs(r,d):(typeof d=="number"||typeof d=="bigint")&&l!=="body"&&hs(r,""+d);break;case"className":so(r,"class",d);break;case"tabIndex":so(r,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":so(r,o,d);break;case"style":dg(r,d,y);break;case"data":if(l!=="object"){so(r,"data",d);break}case"src":case"href":if(d===""&&(l!=="a"||o!=="href")){r.removeAttribute(o);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){r.removeAttribute(o);break}d=ao(""+d),r.setAttribute(o,d);break;case"action":case"formAction":if(typeof d=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(o==="formAction"?(l!=="input"&&He(r,l,"name",m.name,m,null),He(r,l,"formEncType",m.formEncType,m,null),He(r,l,"formMethod",m.formMethod,m,null),He(r,l,"formTarget",m.formTarget,m,null)):(He(r,l,"encType",m.encType,m,null),He(r,l,"method",m.method,m,null),He(r,l,"target",m.target,m,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){r.removeAttribute(o);break}d=ao(""+d),r.setAttribute(o,d);break;case"onClick":d!=null&&(r.onclick=Qn);break;case"onScroll":d!=null&&we("scroll",r);break;case"onScrollEnd":d!=null&&we("scrollend",r);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(o=d.__html,o!=null){if(m.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"multiple":r.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":r.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){r.removeAttribute("xlink:href");break}o=ao(""+d),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?r.setAttribute(o,""+d):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":d===!0?r.setAttribute(o,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?r.setAttribute(o,d):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?r.setAttribute(o,d):r.removeAttribute(o);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?r.removeAttribute(o):r.setAttribute(o,d);break;case"popover":we("beforetoggle",r),we("toggle",r),ro(r,"popover",d);break;case"xlinkActuate":Wn(r,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":Wn(r,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":Wn(r,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":Wn(r,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":Wn(r,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":Wn(r,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":Wn(r,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":Wn(r,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":Wn(r,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":ro(r,"is",d);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=aE.get(o)||o,ro(r,o,d))}}function ih(r,l,o,d,m,y){switch(o){case"style":dg(r,d,y);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(o=d.__html,o!=null){if(m.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"children":typeof d=="string"?hs(r,d):(typeof d=="number"||typeof d=="bigint")&&hs(r,""+d);break;case"onScroll":d!=null&&we("scroll",r);break;case"onScrollEnd":d!=null&&we("scrollend",r);break;case"onClick":d!=null&&(r.onclick=Qn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ng.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(m=o.endsWith("Capture"),l=o.slice(2,m?o.length-7:void 0),y=r[Vt]||null,y=y!=null?y[o]:null,typeof y=="function"&&r.removeEventListener(l,y,m),typeof d=="function")){typeof y!="function"&&y!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(l,d,m);break e}o in r?r[o]=d:d===!0?r.setAttribute(o,""):ro(r,o,d)}}}function At(r,l,o){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":we("error",r),we("load",r);var d=!1,m=!1,y;for(y in o)if(o.hasOwnProperty(y)){var S=o[y];if(S!=null)switch(y){case"src":d=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,l));default:He(r,l,y,S,o,null)}}m&&He(r,l,"srcSet",o.srcSet,o,null),d&&He(r,l,"src",o.src,o,null);return;case"input":we("invalid",r);var N=y=S=m=null,M=null,B=null;for(d in o)if(o.hasOwnProperty(d)){var $=o[d];if($!=null)switch(d){case"name":m=$;break;case"type":S=$;break;case"checked":M=$;break;case"defaultChecked":B=$;break;case"value":y=$;break;case"defaultValue":N=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(i(137,l));break;default:He(r,l,d,$,o,null)}}ag(r,y,N,M,B,S,m,!1);return;case"select":we("invalid",r),d=S=y=null;for(m in o)if(o.hasOwnProperty(m)&&(N=o[m],N!=null))switch(m){case"value":y=N;break;case"defaultValue":S=N;break;case"multiple":d=N;default:He(r,l,m,N,o,null)}l=y,o=S,r.multiple=!!d,l!=null?fs(r,!!d,l,!1):o!=null&&fs(r,!!d,o,!0);return;case"textarea":we("invalid",r),y=m=d=null;for(S in o)if(o.hasOwnProperty(S)&&(N=o[S],N!=null))switch(S){case"value":d=N;break;case"defaultValue":m=N;break;case"children":y=N;break;case"dangerouslySetInnerHTML":if(N!=null)throw Error(i(91));break;default:He(r,l,S,N,o,null)}cg(r,d,m,y);return;case"option":for(M in o)o.hasOwnProperty(M)&&(d=o[M],d!=null)&&(M==="selected"?r.selected=d&&typeof d!="function"&&typeof d!="symbol":He(r,l,M,d,o,null));return;case"dialog":we("beforetoggle",r),we("toggle",r),we("cancel",r),we("close",r);break;case"iframe":case"object":we("load",r);break;case"video":case"audio":for(d=0;d<Jl.length;d++)we(Jl[d],r);break;case"image":we("error",r),we("load",r);break;case"details":we("toggle",r);break;case"embed":case"source":case"link":we("error",r),we("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in o)if(o.hasOwnProperty(B)&&(d=o[B],d!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,l));default:He(r,l,B,d,o,null)}return;default:if(gd(l)){for($ in o)o.hasOwnProperty($)&&(d=o[$],d!==void 0&&ih(r,l,$,d,o,void 0));return}}for(N in o)o.hasOwnProperty(N)&&(d=o[N],d!=null&&He(r,l,N,d,o,null))}function zN(r,l,o,d){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,y=null,S=null,N=null,M=null,B=null,$=null;for(I in o){var Y=o[I];if(o.hasOwnProperty(I)&&Y!=null)switch(I){case"checked":break;case"value":break;case"defaultValue":M=Y;default:d.hasOwnProperty(I)||He(r,l,I,null,d,Y)}}for(var H in d){var I=d[H];if(Y=o[H],d.hasOwnProperty(H)&&(I!=null||Y!=null))switch(H){case"type":y=I;break;case"name":m=I;break;case"checked":B=I;break;case"defaultChecked":$=I;break;case"value":S=I;break;case"defaultValue":N=I;break;case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(i(137,l));break;default:I!==Y&&He(r,l,H,I,d,Y)}}pd(r,S,N,M,B,$,y,m);return;case"select":I=S=N=H=null;for(y in o)if(M=o[y],o.hasOwnProperty(y)&&M!=null)switch(y){case"value":break;case"multiple":I=M;default:d.hasOwnProperty(y)||He(r,l,y,null,d,M)}for(m in d)if(y=d[m],M=o[m],d.hasOwnProperty(m)&&(y!=null||M!=null))switch(m){case"value":H=y;break;case"defaultValue":N=y;break;case"multiple":S=y;default:y!==M&&He(r,l,m,y,d,M)}l=N,o=S,d=I,H!=null?fs(r,!!o,H,!1):!!d!=!!o&&(l!=null?fs(r,!!o,l,!0):fs(r,!!o,o?[]:"",!1));return;case"textarea":I=H=null;for(N in o)if(m=o[N],o.hasOwnProperty(N)&&m!=null&&!d.hasOwnProperty(N))switch(N){case"value":break;case"children":break;default:He(r,l,N,null,d,m)}for(S in d)if(m=d[S],y=o[S],d.hasOwnProperty(S)&&(m!=null||y!=null))switch(S){case"value":H=m;break;case"defaultValue":I=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(i(91));break;default:m!==y&&He(r,l,S,m,d,y)}og(r,H,I);return;case"option":for(var ne in o)H=o[ne],o.hasOwnProperty(ne)&&H!=null&&!d.hasOwnProperty(ne)&&(ne==="selected"?r.selected=!1:He(r,l,ne,null,d,H));for(M in d)H=d[M],I=o[M],d.hasOwnProperty(M)&&H!==I&&(H!=null||I!=null)&&(M==="selected"?r.selected=H&&typeof H!="function"&&typeof H!="symbol":He(r,l,M,H,d,I));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ce in o)H=o[ce],o.hasOwnProperty(ce)&&H!=null&&!d.hasOwnProperty(ce)&&He(r,l,ce,null,d,H);for(B in d)if(H=d[B],I=o[B],d.hasOwnProperty(B)&&H!==I&&(H!=null||I!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(i(137,l));break;default:He(r,l,B,H,d,I)}return;default:if(gd(l)){for(var Ue in o)H=o[Ue],o.hasOwnProperty(Ue)&&H!==void 0&&!d.hasOwnProperty(Ue)&&ih(r,l,Ue,void 0,d,H);for($ in d)H=d[$],I=o[$],!d.hasOwnProperty($)||H===I||H===void 0&&I===void 0||ih(r,l,$,H,d,I);return}}for(var D in o)H=o[D],o.hasOwnProperty(D)&&H!=null&&!d.hasOwnProperty(D)&&He(r,l,D,null,d,H);for(Y in d)H=d[Y],I=o[Y],!d.hasOwnProperty(Y)||H===I||H==null&&I==null||He(r,l,Y,H,d,I)}function f0(r){switch(r){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function LN(){if(typeof performance.getEntriesByType=="function"){for(var r=0,l=0,o=performance.getEntriesByType("resource"),d=0;d<o.length;d++){var m=o[d],y=m.transferSize,S=m.initiatorType,N=m.duration;if(y&&N&&f0(S)){for(S=0,N=m.responseEnd,d+=1;d<o.length;d++){var M=o[d],B=M.startTime;if(B>N)break;var $=M.transferSize,Y=M.initiatorType;$&&f0(Y)&&(M=M.responseEnd,S+=$*(M<N?1:(N-B)/(M-B)))}if(--d,l+=8*(y+S)/(m.duration/1e3),r++,10<r)break}}if(0<r)return l/r/1e6}return navigator.connection&&(r=navigator.connection.downlink,typeof r=="number")?r:5}var rh=null,sh=null;function ic(r){return r.nodeType===9?r:r.ownerDocument}function h0(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function p0(r,l){if(r===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&l==="foreignObject"?0:r}function lh(r,l){return r==="textarea"||r==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var ah=null;function _N(){var r=window.event;return r&&r.type==="popstate"?r===ah?!1:(ah=r,!0):(ah=null,!1)}var m0=typeof setTimeout=="function"?setTimeout:void 0,BN=typeof clearTimeout=="function"?clearTimeout:void 0,g0=typeof Promise=="function"?Promise:void 0,HN=typeof queueMicrotask=="function"?queueMicrotask:typeof g0<"u"?function(r){return g0.resolve(null).then(r).catch(UN)}:m0;function UN(r){setTimeout(function(){throw r})}function Ki(r){return r==="head"}function y0(r,l){var o=l,d=0;do{var m=o.nextSibling;if(r.removeChild(o),m&&m.nodeType===8)if(o=m.data,o==="/$"||o==="/&"){if(d===0){r.removeChild(m),$s(l);return}d--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")d++;else if(o==="html")Wl(r.ownerDocument.documentElement);else if(o==="head"){o=r.ownerDocument.head,Wl(o);for(var y=o.firstChild;y;){var S=y.nextSibling,N=y.nodeName;y[ml]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&y.rel.toLowerCase()==="stylesheet"||o.removeChild(y),y=S}}else o==="body"&&Wl(r.ownerDocument.body);o=m}while(o);$s(l)}function b0(r,l){var o=r;r=0;do{var d=o.nextSibling;if(o.nodeType===1?l?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(l?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),d&&d.nodeType===8)if(o=d.data,o==="/$"){if(r===0)break;r--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||r++;o=d}while(o)}function oh(r){var l=r.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var o=l;switch(l=l.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":oh(o),fd(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function qN(r,l,o,d){for(;r.nodeType===1;){var m=o;if(r.nodeName.toLowerCase()!==l.toLowerCase()){if(!d&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(d){if(!r[ml])switch(l){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(y=r.getAttribute("rel"),y==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(y!==m.rel||r.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||r.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||r.getAttribute("title")!==(m.title==null?null:m.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(y=r.getAttribute("src"),(y!==(m.src==null?null:m.src)||r.getAttribute("type")!==(m.type==null?null:m.type)||r.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&y&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(l==="input"&&r.type==="hidden"){var y=m.name==null?null:""+m.name;if(m.type==="hidden"&&r.getAttribute("name")===y)return r}else return r;if(r=wn(r.nextSibling),r===null)break}return null}function IN(r,l,o){if(l==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=wn(r.nextSibling),r===null))return null;return r}function x0(r,l){for(;r.nodeType!==8;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!l||(r=wn(r.nextSibling),r===null))return null;return r}function ch(r){return r.data==="$?"||r.data==="$~"}function uh(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState!=="loading"}function PN(r,l){var o=r.ownerDocument;if(r.data==="$~")r._reactRetry=l;else if(r.data!=="$?"||o.readyState!=="loading")l();else{var d=function(){l(),o.removeEventListener("DOMContentLoaded",d)};o.addEventListener("DOMContentLoaded",d),r._reactRetry=d}}function wn(r){for(;r!=null;r=r.nextSibling){var l=r.nodeType;if(l===1||l===3)break;if(l===8){if(l=r.data,l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"||l==="F!"||l==="F")break;if(l==="/$"||l==="/&")return null}}return r}var dh=null;function v0(r){r=r.nextSibling;for(var l=0;r;){if(r.nodeType===8){var o=r.data;if(o==="/$"||o==="/&"){if(l===0)return wn(r.nextSibling);l--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||l++}r=r.nextSibling}return null}function w0(r){r=r.previousSibling;for(var l=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(l===0)return r;l--}else o!=="/$"&&o!=="/&"||l++}r=r.previousSibling}return null}function S0(r,l,o){switch(l=ic(o),r){case"html":if(r=l.documentElement,!r)throw Error(i(452));return r;case"head":if(r=l.head,!r)throw Error(i(453));return r;case"body":if(r=l.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function Wl(r){for(var l=r.attributes;l.length;)r.removeAttributeNode(l[0]);fd(r)}var Sn=new Map,k0=new Set;function rc(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var pi=W.d;W.d={f:VN,r:$N,D:FN,C:KN,L:GN,m:YN,X:XN,S:JN,M:WN};function VN(){var r=pi.f(),l=Jo();return r||l}function $N(r){var l=cs(r);l!==null&&l.tag===5&&l.type==="form"?qy(l):pi.r(r)}var Is=typeof document>"u"?null:document;function E0(r,l,o){var d=Is;if(d&&typeof l=="string"&&l){var m=pn(l);m='link[rel="'+r+'"][href="'+m+'"]',typeof o=="string"&&(m+='[crossorigin="'+o+'"]'),k0.has(m)||(k0.add(m),r={rel:r,crossOrigin:o,href:l},d.querySelector(m)===null&&(l=d.createElement("link"),At(l,"link",r),bt(l),d.head.appendChild(l)))}}function FN(r){pi.D(r),E0("dns-prefetch",r,null)}function KN(r,l){pi.C(r,l),E0("preconnect",r,l)}function GN(r,l,o){pi.L(r,l,o);var d=Is;if(d&&r&&l){var m='link[rel="preload"][as="'+pn(l)+'"]';l==="image"&&o&&o.imageSrcSet?(m+='[imagesrcset="'+pn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(m+='[imagesizes="'+pn(o.imageSizes)+'"]')):m+='[href="'+pn(r)+'"]';var y=m;switch(l){case"style":y=Ps(r);break;case"script":y=Vs(r)}Sn.has(y)||(r=g({rel:"preload",href:l==="image"&&o&&o.imageSrcSet?void 0:r,as:l},o),Sn.set(y,r),d.querySelector(m)!==null||l==="style"&&d.querySelector(Ql(y))||l==="script"&&d.querySelector(Zl(y))||(l=d.createElement("link"),At(l,"link",r),bt(l),d.head.appendChild(l)))}}function YN(r,l){pi.m(r,l);var o=Is;if(o&&r){var d=l&&typeof l.as=="string"?l.as:"script",m='link[rel="modulepreload"][as="'+pn(d)+'"][href="'+pn(r)+'"]',y=m;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Vs(r)}if(!Sn.has(y)&&(r=g({rel:"modulepreload",href:r},l),Sn.set(y,r),o.querySelector(m)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Zl(y)))return}d=o.createElement("link"),At(d,"link",r),bt(d),o.head.appendChild(d)}}}function JN(r,l,o){pi.S(r,l,o);var d=Is;if(d&&r){var m=us(d).hoistableStyles,y=Ps(r);l=l||"default";var S=m.get(y);if(!S){var N={loading:0,preload:null};if(S=d.querySelector(Ql(y)))N.loading=5;else{r=g({rel:"stylesheet",href:r,"data-precedence":l},o),(o=Sn.get(y))&&fh(r,o);var M=S=d.createElement("link");bt(M),At(M,"link",r),M._p=new Promise(function(B,$){M.onload=B,M.onerror=$}),M.addEventListener("load",function(){N.loading|=1}),M.addEventListener("error",function(){N.loading|=2}),N.loading|=4,sc(S,l,d)}S={type:"stylesheet",instance:S,count:1,state:N},m.set(y,S)}}}function XN(r,l){pi.X(r,l);var o=Is;if(o&&r){var d=us(o).hoistableScripts,m=Vs(r),y=d.get(m);y||(y=o.querySelector(Zl(m)),y||(r=g({src:r,async:!0},l),(l=Sn.get(m))&&hh(r,l),y=o.createElement("script"),bt(y),At(y,"link",r),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},d.set(m,y))}}function WN(r,l){pi.M(r,l);var o=Is;if(o&&r){var d=us(o).hoistableScripts,m=Vs(r),y=d.get(m);y||(y=o.querySelector(Zl(m)),y||(r=g({src:r,async:!0,type:"module"},l),(l=Sn.get(m))&&hh(r,l),y=o.createElement("script"),bt(y),At(y,"link",r),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},d.set(m,y))}}function N0(r,l,o,d){var m=(m=xe.current)?rc(m):null;if(!m)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(l=Ps(o.href),o=us(m).hoistableStyles,d=o.get(l),d||(d={type:"style",instance:null,count:0,state:null},o.set(l,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=Ps(o.href);var y=us(m).hoistableStyles,S=y.get(r);if(S||(m=m.ownerDocument||m,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(r,S),(y=m.querySelector(Ql(r)))&&!y._p&&(S.instance=y,S.state.loading=5),Sn.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Sn.set(r,o),y||QN(m,r,o,S.state))),l&&d===null)throw Error(i(528,""));return S}if(l&&d!==null)throw Error(i(529,""));return null;case"script":return l=o.async,o=o.src,typeof o=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=Vs(o),o=us(m).hoistableScripts,d=o.get(l),d||(d={type:"script",instance:null,count:0,state:null},o.set(l,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function Ps(r){return'href="'+pn(r)+'"'}function Ql(r){return'link[rel="stylesheet"]['+r+"]"}function T0(r){return g({},r,{"data-precedence":r.precedence,precedence:null})}function QN(r,l,o,d){r.querySelector('link[rel="preload"][as="style"]['+l+"]")?d.loading=1:(l=r.createElement("link"),d.preload=l,l.addEventListener("load",function(){return d.loading|=1}),l.addEventListener("error",function(){return d.loading|=2}),At(l,"link",o),bt(l),r.head.appendChild(l))}function Vs(r){return'[src="'+pn(r)+'"]'}function Zl(r){return"script[async]"+r}function C0(r,l,o){if(l.count++,l.instance===null)switch(l.type){case"style":var d=r.querySelector('style[data-href~="'+pn(o.href)+'"]');if(d)return l.instance=d,bt(d),d;var m=g({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return d=(r.ownerDocument||r).createElement("style"),bt(d),At(d,"style",m),sc(d,o.precedence,r),l.instance=d;case"stylesheet":m=Ps(o.href);var y=r.querySelector(Ql(m));if(y)return l.state.loading|=4,l.instance=y,bt(y),y;d=T0(o),(m=Sn.get(m))&&fh(d,m),y=(r.ownerDocument||r).createElement("link"),bt(y);var S=y;return S._p=new Promise(function(N,M){S.onload=N,S.onerror=M}),At(y,"link",d),l.state.loading|=4,sc(y,o.precedence,r),l.instance=y;case"script":return y=Vs(o.src),(m=r.querySelector(Zl(y)))?(l.instance=m,bt(m),m):(d=o,(m=Sn.get(y))&&(d=g({},o),hh(d,m)),r=r.ownerDocument||r,m=r.createElement("script"),bt(m),At(m,"link",d),r.head.appendChild(m),l.instance=m);case"void":return null;default:throw Error(i(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(d=l.instance,l.state.loading|=4,sc(d,o.precedence,r));return l.instance}function sc(r,l,o){for(var d=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=d.length?d[d.length-1]:null,y=m,S=0;S<d.length;S++){var N=d[S];if(N.dataset.precedence===l)y=N;else if(y!==m)break}y?y.parentNode.insertBefore(r,y.nextSibling):(l=o.nodeType===9?o.head:o,l.insertBefore(r,l.firstChild))}function fh(r,l){r.crossOrigin==null&&(r.crossOrigin=l.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=l.referrerPolicy),r.title==null&&(r.title=l.title)}function hh(r,l){r.crossOrigin==null&&(r.crossOrigin=l.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=l.referrerPolicy),r.integrity==null&&(r.integrity=l.integrity)}var lc=null;function A0(r,l,o){if(lc===null){var d=new Map,m=lc=new Map;m.set(o,d)}else m=lc,d=m.get(o),d||(d=new Map,m.set(o,d));if(d.has(r))return d;for(d.set(r,null),o=o.getElementsByTagName(r),m=0;m<o.length;m++){var y=o[m];if(!(y[ml]||y[Et]||r==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var S=y.getAttribute(l)||"";S=r+S;var N=d.get(S);N?N.push(y):d.set(S,[y])}}return d}function M0(r,l,o){r=r.ownerDocument||r,r.head.insertBefore(o,l==="title"?r.querySelector("head > title"):null)}function ZN(r,l,o){if(o===1||l.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;return l.rel==="stylesheet"?(r=l.disabled,typeof l.precedence=="string"&&r==null):!0;case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function O0(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}function eT(r,l,o,d){if(o.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var m=Ps(d.href),y=l.querySelector(Ql(m));if(y){l=y._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(r.count++,r=ac.bind(r),l.then(r,r)),o.state.loading|=4,o.instance=y,bt(y);return}y=l.ownerDocument||l,d=T0(d),(m=Sn.get(m))&&fh(d,m),y=y.createElement("link"),bt(y);var S=y;S._p=new Promise(function(N,M){S.onload=N,S.onerror=M}),At(y,"link",d),o.instance=y}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(o,l),(l=o.state.preload)&&(o.state.loading&3)===0&&(r.count++,o=ac.bind(r),l.addEventListener("load",o),l.addEventListener("error",o))}}var ph=0;function tT(r,l){return r.stylesheets&&r.count===0&&cc(r,r.stylesheets),0<r.count||0<r.imgCount?function(o){var d=setTimeout(function(){if(r.stylesheets&&cc(r,r.stylesheets),r.unsuspend){var y=r.unsuspend;r.unsuspend=null,y()}},6e4+l);0<r.imgBytes&&ph===0&&(ph=62500*LN());var m=setTimeout(function(){if(r.waitingForImages=!1,r.count===0&&(r.stylesheets&&cc(r,r.stylesheets),r.unsuspend)){var y=r.unsuspend;r.unsuspend=null,y()}},(r.imgBytes>ph?50:800)+l);return r.unsuspend=o,function(){r.unsuspend=null,clearTimeout(d),clearTimeout(m)}}:null}function ac(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)cc(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var oc=null;function cc(r,l){r.stylesheets=null,r.unsuspend!==null&&(r.count++,oc=new Map,l.forEach(nT,r),oc=null,ac.call(r))}function nT(r,l){if(!(l.state.loading&4)){var o=oc.get(r);if(o)var d=o.get(null);else{o=new Map,oc.set(r,o);for(var m=r.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<m.length;y++){var S=m[y];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(o.set(S.dataset.precedence,S),d=S)}d&&o.set(null,d)}m=l.instance,S=m.getAttribute("data-precedence"),y=o.get(S)||d,y===d&&o.set(null,m),o.set(S,m),this.count++,d=ac.bind(this),m.addEventListener("load",d),m.addEventListener("error",d),y?y.parentNode.insertBefore(m,y.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(m,r.firstChild)),l.state.loading|=4}}var ea={$$typeof:j,Provider:null,Consumer:null,_currentValue:se,_currentValue2:se,_threadCount:0};function iT(r,l,o,d,m,y,S,N,M){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=od(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=od(0),this.hiddenUpdates=od(null),this.identifierPrefix=d,this.onUncaughtError=m,this.onCaughtError=y,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=M,this.incompleteTransitions=new Map}function R0(r,l,o,d,m,y,S,N,M,B,$,Y){return r=new iT(r,l,o,S,M,B,$,Y,N),l=1,y===!0&&(l|=24),y=sn(3,null,null,l),r.current=y,y.stateNode=r,l=Kd(),l.refCount++,r.pooledCache=l,l.refCount++,y.memoizedState={element:d,isDehydrated:o,cache:l},Xd(y),r}function j0(r){return r?(r=vs,r):vs}function D0(r,l,o,d,m,y){m=j0(m),d.context===null?d.context=m:d.pendingContext=m,d=Li(l),d.payload={element:o},y=y===void 0?null:y,y!==null&&(d.callback=y),o=_i(r,d,l),o!==null&&(Jt(o,r,l),jl(o,r,l))}function z0(r,l){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<l?o:l}}function mh(r,l){z0(r,l),(r=r.alternate)&&z0(r,l)}function L0(r){if(r.tag===13||r.tag===31){var l=kr(r,67108864);l!==null&&Jt(l,r,67108864),mh(r,67108864)}}function _0(r){if(r.tag===13||r.tag===31){var l=un();l=cd(l);var o=kr(r,l);o!==null&&Jt(o,r,l),mh(r,l)}}var uc=!0;function rT(r,l,o,d){var m=q.T;q.T=null;var y=W.p;try{W.p=2,gh(r,l,o,d)}finally{W.p=y,q.T=m}}function sT(r,l,o,d){var m=q.T;q.T=null;var y=W.p;try{W.p=8,gh(r,l,o,d)}finally{W.p=y,q.T=m}}function gh(r,l,o,d){if(uc){var m=yh(d);if(m===null)nh(r,l,d,dc,o),H0(r,d);else if(aT(m,r,l,o,d))d.stopPropagation();else if(H0(r,d),l&4&&-1<lT.indexOf(r)){for(;m!==null;){var y=cs(m);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var S=br(y.pendingLanes);if(S!==0){var N=y;for(N.pendingLanes|=2,N.entangledLanes|=2;S;){var M=1<<31-nn(S);N.entanglements[1]|=M,S&=~M}Vn(y),(Re&6)===0&&(Go=en()+500,Yl(0))}}break;case 31:case 13:N=kr(y,2),N!==null&&Jt(N,y,2),Jo(),mh(y,2)}if(y=yh(d),y===null&&nh(r,l,d,dc,o),y===m)break;m=y}m!==null&&d.stopPropagation()}else nh(r,l,d,null,o)}}function yh(r){return r=bd(r),bh(r)}var dc=null;function bh(r){if(dc=null,r=as(r),r!==null){var l=a(r);if(l===null)r=null;else{var o=l.tag;if(o===13){if(r=c(l),r!==null)return r;r=null}else if(o===31){if(r=u(l),r!==null)return r;r=null}else if(o===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;r=null}else l!==r&&(r=null)}}return dc=r,null}function B0(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Fk()){case Fm:return 2;case Km:return 8;case Za:case Kk:return 32;case Gm:return 268435456;default:return 32}default:return 32}}var xh=!1,Gi=null,Yi=null,Ji=null,ta=new Map,na=new Map,Xi=[],lT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function H0(r,l){switch(r){case"focusin":case"focusout":Gi=null;break;case"dragenter":case"dragleave":Yi=null;break;case"mouseover":case"mouseout":Ji=null;break;case"pointerover":case"pointerout":ta.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":na.delete(l.pointerId)}}function ia(r,l,o,d,m,y){return r===null||r.nativeEvent!==y?(r={blockedOn:l,domEventName:o,eventSystemFlags:d,nativeEvent:y,targetContainers:[m]},l!==null&&(l=cs(l),l!==null&&L0(l)),r):(r.eventSystemFlags|=d,l=r.targetContainers,m!==null&&l.indexOf(m)===-1&&l.push(m),r)}function aT(r,l,o,d,m){switch(l){case"focusin":return Gi=ia(Gi,r,l,o,d,m),!0;case"dragenter":return Yi=ia(Yi,r,l,o,d,m),!0;case"mouseover":return Ji=ia(Ji,r,l,o,d,m),!0;case"pointerover":var y=m.pointerId;return ta.set(y,ia(ta.get(y)||null,r,l,o,d,m)),!0;case"gotpointercapture":return y=m.pointerId,na.set(y,ia(na.get(y)||null,r,l,o,d,m)),!0}return!1}function U0(r){var l=as(r.target);if(l!==null){var o=a(l);if(o!==null){if(l=o.tag,l===13){if(l=c(o),l!==null){r.blockedOn=l,Zm(r.priority,function(){_0(o)});return}}else if(l===31){if(l=u(o),l!==null){r.blockedOn=l,Zm(r.priority,function(){_0(o)});return}}else if(l===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function fc(r){if(r.blockedOn!==null)return!1;for(var l=r.targetContainers;0<l.length;){var o=yh(r.nativeEvent);if(o===null){o=r.nativeEvent;var d=new o.constructor(o.type,o);yd=d,o.target.dispatchEvent(d),yd=null}else return l=cs(o),l!==null&&L0(l),r.blockedOn=o,!1;l.shift()}return!0}function q0(r,l,o){fc(r)&&o.delete(l)}function oT(){xh=!1,Gi!==null&&fc(Gi)&&(Gi=null),Yi!==null&&fc(Yi)&&(Yi=null),Ji!==null&&fc(Ji)&&(Ji=null),ta.forEach(q0),na.forEach(q0)}function hc(r,l){r.blockedOn===l&&(r.blockedOn=null,xh||(xh=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,oT)))}var pc=null;function I0(r){pc!==r&&(pc=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){pc===r&&(pc=null);for(var l=0;l<r.length;l+=3){var o=r[l],d=r[l+1],m=r[l+2];if(typeof d!="function"){if(bh(d||o)===null)continue;break}var y=cs(o);y!==null&&(r.splice(l,3),l-=3,yf(y,{pending:!0,data:m,method:o.method,action:d},d,m))}}))}function $s(r){function l(M){return hc(M,r)}Gi!==null&&hc(Gi,r),Yi!==null&&hc(Yi,r),Ji!==null&&hc(Ji,r),ta.forEach(l),na.forEach(l);for(var o=0;o<Xi.length;o++){var d=Xi[o];d.blockedOn===r&&(d.blockedOn=null)}for(;0<Xi.length&&(o=Xi[0],o.blockedOn===null);)U0(o),o.blockedOn===null&&Xi.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(d=0;d<o.length;d+=3){var m=o[d],y=o[d+1],S=m[Vt]||null;if(typeof y=="function")S||I0(o);else if(S){var N=null;if(y&&y.hasAttribute("formAction")){if(m=y,S=y[Vt]||null)N=S.formAction;else if(bh(m)!==null)continue}else N=S.action;typeof N=="function"?o[d+1]=N:(o.splice(d,3),d-=3),I0(o)}}}function P0(){function r(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(S){return m=S})},focusReset:"manual",scroll:"manual"})}function l(){m!==null&&(m(),m=null),d||setTimeout(o,20)}function o(){if(!d&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var d=!1,m=null;return navigation.addEventListener("navigate",r),navigation.addEventListener("navigatesuccess",l),navigation.addEventListener("navigateerror",l),setTimeout(o,100),function(){d=!0,navigation.removeEventListener("navigate",r),navigation.removeEventListener("navigatesuccess",l),navigation.removeEventListener("navigateerror",l),m!==null&&(m(),m=null)}}}function vh(r){this._internalRoot=r}mc.prototype.render=vh.prototype.render=function(r){var l=this._internalRoot;if(l===null)throw Error(i(409));var o=l.current,d=un();D0(o,d,r,l,null,null)},mc.prototype.unmount=vh.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var l=r.containerInfo;D0(r.current,2,null,r,null,null),Jo(),l[ls]=null}};function mc(r){this._internalRoot=r}mc.prototype.unstable_scheduleHydration=function(r){if(r){var l=Qm();r={blockedOn:null,target:r,priority:l};for(var o=0;o<Xi.length&&l!==0&&l<Xi[o].priority;o++);Xi.splice(o,0,r),o===0&&U0(r)}};var V0=e.version;if(V0!=="19.2.4")throw Error(i(527,V0,"19.2.4"));W.findDOMNode=function(r){var l=r._reactInternals;if(l===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=h(l),r=r!==null?p(r):null,r=r===null?null:r.stateNode,r};var cT={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gc.isDisabled&&gc.supportsFiber)try{fl=gc.inject(cT),tn=gc}catch{}}return sa.createRoot=function(r,l){if(!s(r))throw Error(i(299));var o=!1,d="",m=Xy,y=Wy,S=Qy;return l!=null&&(l.unstable_strictMode===!0&&(o=!0),l.identifierPrefix!==void 0&&(d=l.identifierPrefix),l.onUncaughtError!==void 0&&(m=l.onUncaughtError),l.onCaughtError!==void 0&&(y=l.onCaughtError),l.onRecoverableError!==void 0&&(S=l.onRecoverableError)),l=R0(r,1,!1,null,null,o,d,null,m,y,S,P0),r[ls]=l.current,th(r),new vh(l)},sa.hydrateRoot=function(r,l,o){if(!s(r))throw Error(i(299));var d=!1,m="",y=Xy,S=Wy,N=Qy,M=null;return o!=null&&(o.unstable_strictMode===!0&&(d=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(S=o.onCaughtError),o.onRecoverableError!==void 0&&(N=o.onRecoverableError),o.formState!==void 0&&(M=o.formState)),l=R0(r,1,!0,l,o??null,d,m,M,y,S,N,P0),l.context=j0(null),o=l.current,d=un(),d=cd(d),m=Li(d),m.callback=null,_i(o,m,d),o=d,l.current.lanes=o,pl(l,o),Vn(l),r[ls]=l.current,th(r),new mc(l)},sa.version="19.2.4",sa}var Z0;function bT(){if(Z0)return kh.exports;Z0=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),kh.exports=yT(),kh.exports}var xT=bT();var ex="popstate";function vT(t={}){function e(i,s){let{pathname:a,search:c,hash:u}=i.location;return up("",{pathname:a,search:c,hash:u},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){return typeof s=="string"?s:Ca(s)}return ST(e,n,null,t)}function Je(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Bn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function wT(){return Math.random().toString(36).substring(2,10)}function tx(t,e){return{usr:t.state,key:t.key,idx:e}}function up(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?al(e):e,state:n,key:e&&e.key||i||wT()}}function Ca({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function al(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function ST(t,e,n,i={}){let{window:s=document.defaultView,v5Compat:a=!1}=i,c=s.history,u="POP",f=null,h=p();h==null&&(h=0,c.replaceState({...c.state,idx:h},""));function p(){return(c.state||{idx:null}).idx}function g(){u="POP";let E=p(),T=E==null?null:E-h;h=E,f&&f({action:u,location:k.location,delta:T})}function x(E,T){u="PUSH";let A=up(k.location,E,T);h=p()+1;let j=tx(A,h),U=k.createHref(A);try{c.pushState(j,"",U)}catch(z){if(z instanceof DOMException&&z.name==="DataCloneError")throw z;s.location.assign(U)}a&&f&&f({action:u,location:k.location,delta:1})}function v(E,T){u="REPLACE";let A=up(k.location,E,T);h=p();let j=tx(A,h),U=k.createHref(A);c.replaceState(j,"",U),a&&f&&f({action:u,location:k.location,delta:0})}function w(E){return kT(E)}let k={get action(){return u},get location(){return t(s,c)},listen(E){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(ex,g),f=E,()=>{s.removeEventListener(ex,g),f=null}},createHref(E){return e(s,E)},createURL:w,encodeLocation(E){let T=w(E);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:x,replace:v,go(E){return c.go(E)}};return k}function kT(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Je(n,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:Ca(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function a1(t,e,n="/"){return ET(t,e,n,!1)}function ET(t,e,n,i){let s=typeof e=="string"?al(e):e,a=Ei(s.pathname||"/",n);if(a==null)return null;let c=o1(t);NT(c);let u=null;for(let f=0;u==null&&f<c.length;++f){let h=_T(a);u=zT(c[f],h,i)}return u}function o1(t,e=[],n=[],i="",s=!1){let a=(c,u,f=s,h)=>{let p={relativePath:h===void 0?c.path||"":h,caseSensitive:c.caseSensitive===!0,childrenIndex:u,route:c};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(i)&&f)return;Je(p.relativePath.startsWith(i),`Absolute route path "${p.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(i.length)}let g=wi([i,p.relativePath]),x=n.concat(p);c.children&&c.children.length>0&&(Je(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),o1(c.children,e,x,g,f)),!(c.path==null&&!c.index)&&e.push({path:g,score:jT(g,c.index),routesMeta:x})};return t.forEach((c,u)=>{if(c.path===""||!c.path?.includes("?"))a(c,u);else for(let f of c1(c.path))a(c,u,!0,f)}),e}function c1(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(i.length===0)return s?[a,""]:[a];let c=c1(i.join("/")),u=[];return u.push(...c.map(f=>f===""?a:[a,f].join("/"))),s&&u.push(...c),u.map(f=>t.startsWith("/")&&f===""?"/":f)}function NT(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:DT(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var TT=/^:[\w-]+$/,CT=3,AT=2,MT=1,OT=10,RT=-2,nx=t=>t==="*";function jT(t,e){let n=t.split("/"),i=n.length;return n.some(nx)&&(i+=RT),e&&(i+=AT),n.filter(s=>!nx(s)).reduce((s,a)=>s+(TT.test(a)?CT:a===""?MT:OT),i)}function DT(t,e){return t.length===e.length&&t.slice(0,-1).every((i,s)=>i===e[s])?t[t.length-1]-e[e.length-1]:0}function zT(t,e,n=!1){let{routesMeta:i}=t,s={},a="/",c=[];for(let u=0;u<i.length;++u){let f=i[u],h=u===i.length-1,p=a==="/"?e:e.slice(a.length)||"/",g=Pc({path:f.relativePath,caseSensitive:f.caseSensitive,end:h},p),x=f.route;if(!g&&h&&n&&!i[i.length-1].route.index&&(g=Pc({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},p)),!g)return null;Object.assign(s,g.params),c.push({params:s,pathname:wi([a,g.pathname]),pathnameBase:qT(wi([a,g.pathnameBase])),route:x}),g.pathnameBase!=="/"&&(a=wi([a,g.pathnameBase]))}return c}function Pc(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=LT(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let a=s[0],c=a.replace(/(.)\/+$/,"$1"),u=s.slice(1);return{params:i.reduce((h,{paramName:p,isOptional:g},x)=>{if(p==="*"){let w=u[x]||"";c=a.slice(0,a.length-w.length).replace(/(.)\/+$/,"$1")}const v=u[x];return g&&!v?h[p]=void 0:h[p]=(v||"").replace(/%2F/g,"/"),h},{}),pathname:a,pathnameBase:c,pattern:t}}function LT(t,e=!1,n=!0){Bn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,u,f)=>(i.push({paramName:u,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(i.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),i]}function _T(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Bn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Ei(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}var BT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function HT(t,e="/"){let{pathname:n,search:i="",hash:s=""}=typeof t=="string"?al(t):t,a;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?a=ix(n.substring(1),"/"):a=ix(n,e)):a=e,{pathname:a,search:IT(i),hash:PT(s)}}function ix(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Ch(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function UT(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function u1(t){let e=UT(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function d1(t,e,n,i=!1){let s;typeof t=="string"?s=al(t):(s={...t},Je(!s.pathname||!s.pathname.includes("?"),Ch("?","pathname","search",s)),Je(!s.pathname||!s.pathname.includes("#"),Ch("#","pathname","hash",s)),Je(!s.search||!s.search.includes("#"),Ch("#","search","hash",s)));let a=t===""||s.pathname==="",c=a?"/":s.pathname,u;if(c==null)u=n;else{let g=e.length-1;if(!i&&c.startsWith("..")){let x=c.split("/");for(;x[0]==="..";)x.shift(),g-=1;s.pathname=x.join("/")}u=g>=0?e[g]:"/"}let f=HT(s,u),h=c&&c!=="/"&&c.endsWith("/"),p=(a||c===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(h||p)&&(f.pathname+="/"),f}var wi=t=>t.join("/").replace(/\/\/+/g,"/"),qT=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),IT=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,PT=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,VT=class{constructor(t,e,n,i=!1){this.status=t,this.statusText=e||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function $T(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function FT(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var f1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function h1(t,e){let n=t;if(typeof n!="string"||!BT.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let i=n,s=!1;if(f1)try{let a=new URL(window.location.href),c=n.startsWith("//")?new URL(a.protocol+n):new URL(n),u=Ei(c.pathname,e);c.origin===a.origin&&u!=null?n=u+c.search+c.hash:s=!0}catch{Bn(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:s,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var p1=["POST","PUT","PATCH","DELETE"];new Set(p1);var KT=["GET",...p1];new Set(KT);var ol=C.createContext(null);ol.displayName="DataRouter";var zu=C.createContext(null);zu.displayName="DataRouterState";var GT=C.createContext(!1),m1=C.createContext({isTransitioning:!1});m1.displayName="ViewTransition";var YT=C.createContext(new Map);YT.displayName="Fetchers";var JT=C.createContext(null);JT.displayName="Await";var On=C.createContext(null);On.displayName="Navigation";var qa=C.createContext(null);qa.displayName="Location";var Hn=C.createContext({outlet:null,matches:[],isDataRoute:!1});Hn.displayName="Route";var Gp=C.createContext(null);Gp.displayName="RouteError";var g1="REACT_ROUTER_ERROR",XT="REDIRECT",WT="ROUTE_ERROR_RESPONSE";function QT(t){if(t.startsWith(`${g1}:${XT}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function ZT(t){if(t.startsWith(`${g1}:${WT}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new VT(e.status,e.statusText,e.data)}catch{}}function eC(t,{relative:e}={}){Je(Ia(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=C.useContext(On),{hash:s,pathname:a,search:c}=Pa(t,{relative:e}),u=a;return n!=="/"&&(u=a==="/"?n:wi([n,a])),i.createHref({pathname:u,search:c,hash:s})}function Ia(){return C.useContext(qa)!=null}function Xn(){return Je(Ia(),"useLocation() may be used only in the context of a <Router> component."),C.useContext(qa).location}var y1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function b1(t){C.useContext(On).static||C.useLayoutEffect(t)}function ns(){let{isDataRoute:t}=C.useContext(Hn);return t?mC():tC()}function tC(){Je(Ia(),"useNavigate() may be used only in the context of a <Router> component.");let t=C.useContext(ol),{basename:e,navigator:n}=C.useContext(On),{matches:i}=C.useContext(Hn),{pathname:s}=Xn(),a=JSON.stringify(u1(i)),c=C.useRef(!1);return b1(()=>{c.current=!0}),C.useCallback((f,h={})=>{if(Bn(c.current,y1),!c.current)return;if(typeof f=="number"){n.go(f);return}let p=d1(f,JSON.parse(a),s,h.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:wi([e,p.pathname])),(h.replace?n.replace:n.push)(p,h.state,h)},[e,n,a,s,t])}var nC=C.createContext(null);function iC(t){let e=C.useContext(Hn).outlet;return C.useMemo(()=>e&&C.createElement(nC.Provider,{value:t},e),[e,t])}function x1(){let{matches:t}=C.useContext(Hn),e=t[t.length-1];return e?e.params:{}}function Pa(t,{relative:e}={}){let{matches:n}=C.useContext(Hn),{pathname:i}=Xn(),s=JSON.stringify(u1(n));return C.useMemo(()=>d1(t,JSON.parse(s),i,e==="path"),[t,s,i,e])}function rC(t,e){return v1(t,e)}function v1(t,e,n,i,s){Je(Ia(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=C.useContext(On),{matches:c}=C.useContext(Hn),u=c[c.length-1],f=u?u.params:{},h=u?u.pathname:"/",p=u?u.pathnameBase:"/",g=u&&u.route;{let A=g&&g.path||"";S1(h,!g||A.endsWith("*")||A.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${A}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${A}"> to <Route path="${A==="/"?"*":`${A}/*`}">.`)}let x=Xn(),v;if(e){let A=typeof e=="string"?al(e):e;Je(p==="/"||A.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${A.pathname}" was given in the \`location\` prop.`),v=A}else v=x;let w=v.pathname||"/",k=w;if(p!=="/"){let A=p.replace(/^\//,"").split("/");k="/"+w.replace(/^\//,"").split("/").slice(A.length).join("/")}let E=a1(t,{pathname:k});Bn(g||E!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),Bn(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let T=cC(E&&E.map(A=>Object.assign({},A,{params:Object.assign({},f,A.params),pathname:wi([p,a.encodeLocation?a.encodeLocation(A.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?p:wi([p,a.encodeLocation?a.encodeLocation(A.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:A.pathnameBase])})),c,n,i,s);return e&&T?C.createElement(qa.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},T):T}function sC(){let t=pC(),e=$T(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=C.createElement(C.Fragment,null,C.createElement("p",null," Hey developer "),C.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",C.createElement("code",{style:a},"ErrorBoundary")," or"," ",C.createElement("code",{style:a},"errorElement")," prop on your route.")),C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},e),n?C.createElement("pre",{style:s},n):null,c)}var lC=C.createElement(sC,null),w1=class extends C.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=ZT(t.digest);n&&(t=n)}let e=t!==void 0?C.createElement(Hn.Provider,{value:this.props.routeContext},C.createElement(Gp.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?C.createElement(aC,{error:t},e):e}};w1.contextType=GT;var Ah=new WeakMap;function aC({children:t,error:e}){let{basename:n}=C.useContext(On);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let i=QT(e.digest);if(i){let s=Ah.get(e);if(s)throw s;let a=h1(i.location,n);if(f1&&!Ah.get(e))if(a.isExternal||i.reloadDocument)window.location.href=a.absoluteURL||a.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(a.to,{replace:i.replace}));throw Ah.set(e,c),c}return C.createElement("meta",{httpEquiv:"refresh",content:`0;url=${a.absoluteURL||a.to}`})}}return t}function oC({routeContext:t,match:e,children:n}){let i=C.useContext(ol);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),C.createElement(Hn.Provider,{value:t},n)}function cC(t,e=[],n=null,i=null,s=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,c=n?.errors;if(c!=null){let p=a.findIndex(g=>g.route.id&&c?.[g.route.id]!==void 0);Je(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),a=a.slice(0,Math.min(a.length,p+1))}let u=!1,f=-1;if(n)for(let p=0;p<a.length;p++){let g=a[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(f=p),g.route.id){let{loaderData:x,errors:v}=n,w=g.route.loader&&!x.hasOwnProperty(g.route.id)&&(!v||v[g.route.id]===void 0);if(g.route.lazy||w){u=!0,f>=0?a=a.slice(0,f+1):a=[a[0]];break}}}let h=n&&i?(p,g)=>{i(p,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:FT(n.matches),errorInfo:g})}:void 0;return a.reduceRight((p,g,x)=>{let v,w=!1,k=null,E=null;n&&(v=c&&g.route.id?c[g.route.id]:void 0,k=g.route.errorElement||lC,u&&(f<0&&x===0?(S1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,E=null):f===x&&(w=!0,E=g.route.hydrateFallbackElement||null)));let T=e.concat(a.slice(0,x+1)),A=()=>{let j;return v?j=k:w?j=E:g.route.Component?j=C.createElement(g.route.Component,null):g.route.element?j=g.route.element:j=p,C.createElement(oC,{match:g,routeContext:{outlet:p,matches:T,isDataRoute:n!=null},children:j})};return n&&(g.route.ErrorBoundary||g.route.errorElement||x===0)?C.createElement(w1,{location:n.location,revalidation:n.revalidation,component:k,error:v,children:A(),routeContext:{outlet:null,matches:T,isDataRoute:!0},onError:h}):A()},null)}function Yp(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function uC(t){let e=C.useContext(ol);return Je(e,Yp(t)),e}function dC(t){let e=C.useContext(zu);return Je(e,Yp(t)),e}function fC(t){let e=C.useContext(Hn);return Je(e,Yp(t)),e}function Jp(t){let e=fC(t),n=e.matches[e.matches.length-1];return Je(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function hC(){return Jp("useRouteId")}function pC(){let t=C.useContext(Gp),e=dC("useRouteError"),n=Jp("useRouteError");return t!==void 0?t:e.errors?.[n]}function mC(){let{router:t}=uC("useNavigate"),e=Jp("useNavigate"),n=C.useRef(!1);return b1(()=>{n.current=!0}),C.useCallback(async(s,a={})=>{Bn(n.current,y1),n.current&&(typeof s=="number"?await t.navigate(s):await t.navigate(s,{fromRouteId:e,...a}))},[t,e])}var rx={};function S1(t,e,n){!e&&!rx[t]&&(rx[t]=!0,Bn(!1,n))}C.memo(gC);function gC({routes:t,future:e,state:n,onError:i}){return v1(t,void 0,n,i,e)}function Xp(t){return iC(t.context)}function tt(t){Je(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function yC({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:s,static:a=!1,unstable_useTransitions:c}){Je(!Ia(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),f=C.useMemo(()=>({basename:u,navigator:s,static:a,unstable_useTransitions:c,future:{}}),[u,s,a,c]);typeof n=="string"&&(n=al(n));let{pathname:h="/",search:p="",hash:g="",state:x=null,key:v="default"}=n,w=C.useMemo(()=>{let k=Ei(h,u);return k==null?null:{location:{pathname:k,search:p,hash:g,state:x,key:v},navigationType:i}},[u,h,p,g,x,v,i]);return Bn(w!=null,`<Router basename="${u}"> is not able to match the URL "${h}${p}${g}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:C.createElement(On.Provider,{value:f},C.createElement(qa.Provider,{children:e,value:w}))}function bC({children:t,location:e}){return rC(dp(t),e)}function dp(t,e=[]){let n=[];return C.Children.forEach(t,(i,s)=>{if(!C.isValidElement(i))return;let a=[...e,s];if(i.type===C.Fragment){n.push.apply(n,dp(i.props.children,a));return}Je(i.type===tt,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Je(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=dp(i.props.children,a)),n.push(c)}),n}var jc="get",Dc="application/x-www-form-urlencoded";function Lu(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function xC(t){return Lu(t)&&t.tagName.toLowerCase()==="button"}function vC(t){return Lu(t)&&t.tagName.toLowerCase()==="form"}function wC(t){return Lu(t)&&t.tagName.toLowerCase()==="input"}function SC(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function kC(t,e){return t.button===0&&(!e||e==="_self")&&!SC(t)}function fp(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let i=t[n];return e.concat(Array.isArray(i)?i.map(s=>[n,s]):[[n,i]])},[]))}function EC(t,e){let n=fp(t);return e&&e.forEach((i,s)=>{n.has(s)||e.getAll(s).forEach(a=>{n.append(s,a)})}),n}var yc=null;function NC(){if(yc===null)try{new FormData(document.createElement("form"),0),yc=!1}catch{yc=!0}return yc}var TC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Mh(t){return t!=null&&!TC.has(t)?(Bn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Dc}"`),null):t}function CC(t,e){let n,i,s,a,c;if(vC(t)){let u=t.getAttribute("action");i=u?Ei(u,e):null,n=t.getAttribute("method")||jc,s=Mh(t.getAttribute("enctype"))||Dc,a=new FormData(t)}else if(xC(t)||wC(t)&&(t.type==="submit"||t.type==="image")){let u=t.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||u.getAttribute("action");if(i=f?Ei(f,e):null,n=t.getAttribute("formmethod")||u.getAttribute("method")||jc,s=Mh(t.getAttribute("formenctype"))||Mh(u.getAttribute("enctype"))||Dc,a=new FormData(u,t),!NC()){let{name:h,type:p,value:g}=t;if(p==="image"){let x=h?`${h}.`:"";a.append(`${x}x`,"0"),a.append(`${x}y`,"0")}else h&&a.append(h,g)}}else{if(Lu(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=jc,i=null,s=Dc,c=t}return a&&s==="text/plain"&&(c=a,a=void 0),{action:i,method:n.toLowerCase(),encType:s,formData:a,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Wp(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function AC(t,e,n,i){let s=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?s.pathname.endsWith("/")?s.pathname=`${s.pathname}_.${i}`:s.pathname=`${s.pathname}.${i}`:s.pathname==="/"?s.pathname=`_root.${i}`:e&&Ei(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${i}`,s}async function MC(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function OC(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function RC(t,e,n){let i=await Promise.all(t.map(async s=>{let a=e.routes[s.route.id];if(a){let c=await MC(a,n);return c.links?c.links():[]}return[]}));return LC(i.flat(1).filter(OC).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function sx(t,e,n,i,s,a){let c=(f,h)=>n[h]?f.route.id!==n[h].route.id:!0,u=(f,h)=>n[h].pathname!==f.pathname||n[h].route.path?.endsWith("*")&&n[h].params["*"]!==f.params["*"];return a==="assets"?e.filter((f,h)=>c(f,h)||u(f,h)):a==="data"?e.filter((f,h)=>{let p=i.routes[f.route.id];if(!p||!p.hasLoader)return!1;if(c(f,h)||u(f,h))return!0;if(f.route.shouldRevalidate){let g=f.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function jC(t,e,{includeHydrateFallback:n}={}){return DC(t.map(i=>{let s=e.routes[i.route.id];if(!s)return[];let a=[s.module];return s.clientActionModule&&(a=a.concat(s.clientActionModule)),s.clientLoaderModule&&(a=a.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(a=a.concat(s.hydrateFallbackModule)),s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function DC(t){return[...new Set(t)]}function zC(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function LC(t,e){let n=new Set;return new Set(e),t.reduce((i,s)=>{let a=JSON.stringify(zC(s));return n.has(a)||(n.add(a),i.push({key:a,link:s})),i},[])}function k1(){let t=C.useContext(ol);return Wp(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function _C(){let t=C.useContext(zu);return Wp(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Qp=C.createContext(void 0);Qp.displayName="FrameworkContext";function E1(){let t=C.useContext(Qp);return Wp(t,"You must render this element inside a <HydratedRouter> element"),t}function BC(t,e){let n=C.useContext(Qp),[i,s]=C.useState(!1),[a,c]=C.useState(!1),{onFocus:u,onBlur:f,onMouseEnter:h,onMouseLeave:p,onTouchStart:g}=e,x=C.useRef(null);C.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let k=T=>{T.forEach(A=>{c(A.isIntersecting)})},E=new IntersectionObserver(k,{threshold:.5});return x.current&&E.observe(x.current),()=>{E.disconnect()}}},[t]),C.useEffect(()=>{if(i){let k=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(k)}}},[i]);let v=()=>{s(!0)},w=()=>{s(!1),c(!1)};return n?t!=="intent"?[a,x,{}]:[a,x,{onFocus:la(u,v),onBlur:la(f,w),onMouseEnter:la(h,v),onMouseLeave:la(p,w),onTouchStart:la(g,v)}]:[!1,x,{}]}function la(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function HC({page:t,...e}){let{router:n}=k1(),i=C.useMemo(()=>a1(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?C.createElement(qC,{page:t,matches:i,...e}):null}function UC(t){let{manifest:e,routeModules:n}=E1(),[i,s]=C.useState([]);return C.useEffect(()=>{let a=!1;return RC(t,e,n).then(c=>{a||s(c)}),()=>{a=!0}},[t,e,n]),i}function qC({page:t,matches:e,...n}){let i=Xn(),{future:s,manifest:a,routeModules:c}=E1(),{basename:u}=k1(),{loaderData:f,matches:h}=_C(),p=C.useMemo(()=>sx(t,e,h,a,i,"data"),[t,e,h,a,i]),g=C.useMemo(()=>sx(t,e,h,a,i,"assets"),[t,e,h,a,i]),x=C.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let k=new Set,E=!1;if(e.forEach(A=>{let j=a.routes[A.route.id];!j||!j.hasLoader||(!p.some(U=>U.route.id===A.route.id)&&A.route.id in f&&c[A.route.id]?.shouldRevalidate||j.hasClientLoader?E=!0:k.add(A.route.id))}),k.size===0)return[];let T=AC(t,u,s.unstable_trailingSlashAwareDataRequests,"data");return E&&k.size>0&&T.searchParams.set("_routes",e.filter(A=>k.has(A.route.id)).map(A=>A.route.id).join(",")),[T.pathname+T.search]},[u,s.unstable_trailingSlashAwareDataRequests,f,i,a,p,e,t,c]),v=C.useMemo(()=>jC(g,a),[g,a]),w=UC(g);return C.createElement(C.Fragment,null,x.map(k=>C.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...n})),v.map(k=>C.createElement("link",{key:k,rel:"modulepreload",href:k,...n})),w.map(({key:k,link:E})=>C.createElement("link",{key:k,nonce:n.nonce,...E,crossOrigin:E.crossOrigin??n.crossOrigin})))}function IC(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var PC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{PC&&(window.__reactRouterVersion="7.13.0")}catch{}function VC({basename:t,children:e,unstable_useTransitions:n,window:i}){let s=C.useRef();s.current==null&&(s.current=vT({window:i,v5Compat:!0}));let a=s.current,[c,u]=C.useState({action:a.action,location:a.location}),f=C.useCallback(h=>{n===!1?u(h):C.startTransition(()=>u(h))},[n]);return C.useLayoutEffect(()=>a.listen(f),[a,f]),C.createElement(yC,{basename:t,children:e,location:c.location,navigationType:c.action,navigator:a,unstable_useTransitions:n})}var N1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Me=C.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:s,reloadDocument:a,replace:c,state:u,target:f,to:h,preventScrollReset:p,viewTransition:g,unstable_defaultShouldRevalidate:x,...v},w){let{basename:k,unstable_useTransitions:E}=C.useContext(On),T=typeof h=="string"&&N1.test(h),A=h1(h,k);h=A.to;let j=eC(h,{relative:s}),[U,z,V]=BC(i,v),L=KC(h,{replace:c,state:u,target:f,preventScrollReset:p,relative:s,viewTransition:g,unstable_defaultShouldRevalidate:x,unstable_useTransitions:E});function K(he){e&&e(he),he.defaultPrevented||L(he)}let Z=C.createElement("a",{...v,...V,href:A.absoluteURL||j,onClick:A.isExternal||a?e:K,ref:IC(w,z),target:f,"data-discover":!T&&n==="render"?"true":void 0});return U&&!T?C.createElement(C.Fragment,null,Z,C.createElement(HC,{page:j})):Z});Me.displayName="Link";var T1=C.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:s=!1,style:a,to:c,viewTransition:u,children:f,...h},p){let g=Pa(c,{relative:h.relative}),x=Xn(),v=C.useContext(zu),{navigator:w,basename:k}=C.useContext(On),E=v!=null&&QC(g)&&u===!0,T=w.encodeLocation?w.encodeLocation(g).pathname:g.pathname,A=x.pathname,j=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;n||(A=A.toLowerCase(),j=j?j.toLowerCase():null,T=T.toLowerCase()),j&&k&&(j=Ei(j,k)||j);const U=T!=="/"&&T.endsWith("/")?T.length-1:T.length;let z=A===T||!s&&A.startsWith(T)&&A.charAt(U)==="/",V=j!=null&&(j===T||!s&&j.startsWith(T)&&j.charAt(T.length)==="/"),L={isActive:z,isPending:V,isTransitioning:E},K=z?e:void 0,Z;typeof i=="function"?Z=i(L):Z=[i,z?"active":null,V?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let he=typeof a=="function"?a(L):a;return C.createElement(Me,{...h,"aria-current":K,className:Z,ref:p,style:he,to:c,viewTransition:u},typeof f=="function"?f(L):f)});T1.displayName="NavLink";var $C=C.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:s,state:a,method:c=jc,action:u,onSubmit:f,relative:h,preventScrollReset:p,viewTransition:g,unstable_defaultShouldRevalidate:x,...v},w)=>{let{unstable_useTransitions:k}=C.useContext(On),E=XC(),T=WC(u,{relative:h}),A=c.toLowerCase()==="get"?"get":"post",j=typeof u=="string"&&N1.test(u),U=z=>{if(f&&f(z),z.defaultPrevented)return;z.preventDefault();let V=z.nativeEvent.submitter,L=V?.getAttribute("formmethod")||c,K=()=>E(V||z.currentTarget,{fetcherKey:e,method:L,navigate:n,replace:s,state:a,relative:h,preventScrollReset:p,viewTransition:g,unstable_defaultShouldRevalidate:x});k&&n!==!1?C.startTransition(()=>K()):K()};return C.createElement("form",{ref:w,method:A,action:T,onSubmit:i?f:U,...v,"data-discover":!j&&t==="render"?"true":void 0})});$C.displayName="Form";function FC(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function C1(t){let e=C.useContext(ol);return Je(e,FC(t)),e}function KC(t,{target:e,replace:n,state:i,preventScrollReset:s,relative:a,viewTransition:c,unstable_defaultShouldRevalidate:u,unstable_useTransitions:f}={}){let h=ns(),p=Xn(),g=Pa(t,{relative:a});return C.useCallback(x=>{if(kC(x,e)){x.preventDefault();let v=n!==void 0?n:Ca(p)===Ca(g),w=()=>h(t,{replace:v,state:i,preventScrollReset:s,relative:a,viewTransition:c,unstable_defaultShouldRevalidate:u});f?C.startTransition(()=>w()):w()}},[p,h,g,n,i,e,t,s,a,c,u,f])}function GC(t){Bn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=C.useRef(fp(t)),n=C.useRef(!1),i=Xn(),s=C.useMemo(()=>EC(i.search,n.current?null:e.current),[i.search]),a=ns(),c=C.useCallback((u,f)=>{const h=fp(typeof u=="function"?u(new URLSearchParams(s)):u);n.current=!0,a("?"+h,f)},[a,s]);return[s,c]}var YC=0,JC=()=>`__${String(++YC)}__`;function XC(){let{router:t}=C1("useSubmit"),{basename:e}=C.useContext(On),n=hC(),i=t.fetch,s=t.navigate;return C.useCallback(async(a,c={})=>{let{action:u,method:f,encType:h,formData:p,body:g}=CC(a,e);if(c.navigate===!1){let x=c.fetcherKey||JC();await i(x,n,c.action||u,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:p,body:g,formMethod:c.method||f,formEncType:c.encType||h,flushSync:c.flushSync})}else await s(c.action||u,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:p,body:g,formMethod:c.method||f,formEncType:c.encType||h,replace:c.replace,state:c.state,fromRouteId:n,flushSync:c.flushSync,viewTransition:c.viewTransition})},[i,s,e,n])}function WC(t,{relative:e}={}){let{basename:n}=C.useContext(On),i=C.useContext(Hn);Je(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),a={...Pa(t||".",{relative:e})},c=Xn();if(t==null){a.search=c.search;let u=new URLSearchParams(a.search),f=u.getAll("index");if(f.some(p=>p==="")){u.delete("index"),f.filter(g=>g).forEach(g=>u.append("index",g));let p=u.toString();a.search=p?`?${p}`:""}}return(!t||t===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:wi([n,a.pathname])),Ca(a)}function QC(t,{relative:e}={}){let n=C.useContext(m1);Je(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=C1("useViewTransitionState"),s=Pa(t,{relative:e});if(!n.isTransitioning)return!1;let a=Ei(n.currentLocation.pathname,i)||n.currentLocation.pathname,c=Ei(n.nextLocation.pathname,i)||n.nextLocation.pathname;return Pc(s.pathname,c)!=null||Pc(s.pathname,a)!=null}var ZC=l1();const e2=s1(ZC),lx=[{to:"/",label:"Home"},{to:"/articles",label:"Articles"},{to:"/courses",label:"Courses"},{to:"/for-law-firms",label:"For Law Firms"},{to:"/private-work",label:"Private Work"},{to:"/about",label:"About"},{to:"/contact",label:"Contact"}];function t2(){const[t,e]=C.useState(!1),n=Xn();return b.jsxs("nav",{className:"fixed top-0 left-0 right-0 z-50 bg-white border-b border-black",children:[b.jsx("div",{className:"max-w-6xl mx-auto px-6 lg:px-8",children:b.jsxs("div",{className:"flex items-center justify-between h-14 md:h-16",children:[b.jsx(Me,{to:"/",className:"text-sm font-medium text-black tracking-wide uppercase hover:opacity-70 transition-opacity",children:"The MacAdam Company"}),b.jsx("div",{className:"hidden md:flex items-center gap-10",children:lx.map(({to:i,label:s})=>{const a=i==="/"?n.pathname==="/":n.pathname===i||i==="/articles"&&n.pathname.startsWith("/articles/");return b.jsx(Me,{to:i,className:`text-xs font-medium tracking-widest uppercase transition-opacity ${a?"opacity-100":"opacity-60 hover:opacity-100"}`,children:s},i)})}),b.jsx("button",{type:"button",onClick:()=>e(!t),className:"md:hidden p-2 -mr-2 text-black","aria-label":"Toggle menu",children:b.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t?b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M6 18L18 6M6 6l12 12"}):b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M4 6h16M4 12h16M4 18h16"})})})]})}),t&&b.jsx("div",{className:"md:hidden border-t border-black bg-white py-4 px-6",children:b.jsx("div",{className:"flex flex-col gap-4",children:lx.map(({to:i,label:s})=>{const a=i==="/"?n.pathname==="/":n.pathname===i||i==="/articles"&&n.pathname.startsWith("/articles/");return b.jsx(Me,{to:i,onClick:()=>e(!1),className:`text-xs font-medium tracking-widest uppercase ${a?"opacity-100":"opacity-60"}`,children:s},i)})})})]})}function n2(){return b.jsxs("div",{className:"min-h-screen bg-white text-black",children:[b.jsx(t2,{}),b.jsx("main",{children:b.jsx(Xp,{})})]})}const i2={"/":"The MacAdam Company | Regulation-Based Consulting & Courses","/regulation-reset":"Regulation Reset | The MacAdam Company","/courses":"Courses & Programs | The MacAdam Company","/private-work":"Private Regulation Sessions | The MacAdam Company","/for-law-firms":"For Law Firms & Organizations | The MacAdam Company","/about":"About Patricia MacAdam | The MacAdam Company","/contact":"Contact | The MacAdam Company","/admin/signup":"Admin Signup | The MacAdam Company","/mac-/adam/admin/69846d7f374584e675d7fa28":"Admin Sign In | The MacAdam Company","/admin":"Admin Dashboard | The MacAdam Company","/admin/settings":"Settings | The MacAdam Company"};function r2(){const{pathname:t}=Xn();return C.useEffect(()=>{window.scrollTo(0,0)},[t]),C.useEffect(()=>{document.title=i2[t]??"The MacAdam Company"},[t]),null}const ax="The MacAdam Company";function gt(t){C.useEffect(()=>(document.title=t?`${t} | The MacAdam Company`:ax,()=>{document.title=ax}),[t])}function Nn({path:t,alt:e,aspect:n="4/5",className:i=""}){const s=t.replace("/images/","");return b.jsxs("div",{className:`relative overflow-hidden bg-black/5 border border-dashed border-black/20 flex items-center justify-center ${i}`,style:{aspectRatio:n},children:[b.jsx("img",{src:t,alt:e,className:"absolute inset-0 w-full h-full object-cover",onError:a=>a.currentTarget.remove()}),b.jsxs("p",{className:"text-xs tracking-widest uppercase text-black/40 text-center px-4",children:["Add image: ",s]})]})}function A1(t,e){return function(){return t.apply(e,arguments)}}const{toString:s2}=Object.prototype,{getPrototypeOf:Zp}=Object,{iterator:_u,toStringTag:M1}=Symbol,Bu=(t=>e=>{const n=s2.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Un=t=>(t=t.toLowerCase(),e=>Bu(e)===t),Hu=t=>e=>typeof e===t,{isArray:cl}=Array,Zs=Hu("undefined");function Va(t){return t!==null&&!Zs(t)&&t.constructor!==null&&!Zs(t.constructor)&&Wt(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const O1=Un("ArrayBuffer");function l2(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&O1(t.buffer),e}const a2=Hu("string"),Wt=Hu("function"),R1=Hu("number"),$a=t=>t!==null&&typeof t=="object",o2=t=>t===!0||t===!1,zc=t=>{if(Bu(t)!=="object")return!1;const e=Zp(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(M1 in t)&&!(_u in t)},c2=t=>{if(!$a(t)||Va(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},u2=Un("Date"),d2=Un("File"),f2=Un("Blob"),h2=Un("FileList"),p2=t=>$a(t)&&Wt(t.pipe),m2=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Wt(t.append)&&((e=Bu(t))==="formdata"||e==="object"&&Wt(t.toString)&&t.toString()==="[object FormData]"))},g2=Un("URLSearchParams"),[y2,b2,x2,v2]=["ReadableStream","Request","Response","Headers"].map(Un),w2=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Fa(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let i,s;if(typeof t!="object"&&(t=[t]),cl(t))for(i=0,s=t.length;i<s;i++)e.call(null,t[i],i,t);else{if(Va(t))return;const a=n?Object.getOwnPropertyNames(t):Object.keys(t),c=a.length;let u;for(i=0;i<c;i++)u=a[i],e.call(null,t[u],u,t)}}function j1(t,e){if(Va(t))return null;e=e.toLowerCase();const n=Object.keys(t);let i=n.length,s;for(;i-- >0;)if(s=n[i],e===s.toLowerCase())return s;return null}const Hr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,D1=t=>!Zs(t)&&t!==Hr;function hp(){const{caseless:t,skipUndefined:e}=D1(this)&&this||{},n={},i=(s,a)=>{const c=t&&j1(n,a)||a;zc(n[c])&&zc(s)?n[c]=hp(n[c],s):zc(s)?n[c]=hp({},s):cl(s)?n[c]=s.slice():(!e||!Zs(s))&&(n[c]=s)};for(let s=0,a=arguments.length;s<a;s++)arguments[s]&&Fa(arguments[s],i);return n}const S2=(t,e,n,{allOwnKeys:i}={})=>(Fa(e,(s,a)=>{n&&Wt(s)?Object.defineProperty(t,a,{value:A1(s,n),writable:!0,enumerable:!0,configurable:!0}):Object.defineProperty(t,a,{value:s,writable:!0,enumerable:!0,configurable:!0})},{allOwnKeys:i}),t),k2=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),E2=(t,e,n,i)=>{t.prototype=Object.create(e.prototype,i),Object.defineProperty(t.prototype,"constructor",{value:t,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},N2=(t,e,n,i)=>{let s,a,c;const u={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),a=s.length;a-- >0;)c=s[a],(!i||i(c,t,e))&&!u[c]&&(e[c]=t[c],u[c]=!0);t=n!==!1&&Zp(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},T2=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const i=t.indexOf(e,n);return i!==-1&&i===n},C2=t=>{if(!t)return null;if(cl(t))return t;let e=t.length;if(!R1(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},A2=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Zp(Uint8Array)),M2=(t,e)=>{const i=(t&&t[_u]).call(t);let s;for(;(s=i.next())&&!s.done;){const a=s.value;e.call(t,a[0],a[1])}},O2=(t,e)=>{let n;const i=[];for(;(n=t.exec(e))!==null;)i.push(n);return i},R2=Un("HTMLFormElement"),j2=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,i,s){return i.toUpperCase()+s}),ox=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),D2=Un("RegExp"),z1=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),i={};Fa(n,(s,a)=>{let c;(c=e(s,a,t))!==!1&&(i[a]=c||s)}),Object.defineProperties(t,i)},z2=t=>{z1(t,(e,n)=>{if(Wt(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const i=t[n];if(Wt(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},L2=(t,e)=>{const n={},i=s=>{s.forEach(a=>{n[a]=!0})};return cl(t)?i(t):i(String(t).split(e)),n},_2=()=>{},B2=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function H2(t){return!!(t&&Wt(t.append)&&t[M1]==="FormData"&&t[_u])}const U2=t=>{const e=new Array(10),n=(i,s)=>{if($a(i)){if(e.indexOf(i)>=0)return;if(Va(i))return i;if(!("toJSON"in i)){e[s]=i;const a=cl(i)?[]:{};return Fa(i,(c,u)=>{const f=n(c,s+1);!Zs(f)&&(a[u]=f)}),e[s]=void 0,a}}return i};return n(t,0)},q2=Un("AsyncFunction"),I2=t=>t&&($a(t)||Wt(t))&&Wt(t.then)&&Wt(t.catch),L1=((t,e)=>t?setImmediate:e?((n,i)=>(Hr.addEventListener("message",({source:s,data:a})=>{s===Hr&&a===n&&i.length&&i.shift()()},!1),s=>{i.push(s),Hr.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Wt(Hr.postMessage)),P2=typeof queueMicrotask<"u"?queueMicrotask.bind(Hr):typeof process<"u"&&process.nextTick||L1,V2=t=>t!=null&&Wt(t[_u]),P={isArray:cl,isArrayBuffer:O1,isBuffer:Va,isFormData:m2,isArrayBufferView:l2,isString:a2,isNumber:R1,isBoolean:o2,isObject:$a,isPlainObject:zc,isEmptyObject:c2,isReadableStream:y2,isRequest:b2,isResponse:x2,isHeaders:v2,isUndefined:Zs,isDate:u2,isFile:d2,isBlob:f2,isRegExp:D2,isFunction:Wt,isStream:p2,isURLSearchParams:g2,isTypedArray:A2,isFileList:h2,forEach:Fa,merge:hp,extend:S2,trim:w2,stripBOM:k2,inherits:E2,toFlatObject:N2,kindOf:Bu,kindOfTest:Un,endsWith:T2,toArray:C2,forEachEntry:M2,matchAll:O2,isHTMLForm:R2,hasOwnProperty:ox,hasOwnProp:ox,reduceDescriptors:z1,freezeMethods:z2,toObjectSet:L2,toCamelCase:j2,noop:_2,toFiniteNumber:B2,findKey:j1,global:Hr,isContextDefined:D1,isSpecCompliantForm:H2,toJSONObject:U2,isAsyncFn:q2,isThenable:I2,setImmediate:L1,asap:P2,isIterable:V2};let ue=class _1 extends Error{static from(e,n,i,s,a,c){const u=new _1(e.message,n||e.code,i,s,a);return u.cause=e,u.name=e.name,c&&Object.assign(u,c),u}constructor(e,n,i,s,a){super(e),this.name="AxiosError",this.isAxiosError=!0,n&&(this.code=n),i&&(this.config=i),s&&(this.request=s),a&&(this.response=a,this.status=a.status)}toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:P.toJSONObject(this.config),code:this.code,status:this.status}}};ue.ERR_BAD_OPTION_VALUE="ERR_BAD_OPTION_VALUE";ue.ERR_BAD_OPTION="ERR_BAD_OPTION";ue.ECONNABORTED="ECONNABORTED";ue.ETIMEDOUT="ETIMEDOUT";ue.ERR_NETWORK="ERR_NETWORK";ue.ERR_FR_TOO_MANY_REDIRECTS="ERR_FR_TOO_MANY_REDIRECTS";ue.ERR_DEPRECATED="ERR_DEPRECATED";ue.ERR_BAD_RESPONSE="ERR_BAD_RESPONSE";ue.ERR_BAD_REQUEST="ERR_BAD_REQUEST";ue.ERR_CANCELED="ERR_CANCELED";ue.ERR_NOT_SUPPORT="ERR_NOT_SUPPORT";ue.ERR_INVALID_URL="ERR_INVALID_URL";const $2=null;function pp(t){return P.isPlainObject(t)||P.isArray(t)}function B1(t){return P.endsWith(t,"[]")?t.slice(0,-2):t}function cx(t,e,n){return t?t.concat(e).map(function(s,a){return s=B1(s),!n&&a?"["+s+"]":s}).join(n?".":""):e}function F2(t){return P.isArray(t)&&!t.some(pp)}const K2=P.toFlatObject(P,{},null,function(e){return/^is[A-Z]/.test(e)});function Uu(t,e,n){if(!P.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=P.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(k,E){return!P.isUndefined(E[k])});const i=n.metaTokens,s=n.visitor||p,a=n.dots,c=n.indexes,f=(n.Blob||typeof Blob<"u"&&Blob)&&P.isSpecCompliantForm(e);if(!P.isFunction(s))throw new TypeError("visitor must be a function");function h(w){if(w===null)return"";if(P.isDate(w))return w.toISOString();if(P.isBoolean(w))return w.toString();if(!f&&P.isBlob(w))throw new ue("Blob is not supported. Use a Buffer instead.");return P.isArrayBuffer(w)||P.isTypedArray(w)?f&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function p(w,k,E){let T=w;if(w&&!E&&typeof w=="object"){if(P.endsWith(k,"{}"))k=i?k:k.slice(0,-2),w=JSON.stringify(w);else if(P.isArray(w)&&F2(w)||(P.isFileList(w)||P.endsWith(k,"[]"))&&(T=P.toArray(w)))return k=B1(k),T.forEach(function(j,U){!(P.isUndefined(j)||j===null)&&e.append(c===!0?cx([k],U,a):c===null?k:k+"[]",h(j))}),!1}return pp(w)?!0:(e.append(cx(E,k,a),h(w)),!1)}const g=[],x=Object.assign(K2,{defaultVisitor:p,convertValue:h,isVisitable:pp});function v(w,k){if(!P.isUndefined(w)){if(g.indexOf(w)!==-1)throw Error("Circular reference detected in "+k.join("."));g.push(w),P.forEach(w,function(T,A){(!(P.isUndefined(T)||T===null)&&s.call(e,T,P.isString(A)?A.trim():A,k,x))===!0&&v(T,k?k.concat(A):[A])}),g.pop()}}if(!P.isObject(t))throw new TypeError("data must be an object");return v(t),e}function ux(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function em(t,e){this._pairs=[],t&&Uu(t,this,e)}const H1=em.prototype;H1.append=function(e,n){this._pairs.push([e,n])};H1.toString=function(e){const n=e?function(i){return e.call(this,i,ux)}:ux;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function G2(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function U1(t,e,n){if(!e)return t;const i=n&&n.encode||G2,s=P.isFunction(n)?{serialize:n}:n,a=s&&s.serialize;let c;if(a?c=a(e,s):c=P.isURLSearchParams(e)?e.toString():new em(e,s).toString(i),c){const u=t.indexOf("#");u!==-1&&(t=t.slice(0,u)),t+=(t.indexOf("?")===-1?"?":"&")+c}return t}class dx{constructor(){this.handlers=[]}use(e,n,i){return this.handlers.push({fulfilled:e,rejected:n,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){P.forEach(this.handlers,function(i){i!==null&&e(i)})}}const q1={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Y2=typeof URLSearchParams<"u"?URLSearchParams:em,J2=typeof FormData<"u"?FormData:null,X2=typeof Blob<"u"?Blob:null,W2={isBrowser:!0,classes:{URLSearchParams:Y2,FormData:J2,Blob:X2},protocols:["http","https","file","blob","url","data"]},tm=typeof window<"u"&&typeof document<"u",mp=typeof navigator=="object"&&navigator||void 0,Q2=tm&&(!mp||["ReactNative","NativeScript","NS"].indexOf(mp.product)<0),Z2=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",eA=tm&&window.location.href||"http://localhost",tA=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:tm,hasStandardBrowserEnv:Q2,hasStandardBrowserWebWorkerEnv:Z2,navigator:mp,origin:eA},Symbol.toStringTag,{value:"Module"})),Lt={...tA,...W2};function nA(t,e){return Uu(t,new Lt.classes.URLSearchParams,{visitor:function(n,i,s,a){return Lt.isNode&&P.isBuffer(n)?(this.append(i,n.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...e})}function iA(t){return P.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function rA(t){const e={},n=Object.keys(t);let i;const s=n.length;let a;for(i=0;i<s;i++)a=n[i],e[a]=t[a];return e}function I1(t){function e(n,i,s,a){let c=n[a++];if(c==="__proto__")return!0;const u=Number.isFinite(+c),f=a>=n.length;return c=!c&&P.isArray(s)?s.length:c,f?(P.hasOwnProp(s,c)?s[c]=[s[c],i]:s[c]=i,!u):((!s[c]||!P.isObject(s[c]))&&(s[c]=[]),e(n,i,s[c],a)&&P.isArray(s[c])&&(s[c]=rA(s[c])),!u)}if(P.isFormData(t)&&P.isFunction(t.entries)){const n={};return P.forEachEntry(t,(i,s)=>{e(iA(i),s,n,0)}),n}return null}function sA(t,e,n){if(P.isString(t))try{return(e||JSON.parse)(t),P.trim(t)}catch(i){if(i.name!=="SyntaxError")throw i}return(n||JSON.stringify)(t)}const Ka={transitional:q1,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const i=n.getContentType()||"",s=i.indexOf("application/json")>-1,a=P.isObject(e);if(a&&P.isHTMLForm(e)&&(e=new FormData(e)),P.isFormData(e))return s?JSON.stringify(I1(e)):e;if(P.isArrayBuffer(e)||P.isBuffer(e)||P.isStream(e)||P.isFile(e)||P.isBlob(e)||P.isReadableStream(e))return e;if(P.isArrayBufferView(e))return e.buffer;if(P.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let u;if(a){if(i.indexOf("application/x-www-form-urlencoded")>-1)return nA(e,this.formSerializer).toString();if((u=P.isFileList(e))||i.indexOf("multipart/form-data")>-1){const f=this.env&&this.env.FormData;return Uu(u?{"files[]":e}:e,f&&new f,this.formSerializer)}}return a||s?(n.setContentType("application/json",!1),sA(e)):e}],transformResponse:[function(e){const n=this.transitional||Ka.transitional,i=n&&n.forcedJSONParsing,s=this.responseType==="json";if(P.isResponse(e)||P.isReadableStream(e))return e;if(e&&P.isString(e)&&(i&&!this.responseType||s)){const c=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(e,this.parseReviver)}catch(u){if(c)throw u.name==="SyntaxError"?ue.from(u,ue.ERR_BAD_RESPONSE,this,null,this.response):u}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Lt.classes.FormData,Blob:Lt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};P.forEach(["delete","get","head","post","put","patch"],t=>{Ka.headers[t]={}});const lA=P.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),aA=t=>{const e={};let n,i,s;return t&&t.split(`
`).forEach(function(c){s=c.indexOf(":"),n=c.substring(0,s).trim().toLowerCase(),i=c.substring(s+1).trim(),!(!n||e[n]&&lA[n])&&(n==="set-cookie"?e[n]?e[n].push(i):e[n]=[i]:e[n]=e[n]?e[n]+", "+i:i)}),e},fx=Symbol("internals");function aa(t){return t&&String(t).trim().toLowerCase()}function Lc(t){return t===!1||t==null?t:P.isArray(t)?t.map(Lc):String(t)}function oA(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(t);)e[i[1]]=i[2];return e}const cA=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Oh(t,e,n,i,s){if(P.isFunction(i))return i.call(this,e,n);if(s&&(e=n),!!P.isString(e)){if(P.isString(i))return e.indexOf(i)!==-1;if(P.isRegExp(i))return i.test(e)}}function uA(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,i)=>n.toUpperCase()+i)}function dA(t,e){const n=P.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(t,i+n,{value:function(s,a,c){return this[i].call(this,e,s,a,c)},configurable:!0})})}let Qt=class{constructor(e){e&&this.set(e)}set(e,n,i){const s=this;function a(u,f,h){const p=aa(f);if(!p)throw new Error("header name must be a non-empty string");const g=P.findKey(s,p);(!g||s[g]===void 0||h===!0||h===void 0&&s[g]!==!1)&&(s[g||f]=Lc(u))}const c=(u,f)=>P.forEach(u,(h,p)=>a(h,p,f));if(P.isPlainObject(e)||e instanceof this.constructor)c(e,n);else if(P.isString(e)&&(e=e.trim())&&!cA(e))c(aA(e),n);else if(P.isObject(e)&&P.isIterable(e)){let u={},f,h;for(const p of e){if(!P.isArray(p))throw TypeError("Object iterator must return a key-value pair");u[h=p[0]]=(f=u[h])?P.isArray(f)?[...f,p[1]]:[f,p[1]]:p[1]}c(u,n)}else e!=null&&a(n,e,i);return this}get(e,n){if(e=aa(e),e){const i=P.findKey(this,e);if(i){const s=this[i];if(!n)return s;if(n===!0)return oA(s);if(P.isFunction(n))return n.call(this,s,i);if(P.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=aa(e),e){const i=P.findKey(this,e);return!!(i&&this[i]!==void 0&&(!n||Oh(this,this[i],i,n)))}return!1}delete(e,n){const i=this;let s=!1;function a(c){if(c=aa(c),c){const u=P.findKey(i,c);u&&(!n||Oh(i,i[u],u,n))&&(delete i[u],s=!0)}}return P.isArray(e)?e.forEach(a):a(e),s}clear(e){const n=Object.keys(this);let i=n.length,s=!1;for(;i--;){const a=n[i];(!e||Oh(this,this[a],a,e,!0))&&(delete this[a],s=!0)}return s}normalize(e){const n=this,i={};return P.forEach(this,(s,a)=>{const c=P.findKey(i,a);if(c){n[c]=Lc(s),delete n[a];return}const u=e?uA(a):String(a).trim();u!==a&&delete n[a],n[u]=Lc(s),i[u]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return P.forEach(this,(i,s)=>{i!=null&&i!==!1&&(n[s]=e&&P.isArray(i)?i.join(", "):i)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const i=new this(e);return n.forEach(s=>i.set(s)),i}static accessor(e){const i=(this[fx]=this[fx]={accessors:{}}).accessors,s=this.prototype;function a(c){const u=aa(c);i[u]||(dA(s,c),i[u]=!0)}return P.isArray(e)?e.forEach(a):a(e),this}};Qt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);P.reduceDescriptors(Qt.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(i){this[n]=i}}});P.freezeMethods(Qt);function Rh(t,e){const n=this||Ka,i=e||n,s=Qt.from(i.headers);let a=i.data;return P.forEach(t,function(u){a=u.call(n,a,s.normalize(),e?e.status:void 0)}),s.normalize(),a}function P1(t){return!!(t&&t.__CANCEL__)}let Ga=class extends ue{constructor(e,n,i){super(e??"canceled",ue.ERR_CANCELED,n,i),this.name="CanceledError",this.__CANCEL__=!0}};function V1(t,e,n){const i=n.config.validateStatus;!n.status||!i||i(n.status)?t(n):e(new ue("Request failed with status code "+n.status,[ue.ERR_BAD_REQUEST,ue.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function fA(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function hA(t,e){t=t||10;const n=new Array(t),i=new Array(t);let s=0,a=0,c;return e=e!==void 0?e:1e3,function(f){const h=Date.now(),p=i[a];c||(c=h),n[s]=f,i[s]=h;let g=a,x=0;for(;g!==s;)x+=n[g++],g=g%t;if(s=(s+1)%t,s===a&&(a=(a+1)%t),h-c<e)return;const v=p&&h-p;return v?Math.round(x*1e3/v):void 0}}function pA(t,e){let n=0,i=1e3/e,s,a;const c=(h,p=Date.now())=>{n=p,s=null,a&&(clearTimeout(a),a=null),t(...h)};return[(...h)=>{const p=Date.now(),g=p-n;g>=i?c(h,p):(s=h,a||(a=setTimeout(()=>{a=null,c(s)},i-g)))},()=>s&&c(s)]}const Vc=(t,e,n=3)=>{let i=0;const s=hA(50,250);return pA(a=>{const c=a.loaded,u=a.lengthComputable?a.total:void 0,f=c-i,h=s(f),p=c<=u;i=c;const g={loaded:c,total:u,progress:u?c/u:void 0,bytes:f,rate:h||void 0,estimated:h&&u&&p?(u-c)/h:void 0,event:a,lengthComputable:u!=null,[e?"download":"upload"]:!0};t(g)},n)},hx=(t,e)=>{const n=t!=null;return[i=>e[0]({lengthComputable:n,total:t,loaded:i}),e[1]]},px=t=>(...e)=>P.asap(()=>t(...e)),mA=Lt.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,Lt.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(Lt.origin),Lt.navigator&&/(msie|trident)/i.test(Lt.navigator.userAgent)):()=>!0,gA=Lt.hasStandardBrowserEnv?{write(t,e,n,i,s,a,c){if(typeof document>"u")return;const u=[`${t}=${encodeURIComponent(e)}`];P.isNumber(n)&&u.push(`expires=${new Date(n).toUTCString()}`),P.isString(i)&&u.push(`path=${i}`),P.isString(s)&&u.push(`domain=${s}`),a===!0&&u.push("secure"),P.isString(c)&&u.push(`SameSite=${c}`),document.cookie=u.join("; ")},read(t){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function yA(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function bA(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function $1(t,e,n){let i=!yA(e);return t&&(i||n==!1)?bA(t,e):e}const mx=t=>t instanceof Qt?{...t}:t;function Xr(t,e){e=e||{};const n={};function i(h,p,g,x){return P.isPlainObject(h)&&P.isPlainObject(p)?P.merge.call({caseless:x},h,p):P.isPlainObject(p)?P.merge({},p):P.isArray(p)?p.slice():p}function s(h,p,g,x){if(P.isUndefined(p)){if(!P.isUndefined(h))return i(void 0,h,g,x)}else return i(h,p,g,x)}function a(h,p){if(!P.isUndefined(p))return i(void 0,p)}function c(h,p){if(P.isUndefined(p)){if(!P.isUndefined(h))return i(void 0,h)}else return i(void 0,p)}function u(h,p,g){if(g in e)return i(h,p);if(g in t)return i(void 0,h)}const f={url:a,method:a,data:a,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:u,headers:(h,p,g)=>s(mx(h),mx(p),g,!0)};return P.forEach(Object.keys({...t,...e}),function(p){const g=f[p]||s,x=g(t[p],e[p],p);P.isUndefined(x)&&g!==u||(n[p]=x)}),n}const F1=t=>{const e=Xr({},t);let{data:n,withXSRFToken:i,xsrfHeaderName:s,xsrfCookieName:a,headers:c,auth:u}=e;if(e.headers=c=Qt.from(c),e.url=U1($1(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),u&&c.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):""))),P.isFormData(n)){if(Lt.hasStandardBrowserEnv||Lt.hasStandardBrowserWebWorkerEnv)c.setContentType(void 0);else if(P.isFunction(n.getHeaders)){const f=n.getHeaders(),h=["content-type","content-length"];Object.entries(f).forEach(([p,g])=>{h.includes(p.toLowerCase())&&c.set(p,g)})}}if(Lt.hasStandardBrowserEnv&&(i&&P.isFunction(i)&&(i=i(e)),i||i!==!1&&mA(e.url))){const f=s&&a&&gA.read(a);f&&c.set(s,f)}return e},xA=typeof XMLHttpRequest<"u",vA=xA&&function(t){return new Promise(function(n,i){const s=F1(t);let a=s.data;const c=Qt.from(s.headers).normalize();let{responseType:u,onUploadProgress:f,onDownloadProgress:h}=s,p,g,x,v,w;function k(){v&&v(),w&&w(),s.cancelToken&&s.cancelToken.unsubscribe(p),s.signal&&s.signal.removeEventListener("abort",p)}let E=new XMLHttpRequest;E.open(s.method.toUpperCase(),s.url,!0),E.timeout=s.timeout;function T(){if(!E)return;const j=Qt.from("getAllResponseHeaders"in E&&E.getAllResponseHeaders()),z={data:!u||u==="text"||u==="json"?E.responseText:E.response,status:E.status,statusText:E.statusText,headers:j,config:t,request:E};V1(function(L){n(L),k()},function(L){i(L),k()},z),E=null}"onloadend"in E?E.onloadend=T:E.onreadystatechange=function(){!E||E.readyState!==4||E.status===0&&!(E.responseURL&&E.responseURL.indexOf("file:")===0)||setTimeout(T)},E.onabort=function(){E&&(i(new ue("Request aborted",ue.ECONNABORTED,t,E)),E=null)},E.onerror=function(U){const z=U&&U.message?U.message:"Network Error",V=new ue(z,ue.ERR_NETWORK,t,E);V.event=U||null,i(V),E=null},E.ontimeout=function(){let U=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const z=s.transitional||q1;s.timeoutErrorMessage&&(U=s.timeoutErrorMessage),i(new ue(U,z.clarifyTimeoutError?ue.ETIMEDOUT:ue.ECONNABORTED,t,E)),E=null},a===void 0&&c.setContentType(null),"setRequestHeader"in E&&P.forEach(c.toJSON(),function(U,z){E.setRequestHeader(z,U)}),P.isUndefined(s.withCredentials)||(E.withCredentials=!!s.withCredentials),u&&u!=="json"&&(E.responseType=s.responseType),h&&([x,w]=Vc(h,!0),E.addEventListener("progress",x)),f&&E.upload&&([g,v]=Vc(f),E.upload.addEventListener("progress",g),E.upload.addEventListener("loadend",v)),(s.cancelToken||s.signal)&&(p=j=>{E&&(i(!j||j.type?new Ga(null,t,E):j),E.abort(),E=null)},s.cancelToken&&s.cancelToken.subscribe(p),s.signal&&(s.signal.aborted?p():s.signal.addEventListener("abort",p)));const A=fA(s.url);if(A&&Lt.protocols.indexOf(A)===-1){i(new ue("Unsupported protocol "+A+":",ue.ERR_BAD_REQUEST,t));return}E.send(a||null)})},wA=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let i=new AbortController,s;const a=function(h){if(!s){s=!0,u();const p=h instanceof Error?h:this.reason;i.abort(p instanceof ue?p:new Ga(p instanceof Error?p.message:p))}};let c=e&&setTimeout(()=>{c=null,a(new ue(`timeout of ${e}ms exceeded`,ue.ETIMEDOUT))},e);const u=()=>{t&&(c&&clearTimeout(c),c=null,t.forEach(h=>{h.unsubscribe?h.unsubscribe(a):h.removeEventListener("abort",a)}),t=null)};t.forEach(h=>h.addEventListener("abort",a));const{signal:f}=i;return f.unsubscribe=()=>P.asap(u),f}},SA=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let i=0,s;for(;i<n;)s=i+e,yield t.slice(i,s),i=s},kA=async function*(t,e){for await(const n of EA(t))yield*SA(n,e)},EA=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:i}=await e.read();if(n)break;yield i}}finally{await e.cancel()}},gx=(t,e,n,i)=>{const s=kA(t,e);let a=0,c,u=f=>{c||(c=!0,i&&i(f))};return new ReadableStream({async pull(f){try{const{done:h,value:p}=await s.next();if(h){u(),f.close();return}let g=p.byteLength;if(n){let x=a+=g;n(x)}f.enqueue(new Uint8Array(p))}catch(h){throw u(h),h}},cancel(f){return u(f),s.return()}},{highWaterMark:2})},yx=64*1024,{isFunction:bc}=P,NA=(({Request:t,Response:e})=>({Request:t,Response:e}))(P.global),{ReadableStream:bx,TextEncoder:xx}=P.global,vx=(t,...e)=>{try{return!!t(...e)}catch{return!1}},TA=t=>{t=P.merge.call({skipUndefined:!0},NA,t);const{fetch:e,Request:n,Response:i}=t,s=e?bc(e):typeof fetch=="function",a=bc(n),c=bc(i);if(!s)return!1;const u=s&&bc(bx),f=s&&(typeof xx=="function"?(w=>k=>w.encode(k))(new xx):async w=>new Uint8Array(await new n(w).arrayBuffer())),h=a&&u&&vx(()=>{let w=!1;const k=new n(Lt.origin,{body:new bx,method:"POST",get duplex(){return w=!0,"half"}}).headers.has("Content-Type");return w&&!k}),p=c&&u&&vx(()=>P.isReadableStream(new i("").body)),g={stream:p&&(w=>w.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(w=>{!g[w]&&(g[w]=(k,E)=>{let T=k&&k[w];if(T)return T.call(k);throw new ue(`Response type '${w}' is not supported`,ue.ERR_NOT_SUPPORT,E)})});const x=async w=>{if(w==null)return 0;if(P.isBlob(w))return w.size;if(P.isSpecCompliantForm(w))return(await new n(Lt.origin,{method:"POST",body:w}).arrayBuffer()).byteLength;if(P.isArrayBufferView(w)||P.isArrayBuffer(w))return w.byteLength;if(P.isURLSearchParams(w)&&(w=w+""),P.isString(w))return(await f(w)).byteLength},v=async(w,k)=>{const E=P.toFiniteNumber(w.getContentLength());return E??x(k)};return async w=>{let{url:k,method:E,data:T,signal:A,cancelToken:j,timeout:U,onDownloadProgress:z,onUploadProgress:V,responseType:L,headers:K,withCredentials:Z="same-origin",fetchOptions:he}=F1(w),We=e||fetch;L=L?(L+"").toLowerCase():"text";let re=wA([A,j&&j.toAbortSignal()],U),qe=null;const Ne=re&&re.unsubscribe&&(()=>{re.unsubscribe()});let Te;try{if(V&&h&&E!=="get"&&E!=="head"&&(Te=await v(K,T))!==0){let O=new n(k,{method:"POST",body:T,duplex:"half"}),G;if(P.isFormData(T)&&(G=O.headers.get("content-type"))&&K.setContentType(G),O.body){const[Q,te]=hx(Te,Vc(px(V)));T=gx(O.body,yx,Q,te)}}P.isString(Z)||(Z=Z?"include":"omit");const q=a&&"credentials"in n.prototype,W={...he,signal:re,method:E.toUpperCase(),headers:K.normalize().toJSON(),body:T,duplex:"half",credentials:q?Z:void 0};qe=a&&new n(k,W);let se=await(a?We(qe,he):We(k,W));const Oe=p&&(L==="stream"||L==="response");if(p&&(z||Oe&&Ne)){const O={};["status","statusText","headers"].forEach(fe=>{O[fe]=se[fe]});const G=P.toFiniteNumber(se.headers.get("content-length")),[Q,te]=z&&hx(G,Vc(px(z),!0))||[];se=new i(gx(se.body,yx,Q,()=>{te&&te(),Ne&&Ne()}),O)}L=L||"text";let ze=await g[P.findKey(g,L)||"text"](se,w);return!Oe&&Ne&&Ne(),await new Promise((O,G)=>{V1(O,G,{data:ze,headers:Qt.from(se.headers),status:se.status,statusText:se.statusText,config:w,request:qe})})}catch(q){throw Ne&&Ne(),q&&q.name==="TypeError"&&/Load failed|fetch/i.test(q.message)?Object.assign(new ue("Network Error",ue.ERR_NETWORK,w,qe),{cause:q.cause||q}):ue.from(q,q&&q.code,w,qe)}}},CA=new Map,K1=t=>{let e=t&&t.env||{};const{fetch:n,Request:i,Response:s}=e,a=[i,s,n];let c=a.length,u=c,f,h,p=CA;for(;u--;)f=a[u],h=p.get(f),h===void 0&&p.set(f,h=u?new Map:TA(e)),p=h;return h};K1();const nm={http:$2,xhr:vA,fetch:{get:K1}};P.forEach(nm,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const wx=t=>`- ${t}`,AA=t=>P.isFunction(t)||t===null||t===!1;function MA(t,e){t=P.isArray(t)?t:[t];const{length:n}=t;let i,s;const a={};for(let c=0;c<n;c++){i=t[c];let u;if(s=i,!AA(i)&&(s=nm[(u=String(i)).toLowerCase()],s===void 0))throw new ue(`Unknown adapter '${u}'`);if(s&&(P.isFunction(s)||(s=s.get(e))))break;a[u||"#"+c]=s}if(!s){const c=Object.entries(a).map(([f,h])=>`adapter ${f} `+(h===!1?"is not supported by the environment":"is not available in the build"));let u=n?c.length>1?`since :
`+c.map(wx).join(`
`):" "+wx(c[0]):"as no adapter specified";throw new ue("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return s}const G1={getAdapter:MA,adapters:nm};function jh(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Ga(null,t)}function Sx(t){return jh(t),t.headers=Qt.from(t.headers),t.data=Rh.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),G1.getAdapter(t.adapter||Ka.adapter,t)(t).then(function(i){return jh(t),i.data=Rh.call(t,t.transformResponse,i),i.headers=Qt.from(i.headers),i},function(i){return P1(i)||(jh(t),i&&i.response&&(i.response.data=Rh.call(t,t.transformResponse,i.response),i.response.headers=Qt.from(i.response.headers))),Promise.reject(i)})}const Y1="1.13.4",qu={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{qu[t]=function(i){return typeof i===t||"a"+(e<1?"n ":" ")+t}});const kx={};qu.transitional=function(e,n,i){function s(a,c){return"[Axios v"+Y1+"] Transitional option '"+a+"'"+c+(i?". "+i:"")}return(a,c,u)=>{if(e===!1)throw new ue(s(c," has been removed"+(n?" in "+n:"")),ue.ERR_DEPRECATED);return n&&!kx[c]&&(kx[c]=!0,console.warn(s(c," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(a,c,u):!0}};qu.spelling=function(e){return(n,i)=>(console.warn(`${i} is likely a misspelling of ${e}`),!0)};function OA(t,e,n){if(typeof t!="object")throw new ue("options must be an object",ue.ERR_BAD_OPTION_VALUE);const i=Object.keys(t);let s=i.length;for(;s-- >0;){const a=i[s],c=e[a];if(c){const u=t[a],f=u===void 0||c(u,a,t);if(f!==!0)throw new ue("option "+a+" must be "+f,ue.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new ue("Unknown option "+a,ue.ERR_BAD_OPTION)}}const _c={assertOptions:OA,validators:qu},$n=_c.validators;let Vr=class{constructor(e){this.defaults=e||{},this.interceptors={request:new dx,response:new dx}}async request(e,n){try{return await this._request(e,n)}catch(i){if(i instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const a=s.stack?s.stack.replace(/^.+\n/,""):"";try{i.stack?a&&!String(i.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+a):i.stack=a}catch{}}throw i}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Xr(this.defaults,n);const{transitional:i,paramsSerializer:s,headers:a}=n;i!==void 0&&_c.assertOptions(i,{silentJSONParsing:$n.transitional($n.boolean),forcedJSONParsing:$n.transitional($n.boolean),clarifyTimeoutError:$n.transitional($n.boolean)},!1),s!=null&&(P.isFunction(s)?n.paramsSerializer={serialize:s}:_c.assertOptions(s,{encode:$n.function,serialize:$n.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),_c.assertOptions(n,{baseUrl:$n.spelling("baseURL"),withXsrfToken:$n.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let c=a&&P.merge(a.common,a[n.method]);a&&P.forEach(["delete","get","head","post","put","patch","common"],w=>{delete a[w]}),n.headers=Qt.concat(c,a);const u=[];let f=!0;this.interceptors.request.forEach(function(k){typeof k.runWhen=="function"&&k.runWhen(n)===!1||(f=f&&k.synchronous,u.unshift(k.fulfilled,k.rejected))});const h=[];this.interceptors.response.forEach(function(k){h.push(k.fulfilled,k.rejected)});let p,g=0,x;if(!f){const w=[Sx.bind(this),void 0];for(w.unshift(...u),w.push(...h),x=w.length,p=Promise.resolve(n);g<x;)p=p.then(w[g++],w[g++]);return p}x=u.length;let v=n;for(;g<x;){const w=u[g++],k=u[g++];try{v=w(v)}catch(E){k.call(this,E);break}}try{p=Sx.call(this,v)}catch(w){return Promise.reject(w)}for(g=0,x=h.length;g<x;)p=p.then(h[g++],h[g++]);return p}getUri(e){e=Xr(this.defaults,e);const n=$1(e.baseURL,e.url,e.allowAbsoluteUrls);return U1(n,e.params,e.paramsSerializer)}};P.forEach(["delete","get","head","options"],function(e){Vr.prototype[e]=function(n,i){return this.request(Xr(i||{},{method:e,url:n,data:(i||{}).data}))}});P.forEach(["post","put","patch"],function(e){function n(i){return function(a,c,u){return this.request(Xr(u||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:a,data:c}))}}Vr.prototype[e]=n(),Vr.prototype[e+"Form"]=n(!0)});let RA=class J1{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(a){n=a});const i=this;this.promise.then(s=>{if(!i._listeners)return;let a=i._listeners.length;for(;a-- >0;)i._listeners[a](s);i._listeners=null}),this.promise.then=s=>{let a;const c=new Promise(u=>{i.subscribe(u),a=u}).then(s);return c.cancel=function(){i.unsubscribe(a)},c},e(function(a,c,u){i.reason||(i.reason=new Ga(a,c,u),n(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=i=>{e.abort(i)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new J1(function(s){e=s}),cancel:e}}};function jA(t){return function(n){return t.apply(null,n)}}function DA(t){return P.isObject(t)&&t.isAxiosError===!0}const gp={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(gp).forEach(([t,e])=>{gp[e]=t});function X1(t){const e=new Vr(t),n=A1(Vr.prototype.request,e);return P.extend(n,Vr.prototype,e,{allOwnKeys:!0}),P.extend(n,e,null,{allOwnKeys:!0}),n.create=function(s){return X1(Xr(t,s))},n}const it=X1(Ka);it.Axios=Vr;it.CanceledError=Ga;it.CancelToken=RA;it.isCancel=P1;it.VERSION=Y1;it.toFormData=Uu;it.AxiosError=ue;it.Cancel=it.CanceledError;it.all=function(e){return Promise.all(e)};it.spread=jA;it.isAxiosError=DA;it.mergeConfig=Xr;it.AxiosHeaders=Qt;it.formToJSON=t=>I1(P.isHTMLForm(t)?new FormData(t):t);it.getAdapter=G1.getAdapter;it.HttpStatusCode=gp;it.default=it;const{Axios:kL,AxiosError:EL,CanceledError:NL,isCancel:TL,CancelToken:CL,VERSION:AL,all:ML,Cancel:OL,isAxiosError:RL,spread:jL,toFormData:DL,AxiosHeaders:zL,HttpStatusCode:LL,formToJSON:_L,getAdapter:BL,mergeConfig:HL}=it,zA="https://macadam-method.onrender.com/api",Ni=it.create({baseURL:zA,timeout:1e4,headers:{"Content-Type":"application/json"}});Ni.interceptors.request.use(t=>t,t=>Promise.reject(t));Ni.interceptors.response.use(t=>t,t=>Promise.reject(t));const LA=[{title:"Attorneys",desc:"High-stakes litigation, billable hours, constant pressure. Regulation work built for the pace of lawnot generic wellness advice."},{title:"Executives",desc:"Board meetings, stakeholder demands, little margin for error. Learn to reset without disappearing from the room."},{title:"Medical Professionals",desc:"Shift work, life-or-death decisions, emotional load. Tools designed for people who hold lives in their hands."},{title:"Founders",desc:"Company on your shoulders, investors, team, product. Regulation that fits the founder realitynot a 9-to-5 schedule."},{title:"High-Functioning Parents",desc:`Career + family + self, with no pause button. Integration work for people who can't "just meditate more."`}],_A=[{title:"Regulation Reset",desc:"A guided nervous system reset. Video + framework + PDF. Do it in one sitting or spread it out. Lifetime access.",price:"$199",href:"/regulation-reset"},{title:"Mini Courses",desc:"Focused skill-building modules for busy professionals. Deep dives on specific regulation skills, 2040 min each.",status:"Coming soon",href:"/courses"},{title:"Private Sessions",desc:"One-on-one regulation work. Customized to your contexttransitions, relationships, sustained overload. Starting at $500+",href:"/private-work"}],BA=[{value:"500+",label:"Professionals served"},{value:"15+",label:"Years clinical expertise"}],HA=["Guided video session (~45 min)","Practical framework you can reuse","Repeatable reset tool","Downloadable PDF reference"],UA=["Regulation workshops for teams","Burnout prevention programs","Leadership stabilization sessions","CLE-compliant education options"];function qA(){gt("Home");const[t,e]=C.useState([]),[n,i]=C.useState(!0),[s,a]=C.useState([]),[c,u]=C.useState(!0);return C.useEffect(()=>{Ni.get("/articles?limit=6").then(({data:f})=>e(f.articles||[])).catch(()=>e([])).finally(()=>i(!1))},[]),C.useEffect(()=>{Ni.get("/testimonials").then(({data:f})=>a(f.testimonials||[])).catch(()=>a([])).finally(()=>u(!1))},[]),b.jsxs("div",{className:"pt-14 md:pt-16",children:[b.jsxs("section",{className:"relative min-h-[90vh] flex flex-col md:flex-row md:items-center md:gap-12 lg:gap-20 px-6 overflow-hidden",children:[b.jsx("div",{className:"absolute inset-0 opacity-[0.03]",style:{backgroundImage:"linear-gradient(to right, #000 1px, transparent 1px), linear-gradient(to bottom, #000 1px, transparent 1px)",backgroundSize:"60px 60px"}}),b.jsxs("div",{className:"relative z-10 flex-1 flex flex-col items-center md:items-start text-center md:text-left min-h-[60vh] md:min-h-0 justify-center py-16 md:py-0",children:[b.jsx("p",{className:"text-xs font-medium tracking-[0.3em] uppercase text-black/50 mb-6 animate-fade-in opacity-0 md:mx-0",style:{animationDelay:"0.1s",animationFillMode:"forwards"},children:"The MacAdam Company"}),b.jsx("h1",{className:"font-serif text-4xl sm:text-5xl md:text-6xl lg:text-7xl font-normal text-black tracking-tight leading-[1.1] max-w-3xl mx-auto md:mx-0 animate-fade-up opacity-0",style:{animationDelay:"0.2s",animationFillMode:"forwards"},children:"Regulation for high-performing leaders."}),b.jsx("p",{className:"mt-8 text-lg md:text-xl text-black/70 max-w-xl mx-auto md:mx-0 leading-relaxed animate-fade-up opacity-0",style:{animationDelay:"0.4s",animationFillMode:"forwards"},children:"Practical nervous system regulation for professionals under pressure."}),b.jsxs("div",{className:"mt-12 flex flex-col sm:flex-row gap-4 justify-center md:justify-start animate-fade-up opacity-0",style:{animationDelay:"0.6s",animationFillMode:"forwards"},children:[b.jsx(Me,{to:"/regulation-reset",className:"inline-block px-8 py-4 bg-black text-white text-sm font-medium tracking-widest uppercase hover:bg-black/90 transition-all duration-300 hover:scale-[1.02]",children:"Start Regulation Reset"}),b.jsx(Me,{to:"/private-work",className:"inline-block px-8 py-4 border border-black text-black text-sm font-medium tracking-widest uppercase hover:bg-black hover:text-white transition-all duration-300",children:"Book Private Session"})]})]}),b.jsx("div",{className:"relative z-10 hidden md:block flex-1 max-w-lg lg:max-w-xl w-full",children:b.jsx(Nn,{path:"/images/patricia-hero.jpg",alt:"Patricia MacAdam",aspect:"4/5",className:"w-full"})}),b.jsx("div",{className:"absolute bottom-8 left-1/2 -translate-x-1/2 animate-float md:hidden",children:b.jsx("div",{className:"w-px h-12 bg-black/30"})})]}),b.jsxs("section",{className:"py-20 md:py-28 px-6 border-t border-black/10",children:[b.jsx("p",{className:"max-w-2xl mx-auto text-center text-lg md:text-xl text-black/70 leading-relaxed mb-8",children:"Regulation-based consulting, courses, and private work for people who carry real responsibility."}),b.jsx("p",{className:"max-w-xl mx-auto text-center text-black/60 text-sm leading-relaxed mb-16",children:"We don't do generic wellness. We teach practical nervous system regulationthe kind you can use in the middle of a board meeting, before a difficult conversation, or when the inbox won't stop."}),b.jsx("div",{className:"flex flex-wrap justify-center gap-16 md:gap-24",children:BA.map(({value:f,label:h})=>b.jsxs("div",{className:"text-center",children:[b.jsx("p",{className:"font-serif text-4xl md:text-5xl font-normal text-black",children:f}),b.jsx("p",{className:"text-xs font-medium tracking-widest uppercase text-black/50 mt-2",children:h})]},h))})]}),b.jsx("section",{className:"py-20 md:py-28 px-6 bg-macadam-offwhite",children:b.jsxs("div",{className:"max-w-3xl mx-auto",children:[b.jsx("p",{className:"text-xs font-medium tracking-widest uppercase text-black/50 mb-8 text-center",children:"The MacAdam Method"}),b.jsx("p",{className:"text-black/80 leading-relaxed text-center mb-6",children:"The MacAdam Method was developed through years of direct clinical work, graduate-level training, and real-world application with families, professionals, and high-functioning adults under sustained stress."}),b.jsx("p",{className:"text-black/80 leading-relaxed text-center mb-6",children:"Capable people weren't failing from lack of insightthey were operating from chronically dysregulated nervous systems. Traditional approaches focused on coping and performance. What was missing was regulation: the ability to stabilize before stress spilled into relationships, decisions, and health."}),b.jsx("p",{className:"text-black font-medium text-center",children:"Regulation is not weakness. It is the foundation of sustainable leadership."}),b.jsx(Me,{to:"/regulation-reset",className:"block mt-10 text-center text-sm font-medium tracking-wide text-black/60 hover:text-black",children:"Learn the method "})]})}),b.jsx("section",{className:"py-20 md:py-28 px-6",children:b.jsxs("div",{className:"max-w-6xl mx-auto",children:[b.jsxs("div",{className:"grid lg:grid-cols-12 gap-12 lg:gap-16 items-start mb-16",children:[b.jsxs("div",{className:"lg:col-span-7",children:[b.jsx("h2",{className:"text-xs font-medium tracking-widest uppercase text-black/60 mb-4",children:"Who we serve"}),b.jsx("p",{className:"text-2xl md:text-3xl font-serif font-normal text-black mb-6 max-w-2xl",children:"Professionals who can't afford to shut down  but know they can't keep going like this."}),b.jsx("p",{className:"text-black/60 leading-relaxed",children:"Attorneys, executives, founders, medical professionals, and high-functioning parentspeople who carry real responsibility and need regulation tools that fit their reality, not a retreat schedule."})]}),b.jsx("div",{className:"lg:col-span-5",children:b.jsx(Nn,{path:"/images/audience-professionals.jpg",alt:"Professionals at work",aspect:"4/5",className:"w-full"})})]}),b.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-px bg-black/10",children:LA.map(({title:f,desc:h},p)=>b.jsxs("div",{className:"bg-white p-8 md:p-10 group hover:bg-black transition-colors duration-300",children:[b.jsx("span",{className:"text-[10px] font-medium tracking-widest text-black/40 group-hover:text-white/60",children:String(p+1).padStart(2,"0")}),b.jsx("p",{className:"text-sm font-medium text-black group-hover:text-white mt-4 transition-colors",children:f}),b.jsx("p",{className:"text-sm text-black/60 group-hover:text-white/80 mt-2 leading-relaxed transition-colors",children:h})]},f))})]})}),b.jsx("section",{className:"py-20 md:py-28 px-6 bg-macadam-offwhite",children:b.jsxs("div",{className:"max-w-5xl mx-auto",children:[b.jsx("h2",{className:"text-xs font-medium tracking-widest uppercase text-black/60 mb-4",children:"What people say"}),b.jsx("p",{className:"text-2xl font-serif font-normal text-black mb-4",children:"Professionals who've done the work."}),b.jsx("p",{className:"text-black/60 mb-12 max-w-2xl",children:"Real feedback from high-performing leaders who use regulation in their practice."}),c?b.jsx("div",{className:"space-y-8",children:[1,2].map(f=>b.jsxs("div",{className:"flex gap-6 p-8 border border-black/5 bg-white rounded animate-pulse",children:[b.jsx("div",{className:"shrink-0 w-20 h-20 rounded-full bg-black/10"}),b.jsxs("div",{className:"flex-1 space-y-3",children:[b.jsx("div",{className:"h-6 w-full max-w-2xl bg-black/10 rounded"}),b.jsx("div",{className:"h-6 w-3/4 bg-black/10 rounded"}),b.jsx("div",{className:"h-4 w-32 bg-black/10 rounded mt-4"})]})]},f))}):s.length===0?b.jsx("p",{className:"text-black/60",children:"Testimonials coming soon."}):b.jsx("div",{className:"grid md:grid-cols-2 gap-8 lg:gap-10",children:s.map(({_id:f,quote:h,name:p,image:g})=>b.jsxs("div",{className:"group flex flex-col md:flex-row gap-6 p-8 md:p-10 bg-white border border-black/5 hover:border-black/10 hover:shadow-lg transition-all duration-300",children:[b.jsx("div",{className:"shrink-0 w-16 h-16 md:w-20 md:h-20 overflow-hidden rounded-full bg-black/5 border border-black/10 flex items-center justify-center ring-2 ring-white ring-offset-2",children:g?b.jsx("img",{src:g,alt:p,className:"w-full h-full object-cover"}):b.jsx("span",{className:"text-black/30 text-xs font-medium",children:"Photo"})}),b.jsxs("blockquote",{className:"flex-1 min-w-0",children:[b.jsxs("p",{className:"font-serif text-lg md:text-xl font-normal text-black leading-relaxed italic",children:["",h,""]}),b.jsxs("cite",{className:"mt-4 block text-sm font-medium text-black/60 not-italic",children:[" ",p]})]})]},f))})]})}),b.jsx("section",{className:"py-20 md:py-28 px-6 bg-macadam-offwhite",children:b.jsxs("div",{className:"max-w-6xl mx-auto",children:[b.jsx("h2",{className:"text-xs font-medium tracking-widest uppercase text-black/60 mb-4",children:"Articles & Insights"}),b.jsx("p",{className:"text-2xl font-serif font-normal text-black mb-4",children:"Ideas and frameworks for regulated leadership."}),b.jsx("p",{className:"text-black/60 mb-12 max-w-2xl",children:"Short reads on nervous system regulation, applied to real-world pressure: boardrooms, courtrooms, operating rooms, and everywhere in between."}),n?b.jsx("div",{className:"grid md:grid-cols-3 gap-8 md:gap-12",children:[1,2,3].map(f=>b.jsxs("div",{className:"bg-white p-6 md:p-8 border border-black/5 animate-pulse",children:[b.jsx("div",{className:"h-4 w-16 bg-black/10 rounded"}),b.jsx("div",{className:"h-6 mt-4 w-3/4 bg-black/10 rounded"}),b.jsx("div",{className:"h-4 mt-2 w-full bg-black/10 rounded"}),b.jsx("div",{className:"h-4 mt-2 w-2/3 bg-black/10 rounded"})]},f))}):t.length===0?b.jsx("p",{className:"text-black/60",children:"New articles coming soon."}):b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"grid md:grid-cols-3 gap-8 md:gap-12",children:t.map(f=>b.jsxs(Me,{to:`/articles/${f._id}`,className:"group block bg-white p-6 md:p-8 hover:shadow-lg transition-all duration-300 border border-transparent hover:border-black/10",children:[f.thumbnail?b.jsx("div",{className:"aspect-video rounded overflow-hidden mb-4 -mx-6 -mt-6 md:-mx-8 md:-mt-8",children:b.jsx("img",{src:f.thumbnail,alt:"",className:"w-full h-full object-cover group-hover:scale-[1.02] transition-transform duration-300"})}):b.jsx("span",{className:"text-xs font-medium tracking-widest text-black/40",children:"Read"}),b.jsx("p",{className:"text-black font-medium mt-4 group-hover:underline decoration-black/30",children:f.title}),b.jsx("p",{className:"mt-2 text-sm text-black/60 line-clamp-2",children:f.shortDescription||f.excerpt||""}),b.jsx("span",{className:"mt-6 inline-block text-xs font-medium tracking-widest uppercase text-black/50 group-hover:text-black transition-colors",children:"Read More "})]},f._id))}),b.jsx("div",{className:"mt-12",children:b.jsx(Me,{to:"/articles",className:"inline-block text-sm font-medium tracking-widest uppercase text-black/60 hover:text-black transition-colors",children:"View all articles "})})]})]})}),b.jsx("section",{className:"py-20 md:py-28 px-6",children:b.jsxs("div",{className:"max-w-6xl mx-auto",children:[b.jsx("h2",{className:"text-xs font-medium tracking-widest uppercase text-black/60 mb-4",children:"Courses & Programs"}),b.jsx("p",{className:"text-2xl font-serif font-normal text-black mb-4",children:"Learn at your pace. Apply immediately."}),b.jsx("p",{className:"text-black/60 mb-12 max-w-2xl",children:"Self-paced courses and one-on-one work. No multi-week commitments requiredget what you need and use it."}),b.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:_A.map(({title:f,desc:h,price:p,status:g,href:x})=>b.jsxs(Me,{to:x,className:"group block p-8 border border-black/10 hover:border-black transition-colors duration-300",children:[p&&b.jsx("span",{className:"text-xs font-medium tracking-widest text-black/50",children:p}),g&&b.jsx("span",{className:"text-xs font-medium tracking-widest text-black/40",children:g}),b.jsx("p",{className:"text-xl font-medium text-black mt-4 group-hover:underline",children:f}),b.jsx("p",{className:"mt-2 text-sm text-black/60",children:h}),b.jsx("span",{className:"mt-6 inline-block text-xs font-medium tracking-widest uppercase text-black/50 group-hover:text-black transition-colors",children:g?"Notify me":"Learn more "})]},f))})]})}),b.jsxs("section",{className:"py-24 md:py-32 px-6 bg-black text-white relative overflow-hidden",children:[b.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 rounded-full border border-white/5 -translate-y-1/2 translate-x-1/2"}),b.jsx("div",{className:"absolute bottom-0 left-0 w-64 h-64 rounded-full border border-white/5 translate-y-1/2 -translate-x-1/2"}),b.jsx("div",{className:"relative max-w-6xl mx-auto",children:b.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 lg:gap-20 items-center",children:[b.jsxs("div",{children:[b.jsx("p",{className:"text-xs font-medium tracking-[0.3em] uppercase text-white/50 mb-4",children:"The MacAdam Method  Self-paced  One-time"}),b.jsx("h2",{className:"font-serif text-4xl md:text-5xl font-normal",children:"Regulation Reset"}),b.jsx("p",{className:"mt-6 text-white/80 text-lg leading-relaxed",children:"A guided nervous system reset built on The MacAdam Method. One sitting or spread over time. Use it whenever you need to come back to baseline."}),b.jsx("ul",{className:"mt-8 space-y-3 text-white/80",children:HA.map(f=>b.jsxs("li",{className:"flex items-center gap-3",children:[b.jsx("span",{className:"w-1 h-1 rounded-full bg-white/60 shrink-0"}),f]},f))}),b.jsxs("div",{className:"mt-8 flex flex-wrap gap-6 text-sm text-white/70",children:[b.jsx("span",{children:"~45 min"}),b.jsx("span",{children:"Lifetime access"}),b.jsx("span",{children:"$199"})]}),b.jsx(Me,{to:"/regulation-reset",className:"inline-block mt-12 px-10 py-4 border border-white text-white text-sm font-medium tracking-widest uppercase hover:bg-white hover:text-black transition-all duration-300",children:"Start Regulation Reset"})]}),b.jsx("div",{children:b.jsx(Nn,{path:"/images/regulation-reset-session.jpg",alt:"Regulation Reset session",aspect:"4/5",className:"w-full border-white/20"})})]})})]}),b.jsx("section",{className:"py-24 md:py-32 px-6",children:b.jsx("div",{className:"max-w-6xl mx-auto",children:b.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 lg:gap-20 items-center",children:[b.jsx("div",{className:"order-2 lg:order-1",children:b.jsx(Nn,{path:"/images/private-session.jpg",alt:"Private regulation session",aspect:"4/5",className:"w-full"})}),b.jsxs("div",{className:"order-1 lg:order-2",children:[b.jsx("p",{className:"text-xs font-medium tracking-[0.3em] uppercase text-black/50 mb-4",children:"One-on-one"}),b.jsx("h2",{className:"font-serif text-4xl md:text-5xl font-normal text-black",children:"Private Regulation Sessions"}),b.jsx("p",{className:"mt-6 text-black/70 text-lg leading-relaxed",children:"Not therapy. Strategic nervous system regulation for high-pressure professionals navigating transitions, relationship strain, or sustained overload."}),b.jsx("p",{className:"mt-4 text-black/60",children:"Customized to your context. Sessions are 6090 minutes. In-person or virtual."}),b.jsx("p",{className:"mt-2 text-sm text-black/50",children:"Starting at $500+  Request a session"}),b.jsx(Me,{to:"/private-work",className:"inline-block mt-10 px-8 py-4 border border-black text-black text-sm font-medium tracking-widest uppercase hover:bg-black hover:text-white transition-colors duration-300",children:"Request Session"})]})]})})}),b.jsx("section",{className:"py-24 md:py-32 px-6 bg-macadam-offwhite",children:b.jsx("div",{className:"max-w-6xl mx-auto",children:b.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 lg:gap-20 items-center",children:[b.jsxs("div",{children:[b.jsx("p",{className:"text-xs font-medium tracking-[0.3em] uppercase text-black/50 mb-4",children:"Organizations"}),b.jsx("h2",{className:"font-serif text-4xl md:text-5xl font-normal text-black",children:"For Law Firms & Organizations"}),b.jsx("p",{className:"mt-6 text-black/70 text-lg leading-relaxed",children:"We partner with professional organizations to deliver regulation-based training that stabilizes performance and reduces burnout."}),b.jsx("ul",{className:"mt-8 space-y-3 text-black/70",children:UA.map(f=>b.jsxs("li",{className:"flex items-center gap-3",children:[b.jsx("span",{className:"w-1 h-1 rounded-full bg-black/40 shrink-0"}),f]},f))}),b.jsx("p",{className:"mt-6 text-sm text-black/60",children:"CLE-compliant education options available for legal professionals."}),b.jsx(Me,{to:"/for-law-firms",className:"inline-block mt-10 px-8 py-4 bg-black text-white text-sm font-medium tracking-widest uppercase hover:bg-black/90 transition-colors",children:"Contact for Partnership"})]}),b.jsx("div",{children:b.jsx(Nn,{path:"/images/law-firm-workshop.jpg",alt:"Regulation workshop for law firms",aspect:"4/5",className:"w-full"})})]})})}),b.jsx("section",{className:"py-24 md:py-32 px-6",children:b.jsx("div",{className:"max-w-6xl mx-auto",children:b.jsxs("div",{className:"grid lg:grid-cols-12 gap-12 lg:gap-20 items-start",children:[b.jsxs("div",{className:"lg:col-span-5",children:[b.jsx(Nn,{path:"/images/patricia-portrait.jpg",alt:"Patricia MacAdam",aspect:"4/5",className:"w-full"}),b.jsx("div",{className:"mt-6",children:b.jsx(Nn,{path:"/images/patricia-working.jpg",alt:"Patricia at work",aspect:"16/9",className:"w-full"})})]}),b.jsxs("div",{className:"lg:col-span-7",children:[b.jsx("p",{className:"text-xs font-medium tracking-[0.3em] uppercase text-black/50 mb-4",children:"Founder"}),b.jsx("h2",{className:"font-serif text-4xl md:text-5xl font-normal text-black",children:"Patricia MacAdam"}),b.jsx("p",{className:"mt-6 text-black/70 text-lg leading-relaxed",children:"Regulation-focused consultant and clinician with advanced training in mental health, program evaluation, and applied nervous system work."}),b.jsx("p",{className:"mt-4 text-black/70 leading-relaxed",children:"She teaches integration, not theory. Her work blends clinical expertise, lived experience, and practical frameworks designed for people who carry real responsibility."}),b.jsx("p",{className:"mt-4 text-black/60",children:"Years of work with attorneys, executives, founders, and professionals under sustained pressure."}),b.jsx(Me,{to:"/about",className:"inline-block mt-10 px-8 py-4 border border-black text-black text-sm font-medium tracking-widest uppercase hover:bg-black hover:text-white transition-colors",children:"About Patricia"})]})]})})}),b.jsxs("section",{className:"py-28 md:py-36 px-6 bg-black text-white text-center relative overflow-hidden",children:[b.jsx("div",{className:"absolute inset-0 opacity-[0.03]",style:{backgroundImage:"linear-gradient(to right, #fff 1px, transparent 1px), linear-gradient(to bottom, #fff 1px, transparent 1px)",backgroundSize:"60px 60px"}}),b.jsxs("div",{className:"relative",children:[b.jsxs("h2",{className:"font-serif text-4xl md:text-5xl lg:text-6xl font-normal leading-tight max-w-2xl mx-auto",children:["You don't need fixing.",b.jsx("br",{}),"You need regulation."]}),b.jsx("p",{className:"mt-6 text-white/60 max-w-md mx-auto",children:"Stop pushing through. Start regulating."}),b.jsxs("div",{className:"mt-12 flex flex-col sm:flex-row gap-4 justify-center",children:[b.jsx(Me,{to:"/regulation-reset",className:"inline-block px-8 py-4 bg-white text-black text-sm font-medium tracking-widest uppercase hover:bg-white/90 transition-colors",children:"Start Regulation Reset"}),b.jsx(Me,{to:"/private-work",className:"inline-block px-8 py-4 border border-white text-white text-sm font-medium tracking-widest uppercase hover:bg-white hover:text-black transition-colors",children:"Book Private Session"})]})]})]})]})}function IA(){gt("Regulation Reset");const t=["Guided regulation session (video)","Practical framework","Repeatable reset tool","Downloadable PDF"],e=["Purchase ","Email confirmation ","Gated page ","Watch ","Apply repeatedly"],n=[{q:"Who is this for?",a:"Professionals under sustained pressureattorneys, executives, founders, medical professionalswho need a practical reset tool they can use on their own schedule."},{q:"How long does it take?",a:"The core session runs ~45 minutes. You can do it in one sitting or break it up. Lifetime access means you return to it whenever you need."},{q:"What will I learn?",a:"A clear framework for understanding your nervous system state and a repeatable reset process you can use before high-stakes moments, after overload, or as a regular practice."}],i=["The MacAdam Method was developed through years of direct clinical work, graduate-level training, and real-world application with families, professionals, and high-functioning adults under sustained stress.","While working in schools, family systems, and professional settings, I repeatedly observed the same pattern: capable, intelligent people weren't failing because they lacked insight or motivationthey were operating from chronically dysregulated nervous systems.","Traditional approaches focused on coping, insight, or performance optimization. What was missing was regulationthe ability to stabilize the nervous system before stress spilled into relationships, decision-making, health, and identity.","The MacAdam Method emerged from that gap. It is a field-developed regulation framework designed to help high-functioning adults restore internal stability, reduce emotional fallout, and regain clarity under pressure.","This method is not theory alone. It reflects lived integration, pattern recognition, and applied nervous system recalibrationbuilt in real environments where the cost of burnout, emotional reactivity, and collapse is high.","Regulation is not weakness. It is the foundation of sustainable leadership."];return b.jsx("div",{className:"pt-24 md:pt-32 pb-24 px-6",children:b.jsxs("div",{className:"max-w-4xl mx-auto",children:[b.jsxs("div",{className:"mb-20 pb-20 border-b border-black/10",children:[b.jsx("p",{className:"text-xs font-medium tracking-widest uppercase text-black/50 mb-6",children:"The MacAdam Method"}),b.jsx("div",{className:"space-y-6 text-black/80 leading-relaxed",children:i.map((s,a)=>b.jsx("p",{className:a===i.length-1?"font-medium text-black":"",children:s},a))})]}),b.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 lg:gap-20 items-start",children:[b.jsxs("div",{children:[b.jsx("h1",{className:"font-serif text-4xl md:text-5xl font-normal text-black mb-6",children:"Regulation Reset"}),b.jsx("p",{className:"text-lg text-black/70 leading-relaxed mb-8",children:"A guided nervous system reset designed for professionals under sustained pressurebuilt on The MacAdam Method."}),b.jsx("p",{className:"text-black/60 leading-relaxed mb-12",children:"Not another meditation app. A practical, one-time session that gives you the framework and tool you can use again and againbefore board meetings, after difficult conversations, or whenever you need to come back to baseline."}),b.jsxs("section",{className:"mb-12",children:[b.jsx("h2",{className:"text-xs font-medium tracking-widest uppercase text-black/60 mb-4",children:"Includes"}),b.jsx("ul",{className:"space-y-3",children:t.map(s=>b.jsxs("li",{className:"text-black/80 flex items-start gap-3",children:[b.jsx("span",{className:"w-1 h-1 rounded-full bg-black/60 shrink-0 mt-2"}),s]},s))})]}),b.jsxs("section",{className:"mb-12",children:[b.jsx("h2",{className:"text-xs font-medium tracking-widest uppercase text-black/60 mb-4",children:"How it works"}),b.jsx("p",{className:"text-black/80 mb-4",children:"Simple flow:"}),b.jsx("p",{className:"text-black/70",children:e.join(" ")}),b.jsx("p",{className:"text-sm text-black/60 mt-4",children:"Secure checkout via Stripe. Instant access via email."})]}),b.jsxs("section",{className:"py-8 border-t border-b border-black/10",children:[b.jsx("p",{className:"text-3xl font-medium text-black",children:"$199"}),b.jsx("p",{className:"text-black/60 mt-1",children:"One-time purchase  Lifetime access"}),b.jsx("a",{href:"#",className:"inline-block mt-6 px-8 py-4 bg-black text-white text-sm font-medium tracking-widest uppercase hover:bg-black/90 transition-colors",children:"Start Regulation Reset"}),b.jsx("p",{className:"text-sm text-black/50 mt-4",children:"Email capture required. Stripe checkout."})]})]}),b.jsxs("div",{className:"space-y-8",children:[b.jsx(Nn,{path:"/images/regulation-reset-detail.jpg",alt:"Regulation Reset session",aspect:"4/5",className:"w-full"}),b.jsxs("div",{className:"space-y-6",children:[b.jsx("h2",{className:"text-xs font-medium tracking-widest uppercase text-black/60",children:"FAQ"}),n.map(({q:s,a})=>b.jsxs("div",{className:"border-b border-black/10 pb-6 last:border-0",children:[b.jsx("p",{className:"font-medium text-black",children:s}),b.jsx("p",{className:"mt-2 text-sm text-black/70 leading-relaxed",children:a})]},s))]})]})]}),b.jsx(Me,{to:"/courses",className:"inline-block mt-16 text-sm font-medium tracking-wide text-black/60 hover:text-black",children:" View all courses"})]})})}const PA=[{title:"Regulation Reset",desc:"A guided nervous system reset designed for professionals under sustained pressure.",details:"Video-based session (~45 min), practical framework, repeatable reset tool, downloadable PDF. One-time purchase, lifetime access. Perfect for busy professionals who need a standalone resource.",price:"$199",image:"regulation-reset-detail.jpg",href:"/regulation-reset",available:!0},{title:"Mini Courses",desc:"Focused skill-building modules for busy professionals.",details:"2040 minute deep dives on specific regulation skills: managing activation before high-stakes moments, building a sustainable reset practice, integrating regulation into your leadership style. Bite-sized, practical, no fluff.",image:"course-mini-courses.jpg",href:"/courses",available:!1}];function VA(){return gt("Courses"),b.jsx("div",{className:"pt-24 md:pt-32 pb-24 px-6",children:b.jsxs("div",{className:"max-w-4xl mx-auto",children:[b.jsx("h1",{className:"font-serif text-4xl md:text-5xl font-normal text-black mb-6",children:"Courses & Programs"}),b.jsx("p",{className:"text-lg text-black/70 leading-relaxed mb-8 max-w-2xl",children:"Self-paced learning for professionals who can't commit to multi-week programs. Get what you need and use it."}),b.jsxs("div",{className:"mb-16 py-8 border-y border-black/10",children:[b.jsx("p",{className:"text-xs font-medium tracking-widest uppercase text-black/50 mb-4",children:"The MacAdam Method"}),b.jsx("p",{className:"text-black/80 leading-relaxed mb-4",children:"All courses are built on The MacAdam Methoda field-developed regulation framework designed to help high-functioning adults restore internal stability, reduce emotional fallout, and regain clarity under pressure."}),b.jsx("p",{className:"text-black/70 text-sm leading-relaxed",children:"Not theory alone. Lived integration, pattern recognition, and applied nervous system recalibrationbuilt in real environments where the cost of burnout and emotional reactivity is high."})]}),b.jsx("div",{className:"space-y-16",children:PA.map(({title:t,desc:e,details:n,price:i,image:s,href:a,available:c})=>b.jsxs("div",{className:"grid lg:grid-cols-12 gap-8 lg:gap-12 items-start border-b border-black/10 pb-16 last:border-0 last:pb-0",children:[b.jsx("div",{className:"lg:col-span-5",children:b.jsx(Nn,{path:`/images/${s}`,alt:t,aspect:"4/5",className:"w-full"})}),b.jsxs("div",{className:"lg:col-span-7",children:[i&&b.jsx("span",{className:"text-xs font-medium tracking-widest uppercase text-black/50",children:i}),!c&&b.jsx("span",{className:"text-xs font-medium tracking-widest uppercase text-black/40 ml-4",children:"Coming Soon"}),b.jsx("h2",{className:"text-2xl font-medium text-black mt-4",children:t}),b.jsx("p",{className:"text-black/70 mt-2",children:e}),b.jsx("p",{className:"text-black/60 mt-4 leading-relaxed text-sm",children:n}),c?b.jsx(Me,{to:a,className:"inline-block mt-6 text-sm font-medium tracking-wide text-black hover:underline",children:"Learn more "}):b.jsx("span",{className:"inline-block mt-6 text-sm text-black/50",children:"Notify me when available"})]})]},t))}),b.jsxs("div",{className:"mt-20 p-8 bg-black/5 border border-black/10",children:[b.jsx("h2",{className:"text-xs font-medium tracking-widest uppercase text-black/60 mb-4",children:"Private Sessions"}),b.jsx("p",{className:"text-black/80 leading-relaxed",children:"Prefer one-on-one work? Private regulation sessions are customized to your contexttransitions, relationship strain, sustained overload. Starting at $500+."}),b.jsx(Me,{to:"/private-work",className:"inline-block mt-6 text-sm font-medium tracking-wide text-black hover:underline",children:"Request a session "})]})]})})}function $A(){gt("Private Work");const[t,e]=C.useState(""),[n,i]=C.useState(""),[s,a]=C.useState(""),[c,u]=C.useState(!1),[f,h]=C.useState(!1),[p,g]=C.useState(""),x=async k=>{k.preventDefault(),g(""),u(!0);try{await Ni.post("/inquiries",{source:"private-work",name:t,email:n,message:s}),h(!0),e(""),i(""),a("")}catch{g("Failed to send. Please try again.")}finally{u(!1)}},v=["6090 minute sessions, in-person or virtual","Customized to your context: transitions, relationship strain, sustained overload","Practical frameworks you can apply immediately","Not therapystrategic nervous system regulation"],w=["Executives navigating board pressure or stakeholder conflicts","Attorneys in high-stakes litigation or partnership transitions","Founders managing investor relations or team dynamics","Professionals in major life transitions","Anyone who needs regulation work that fits a demanding schedule"];return b.jsx("div",{className:"pt-24 md:pt-32 pb-24 px-6",children:b.jsx("div",{className:"max-w-4xl mx-auto",children:b.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 lg:gap-20 items-start",children:[b.jsxs("div",{children:[b.jsx("h1",{className:"font-serif text-4xl md:text-5xl font-normal text-black mb-6",children:"Private Regulation Sessions"}),b.jsx("p",{className:"text-lg text-black/70 leading-relaxed mb-6",children:"One-on-one regulation work for professionals navigating high-pressure roles, relationship strain, or major transitions."}),b.jsx("p",{className:"text-black/60 leading-relaxed mb-8",children:"These sessions are tailored to your specific context. Whether you're in the middle of a leadership transition, managing relationship strain at work or home, or simply carrying sustained overload without a clear off-rampwe work with where you are."}),b.jsxs("div",{className:"mb-12 py-6 border-y border-black/20",children:[b.jsx("p",{className:"text-black font-medium",children:"This is not therapy."}),b.jsx("p",{className:"text-black font-medium mt-1",children:"This is strategic nervous system regulation."})]}),b.jsxs("section",{className:"mb-12",children:[b.jsx("h2",{className:"text-xs font-medium tracking-widest uppercase text-black/60 mb-4",children:"What to expect"}),b.jsx("ul",{className:"space-y-3",children:v.map(k=>b.jsxs("li",{className:"text-black/80 flex items-start gap-3",children:[b.jsx("span",{className:"w-1 h-1 rounded-full bg-black/60 shrink-0 mt-2"}),k]},k))})]}),b.jsxs("section",{className:"mb-12",children:[b.jsx("h2",{className:"text-xs font-medium tracking-widest uppercase text-black/60 mb-4",children:"Who it's for"}),b.jsx("ul",{className:"space-y-2",children:w.map(k=>b.jsxs("li",{className:"text-black/70 text-sm",children:[" ",k]},k))})]}),b.jsx("p",{className:"text-black/70 mb-10",children:"Starting at $500+  Pricing discussed after initial request"}),b.jsxs("form",{onSubmit:x,className:"space-y-6",children:[f&&b.jsx("p",{className:"text-green-700 text-sm",children:"Request received. We'll be in touch soon."}),p&&b.jsx("p",{className:"text-red-600 text-sm",children:p}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"name",className:"block text-xs font-medium tracking-widest uppercase text-black/60 mb-2",children:"Name"}),b.jsx("input",{id:"name",type:"text",value:t,onChange:k=>e(k.target.value),required:!0,className:"w-full px-0 py-3 border-0 border-b border-black/20 bg-transparent focus:outline-none focus:border-black",placeholder:"Your name"})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"email",className:"block text-xs font-medium tracking-widest uppercase text-black/60 mb-2",children:"Email"}),b.jsx("input",{id:"email",type:"email",value:n,onChange:k=>i(k.target.value),required:!0,className:"w-full px-0 py-3 border-0 border-b border-black/20 bg-transparent focus:outline-none focus:border-black",placeholder:"your@email.com"})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"description",className:"block text-xs font-medium tracking-widest uppercase text-black/60 mb-2",children:"Brief description"}),b.jsx("textarea",{id:"description",value:s,onChange:k=>a(k.target.value),rows:4,className:"w-full px-0 py-3 border-0 border-b border-black/20 bg-transparent focus:outline-none focus:border-black resize-none",placeholder:"Tell us a bit about what you're looking foryour role, what you're navigating, what you hope to gain."})]}),b.jsx("button",{type:"submit",disabled:c,className:"px-8 py-4 bg-black text-white text-sm font-medium tracking-widest uppercase hover:bg-black/90 transition-colors disabled:opacity-50",children:c?"Sending":"Request Private Session"})]})]}),b.jsx("div",{children:b.jsx(Nn,{path:"/images/private-session-detail.jpg",alt:"Private regulation session",aspect:"4/5",className:"w-full"})})]})})})}const FA=[{title:"Regulation workshops",desc:"Half-day or full-day sessions for teams. Practical tools for managing pressure, building sustainable performance, and reducing burnout at the organizational level."},{title:"Burnout prevention programs",desc:"Multi-session programs that address the systemic and individual factors in burnout. Designed for high-pressure environments where turnover and exhaustion are real concerns."},{title:"Leadership stabilization sessions",desc:"Regulation-focused support for leaders under sustained pressure. Customized to your leadership team's contexttransitions, mergers, rapid growth, or organizational crisis."},{title:"CLE-compliant education",desc:"Regulation training that meets continuing legal education requirements. Relevant for attorneys managing stress, ethical decision-making under pressure, and professional sustainability."}];function KA(){gt("For Law Firms");const[t,e]=C.useState(""),[n,i]=C.useState(""),[s,a]=C.useState(""),[c,u]=C.useState(""),[f,h]=C.useState(!1),[p,g]=C.useState(!1),[x,v]=C.useState(""),w=async k=>{k.preventDefault(),v(""),h(!0);try{await Ni.post("/inquiries",{source:"for-law-firms",name:t,email:n,message:[s&&`Organization: ${s}`,c].filter(Boolean).join(`

`)}),g(!0),e(""),i(""),a(""),u("")}catch{v("Failed to send. Please try again.")}finally{h(!1)}};return b.jsx("div",{className:"pt-24 md:pt-32 pb-24 px-6",children:b.jsx("div",{className:"max-w-4xl mx-auto",children:b.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 lg:gap-20 items-start",children:[b.jsxs("div",{children:[b.jsx("h1",{className:"font-serif text-4xl md:text-5xl font-normal text-black mb-6",children:"For Law Firms & Organizations"}),b.jsx("p",{className:"text-lg text-black/70 leading-relaxed mb-8",children:"We partner with professional organizations to deliver regulation-based training that stabilizes performance and reduces burnout."}),b.jsx("p",{className:"text-black/60 leading-relaxed mb-12",children:"High-pressure environmentslaw firms, medical practices, financial services, startupscreate sustained activation that leads to burnout, turnover, and diminished performance. We deliver practical regulation training that fits your context and your people."}),b.jsxs("section",{className:"mb-12",children:[b.jsx("h2",{className:"text-xs font-medium tracking-widest uppercase text-black/60 mb-6",children:"Offerings"}),b.jsx("ul",{className:"space-y-8",children:FA.map(({title:k,desc:E})=>b.jsxs("li",{children:[b.jsx("p",{className:"font-medium text-black",children:k}),b.jsx("p",{className:"mt-2 text-sm text-black/70 leading-relaxed",children:E})]},k))})]}),b.jsx("p",{className:"text-sm text-black/60 mb-8",children:"Programs can be tailored to team size, format (in-person or virtual), and specific outcomes. CLE credit available for legal professionals."}),b.jsxs("form",{onSubmit:w,className:"space-y-6",children:[p&&b.jsx("p",{className:"text-green-700 text-sm",children:"Inquiry sent. We'll be in touch soon."}),x&&b.jsx("p",{className:"text-red-600 text-sm",children:x}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"name",className:"block text-xs font-medium tracking-widest uppercase text-black/60 mb-2",children:"Name"}),b.jsx("input",{id:"name",type:"text",value:t,onChange:k=>e(k.target.value),required:!0,className:"w-full px-0 py-3 border-0 border-b border-black/20 bg-transparent focus:outline-none focus:border-black",placeholder:"Your name"})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"email",className:"block text-xs font-medium tracking-widest uppercase text-black/60 mb-2",children:"Email"}),b.jsx("input",{id:"email",type:"email",value:n,onChange:k=>i(k.target.value),required:!0,className:"w-full px-0 py-3 border-0 border-b border-black/20 bg-transparent focus:outline-none focus:border-black",placeholder:"your@email.com"})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"organization",className:"block text-xs font-medium tracking-widest uppercase text-black/60 mb-2",children:"Organization"}),b.jsx("input",{id:"organization",type:"text",value:s,onChange:k=>a(k.target.value),className:"w-full px-0 py-3 border-0 border-b border-black/20 bg-transparent focus:outline-none focus:border-black",placeholder:"Firm or organization name"})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"message",className:"block text-xs font-medium tracking-widest uppercase text-black/60 mb-2",children:"Message"}),b.jsx("textarea",{id:"message",value:c,onChange:k=>u(k.target.value),rows:4,className:"w-full px-0 py-3 border-0 border-b border-black/20 bg-transparent focus:outline-none focus:border-black resize-none",placeholder:"Tell us about your organization and what you're looking for."})]}),b.jsx("button",{type:"submit",disabled:f,className:"px-8 py-4 bg-black text-white text-sm font-medium tracking-widest uppercase hover:bg-black/90 transition-colors disabled:opacity-50",children:f?"Sending":"Contact for Partnership"})]})]}),b.jsxs("div",{className:"space-y-8",children:[b.jsx(Nn,{path:"/images/law-firm-workshop-detail.jpg",alt:"Regulation workshop",aspect:"4/5",className:"w-full"}),b.jsxs("div",{className:"p-6 bg-black/5 border border-black/10",children:[b.jsx("h2",{className:"text-xs font-medium tracking-widest uppercase text-black/60 mb-4",children:"Typical partners"}),b.jsx("p",{className:"text-black/70 text-sm leading-relaxed",children:"Law firms (partnerships, practice groups, firm-wide), medical groups, executive teams, financial services firms, and mission-driven organizations with high-stakes work."})]})]})]})})})}function GA(){return gt("About"),b.jsx("div",{className:"pt-24 md:pt-32 pb-24 px-6",children:b.jsx("div",{className:"max-w-4xl mx-auto",children:b.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 lg:gap-20 items-start",children:[b.jsx("div",{children:b.jsx(Nn,{path:"/images/patricia-about.jpg",alt:"Patricia MacAdam",aspect:"4/5",className:"w-full"})}),b.jsxs("div",{children:[b.jsx("h1",{className:"font-serif text-4xl md:text-5xl font-normal text-black mb-8",children:"About Patricia MacAdam"}),b.jsx("p",{className:"text-xs font-medium tracking-widest uppercase text-black/50 mb-6",children:"The MacAdam Method"}),b.jsxs("div",{className:"space-y-6 text-black/80 leading-relaxed",children:[b.jsx("p",{children:"The MacAdam Method was developed through years of direct clinical work, graduate-level training, and real-world leadership in mental health settings."}),b.jsx("p",{children:"As a co-founder and operator of a mental health clinic, I work alongside licensed clinicians, including LCSWs, supporting clinical delivery, overseeing systems, and observing patient outcomes across a wide range of presenting concerns. This role places me at the intersection of clinical theory, applied practice, and operational reality."}),b.jsx("p",{children:"Through this work  in clinics, schools, and professional environments  I repeatedly observed the same pattern: high-functioning adults were not breaking down due to lack of insight, intelligence, or motivation. They were operating from chronically dysregulated nervous systems."}),b.jsx("p",{children:"Traditional approaches often focused on coping strategies, insight, or performance optimization. What was consistently missing was regulation  the ability to stabilize the nervous system before stress spilled into relationships, decision-making, health, and professional functioning."}),b.jsx("p",{children:"The MacAdam Method emerged from this gap. It is a field-developed regulation framework informed by clinical collaboration, systems-level observation, and lived integration. The method reflects patterns seen not only in individual work, but across populations  where nervous system overload, emotional fallout, and burnout follow predictable trajectories when regulation is absent."}),b.jsx("p",{children:"This work is not theoretical. It is grounded in clinical environments where outcomes matter, ethical boundaries are maintained, and the cost of dysregulation is tangible."}),b.jsxs("p",{className:"font-medium text-black",children:["Regulation is not weakness.",b.jsx("br",{}),"It is the foundation of sustainable leadership."]})]})]})]})})})}function YA(){gt("Contact");const[t,e]=C.useState(""),[n,i]=C.useState(""),[s,a]=C.useState(""),[c,u]=C.useState(!1),[f,h]=C.useState(!1),[p,g]=C.useState(""),x=async v=>{v.preventDefault(),g(""),u(!0);try{await Ni.post("/inquiries",{source:"contact",name:t,email:n,message:s}),h(!0),e(""),i(""),a("")}catch{g("Failed to send. Please try again.")}finally{u(!1)}};return b.jsx("div",{className:"pt-24 md:pt-32 pb-24 px-6",children:b.jsx("div",{className:"max-w-4xl mx-auto",children:b.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 lg:gap-20 items-start",children:[b.jsxs("div",{children:[b.jsx("h1",{className:"font-serif text-4xl md:text-5xl font-normal text-black mb-6",children:"Contact"}),b.jsx("p",{className:"text-lg text-black/70 leading-relaxed mb-6",children:"General inquiries, partnership discussions, or questions about Regulation Reset and private sessions."}),b.jsxs("p",{className:"text-black/60 text-sm leading-relaxed mb-8",children:["For private session requests, use the ",b.jsx(Me,{to:"/private-work",className:"text-black underline hover:no-underline",children:"Private Work"})," page. For law firm or organizational partnerships, use the ",b.jsx(Me,{to:"/for-law-firms",className:"text-black underline hover:no-underline",children:"For Law Firms"})," page."]}),b.jsx("p",{className:"text-sm text-black/50",children:"Response typically within 12 business days."})]}),b.jsxs("form",{onSubmit:x,className:"space-y-6",children:[f&&b.jsx("p",{className:"text-green-700 text-sm",children:"Message sent. We'll respond within 12 business days."}),p&&b.jsx("p",{className:"text-red-600 text-sm",children:p}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"name",className:"block text-xs font-medium tracking-widest uppercase text-black/60 mb-2",children:"Name"}),b.jsx("input",{id:"name",type:"text",value:t,onChange:v=>e(v.target.value),required:!0,className:"w-full px-0 py-3 border-0 border-b border-black/20 bg-transparent focus:outline-none focus:border-black",placeholder:"Your name"})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"email",className:"block text-xs font-medium tracking-widest uppercase text-black/60 mb-2",children:"Email"}),b.jsx("input",{id:"email",type:"email",value:n,onChange:v=>i(v.target.value),required:!0,className:"w-full px-0 py-3 border-0 border-b border-black/20 bg-transparent focus:outline-none focus:border-black",placeholder:"your@email.com"})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"message",className:"block text-xs font-medium tracking-widest uppercase text-black/60 mb-2",children:"Message"}),b.jsx("textarea",{id:"message",value:s,onChange:v=>a(v.target.value),rows:5,required:!0,className:"w-full px-0 py-3 border-0 border-b border-black/20 bg-transparent focus:outline-none focus:border-black resize-none",placeholder:"What's on your mind?"})]}),b.jsx("button",{type:"submit",disabled:c,className:"px-8 py-4 bg-black text-white text-sm font-medium tracking-widest uppercase hover:bg-black/90 transition-colors disabled:opacity-50",children:c?"Sending":"Send"})]})]})})})}function JA(){gt("Articles & Insights");const[t,e]=C.useState([]),[n,i]=C.useState({page:1,limit:12,total:0,totalPages:1}),[s,a]=C.useState(!0),c=(f=1)=>{a(!0),Ni.get(`/articles?limit=12&page=${f}`).then(({data:h})=>{e(h.articles),i(h.pagination)}).catch(()=>e([])).finally(()=>a(!1))};C.useEffect(()=>{c(1)},[]);const u=f=>new Date(f).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"});return b.jsxs("div",{className:"pt-14 md:pt-16 pb-24 md:pb-32",children:[b.jsx("section",{className:"py-16 md:py-24 px-6",children:b.jsxs("div",{className:"max-w-6xl mx-auto",children:[b.jsx("h1",{className:"text-xs font-medium tracking-widest uppercase text-black/60 mb-4",children:"Articles & Insights"}),b.jsx("p",{className:"text-2xl md:text-3xl font-serif font-normal text-black mb-4",children:"Ideas and frameworks for regulated leadership."}),b.jsx("p",{className:"text-black/60 max-w-2xl",children:"Short reads on nervous system regulation, applied to real-world pressure: boardrooms, courtrooms, operating rooms, and everywhere in between."})]})}),b.jsx("section",{className:"px-6 pb-16 md:pb-24",children:b.jsx("div",{className:"max-w-6xl mx-auto",children:s?b.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8 md:gap-12",children:[1,2,3,4,5,6].map(f=>b.jsxs("div",{className:"bg-white p-6 md:p-8 border border-black/5 animate-pulse",children:[b.jsx("div",{className:"aspect-video bg-black/10 rounded mb-4"}),b.jsx("div",{className:"h-6 w-3/4 bg-black/10 rounded"}),b.jsx("div",{className:"h-4 mt-2 w-full bg-black/10 rounded"}),b.jsx("div",{className:"h-4 mt-2 w-2/3 bg-black/10 rounded"})]},f))}):t.length===0?b.jsx("p",{className:"text-black/60",children:"No articles yet. Check back soon."}):b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8 md:gap-12",children:t.map(f=>b.jsxs(Me,{to:`/articles/${f._id}`,className:"group block bg-white p-6 md:p-8 border border-black/5 hover:shadow-lg hover:border-black/10 transition-all duration-300",children:[f.thumbnail?b.jsx("div",{className:"aspect-video rounded overflow-hidden mb-4 -mx-6 -mt-6 md:-mx-8 md:-mt-8",children:b.jsx("img",{src:f.thumbnail,alt:"",className:"w-full h-full object-cover group-hover:scale-[1.02] transition-transform duration-300"})}):b.jsx("div",{className:"aspect-video rounded bg-black/5 mb-4 -mx-6 -mt-6 md:-mx-8 md:-mt-8 flex items-center justify-center",children:b.jsx("span",{className:"text-black/20 text-xs uppercase tracking-widest",children:"Article"})}),b.jsx("p",{className:"text-xs font-medium tracking-widest text-black/40",children:u(f.updatedAt)}),b.jsx("p",{className:"text-black font-medium mt-2 group-hover:underline decoration-black/30",children:f.title}),b.jsx("p",{className:"mt-2 text-sm text-black/60 line-clamp-2",children:f.shortDescription||f.excerpt||""}),b.jsx("span",{className:"mt-6 inline-block text-xs font-medium tracking-widest uppercase text-black/50 group-hover:text-black transition-colors",children:"Read More "})]},f._id))}),n.totalPages>1&&b.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-4 mt-16 pt-8 border-t border-black/10",children:[b.jsx("button",{type:"button",onClick:()=>c(n.page-1),disabled:n.page<=1,className:"px-5 py-2.5 border border-black/20 text-black text-sm disabled:opacity-40 disabled:cursor-not-allowed hover:border-black transition-colors",children:"Previous"}),b.jsxs("span",{className:"text-black/60 text-sm",children:["Page ",n.page," of ",n.totalPages]}),b.jsx("button",{type:"button",onClick:()=>c(n.page+1),disabled:n.page>=n.totalPages,className:"px-5 py-2.5 border border-black/20 text-black text-sm disabled:opacity-40 disabled:cursor-not-allowed hover:border-black transition-colors",children:"Next"})]})]})})})]})}function XA(t){const n=t.replace(/<[^>]*>/g," ").replace(/\s+/g," ").trim().split(/\s+/).filter(Boolean).length;return Math.max(1,Math.ceil(n/200))}function WA(){const{id:t}=x1(),[e,n]=C.useState(null),[i,s]=C.useState(!0),[a,c]=C.useState("");if(gt(a?"Article not found":e?.title),C.useEffect(()=>{t&&Ni.get(`/articles/${t}`).then(({data:h})=>n(h)).catch(()=>c("Article not found")).finally(()=>s(!1))},[t]),i)return b.jsx("div",{className:"py-20 px-6",children:b.jsx("div",{className:"max-w-2xl mx-auto",children:b.jsx("p",{className:"text-black/60",children:"Loading"})})});if(a||!e)return b.jsx("div",{className:"py-20 px-6",children:b.jsxs("div",{className:"max-w-2xl mx-auto text-center",children:[b.jsx("p",{className:"text-black/60 mb-4",children:a||"Article not found."}),b.jsx(Me,{to:"/",className:"text-black font-medium hover:underline",children:" Back to home"})]})});const u=XA(e.content),f=new Date(e.updatedAt).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"});return b.jsx("article",{className:"py-16 md:py-24 px-6",children:b.jsxs("div",{className:"max-w-2xl mx-auto",children:[b.jsx(Me,{to:"/",className:"text-black/60 hover:text-black text-sm mb-8 inline-block",children:" Back to home"}),e.thumbnail&&b.jsx("div",{className:"aspect-video rounded overflow-hidden mb-8 bg-black/5",children:b.jsx("img",{src:e.thumbnail,alt:"",className:"w-full h-full object-cover"})}),b.jsxs("header",{className:"mb-10",children:[b.jsxs("p",{className:"text-xs font-medium tracking-widest uppercase text-black/50 mb-2",children:[f,"  ",u," min read"]}),b.jsx("h1",{className:"font-serif text-3xl md:text-4xl font-normal text-black leading-tight",children:e.title}),(e.shortDescription||e.excerpt)&&b.jsx("p",{className:"mt-4 text-lg text-black/70 leading-relaxed",children:e.shortDescription||e.excerpt})]}),b.jsx("div",{className:"prose prose-black max-w-none text-black/80 leading-relaxed [&_h2]:text-xl [&_h2]:font-semibold [&_h2]:mt-10 [&_h2]:mb-4 [&_h3]:text-lg [&_h3]:font-medium [&_h3]:mt-8 [&_h3]:mb-3 [&_p]:my-4 [&_ul]:my-4 [&_ul]:pl-6 [&_ol]:my-4 [&_ol]:pl-6 [&_blockquote]:border-l-2 [&_blockquote]:border-black/20 [&_blockquote]:pl-6 [&_blockquote]:italic [&_blockquote]:my-6 [&_a]:text-black [&_a]:underline [&_img]:rounded [&_img]:my-6",dangerouslySetInnerHTML:{__html:e.content}})]})})}const QA="https://macadam-method.onrender.com/api",Ve=it.create({baseURL:`${QA}/admin`,timeout:15e3,headers:{"Content-Type":"application/json"},withCredentials:!0});Ve.interceptors.response.use(t=>t,t=>(t.response?.status===401&&(window.location.href="/mac-/adam/admin/69846d7f374584e675d7fa28"),Promise.reject(t)));function ZA(){gt("Admin - Sign up");const t=ns(),[e,n]=C.useState("signup"),[i,s]=C.useState(null),[a,c]=C.useState("");C.useEffect(()=>{fetch("http://localhost:3000/api/admin/signup-allowed").then(U=>U.json()).then(U=>s(U.allowed)).catch(()=>s(!1))},[]);const[u,f]=C.useState(""),[h,p]=C.useState(""),[g,x]=C.useState(""),[v,w]=C.useState(""),[k,E]=C.useState(!1),T=async U=>{U.preventDefault(),w(""),E(!0);try{const{data:z}=await Ve.post("/signup",{email:a,password:u});p(z.secretKey),x(""),n("confirm")}catch(z){const V=z&&typeof z=="object"&&"response"in z?z.response:null,L=V?.data?.error??(V?.status===403?"New admin signup is currently disabled.":"Signup failed");w(L)}finally{E(!1)}},A=async U=>{if(U.preventDefault(),w(""),g!==h){w("Secret key does not match. Please copy it exactly.");return}E(!0);try{await Ve.post("/confirm-secret",{email:a,secretKey:g}),t("/admin")}catch(z){const V=z&&typeof z=="object"&&"response"in z?z.response?.data?.error:"Confirmation failed";w(V||"Confirmation failed")}finally{E(!1)}},j=()=>{navigator.clipboard.writeText(h)};return e==="confirm"?b.jsx("div",{className:"min-h-screen flex items-center justify-center bg-black px-6 py-12",children:b.jsxs("div",{className:"max-w-md w-full",children:[b.jsx("h1",{className:"font-serif text-2xl text-white mb-2",children:"Save your secret key"}),b.jsx("p",{className:"text-white/70 text-sm mb-6",children:"Copy this key and store it securely. You will need it to complete setup. It cannot be recovered."}),b.jsx("div",{className:"bg-white/5 border border-white/20 p-4 rounded mb-6",children:b.jsx("code",{className:"text-white text-sm break-all select-all",children:h})}),b.jsx("button",{type:"button",onClick:j,className:"w-full py-3 border border-white/40 text-white text-sm font-medium tracking-wide uppercase mb-6 hover:bg-white/10 transition-colors",children:"Copy to clipboard"}),b.jsxs("form",{onSubmit:A,children:[b.jsx("label",{htmlFor:"confirmKey",className:"block text-xs font-medium tracking-widest uppercase text-white/60 mb-2",children:"Paste secret key to confirm you've saved it"}),b.jsx("input",{id:"confirmKey",type:"text",value:g,onChange:U=>x(U.target.value),required:!0,className:"w-full px-4 py-3 bg-transparent border border-white/20 text-white placeholder-white/40 focus:outline-none focus:border-white mb-4",placeholder:"Paste your secret key"}),v&&b.jsx("p",{className:"text-red-400 text-sm mb-4",children:v}),b.jsx("button",{type:"submit",disabled:k,className:"w-full py-4 bg-white text-black text-sm font-medium tracking-widest uppercase hover:bg-white/90 transition-colors disabled:opacity-50",children:k?"Confirming...":"I've saved my secret key  continue"})]})]})}):i===!1?b.jsx("div",{className:"min-h-screen flex items-center justify-center bg-black px-6 py-12",children:b.jsxs("div",{className:"max-w-md w-full text-center",children:[b.jsx("h1",{className:"font-serif text-2xl text-white mb-2",children:"Admin signup"}),b.jsx("p",{className:"text-red-400 mb-6",children:"New admin signup is currently disabled."}),b.jsx(Me,{to:"/mac-/adam/admin/69846d7f374584e675d7fa28",className:"text-white/80 hover:text-white underline text-sm",children:"Sign in to existing account"})]})}):b.jsx("div",{className:"min-h-screen flex items-center justify-center bg-black px-6 py-12",children:b.jsxs("div",{className:"max-w-md w-full",children:[b.jsx("h1",{className:"font-serif text-2xl text-white mb-2",children:"Admin signup"}),b.jsx("p",{className:"text-white/70 text-sm mb-8",children:"Create an admin account. You will receive a secret key  save it securely."}),b.jsxs("form",{onSubmit:T,className:"space-y-6",children:[b.jsxs("div",{children:[b.jsx("label",{htmlFor:"email",className:"block text-xs font-medium tracking-widest uppercase text-white/60 mb-2",children:"Email"}),b.jsx("input",{id:"email",type:"email",value:a,onChange:U=>c(U.target.value),required:!0,className:"w-full px-4 py-3 bg-transparent border border-white/20 text-white placeholder-white/40 focus:outline-none focus:border-white",placeholder:"admin@example.com"})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"password",className:"block text-xs font-medium tracking-widest uppercase text-white/60 mb-2",children:"Password (min 8 characters)"}),b.jsx("input",{id:"password",type:"password",value:u,onChange:U=>f(U.target.value),required:!0,minLength:8,className:"w-full px-4 py-3 bg-transparent border border-white/20 text-white placeholder-white/40 focus:outline-none focus:border-white",placeholder:""})]}),v&&b.jsx("p",{className:"text-red-400 text-sm",children:v}),b.jsx("button",{type:"submit",disabled:k,className:"w-full py-4 bg-white text-black text-sm font-medium tracking-widest uppercase hover:bg-white/90 transition-colors disabled:opacity-50",children:k?"Creating...":"Create admin account"})]}),b.jsxs("p",{className:"mt-8 text-center text-white/50 text-sm",children:["Already have an account?"," ",b.jsx(Me,{to:"/mac-/adam/admin/69846d7f374584e675d7fa28",className:"text-white/80 hover:text-white underline",children:"Sign in"})]})]})})}function eM(){gt("Admin - Sign in");const t=ns(),[e,n]=C.useState(""),[i,s]=C.useState(""),[a,c]=C.useState(""),[u,f]=C.useState(!1),h=async p=>{p.preventDefault(),c(""),f(!0);try{await Ve.post("/login",{email:e,password:i}),t("/admin")}catch(g){const x=g&&typeof g=="object"&&"response"in g?g.response?.data?.error:"Sign in failed";c(x||"Sign in failed")}finally{f(!1)}};return b.jsx("div",{className:"min-h-screen flex items-center justify-center bg-black px-6 py-12",children:b.jsxs("div",{className:"max-w-md w-full",children:[b.jsx("h1",{className:"font-serif text-2xl text-white mb-2",children:"Admin sign in"}),b.jsx("p",{className:"text-white/70 text-sm mb-8",children:"Sign in to access the admin dashboard."}),b.jsxs("form",{onSubmit:h,className:"space-y-6",children:[b.jsxs("div",{children:[b.jsx("label",{htmlFor:"email",className:"block text-xs font-medium tracking-widest uppercase text-white/60 mb-2",children:"Email"}),b.jsx("input",{id:"email",type:"email",value:e,onChange:p=>n(p.target.value),required:!0,className:"w-full px-4 py-3 bg-transparent border border-white/20 text-white placeholder-white/40 focus:outline-none focus:border-white",placeholder:"admin@example.com"})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"password",className:"block text-xs font-medium tracking-widest uppercase text-white/60 mb-2",children:"Password"}),b.jsx("input",{id:"password",type:"password",value:i,onChange:p=>s(p.target.value),required:!0,className:"w-full px-4 py-3 bg-transparent border border-white/20 text-white placeholder-white/40 focus:outline-none focus:border-white",placeholder:""})]}),a&&b.jsx("p",{className:"text-red-400 text-sm",children:a}),b.jsx("button",{type:"submit",disabled:u,className:"w-full py-4 bg-white text-black text-sm font-medium tracking-widest uppercase hover:bg-white/90 transition-colors disabled:opacity-50",children:u?"Signing in...":"Sign in"})]}),b.jsxs("p",{className:"mt-8 text-center text-white/50 text-sm",children:["New admin?"," ",b.jsx(Me,{to:"/admin/signup",className:"text-white/80 hover:text-white underline",children:"Sign up"})]})]})})}function tM(){return gt("Admin - Dashboard"),b.jsxs("div",{className:"p-8 md:p-12",children:[b.jsx("h1",{className:"font-serif text-3xl md:text-4xl font-normal text-white mb-4",children:"Dashboard"}),b.jsx("p",{className:"text-white/70",children:"Welcome. You are authenticated."})]})}function nM(){gt("Admin - Settings");const[t,e]=C.useState(!0),[n,i]=C.useState(!0),[s,a]=C.useState(!1);C.useEffect(()=>{Ve.get("/settings").then(({data:u})=>e(u.allowAdminSignup)).catch(()=>{}).finally(()=>i(!1))},[]);const c=async()=>{a(!0);try{const{data:u}=await Ve.patch("/settings",{allowAdminSignup:!t});e(u.allowAdminSignup)}catch{}finally{a(!1)}};return n?b.jsx("div",{className:"p-8 md:p-12",children:b.jsx("div",{className:"w-px h-12 bg-white/30 animate-pulse"})}):b.jsxs("div",{className:"p-8 md:p-12",children:[b.jsx("h1",{className:"font-serif text-3xl md:text-4xl font-normal text-white mb-8",children:"Settings"}),b.jsx("div",{className:"max-w-lg",children:b.jsxs("div",{className:"flex items-center justify-between py-4 border-b border-white/10",children:[b.jsxs("div",{children:[b.jsx("p",{className:"text-white font-medium",children:"Allow new admin signup"}),b.jsx("p",{className:"text-white/50 text-sm mt-1",children:"When off, the admin signup page will show an error."})]}),b.jsx("button",{type:"button",onClick:c,disabled:s,className:`relative w-12 h-7 rounded-full transition-colors ${t?"bg-white":"bg-white/30"}`,children:b.jsx("span",{className:`absolute top-1 w-5 h-5 rounded-full bg-black transition-transform ${t?"left-6":"left-1"}`})})]})})]})}const iM=()=>b.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-4 h-4",children:[b.jsx("path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z"}),b.jsx("path",{d:"m15 5 4 4"})]}),rM=()=>b.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-4 h-4",children:[b.jsx("path",{d:"M3 6h18"}),b.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),b.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}),b.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),b.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]}),sM=()=>b.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-4 h-4",children:[b.jsx("path",{d:"M12 19V5"}),b.jsx("path",{d:"m5 12 7-7 7 7"})]}),lM=()=>b.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-4 h-4",children:[b.jsx("path",{d:"M12 5v14"}),b.jsx("path",{d:"m19 12-7 7-7-7"})]});function aM(){gt("Admin - Articles");const[t,e]=GC(),[n,i]=C.useState([]),[s,a]=C.useState({page:1,limit:20,total:0,totalPages:1}),[c,u]=C.useState(!1),[f,h]=C.useState(""),p=Math.max(1,parseInt(t.get("page")||"1",10)),g=t.get("status")||"all",x=t.get("sort")||"newest",v=t.get("search")||"",[w,k]=C.useState(v);C.useEffect(()=>{k(v)},[v]),C.useEffect(()=>{const K=setTimeout(()=>{const Z=w.trim();if(Z===v)return;const he=new URLSearchParams(t);Z?he.set("search",Z):he.delete("search"),he.set("page","1"),e(he,{replace:!0})},400);return()=>clearTimeout(K)},[w]);const E=C.useCallback(async()=>{u(!0);try{const K=new URLSearchParams({page:String(p),status:g,sort:x});v&&K.set("search",v);const{data:Z}=await Ve.get(`/articles?${K}`);i(Z.articles),a(Z.pagination)}catch{h("Failed to load articles")}finally{u(!1)}},[p,g,x,v]);C.useEffect(()=>{E()},[E]);const T=(K,Z)=>{const he=new URLSearchParams(t);Z==="all"&&K==="status"?he.delete("status"):K==="status"&&he.set("status",Z),K==="sort"&&he.set("sort",Z),he.set("page","1"),e(he)},A=K=>{const Z=new URLSearchParams(t);Z.set("page",String(K)),e(Z)},j=async K=>{if(confirm("Delete this article?"))try{await Ve.delete(`/articles/${K}`),E()}catch{h("Failed to delete article")}},U=async K=>{try{await Ve.patch(`/articles/${K}/publish`),E()}catch{h("Failed to publish")}},z=async K=>{try{await Ve.patch(`/articles/${K}/unpublish`),E()}catch{h("Failed to unpublish")}},V=K=>new Date(K).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),L=v||g!=="all";return b.jsxs("div",{className:"p-8 md:p-12 lg:p-16 max-w-6xl mx-auto",children:[b.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-6 mb-10",children:[b.jsx("h1",{className:"font-serif text-3xl md:text-4xl font-normal text-white",children:"Articles"}),b.jsxs(Me,{to:"/admin/articles/new",className:"inline-flex items-center justify-center gap-2 px-6 py-3 bg-white text-black text-sm font-medium tracking-widest uppercase hover:bg-white/90 rounded transition-colors w-fit",children:[b.jsx("span",{className:"w-4 h-4","aria-hidden":!0,children:b.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[b.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),b.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})}),"New Article"]})]}),b.jsxs("section",{className:"mb-8 p-5 rounded-lg border border-white/10 bg-white/5",children:[b.jsx("h2",{className:"text-xs font-medium tracking-[0.2em] uppercase text-white/40 mb-4",children:"Filters & Sort"}),b.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[b.jsxs("div",{className:"flex-1 relative",children:[b.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-white/40 w-4 h-4 pointer-events-none","aria-hidden":!0,children:b.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[b.jsx("circle",{cx:"11",cy:"11",r:"8"}),b.jsx("path",{d:"m21 21-4.35-4.35"})]})}),b.jsx("input",{type:"search",value:w,onChange:K=>k(K.target.value),placeholder:"Search by title, description, or content",className:"w-full pl-11 pr-5 py-3 bg-white/5 border border-white/20 rounded text-white placeholder-white/40 focus:outline-none focus:border-white/50 focus:ring-1 focus:ring-white/20"})]}),b.jsxs("div",{className:"flex flex-wrap gap-3",children:[b.jsxs("div",{children:[b.jsx("label",{className:"sr-only",children:"Status"}),b.jsxs("select",{value:g,onChange:K=>T("status",K.target.value),className:"px-4 py-3 bg-black border border-white/20 rounded text-white focus:outline-none focus:border-white/50 focus:ring-1 focus:ring-white/20 appearance-none cursor-pointer pr-10",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='%23ffffff80'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'/%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 0.75rem center",backgroundSize:"1rem"},children:[b.jsx("option",{value:"all",className:"bg-black text-white",children:"All statuses"}),b.jsx("option",{value:"draft",className:"bg-black text-white",children:"Draft"}),b.jsx("option",{value:"published",className:"bg-black text-white",children:"Published"})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"sr-only",children:"Sort by"}),b.jsxs("select",{value:x,onChange:K=>T("sort",K.target.value),className:"px-4 py-3 bg-black border border-white/20 rounded text-white focus:outline-none focus:border-white/50 focus:ring-1 focus:ring-white/20 appearance-none cursor-pointer pr-10",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='%23ffffff80'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'/%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 0.75rem center",backgroundSize:"1rem"},children:[b.jsx("option",{value:"newest",className:"bg-black text-white",children:"Newest first"}),b.jsx("option",{value:"oldest",className:"bg-black text-white",children:"Oldest first"})]})]}),L&&b.jsx("button",{type:"button",onClick:()=>{k(""),e({})},className:"px-4 py-3 text-white/60 hover:text-white text-sm",children:"Clear filters"})]})]}),L&&b.jsxs("p",{className:"text-white/50 text-sm mt-3",children:["Showing results for ",v&&`"${v}"`," ",v&&g!=="all"&&""," ",g!=="all"&&`Status: ${g}`]})]}),f&&b.jsx("div",{className:"mb-6 px-5 py-4 bg-red-500/10 border border-red-500/30 rounded text-red-400 text-sm",children:f}),c?b.jsx("div",{className:"py-16 text-center text-white/60",children:"Loading"}):n.length===0?b.jsxs("div",{className:"py-16 text-center rounded-lg border border-white/10 bg-white/5",children:[b.jsx("p",{className:"text-white/60 mb-4",children:L?"No articles match your filters.":"No articles yet."}),L?b.jsx("button",{type:"button",onClick:()=>{k(""),e({})},className:"text-white underline hover:no-underline",children:"Clear filters"}):b.jsx(Me,{to:"/admin/articles/new",className:"text-white underline hover:no-underline",children:"Create one"})]}):b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"space-y-3",children:n.map(K=>b.jsxs("article",{className:"flex flex-col sm:flex-row sm:items-center gap-4 p-5 rounded-lg border border-white/10 bg-white/5 hover:border-white/20 transition-colors",children:[b.jsxs("div",{className:"flex-1 min-w-0 flex gap-4",children:[K.thumbnail&&b.jsx("div",{className:"shrink-0 w-20 h-14 rounded overflow-hidden bg-white/5",children:b.jsx("img",{src:K.thumbnail,alt:"",className:"w-full h-full object-cover"})}),b.jsxs("div",{className:"min-w-0",children:[b.jsx("p",{className:"text-white font-medium truncate",children:K.title}),b.jsx("p",{className:"text-white/50 text-sm mt-0.5",children:V(K.updatedAt)})]})]}),b.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[b.jsx("span",{className:`px-2.5 py-1 text-xs font-medium uppercase rounded ${K.status==="published"?"bg-emerald-500/20 text-emerald-400":"bg-white/10 text-white/70"}`,children:K.status}),b.jsxs("div",{className:"flex items-center gap-1 ml-2",children:[b.jsx(Me,{to:`/admin/articles/${K._id}/edit`,title:"Edit",className:"p-2 text-white/60 hover:text-white hover:bg-white/10 rounded transition-colors",children:b.jsx(iM,{})}),b.jsx("button",{type:"button",onClick:()=>j(K._id),title:"Delete",className:"p-2 text-red-400/60 hover:text-red-400 hover:bg-red-500/10 rounded transition-colors",children:b.jsx(rM,{})}),K.status==="draft"?b.jsx("button",{type:"button",onClick:()=>U(K._id),title:"Publish",className:"p-2 text-emerald-400/60 hover:text-emerald-400 hover:bg-emerald-500/10 rounded transition-colors",children:b.jsx(sM,{})}):b.jsx("button",{type:"button",onClick:()=>z(K._id),title:"Unpublish",className:"p-2 text-amber-400/60 hover:text-amber-400 hover:bg-amber-500/10 rounded transition-colors",children:b.jsx(lM,{})})]})]})]},K._id))}),s.totalPages>1&&b.jsxs("div",{className:"flex flex-wrap items-center gap-4 mt-8 pt-6 border-t border-white/10",children:[b.jsx("button",{type:"button",onClick:()=>A(s.page-1),disabled:s.page<=1,className:"px-5 py-2.5 border border-white/20 rounded text-white text-sm disabled:opacity-40 disabled:cursor-not-allowed hover:border-white/40 hover:bg-white/5 transition-colors",children:"Previous"}),b.jsxs("span",{className:"text-white/60 text-sm",children:["Page ",s.page," of ",s.totalPages," ",b.jsxs("span",{className:"text-white/40",children:["(",s.total," total)"]})]}),b.jsx("button",{type:"button",onClick:()=>A(s.page+1),disabled:s.page>=s.totalPages,className:"px-5 py-2.5 border border-white/20 rounded text-white text-sm disabled:opacity-40 disabled:cursor-not-allowed hover:border-white/40 hover:bg-white/5 transition-colors",children:"Next"})]})]})]})}var Dh={exports:{}},zh={};var Ex;function oM(){if(Ex)return zh;Ex=1;var t=Ua();function e(g,x){return g===x&&(g!==0||1/g===1/x)||g!==g&&x!==x}var n=typeof Object.is=="function"?Object.is:e,i=t.useState,s=t.useEffect,a=t.useLayoutEffect,c=t.useDebugValue;function u(g,x){var v=x(),w=i({inst:{value:v,getSnapshot:x}}),k=w[0].inst,E=w[1];return a(function(){k.value=v,k.getSnapshot=x,f(k)&&E({inst:k})},[g,v,x]),s(function(){return f(k)&&E({inst:k}),g(function(){f(k)&&E({inst:k})})},[g]),c(v),v}function f(g){var x=g.getSnapshot;g=g.value;try{var v=x();return!n(g,v)}catch{return!0}}function h(g,x){return x()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:u;return zh.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:p,zh}var Nx;function W1(){return Nx||(Nx=1,Dh.exports=oM()),Dh.exports}var Q1=W1();function Mt(t){this.content=t}Mt.prototype={constructor:Mt,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var i=n&&n!=t?this.remove(n):this,s=i.find(t),a=i.content.slice();return s==-1?a.push(n||t,e):(a[s+1]=e,n&&(a[s]=n)),new Mt(a)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new Mt(n)},addToStart:function(t,e){return new Mt([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new Mt(n)},addBefore:function(t,e,n){var i=this.remove(e),s=i.content.slice(),a=i.find(t);return s.splice(a==-1?s.length:a,0,e,n),new Mt(s)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=Mt.from(t),t.size?new Mt(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=Mt.from(t),t.size?new Mt(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=Mt.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};Mt.from=function(t){if(t instanceof Mt)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new Mt(e)};function Z1(t,e,n){for(let i=0;;i++){if(i==t.childCount||i==e.childCount)return t.childCount==e.childCount?null:n;let s=t.child(i),a=e.child(i);if(s==a){n+=s.nodeSize;continue}if(!s.sameMarkup(a))return n;if(s.isText&&s.text!=a.text){for(let c=0;s.text[c]==a.text[c];c++)n++;return n}if(s.content.size||a.content.size){let c=Z1(s.content,a.content,n+1);if(c!=null)return c}n+=s.nodeSize}}function ew(t,e,n,i){for(let s=t.childCount,a=e.childCount;;){if(s==0||a==0)return s==a?null:{a:n,b:i};let c=t.child(--s),u=e.child(--a),f=c.nodeSize;if(c==u){n-=f,i-=f;continue}if(!c.sameMarkup(u))return{a:n,b:i};if(c.isText&&c.text!=u.text){let h=0,p=Math.min(c.text.length,u.text.length);for(;h<p&&c.text[c.text.length-h-1]==u.text[u.text.length-h-1];)h++,n--,i--;return{a:n,b:i}}if(c.content.size||u.content.size){let h=ew(c.content,u.content,n-1,i-1);if(h)return h}n-=f,i-=f}}class J{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let i=0;i<e.length;i++)this.size+=e[i].nodeSize}nodesBetween(e,n,i,s=0,a){for(let c=0,u=0;u<n;c++){let f=this.content[c],h=u+f.nodeSize;if(h>e&&i(f,s+u,a||null,c)!==!1&&f.content.size){let p=u+1;f.nodesBetween(Math.max(0,e-p),Math.min(f.content.size,n-p),i,s+p)}u=h}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,i,s){let a="",c=!0;return this.nodesBetween(e,n,(u,f)=>{let h=u.isText?u.text.slice(Math.max(e,f)-f,n-f):u.isLeaf?s?typeof s=="function"?s(u):s:u.type.spec.leafText?u.type.spec.leafText(u):"":"";u.isBlock&&(u.isLeaf&&h||u.isTextblock)&&i&&(c?c=!1:a+=i),a+=h},0),a}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,i=e.firstChild,s=this.content.slice(),a=0;for(n.isText&&n.sameMarkup(i)&&(s[s.length-1]=n.withText(n.text+i.text),a=1);a<e.content.length;a++)s.push(e.content[a]);return new J(s,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let i=[],s=0;if(n>e)for(let a=0,c=0;c<n;a++){let u=this.content[a],f=c+u.nodeSize;f>e&&((c<e||f>n)&&(u.isText?u=u.cut(Math.max(0,e-c),Math.min(u.text.length,n-c)):u=u.cut(Math.max(0,e-c-1),Math.min(u.content.size,n-c-1))),i.push(u),s+=u.nodeSize),c=f}return new J(i,s)}cutByIndex(e,n){return e==n?J.empty:e==0&&n==this.content.length?this:new J(this.content.slice(e,n))}replaceChild(e,n){let i=this.content[e];if(i==n)return this;let s=this.content.slice(),a=this.size+n.nodeSize-i.nodeSize;return s[e]=n,new J(s,a)}addToStart(e){return new J([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new J(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,i=0;n<this.content.length;n++){let s=this.content[n];e(s,i,n),i+=s.nodeSize}}findDiffStart(e,n=0){return Z1(this,e,n)}findDiffEnd(e,n=this.size,i=e.size){return ew(this,e,n,i)}findIndex(e){if(e==0)return xc(0,e);if(e==this.size)return xc(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let n=0,i=0;;n++){let s=this.child(n),a=i+s.nodeSize;if(a>=e)return a==e?xc(n+1,a):xc(n,i);i=a}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return J.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new J(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return J.empty;let n,i=0;for(let s=0;s<e.length;s++){let a=e[s];i+=a.nodeSize,s&&a.isText&&e[s-1].sameMarkup(a)?(n||(n=e.slice(0,s)),n[n.length-1]=a.withText(n[n.length-1].text+a.text)):n&&n.push(a)}return new J(n||e,i)}static from(e){if(!e)return J.empty;if(e instanceof J)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new J([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}J.empty=new J([],0);const Lh={index:0,offset:0};function xc(t,e){return Lh.index=t,Lh.offset=e,Lh}function $c(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let i=0;i<t.length;i++)if(!$c(t[i],e[i]))return!1}else{for(let i in t)if(!(i in e)||!$c(t[i],e[i]))return!1;for(let i in e)if(!(i in t))return!1}return!0}let Pe=class yp{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,i=!1;for(let s=0;s<e.length;s++){let a=e[s];if(this.eq(a))return e;if(this.type.excludes(a.type))n||(n=e.slice(0,s));else{if(a.type.excludes(this.type))return e;!i&&a.type.rank>this.type.rank&&(n||(n=e.slice(0,s)),n.push(this),i=!0),n&&n.push(a)}}return n||(n=e.slice()),i||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&$c(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let i=e.marks[n.type];if(!i)throw new RangeError(`There is no mark type ${n.type} in this schema`);let s=i.create(n.attrs);return i.checkAttrs(s.attrs),s}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let i=0;i<e.length;i++)if(!e[i].eq(n[i]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return yp.none;if(e instanceof yp)return[e];let n=e.slice();return n.sort((i,s)=>i.type.rank-s.type.rank),n}};Pe.none=[];class Fc extends Error{}class ee{constructor(e,n,i){this.content=e,this.openStart=n,this.openEnd=i}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let i=nw(this.content,e+this.openStart,n);return i&&new ee(i,this.openStart,this.openEnd)}removeBetween(e,n){return new ee(tw(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return ee.empty;let i=n.openStart||0,s=n.openEnd||0;if(typeof i!="number"||typeof s!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new ee(J.fromJSON(e,n.content),i,s)}static maxOpen(e,n=!0){let i=0,s=0;for(let a=e.firstChild;a&&!a.isLeaf&&(n||!a.type.spec.isolating);a=a.firstChild)i++;for(let a=e.lastChild;a&&!a.isLeaf&&(n||!a.type.spec.isolating);a=a.lastChild)s++;return new ee(e,i,s)}}ee.empty=new ee(J.empty,0,0);function tw(t,e,n){let{index:i,offset:s}=t.findIndex(e),a=t.maybeChild(i),{index:c,offset:u}=t.findIndex(n);if(s==e||a.isText){if(u!=n&&!t.child(c).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(i!=c)throw new RangeError("Removing non-flat range");return t.replaceChild(i,a.copy(tw(a.content,e-s-1,n-s-1)))}function nw(t,e,n,i){let{index:s,offset:a}=t.findIndex(e),c=t.maybeChild(s);if(a==e||c.isText)return i&&!i.canReplace(s,s,n)?null:t.cut(0,e).append(n).append(t.cut(e));let u=nw(c.content,e-a-1,n,c);return u&&t.replaceChild(s,c.copy(u))}function cM(t,e,n){if(n.openStart>t.depth)throw new Fc("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new Fc("Inconsistent open depths");return iw(t,e,n,0)}function iw(t,e,n,i){let s=t.index(i),a=t.node(i);if(s==e.index(i)&&i<t.depth-n.openStart){let c=iw(t,e,n,i+1);return a.copy(a.content.replaceChild(s,c))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==i&&e.depth==i){let c=t.parent,u=c.content;return Fr(c,u.cut(0,t.parentOffset).append(n.content).append(u.cut(e.parentOffset)))}else{let{start:c,end:u}=uM(n,t);return Fr(a,sw(t,c,u,e,i))}else return Fr(a,Kc(t,e,i))}function rw(t,e){if(!e.type.compatibleContent(t.type))throw new Fc("Cannot join "+e.type.name+" onto "+t.type.name)}function bp(t,e,n){let i=t.node(n);return rw(i,e.node(n)),i}function $r(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function ya(t,e,n,i){let s=(e||t).node(n),a=0,c=e?e.index(n):s.childCount;t&&(a=t.index(n),t.depth>n?a++:t.textOffset&&($r(t.nodeAfter,i),a++));for(let u=a;u<c;u++)$r(s.child(u),i);e&&e.depth==n&&e.textOffset&&$r(e.nodeBefore,i)}function Fr(t,e){return t.type.checkContent(e),t.copy(e)}function sw(t,e,n,i,s){let a=t.depth>s&&bp(t,e,s+1),c=i.depth>s&&bp(n,i,s+1),u=[];return ya(null,t,s,u),a&&c&&e.index(s)==n.index(s)?(rw(a,c),$r(Fr(a,sw(t,e,n,i,s+1)),u)):(a&&$r(Fr(a,Kc(t,e,s+1)),u),ya(e,n,s,u),c&&$r(Fr(c,Kc(n,i,s+1)),u)),ya(i,null,s,u),new J(u)}function Kc(t,e,n){let i=[];if(ya(null,t,n,i),t.depth>n){let s=bp(t,e,n+1);$r(Fr(s,Kc(t,e,n+1)),i)}return ya(e,null,n,i),new J(i)}function uM(t,e){let n=e.depth-t.openStart,s=e.node(n).copy(t.content);for(let a=n-1;a>=0;a--)s=e.node(a).copy(J.from(s));return{start:s.resolveNoCache(t.openStart+n),end:s.resolveNoCache(s.content.size-t.openEnd-n)}}class Aa{constructor(e,n,i){this.pos=e,this.path=n,this.parentOffset=i,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let i=this.pos-this.path[this.path.length-1],s=e.child(n);return i?e.child(n).cut(i):s}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let i=this.path[n*3],s=n==0?0:this.path[n*3-1]+1;for(let a=0;a<e;a++)s+=i.child(a).nodeSize;return s}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return Pe.none;if(this.textOffset)return e.child(n).marks;let i=e.maybeChild(n-1),s=e.maybeChild(n);if(!i){let u=i;i=s,s=u}let a=i.marks;for(var c=0;c<a.length;c++)a[c].type.spec.inclusive===!1&&(!s||!a[c].isInSet(s.marks))&&(a=a[c--].removeFromSet(a));return a}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let i=n.marks,s=e.parent.maybeChild(e.index());for(var a=0;a<i.length;a++)i[a].type.spec.inclusive===!1&&(!s||!i[a].isInSet(s.marks))&&(i=i[a--].removeFromSet(i));return i}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let i=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);i>=0;i--)if(e.pos<=this.end(i)&&(!n||n(this.node(i))))return new Gc(this,e,i);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let i=[],s=0,a=n;for(let c=e;;){let{index:u,offset:f}=c.content.findIndex(a),h=a-f;if(i.push(c,u,s+f),!h||(c=c.child(u),c.isText))break;a=h-1,s+=f+1}return new Aa(n,i,a)}static resolveCached(e,n){let i=Tx.get(e);if(i)for(let a=0;a<i.elts.length;a++){let c=i.elts[a];if(c.pos==n)return c}else Tx.set(e,i=new dM);let s=i.elts[i.i]=Aa.resolve(e,n);return i.i=(i.i+1)%fM,s}}class dM{constructor(){this.elts=[],this.i=0}}const fM=12,Tx=new WeakMap;class Gc{constructor(e,n,i){this.$from=e,this.$to=n,this.depth=i}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const hM=Object.create(null);class _n{constructor(e,n,i,s=Pe.none){this.type=e,this.attrs=n,this.marks=s,this.content=i||J.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,i,s=0){this.content.nodesBetween(e,n,i,s,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,i,s){return this.content.textBetween(e,n,i,s)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,i){return this.type==e&&$c(this.attrs,n||e.defaultAttrs||hM)&&Pe.sameSet(this.marks,i||Pe.none)}copy(e=null){return e==this.content?this:new _n(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new _n(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,i=!1){if(e==n)return ee.empty;let s=this.resolve(e),a=this.resolve(n),c=i?0:s.sharedDepth(n),u=s.start(c),h=s.node(c).content.cut(s.pos-u,a.pos-u);return new ee(h,s.depth-c,a.depth-c)}replace(e,n,i){return cM(this.resolve(e),this.resolve(n),i)}nodeAt(e){for(let n=this;;){let{index:i,offset:s}=n.content.findIndex(e);if(n=n.maybeChild(i),!n)return null;if(s==e||n.isText)return n;e-=s+1}}childAfter(e){let{index:n,offset:i}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:i}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:i}=this.content.findIndex(e);if(i<e)return{node:this.content.child(n),index:n,offset:i};let s=this.content.child(n-1);return{node:s,index:n-1,offset:i-s.nodeSize}}resolve(e){return Aa.resolveCached(this,e)}resolveNoCache(e){return Aa.resolve(this,e)}rangeHasMark(e,n,i){let s=!1;return n>e&&this.nodesBetween(e,n,a=>(i.isInSet(a.marks)&&(s=!0),!s)),s}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),lw(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,i=J.empty,s=0,a=i.childCount){let c=this.contentMatchAt(e).matchFragment(i,s,a),u=c&&c.matchFragment(this.content,n);if(!u||!u.validEnd)return!1;for(let f=s;f<a;f++)if(!this.type.allowsMarks(i.child(f).marks))return!1;return!0}canReplaceWith(e,n,i,s){if(s&&!this.type.allowsMarks(s))return!1;let a=this.contentMatchAt(e).matchType(i),c=a&&a.matchFragment(this.content,n);return c?c.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=Pe.none;for(let n=0;n<this.marks.length;n++){let i=this.marks[n];i.type.checkAttrs(i.attrs),e=i.addToSet(e)}if(!Pe.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let i;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");i=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,i)}let s=J.fromJSON(e,n.content),a=e.nodeType(n.type).create(n.attrs,s,i);return a.type.checkAttrs(a.attrs),a}}_n.prototype.text=void 0;class Yc extends _n{constructor(e,n,i,s){if(super(e,n,null,s),!i)throw new RangeError("Empty text nodes are not allowed");this.text=i}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):lw(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new Yc(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new Yc(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function lw(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class Wr{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let i=new pM(e,n);if(i.next==null)return Wr.empty;let s=aw(i);i.next&&i.err("Unexpected trailing text");let a=wM(vM(s));return SM(a,i),a}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,i=e.childCount){let s=this;for(let a=n;s&&a<i;a++)s=s.matchType(e.child(a).type);return s}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let i=0;i<e.next.length;i++)if(this.next[n].type==e.next[i].type)return!0;return!1}fillBefore(e,n=!1,i=0){let s=[this];function a(c,u){let f=c.matchFragment(e,i);if(f&&(!n||f.validEnd))return J.from(u.map(h=>h.createAndFill()));for(let h=0;h<c.next.length;h++){let{type:p,next:g}=c.next[h];if(!(p.isText||p.hasRequiredAttrs())&&s.indexOf(g)==-1){s.push(g);let x=a(g,u.concat(p));if(x)return x}}return null}return a(this,[])}findWrapping(e){for(let i=0;i<this.wrapCache.length;i+=2)if(this.wrapCache[i]==e)return this.wrapCache[i+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),i=[{match:this,type:null,via:null}];for(;i.length;){let s=i.shift(),a=s.match;if(a.matchType(e)){let c=[];for(let u=s;u.type;u=u.via)c.push(u.type);return c.reverse()}for(let c=0;c<a.next.length;c++){let{type:u,next:f}=a.next[c];!u.isLeaf&&!u.hasRequiredAttrs()&&!(u.name in n)&&(!s.type||f.validEnd)&&(i.push({match:u.contentMatch,type:u,via:s}),n[u.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(i){e.push(i);for(let s=0;s<i.next.length;s++)e.indexOf(i.next[s].next)==-1&&n(i.next[s].next)}return n(this),e.map((i,s)=>{let a=s+(i.validEnd?"*":" ")+" ";for(let c=0;c<i.next.length;c++)a+=(c?", ":"")+i.next[c].type.name+"->"+e.indexOf(i.next[c].next);return a}).join(`
`)}}Wr.empty=new Wr(!0);class pM{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function aw(t){let e=[];do e.push(mM(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function mM(t){let e=[];do e.push(gM(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function gM(t){let e=xM(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=yM(t,e);else break;return e}function Cx(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function yM(t,e){let n=Cx(t),i=n;return t.eat(",")&&(t.next!="}"?i=Cx(t):i=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:i,expr:e}}function bM(t,e){let n=t.nodeTypes,i=n[e];if(i)return[i];let s=[];for(let a in n){let c=n[a];c.isInGroup(e)&&s.push(c)}return s.length==0&&t.err("No node type or group '"+e+"' found"),s}function xM(t){if(t.eat("(")){let e=aw(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=bM(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function vM(t){let e=[[]];return s(a(t,0),n()),e;function n(){return e.push([])-1}function i(c,u,f){let h={term:f,to:u};return e[c].push(h),h}function s(c,u){c.forEach(f=>f.to=u)}function a(c,u){if(c.type=="choice")return c.exprs.reduce((f,h)=>f.concat(a(h,u)),[]);if(c.type=="seq")for(let f=0;;f++){let h=a(c.exprs[f],u);if(f==c.exprs.length-1)return h;s(h,u=n())}else if(c.type=="star"){let f=n();return i(u,f),s(a(c.expr,f),f),[i(f)]}else if(c.type=="plus"){let f=n();return s(a(c.expr,u),f),s(a(c.expr,f),f),[i(f)]}else{if(c.type=="opt")return[i(u)].concat(a(c.expr,u));if(c.type=="range"){let f=u;for(let h=0;h<c.min;h++){let p=n();s(a(c.expr,f),p),f=p}if(c.max==-1)s(a(c.expr,f),f);else for(let h=c.min;h<c.max;h++){let p=n();i(f,p),s(a(c.expr,f),p),f=p}return[i(f)]}else{if(c.type=="name")return[i(u,void 0,c.value)];throw new Error("Unknown expr type")}}}}function ow(t,e){return e-t}function Ax(t,e){let n=[];return i(e),n.sort(ow);function i(s){let a=t[s];if(a.length==1&&!a[0].term)return i(a[0].to);n.push(s);for(let c=0;c<a.length;c++){let{term:u,to:f}=a[c];!u&&n.indexOf(f)==-1&&i(f)}}}function wM(t){let e=Object.create(null);return n(Ax(t,0));function n(i){let s=[];i.forEach(c=>{t[c].forEach(({term:u,to:f})=>{if(!u)return;let h;for(let p=0;p<s.length;p++)s[p][0]==u&&(h=s[p][1]);Ax(t,f).forEach(p=>{h||s.push([u,h=[]]),h.indexOf(p)==-1&&h.push(p)})})});let a=e[i.join(",")]=new Wr(i.indexOf(t.length-1)>-1);for(let c=0;c<s.length;c++){let u=s[c][1].sort(ow);a.next.push({type:s[c][0],next:e[u.join(",")]||n(u)})}return a}}function SM(t,e){for(let n=0,i=[t];n<i.length;n++){let s=i[n],a=!s.validEnd,c=[];for(let u=0;u<s.next.length;u++){let{type:f,next:h}=s.next[u];c.push(f.name),a&&!(f.isText||f.hasRequiredAttrs())&&(a=!1),i.indexOf(h)==-1&&i.push(h)}a&&e.err("Only non-generatable nodes ("+c.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function cw(t){let e=Object.create(null);for(let n in t){let i=t[n];if(!i.hasDefault)return null;e[n]=i.default}return e}function uw(t,e){let n=Object.create(null);for(let i in t){let s=e&&e[i];if(s===void 0){let a=t[i];if(a.hasDefault)s=a.default;else throw new RangeError("No value supplied for attribute "+i)}n[i]=s}return n}function dw(t,e,n,i){for(let s in e)if(!(s in t))throw new RangeError(`Unsupported attribute ${s} for ${n} of type ${s}`);for(let s in t){let a=t[s];a.validate&&a.validate(e[s])}}function fw(t,e){let n=Object.create(null);if(e)for(let i in e)n[i]=new EM(t,i,e[i]);return n}let Mx=class hw{constructor(e,n,i){this.name=e,this.schema=n,this.spec=i,this.markSet=null,this.groups=i.group?i.group.split(" "):[],this.attrs=fw(e,i.attrs),this.defaultAttrs=cw(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(i.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Wr.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:uw(this.attrs,e)}create(e=null,n,i){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new _n(this,this.computeAttrs(e),J.from(n),Pe.setFrom(i))}createChecked(e=null,n,i){return n=J.from(n),this.checkContent(n),new _n(this,this.computeAttrs(e),n,Pe.setFrom(i))}createAndFill(e=null,n,i){if(e=this.computeAttrs(e),n=J.from(n),n.size){let c=this.contentMatch.fillBefore(n);if(!c)return null;n=c.append(n)}let s=this.contentMatch.matchFragment(n),a=s&&s.fillBefore(J.empty,!0);return a?new _n(this,e,n.append(a),Pe.setFrom(i)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let i=0;i<e.childCount;i++)if(!this.allowsMarks(e.child(i).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){dw(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let i=0;i<e.length;i++)this.allowsMarkType(e[i].type)?n&&n.push(e[i]):n||(n=e.slice(0,i));return n?n.length?n:Pe.none:e}static compile(e,n){let i=Object.create(null);e.forEach((a,c)=>i[a]=new hw(a,n,c));let s=n.spec.topNode||"doc";if(!i[s])throw new RangeError("Schema is missing its top node type ('"+s+"')");if(!i.text)throw new RangeError("Every schema needs a 'text' type");for(let a in i.text.attrs)throw new RangeError("The text node type should not have attributes");return i}};function kM(t,e,n){let i=n.split("|");return s=>{let a=s===null?"null":typeof s;if(i.indexOf(a)<0)throw new RangeError(`Expected value of type ${i} for attribute ${e} on type ${t}, got ${a}`)}}class EM{constructor(e,n,i){this.hasDefault=Object.prototype.hasOwnProperty.call(i,"default"),this.default=i.default,this.validate=typeof i.validate=="string"?kM(e,n,i.validate):i.validate}get isRequired(){return!this.hasDefault}}class Iu{constructor(e,n,i,s){this.name=e,this.rank=n,this.schema=i,this.spec=s,this.attrs=fw(e,s.attrs),this.excluded=null;let a=cw(this.attrs);this.instance=a?new Pe(this,a):null}create(e=null){return!e&&this.instance?this.instance:new Pe(this,uw(this.attrs,e))}static compile(e,n){let i=Object.create(null),s=0;return e.forEach((a,c)=>i[a]=new Iu(a,s++,n,c)),i}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}checkAttrs(e){dw(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class pw{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let s in e)n[s]=e[s];n.nodes=Mt.from(e.nodes),n.marks=Mt.from(e.marks||{}),this.nodes=Mx.compile(this.spec.nodes,this),this.marks=Iu.compile(this.spec.marks,this);let i=Object.create(null);for(let s in this.nodes){if(s in this.marks)throw new RangeError(s+" can not be both a node and a mark");let a=this.nodes[s],c=a.spec.content||"",u=a.spec.marks;if(a.contentMatch=i[c]||(i[c]=Wr.parse(c,this.nodes)),a.inlineContent=a.contentMatch.inlineContent,a.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!a.isInline||!a.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=a}a.markSet=u=="_"?null:u?Ox(this,u.split(" ")):u==""||!a.inlineContent?[]:null}for(let s in this.marks){let a=this.marks[s],c=a.spec.excludes;a.excluded=c==null?[a]:c==""?[]:Ox(this,c.split(" "))}this.nodeFromJSON=s=>_n.fromJSON(this,s),this.markFromJSON=s=>Pe.fromJSON(this,s),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,i,s){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof Mx){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,i,s)}text(e,n){let i=this.nodes.text;return new Yc(i,i.defaultAttrs,e,Pe.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function Ox(t,e){let n=[];for(let i=0;i<e.length;i++){let s=e[i],a=t.marks[s],c=a;if(a)n.push(a);else for(let u in t.marks){let f=t.marks[u];(s=="_"||f.spec.group&&f.spec.group.split(" ").indexOf(s)>-1)&&n.push(c=f)}if(!c)throw new SyntaxError("Unknown mark type: '"+e[i]+"'")}return n}function NM(t){return t.tag!=null}function TM(t){return t.style!=null}class or{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[];let i=this.matchedStyles=[];n.forEach(s=>{if(NM(s))this.tags.push(s);else if(TM(s)){let a=/[^=]*/.exec(s.style)[0];i.indexOf(a)<0&&i.push(a),this.styles.push(s)}}),this.normalizeLists=!this.tags.some(s=>{if(!/^(ul|ol)\b/.test(s.tag)||!s.node)return!1;let a=e.nodes[s.node];return a.contentMatch.matchType(a)})}parse(e,n={}){let i=new jx(this,n,!1);return i.addAll(e,Pe.none,n.from,n.to),i.finish()}parseSlice(e,n={}){let i=new jx(this,n,!0);return i.addAll(e,Pe.none,n.from,n.to),ee.maxOpen(i.finish())}matchTag(e,n,i){for(let s=i?this.tags.indexOf(i)+1:0;s<this.tags.length;s++){let a=this.tags[s];if(MM(e,a.tag)&&(a.namespace===void 0||e.namespaceURI==a.namespace)&&(!a.context||n.matchesContext(a.context))){if(a.getAttrs){let c=a.getAttrs(e);if(c===!1)continue;a.attrs=c||void 0}return a}}}matchStyle(e,n,i,s){for(let a=s?this.styles.indexOf(s)+1:0;a<this.styles.length;a++){let c=this.styles[a],u=c.style;if(!(u.indexOf(e)!=0||c.context&&!i.matchesContext(c.context)||u.length>e.length&&(u.charCodeAt(e.length)!=61||u.slice(e.length+1)!=n))){if(c.getAttrs){let f=c.getAttrs(n);if(f===!1)continue;c.attrs=f||void 0}return c}}}static schemaRules(e){let n=[];function i(s){let a=s.priority==null?50:s.priority,c=0;for(;c<n.length;c++){let u=n[c];if((u.priority==null?50:u.priority)<a)break}n.splice(c,0,s)}for(let s in e.marks){let a=e.marks[s].spec.parseDOM;a&&a.forEach(c=>{i(c=Dx(c)),c.mark||c.ignore||c.clearMark||(c.mark=s)})}for(let s in e.nodes){let a=e.nodes[s].spec.parseDOM;a&&a.forEach(c=>{i(c=Dx(c)),c.node||c.ignore||c.mark||(c.node=s)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new or(e,or.schemaRules(e)))}}const mw={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},CM={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},gw={ol:!0,ul:!0},Ma=1,xp=2,ba=4;function Rx(t,e,n){return e!=null?(e?Ma:0)|(e==="full"?xp:0):t&&t.whitespace=="pre"?Ma|xp:n&~ba}class vc{constructor(e,n,i,s,a,c){this.type=e,this.attrs=n,this.marks=i,this.solid=s,this.options=c,this.content=[],this.activeMarks=Pe.none,this.match=a||(c&ba?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(J.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let i=this.type.contentMatch,s;return(s=i.findWrapping(e.type))?(this.match=i,s):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&Ma)){let i=this.content[this.content.length-1],s;if(i&&i.isText&&(s=/[ \t\r\n\u000c]+$/.exec(i.text))){let a=i;i.text.length==s[0].length?this.content.pop():this.content[this.content.length-1]=a.withText(a.text.slice(0,a.text.length-s[0].length))}}let n=J.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(J.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!mw.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class jx{constructor(e,n,i){this.parser=e,this.options=n,this.isOpen=i,this.open=0,this.localPreserveWS=!1;let s=n.topNode,a,c=Rx(null,n.preserveWhitespace,0)|(i?ba:0);s?a=new vc(s.type,s.attrs,Pe.none,!0,n.topMatch||s.type.contentMatch,c):i?a=new vc(null,null,Pe.none,!0,null,c):a=new vc(e.schema.topNodeType,null,Pe.none,!0,null,c),this.nodes=[a],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,n){e.nodeType==3?this.addTextNode(e,n):e.nodeType==1&&this.addElement(e,n)}addTextNode(e,n){let i=e.nodeValue,s=this.top,a=s.options&xp?"full":this.localPreserveWS||(s.options&Ma)>0,{schema:c}=this.parser;if(a==="full"||s.inlineContext(e)||/[^ \t\r\n\u000c]/.test(i)){if(a)if(a==="full")i=i.replace(/\r\n?/g,`
`);else if(c.linebreakReplacement&&/[\r\n]/.test(i)&&this.top.findWrapping(c.linebreakReplacement.create())){let u=i.split(/\r?\n|\r/);for(let f=0;f<u.length;f++)f&&this.insertNode(c.linebreakReplacement.create(),n,!0),u[f]&&this.insertNode(c.text(u[f]),n,!/\S/.test(u[f]));i=""}else i=i.replace(/\r?\n|\r/g," ");else if(i=i.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(i)&&this.open==this.nodes.length-1){let u=s.content[s.content.length-1],f=e.previousSibling;(!u||f&&f.nodeName=="BR"||u.isText&&/[ \t\r\n\u000c]$/.test(u.text))&&(i=i.slice(1))}i&&this.insertNode(c.text(i),n,!/\S/.test(i)),this.findInText(e)}else this.findInside(e)}addElement(e,n,i){let s=this.localPreserveWS,a=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let c=e.nodeName.toLowerCase(),u;gw.hasOwnProperty(c)&&this.parser.normalizeLists&&AM(e);let f=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(u=this.parser.matchTag(e,this,i));e:if(f?f.ignore:CM.hasOwnProperty(c))this.findInside(e),this.ignoreFallback(e,n);else if(!f||f.skip||f.closeParent){f&&f.closeParent?this.open=Math.max(0,this.open-1):f&&f.skip.nodeType&&(e=f.skip);let h,p=this.needsBlock;if(mw.hasOwnProperty(c))a.content.length&&a.content[0].isInline&&this.open&&(this.open--,a=this.top),h=!0,a.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,n);break e}let g=f&&f.skip?n:this.readStyles(e,n);g&&this.addAll(e,g),h&&this.sync(a),this.needsBlock=p}else{let h=this.readStyles(e,n);h&&this.addElementByRule(e,f,h,f.consuming===!1?u:void 0)}this.localPreserveWS=s}leafFallback(e,n){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),n)}ignoreFallback(e,n){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n,!0)}readStyles(e,n){let i=e.style;if(i&&i.length)for(let s=0;s<this.parser.matchedStyles.length;s++){let a=this.parser.matchedStyles[s],c=i.getPropertyValue(a);if(c)for(let u=void 0;;){let f=this.parser.matchStyle(a,c,this,u);if(!f)break;if(f.ignore)return null;if(f.clearMark?n=n.filter(h=>!f.clearMark(h)):n=n.concat(this.parser.schema.marks[f.mark].create(f.attrs)),f.consuming===!1)u=f;else break}}return n}addElementByRule(e,n,i,s){let a,c;if(n.node)if(c=this.parser.schema.nodes[n.node],c.isLeaf)this.insertNode(c.create(n.attrs),i,e.nodeName=="BR")||this.leafFallback(e,i);else{let f=this.enter(c,n.attrs||null,i,n.preserveWhitespace);f&&(a=!0,i=f)}else{let f=this.parser.schema.marks[n.mark];i=i.concat(f.create(n.attrs))}let u=this.top;if(c&&c.isLeaf)this.findInside(e);else if(s)this.addElement(e,i,s);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(f=>this.insertNode(f,i,!1));else{let f=e;typeof n.contentElement=="string"?f=e.querySelector(n.contentElement):typeof n.contentElement=="function"?f=n.contentElement(e):n.contentElement&&(f=n.contentElement),this.findAround(e,f,!0),this.addAll(f,i),this.findAround(e,f,!1)}a&&this.sync(u)&&this.open--}addAll(e,n,i,s){let a=i||0;for(let c=i?e.childNodes[i]:e.firstChild,u=s==null?null:e.childNodes[s];c!=u;c=c.nextSibling,++a)this.findAtPoint(e,a),this.addDOM(c,n);this.findAtPoint(e,a)}findPlace(e,n,i){let s,a;for(let c=this.open,u=0;c>=0;c--){let f=this.nodes[c],h=f.findWrapping(e);if(h&&(!s||s.length>h.length+u)&&(s=h,a=f,!h.length))break;if(f.solid){if(i)break;u+=2}}if(!s)return null;this.sync(a);for(let c=0;c<s.length;c++)n=this.enterInner(s[c],null,n,!1);return n}insertNode(e,n,i){if(e.isInline&&this.needsBlock&&!this.top.type){let a=this.textblockFromContext();a&&(n=this.enterInner(a,null,n))}let s=this.findPlace(e,n,i);if(s){this.closeExtra();let a=this.top;a.match&&(a.match=a.match.matchType(e.type));let c=Pe.none;for(let u of s.concat(e.marks))(a.type?a.type.allowsMarkType(u.type):zx(u.type,e.type))&&(c=u.addToSet(c));return a.content.push(e.mark(c)),!0}return!1}enter(e,n,i,s){let a=this.findPlace(e.create(n),i,!1);return a&&(a=this.enterInner(e,n,i,!0,s)),a}enterInner(e,n,i,s=!1,a){this.closeExtra();let c=this.top;c.match=c.match&&c.match.matchType(e);let u=Rx(e,a,c.options);c.options&ba&&c.content.length==0&&(u|=ba);let f=Pe.none;return i=i.filter(h=>(c.type?c.type.allowsMarkType(h.type):zx(h.type,e))?(f=h.addToSet(f),!1):!0),this.nodes.push(new vc(e,n,f,s,null,u)),this.open++,i}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let n=this.open;n>=0;n--){if(this.nodes[n]==e)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=Ma)}return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let i=this.nodes[n].content;for(let s=i.length-1;s>=0;s--)e+=i[s].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let i=0;i<this.find.length;i++)this.find[i].node==e&&this.find[i].offset==n&&(this.find[i].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,i){if(e!=n&&this.find)for(let s=0;s<this.find.length;s++)this.find[s].pos==null&&e.nodeType==1&&e.contains(this.find[s].node)&&n.compareDocumentPosition(this.find[s].node)&(i?2:4)&&(this.find[s].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),i=this.options.context,s=!this.isOpen&&(!i||i.parent.type==this.nodes[0].type),a=-(i?i.depth+1:0)+(s?0:1),c=(u,f)=>{for(;u>=0;u--){let h=n[u];if(h==""){if(u==n.length-1||u==0)continue;for(;f>=a;f--)if(c(u-1,f))return!0;return!1}else{let p=f>0||f==0&&s?this.nodes[f].type:i&&f>=a?i.node(f-a).type:null;if(!p||p.name!=h&&!p.isInGroup(h))return!1;f--}}return!0};return c(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let i=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(i&&i.isTextblock&&i.defaultAttrs)return i}for(let n in this.parser.schema.nodes){let i=this.parser.schema.nodes[n];if(i.isTextblock&&i.defaultAttrs)return i}}}function AM(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let i=e.nodeType==1?e.nodeName.toLowerCase():null;i&&gw.hasOwnProperty(i)&&n?(n.appendChild(e),e=n):i=="li"?n=e:i&&(n=null)}}function MM(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function Dx(t){let e={};for(let n in t)e[n]=t[n];return e}function zx(t,e){let n=e.schema.nodes;for(let i in n){let s=n[i];if(!s.allowsMarkType(t))continue;let a=[],c=u=>{a.push(u);for(let f=0;f<u.edgeCount;f++){let{type:h,next:p}=u.edge(f);if(h==e||a.indexOf(p)<0&&c(p))return!0}};if(c(s.contentMatch))return!0}}class is{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},i){i||(i=_h(n).createDocumentFragment());let s=i,a=[];return e.forEach(c=>{if(a.length||c.marks.length){let u=0,f=0;for(;u<a.length&&f<c.marks.length;){let h=c.marks[f];if(!this.marks[h.type.name]){f++;continue}if(!h.eq(a[u][0])||h.type.spec.spanning===!1)break;u++,f++}for(;u<a.length;)s=a.pop()[1];for(;f<c.marks.length;){let h=c.marks[f++],p=this.serializeMark(h,c.isInline,n);p&&(a.push([h,s]),s.appendChild(p.dom),s=p.contentDOM||p.dom)}}s.appendChild(this.serializeNodeInner(c,n))}),i}serializeNodeInner(e,n){let{dom:i,contentDOM:s}=Bc(_h(n),this.nodes[e.type.name](e),null,e.attrs);if(s){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,s)}return i}serializeNode(e,n={}){let i=this.serializeNodeInner(e,n);for(let s=e.marks.length-1;s>=0;s--){let a=this.serializeMark(e.marks[s],e.isInline,n);a&&((a.contentDOM||a.dom).appendChild(i),i=a.dom)}return i}serializeMark(e,n,i={}){let s=this.marks[e.type.name];return s&&Bc(_h(i),s(e,n),null,e.attrs)}static renderSpec(e,n,i=null,s){return Bc(e,n,i,s)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new is(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=Lx(e.nodes);return n.text||(n.text=i=>i.text),n}static marksFromSchema(e){return Lx(e.marks)}}function Lx(t){let e={};for(let n in t){let i=t[n].spec.toDOM;i&&(e[n]=i)}return e}function _h(t){return t.document||window.document}const _x=new WeakMap;function OM(t){let e=_x.get(t);return e===void 0&&_x.set(t,e=RM(t)),e}function RM(t){let e=null;function n(i){if(i&&typeof i=="object")if(Array.isArray(i))if(typeof i[0]=="string")e||(e=[]),e.push(i);else for(let s=0;s<i.length;s++)n(i[s]);else for(let s in i)n(i[s])}return n(t),e}function Bc(t,e,n,i){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let s=e[0],a;if(typeof s!="string")throw new RangeError("Invalid array passed to renderSpec");if(i&&(a=OM(i))&&a.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let c=s.indexOf(" ");c>0&&(n=s.slice(0,c),s=s.slice(c+1));let u,f=n?t.createElementNS(n,s):t.createElement(s),h=e[1],p=1;if(h&&typeof h=="object"&&h.nodeType==null&&!Array.isArray(h)){p=2;for(let g in h)if(h[g]!=null){let x=g.indexOf(" ");x>0?f.setAttributeNS(g.slice(0,x),g.slice(x+1),h[g]):g=="style"&&f.style?f.style.cssText=h[g]:f.setAttribute(g,h[g])}}for(let g=p;g<e.length;g++){let x=e[g];if(x===0){if(g<e.length-1||g>p)throw new RangeError("Content hole must be the only child of its parent node");return{dom:f,contentDOM:f}}else{let{dom:v,contentDOM:w}=Bc(t,x,n,i);if(f.appendChild(v),w){if(u)throw new RangeError("Multiple content holes");u=w}}}return{dom:f,contentDOM:u}}const yw=65535,bw=Math.pow(2,16);function jM(t,e){return t+e*bw}function Bx(t){return t&yw}function DM(t){return(t-(t&yw))/bw}const xw=1,vw=2,Hc=4,ww=8;class vp{constructor(e,n,i){this.pos=e,this.delInfo=n,this.recover=i}get deleted(){return(this.delInfo&ww)>0}get deletedBefore(){return(this.delInfo&(xw|Hc))>0}get deletedAfter(){return(this.delInfo&(vw|Hc))>0}get deletedAcross(){return(this.delInfo&Hc)>0}}class dn{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&dn.empty)return dn.empty}recover(e){let n=0,i=Bx(e);if(!this.inverted)for(let s=0;s<i;s++)n+=this.ranges[s*3+2]-this.ranges[s*3+1];return this.ranges[i*3]+n+DM(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,i){let s=0,a=this.inverted?2:1,c=this.inverted?1:2;for(let u=0;u<this.ranges.length;u+=3){let f=this.ranges[u]-(this.inverted?s:0);if(f>e)break;let h=this.ranges[u+a],p=this.ranges[u+c],g=f+h;if(e<=g){let x=h?e==f?-1:e==g?1:n:n,v=f+s+(x<0?0:p);if(i)return v;let w=e==(n<0?f:g)?null:jM(u/3,e-f),k=e==f?vw:e==g?xw:Hc;return(n<0?e!=f:e!=g)&&(k|=ww),new vp(v,k,w)}s+=p-h}return i?e+s:new vp(e+s,0,null)}touches(e,n){let i=0,s=Bx(n),a=this.inverted?2:1,c=this.inverted?1:2;for(let u=0;u<this.ranges.length;u+=3){let f=this.ranges[u]-(this.inverted?i:0);if(f>e)break;let h=this.ranges[u+a],p=f+h;if(e<=p&&u==s*3)return!0;i+=this.ranges[u+c]-h}return!1}forEach(e){let n=this.inverted?2:1,i=this.inverted?1:2;for(let s=0,a=0;s<this.ranges.length;s+=3){let c=this.ranges[s],u=c-(this.inverted?a:0),f=c+(this.inverted?0:a),h=this.ranges[s+n],p=this.ranges[s+i];e(u,u+h,f,f+p),a+=p-h}}invert(){return new dn(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?dn.empty:new dn(e<0?[0,-e,0]:[0,0,e])}}dn.empty=new dn([]);class Oa{constructor(e,n,i=0,s=e?e.length:0){this.mirror=n,this.from=i,this.to=s,this._maps=e||[],this.ownData=!(e||n)}get maps(){return this._maps}slice(e=0,n=this.maps.length){return new Oa(this._maps,this.mirror,e,n)}appendMap(e,n){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),n!=null&&this.setMirror(this._maps.length-1,n)}appendMapping(e){for(let n=0,i=this._maps.length;n<e._maps.length;n++){let s=e.getMirror(n);this.appendMap(e._maps[n],s!=null&&s<n?i+s:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,i=this._maps.length+e._maps.length;n>=0;n--){let s=e.getMirror(n);this.appendMap(e._maps[n].invert(),s!=null&&s>n?i-s-1:void 0)}}invert(){let e=new Oa;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let i=this.from;i<this.to;i++)e=this._maps[i].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,i){let s=0;for(let a=this.from;a<this.to;a++){let c=this._maps[a],u=c.mapResult(e,n);if(u.recover!=null){let f=this.getMirror(a);if(f!=null&&f>a&&f<this.to){a=f,e=this._maps[f].recover(u.recover);continue}}s|=u.delInfo,e=u.pos}return i?e:new vp(e,s,null)}}const Bh=Object.create(null);class _t{getMap(){return dn.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let i=Bh[n.stepType];if(!i)throw new RangeError(`No step type ${n.stepType} defined`);return i.fromJSON(e,n)}static jsonID(e,n){if(e in Bh)throw new RangeError("Duplicate use of step JSON ID "+e);return Bh[e]=n,n.prototype.jsonID=e,n}}class ht{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new ht(e,null)}static fail(e){return new ht(null,e)}static fromReplace(e,n,i,s){try{return ht.ok(e.replace(n,i,s))}catch(a){if(a instanceof Fc)return ht.fail(a.message);throw a}}}function im(t,e,n){let i=[];for(let s=0;s<t.childCount;s++){let a=t.child(s);a.content.size&&(a=a.copy(im(a.content,e,a))),a.isInline&&(a=e(a,n,s)),i.push(a)}return J.fromArray(i)}class sr extends _t{constructor(e,n,i){super(),this.from=e,this.to=n,this.mark=i}apply(e){let n=e.slice(this.from,this.to),i=e.resolve(this.from),s=i.node(i.sharedDepth(this.to)),a=new ee(im(n.content,(c,u)=>!c.isAtom||!u.type.allowsMarkType(this.mark.type)?c:c.mark(this.mark.addToSet(c.marks)),s),n.openStart,n.openEnd);return ht.fromReplace(e,this.from,this.to,a)}invert(){return new Ln(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),i=e.mapResult(this.to,-1);return n.deleted&&i.deleted||n.pos>=i.pos?null:new sr(n.pos,i.pos,this.mark)}merge(e){return e instanceof sr&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new sr(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new sr(n.from,n.to,e.markFromJSON(n.mark))}}_t.jsonID("addMark",sr);class Ln extends _t{constructor(e,n,i){super(),this.from=e,this.to=n,this.mark=i}apply(e){let n=e.slice(this.from,this.to),i=new ee(im(n.content,s=>s.mark(this.mark.removeFromSet(s.marks)),e),n.openStart,n.openEnd);return ht.fromReplace(e,this.from,this.to,i)}invert(){return new sr(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),i=e.mapResult(this.to,-1);return n.deleted&&i.deleted||n.pos>=i.pos?null:new Ln(n.pos,i.pos,this.mark)}merge(e){return e instanceof Ln&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Ln(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Ln(n.from,n.to,e.markFromJSON(n.mark))}}_t.jsonID("removeMark",Ln);class lr extends _t{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return ht.fail("No node at mark step's position");let i=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return ht.fromReplace(e,this.pos,this.pos+1,new ee(J.from(i),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let i=this.mark.addToSet(n.marks);if(i.length==n.marks.length){for(let s=0;s<n.marks.length;s++)if(!n.marks[s].isInSet(i))return new lr(this.pos,n.marks[s]);return new lr(this.pos,this.mark)}}return new Qr(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new lr(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new lr(n.pos,e.markFromJSON(n.mark))}}_t.jsonID("addNodeMark",lr);class Qr extends _t{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return ht.fail("No node at mark step's position");let i=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return ht.fromReplace(e,this.pos,this.pos+1,new ee(J.from(i),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new lr(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Qr(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Qr(n.pos,e.markFromJSON(n.mark))}}_t.jsonID("removeNodeMark",Qr);class vt extends _t{constructor(e,n,i,s=!1){super(),this.from=e,this.to=n,this.slice=i,this.structure=s}apply(e){return this.structure&&wp(e,this.from,this.to)?ht.fail("Structure replace would overwrite content"):ht.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new dn([this.from,this.to-this.from,this.slice.size])}invert(e){return new vt(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),i=e.mapResult(this.to,-1);return n.deletedAcross&&i.deletedAcross?null:new vt(n.pos,Math.max(n.pos,i.pos),this.slice,this.structure)}merge(e){if(!(e instanceof vt)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?ee.empty:new ee(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new vt(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?ee.empty:new ee(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new vt(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new vt(n.from,n.to,ee.fromJSON(e,n.slice),!!n.structure)}}_t.jsonID("replace",vt);class St extends _t{constructor(e,n,i,s,a,c,u=!1){super(),this.from=e,this.to=n,this.gapFrom=i,this.gapTo=s,this.slice=a,this.insert=c,this.structure=u}apply(e){if(this.structure&&(wp(e,this.from,this.gapFrom)||wp(e,this.gapTo,this.to)))return ht.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return ht.fail("Gap is not a flat range");let i=this.slice.insertAt(this.insert,n.content);return i?ht.fromReplace(e,this.from,this.to,i):ht.fail("Content does not fit in gap")}getMap(){return new dn([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new St(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),i=e.mapResult(this.to,-1),s=this.from==this.gapFrom?n.pos:e.map(this.gapFrom,-1),a=this.to==this.gapTo?i.pos:e.map(this.gapTo,1);return n.deletedAcross&&i.deletedAcross||s<n.pos||a>i.pos?null:new St(n.pos,i.pos,s,a,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new St(n.from,n.to,n.gapFrom,n.gapTo,ee.fromJSON(e,n.slice),n.insert,!!n.structure)}}_t.jsonID("replaceAround",St);function wp(t,e,n){let i=t.resolve(e),s=n-e,a=i.depth;for(;s>0&&a>0&&i.indexAfter(a)==i.node(a).childCount;)a--,s--;if(s>0){let c=i.node(a).maybeChild(i.indexAfter(a));for(;s>0;){if(!c||c.isLeaf)return!0;c=c.firstChild,s--}}return!1}function zM(t,e,n,i){let s=[],a=[],c,u;t.doc.nodesBetween(e,n,(f,h,p)=>{if(!f.isInline)return;let g=f.marks;if(!i.isInSet(g)&&p.type.allowsMarkType(i.type)){let x=Math.max(h,e),v=Math.min(h+f.nodeSize,n),w=i.addToSet(g);for(let k=0;k<g.length;k++)g[k].isInSet(w)||(c&&c.to==x&&c.mark.eq(g[k])?c.to=v:s.push(c=new Ln(x,v,g[k])));u&&u.to==x?u.to=v:a.push(u=new sr(x,v,i))}}),s.forEach(f=>t.step(f)),a.forEach(f=>t.step(f))}function LM(t,e,n,i){let s=[],a=0;t.doc.nodesBetween(e,n,(c,u)=>{if(!c.isInline)return;a++;let f=null;if(i instanceof Iu){let h=c.marks,p;for(;p=i.isInSet(h);)(f||(f=[])).push(p),h=p.removeFromSet(h)}else i?i.isInSet(c.marks)&&(f=[i]):f=c.marks;if(f&&f.length){let h=Math.min(u+c.nodeSize,n);for(let p=0;p<f.length;p++){let g=f[p],x;for(let v=0;v<s.length;v++){let w=s[v];w.step==a-1&&g.eq(s[v].style)&&(x=w)}x?(x.to=h,x.step=a):s.push({style:g,from:Math.max(u,e),to:h,step:a})}}}),s.forEach(c=>t.step(new Ln(c.from,c.to,c.style)))}function rm(t,e,n,i=n.contentMatch,s=!0){let a=t.doc.nodeAt(e),c=[],u=e+1;for(let f=0;f<a.childCount;f++){let h=a.child(f),p=u+h.nodeSize,g=i.matchType(h.type);if(!g)c.push(new vt(u,p,ee.empty));else{i=g;for(let x=0;x<h.marks.length;x++)n.allowsMarkType(h.marks[x].type)||t.step(new Ln(u,p,h.marks[x]));if(s&&h.isText&&n.whitespace!="pre"){let x,v=/\r?\n|\r/g,w;for(;x=v.exec(h.text);)w||(w=new ee(J.from(n.schema.text(" ",n.allowedMarks(h.marks))),0,0)),c.push(new vt(u+x.index,u+x.index+x[0].length,w))}}u=p}if(!i.validEnd){let f=i.fillBefore(J.empty,!0);t.replace(u,u,new ee(f,0,0))}for(let f=c.length-1;f>=0;f--)t.step(c[f])}function _M(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function ul(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let i=t.depth,s=0,a=0;;--i){let c=t.$from.node(i),u=t.$from.index(i)+s,f=t.$to.indexAfter(i)-a;if(i<t.depth&&c.canReplace(u,f,n))return i;if(i==0||c.type.spec.isolating||!_M(c,u,f))break;u&&(s=1),f<c.childCount&&(a=1)}return null}function BM(t,e,n){let{$from:i,$to:s,depth:a}=e,c=i.before(a+1),u=s.after(a+1),f=c,h=u,p=J.empty,g=0;for(let w=a,k=!1;w>n;w--)k||i.index(w)>0?(k=!0,p=J.from(i.node(w).copy(p)),g++):f--;let x=J.empty,v=0;for(let w=a,k=!1;w>n;w--)k||s.after(w+1)<s.end(w)?(k=!0,x=J.from(s.node(w).copy(x)),v++):h++;t.step(new St(f,h,c,u,new ee(p.append(x),g,v),p.size-g,!0))}function sm(t,e,n=null,i=t){let s=HM(t,e),a=s&&UM(i,e);return a?s.map(Hx).concat({type:e,attrs:n}).concat(a.map(Hx)):null}function Hx(t){return{type:t,attrs:null}}function HM(t,e){let{parent:n,startIndex:i,endIndex:s}=t,a=n.contentMatchAt(i).findWrapping(e);if(!a)return null;let c=a.length?a[0]:e;return n.canReplaceWith(i,s,c)?a:null}function UM(t,e){let{parent:n,startIndex:i,endIndex:s}=t,a=n.child(i),c=e.contentMatch.findWrapping(a.type);if(!c)return null;let f=(c.length?c[c.length-1]:e).contentMatch;for(let h=i;f&&h<s;h++)f=f.matchType(n.child(h).type);return!f||!f.validEnd?null:c}function qM(t,e,n){let i=J.empty;for(let c=n.length-1;c>=0;c--){if(i.size){let u=n[c].type.contentMatch.matchFragment(i);if(!u||!u.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}i=J.from(n[c].type.create(n[c].attrs,i))}let s=e.start,a=e.end;t.step(new St(s,a,s,a,new ee(i,0,0),n.length,!0))}function IM(t,e,n,i,s){if(!i.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let a=t.steps.length;t.doc.nodesBetween(e,n,(c,u)=>{let f=typeof s=="function"?s(c):s;if(c.isTextblock&&!c.hasMarkup(i,f)&&PM(t.doc,t.mapping.slice(a).map(u),i)){let h=null;if(i.schema.linebreakReplacement){let v=i.whitespace=="pre",w=!!i.contentMatch.matchType(i.schema.linebreakReplacement);v&&!w?h=!1:!v&&w&&(h=!0)}h===!1&&kw(t,c,u,a),rm(t,t.mapping.slice(a).map(u,1),i,void 0,h===null);let p=t.mapping.slice(a),g=p.map(u,1),x=p.map(u+c.nodeSize,1);return t.step(new St(g,x,g+1,x-1,new ee(J.from(i.create(f,null,c.marks)),0,0),1,!0)),h===!0&&Sw(t,c,u,a),!1}})}function Sw(t,e,n,i){e.forEach((s,a)=>{if(s.isText){let c,u=/\r?\n|\r/g;for(;c=u.exec(s.text);){let f=t.mapping.slice(i).map(n+1+a+c.index);t.replaceWith(f,f+1,e.type.schema.linebreakReplacement.create())}}})}function kw(t,e,n,i){e.forEach((s,a)=>{if(s.type==s.type.schema.linebreakReplacement){let c=t.mapping.slice(i).map(n+1+a);t.replaceWith(c,c+1,e.type.schema.text(`
`))}})}function PM(t,e,n){let i=t.resolve(e),s=i.index();return i.parent.canReplaceWith(s,s+1,n)}function VM(t,e,n,i,s){let a=t.doc.nodeAt(e);if(!a)throw new RangeError("No node at given position");n||(n=a.type);let c=n.create(i,null,s||a.marks);if(a.isLeaf)return t.replaceWith(e,e+a.nodeSize,c);if(!n.validContent(a.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new St(e,e+a.nodeSize,e+1,e+a.nodeSize-1,new ee(J.from(c),0,0),1,!0))}function Si(t,e,n=1,i){let s=t.resolve(e),a=s.depth-n,c=i&&i[i.length-1]||s.parent;if(a<0||s.parent.type.spec.isolating||!s.parent.canReplace(s.index(),s.parent.childCount)||!c.type.validContent(s.parent.content.cutByIndex(s.index(),s.parent.childCount)))return!1;for(let h=s.depth-1,p=n-2;h>a;h--,p--){let g=s.node(h),x=s.index(h);if(g.type.spec.isolating)return!1;let v=g.content.cutByIndex(x,g.childCount),w=i&&i[p+1];w&&(v=v.replaceChild(0,w.type.create(w.attrs)));let k=i&&i[p]||g;if(!g.canReplace(x+1,g.childCount)||!k.type.validContent(v))return!1}let u=s.indexAfter(a),f=i&&i[0];return s.node(a).canReplaceWith(u,u,f?f.type:s.node(a+1).type)}function $M(t,e,n=1,i){let s=t.doc.resolve(e),a=J.empty,c=J.empty;for(let u=s.depth,f=s.depth-n,h=n-1;u>f;u--,h--){a=J.from(s.node(u).copy(a));let p=i&&i[h];c=J.from(p?p.type.create(p.attrs,c):s.node(u).copy(c))}t.step(new vt(e,e,new ee(a.append(c),n,n),!0))}function pr(t,e){let n=t.resolve(e),i=n.index();return Ew(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(i,i+1)}function FM(t,e){e.content.size||t.type.compatibleContent(e.type);let n=t.contentMatchAt(t.childCount),{linebreakReplacement:i}=t.type.schema;for(let s=0;s<e.childCount;s++){let a=e.child(s),c=a.type==i?t.type.schema.nodes.text:a.type;if(n=n.matchType(c),!n||!t.type.allowsMarks(a.marks))return!1}return n.validEnd}function Ew(t,e){return!!(t&&e&&!t.isLeaf&&FM(t,e))}function Pu(t,e,n=-1){let i=t.resolve(e);for(let s=i.depth;;s--){let a,c,u=i.index(s);if(s==i.depth?(a=i.nodeBefore,c=i.nodeAfter):n>0?(a=i.node(s+1),u++,c=i.node(s).maybeChild(u)):(a=i.node(s).maybeChild(u-1),c=i.node(s+1)),a&&!a.isTextblock&&Ew(a,c)&&i.node(s).canReplace(u,u+1))return e;if(s==0)break;e=n<0?i.before(s):i.after(s)}}function KM(t,e,n){let i=null,{linebreakReplacement:s}=t.doc.type.schema,a=t.doc.resolve(e-n),c=a.node().type;if(s&&c.inlineContent){let p=c.whitespace=="pre",g=!!c.contentMatch.matchType(s);p&&!g?i=!1:!p&&g&&(i=!0)}let u=t.steps.length;if(i===!1){let p=t.doc.resolve(e+n);kw(t,p.node(),p.before(),u)}c.inlineContent&&rm(t,e+n-1,c,a.node().contentMatchAt(a.index()),i==null);let f=t.mapping.slice(u),h=f.map(e-n);if(t.step(new vt(h,f.map(e+n,-1),ee.empty,!0)),i===!0){let p=t.doc.resolve(h);Sw(t,p.node(),p.before(),t.steps.length)}return t}function GM(t,e,n){let i=t.resolve(e);if(i.parent.canReplaceWith(i.index(),i.index(),n))return e;if(i.parentOffset==0)for(let s=i.depth-1;s>=0;s--){let a=i.index(s);if(i.node(s).canReplaceWith(a,a,n))return i.before(s+1);if(a>0)return null}if(i.parentOffset==i.parent.content.size)for(let s=i.depth-1;s>=0;s--){let a=i.indexAfter(s);if(i.node(s).canReplaceWith(a,a,n))return i.after(s+1);if(a<i.node(s).childCount)return null}return null}function Nw(t,e,n){let i=t.resolve(e);if(!n.content.size)return e;let s=n.content;for(let a=0;a<n.openStart;a++)s=s.firstChild.content;for(let a=1;a<=(n.openStart==0&&n.size?2:1);a++)for(let c=i.depth;c>=0;c--){let u=c==i.depth?0:i.pos<=(i.start(c+1)+i.end(c+1))/2?-1:1,f=i.index(c)+(u>0?1:0),h=i.node(c),p=!1;if(a==1)p=h.canReplace(f,f,s);else{let g=h.contentMatchAt(f).findWrapping(s.firstChild.type);p=g&&h.canReplaceWith(f,f,g[0])}if(p)return u==0?i.pos:u<0?i.before(c+1):i.after(c+1)}return null}function Vu(t,e,n=e,i=ee.empty){if(e==n&&!i.size)return null;let s=t.resolve(e),a=t.resolve(n);return Tw(s,a,i)?new vt(e,n,i):new YM(s,a,i).fit()}function Tw(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class YM{constructor(e,n,i){this.$from=e,this.$to=n,this.unplaced=i,this.frontier=[],this.placed=J.empty;for(let s=0;s<=e.depth;s++){let a=e.node(s);this.frontier.push({type:a.type,match:a.contentMatchAt(e.indexAfter(s))})}for(let s=e.depth;s>0;s--)this.placed=J.from(e.node(s).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let h=this.findFittable();h?this.placeNodes(h):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,i=this.$from,s=this.close(e<0?this.$to:i.doc.resolve(e));if(!s)return null;let a=this.placed,c=i.depth,u=s.depth;for(;c&&u&&a.childCount==1;)a=a.firstChild.content,c--,u--;let f=new ee(a,c,u);return e>-1?new St(i.pos,e,this.$to.pos,this.$to.end(),f,n):f.size||i.pos!=this.$to.pos?new vt(i.pos,s.pos,f):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,i=0,s=this.unplaced.openEnd;i<e;i++){let a=n.firstChild;if(n.childCount>1&&(s=0),a.type.spec.isolating&&s<=i){e=i;break}n=a.content}for(let n=1;n<=2;n++)for(let i=n==1?e:this.unplaced.openStart;i>=0;i--){let s,a=null;i?(a=Hh(this.unplaced.content,i-1).firstChild,s=a.content):s=this.unplaced.content;let c=s.firstChild;for(let u=this.depth;u>=0;u--){let{type:f,match:h}=this.frontier[u],p,g=null;if(n==1&&(c?h.matchType(c.type)||(g=h.fillBefore(J.from(c),!1)):a&&f.compatibleContent(a.type)))return{sliceDepth:i,frontierDepth:u,parent:a,inject:g};if(n==2&&c&&(p=h.findWrapping(c.type)))return{sliceDepth:i,frontierDepth:u,parent:a,wrap:p};if(a&&h.matchType(a.type))break}}}openMore(){let{content:e,openStart:n,openEnd:i}=this.unplaced,s=Hh(e,n);return!s.childCount||s.firstChild.isLeaf?!1:(this.unplaced=new ee(e,n+1,Math.max(i,s.size+n>=e.size-i?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:i}=this.unplaced,s=Hh(e,n);if(s.childCount<=1&&n>0){let a=e.size-n<=n+s.size;this.unplaced=new ee(fa(e,n-1,1),n-1,a?n-1:i)}else this.unplaced=new ee(fa(e,n,1),n,i)}placeNodes({sliceDepth:e,frontierDepth:n,parent:i,inject:s,wrap:a}){for(;this.depth>n;)this.closeFrontierNode();if(a)for(let k=0;k<a.length;k++)this.openFrontierNode(a[k]);let c=this.unplaced,u=i?i.content:c.content,f=c.openStart-e,h=0,p=[],{match:g,type:x}=this.frontier[n];if(s){for(let k=0;k<s.childCount;k++)p.push(s.child(k));g=g.matchFragment(s)}let v=u.size+e-(c.content.size-c.openEnd);for(;h<u.childCount;){let k=u.child(h),E=g.matchType(k.type);if(!E)break;h++,(h>1||f==0||k.content.size)&&(g=E,p.push(Cw(k.mark(x.allowedMarks(k.marks)),h==1?f:0,h==u.childCount?v:-1)))}let w=h==u.childCount;w||(v=-1),this.placed=ha(this.placed,n,J.from(p)),this.frontier[n].match=g,w&&v<0&&i&&i.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let k=0,E=u;k<v;k++){let T=E.lastChild;this.frontier.push({type:T.type,match:T.contentMatchAt(T.childCount)}),E=T.content}this.unplaced=w?e==0?ee.empty:new ee(fa(c.content,e-1,1),e-1,v<0?c.openEnd:e-1):new ee(fa(c.content,e,h),c.openStart,c.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!Uh(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:i}=this.$to,s=this.$to.after(i);for(;i>1&&s==this.$to.end(--i);)++s;return s}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:i,type:s}=this.frontier[n],a=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),c=Uh(e,n,s,i,a);if(c){for(let u=n-1;u>=0;u--){let{match:f,type:h}=this.frontier[u],p=Uh(e,u,h,f,!0);if(!p||p.childCount)continue e}return{depth:n,fit:c,move:a?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=ha(this.placed,n.depth,n.fit)),e=n.move;for(let i=n.depth+1;i<=e.depth;i++){let s=e.node(i),a=s.type.contentMatch.fillBefore(s.content,!0,e.index(i));this.openFrontierNode(s.type,s.attrs,a)}return e}openFrontierNode(e,n=null,i){let s=this.frontier[this.depth];s.match=s.match.matchType(e),this.placed=ha(this.placed,this.depth,J.from(e.create(n,i))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(J.empty,!0);n.childCount&&(this.placed=ha(this.placed,this.frontier.length,n))}}function fa(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(fa(t.firstChild.content,e-1,n)))}function ha(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(ha(t.lastChild.content,e-1,n)))}function Hh(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function Cw(t,e,n){if(e<=0)return t;let i=t.content;return e>1&&(i=i.replaceChild(0,Cw(i.firstChild,e-1,i.childCount==1?n-1:0))),e>0&&(i=t.type.contentMatch.fillBefore(i).append(i),n<=0&&(i=i.append(t.type.contentMatch.matchFragment(i).fillBefore(J.empty,!0)))),t.copy(i)}function Uh(t,e,n,i,s){let a=t.node(e),c=s?t.indexAfter(e):t.index(e);if(c==a.childCount&&!n.compatibleContent(a.type))return null;let u=i.fillBefore(a.content,!0,c);return u&&!JM(n,a.content,c)?u:null}function JM(t,e,n){for(let i=n;i<e.childCount;i++)if(!t.allowsMarks(e.child(i).marks))return!0;return!1}function XM(t){return t.spec.defining||t.spec.definingForContent}function WM(t,e,n,i){if(!i.size)return t.deleteRange(e,n);let s=t.doc.resolve(e),a=t.doc.resolve(n);if(Tw(s,a,i))return t.step(new vt(e,n,i));let c=Mw(s,a);c[c.length-1]==0&&c.pop();let u=-(s.depth+1);c.unshift(u);for(let x=s.depth,v=s.pos-1;x>0;x--,v--){let w=s.node(x).type.spec;if(w.defining||w.definingAsContext||w.isolating)break;c.indexOf(x)>-1?u=x:s.before(x)==v&&c.splice(1,0,-x)}let f=c.indexOf(u),h=[],p=i.openStart;for(let x=i.content,v=0;;v++){let w=x.firstChild;if(h.push(w),v==i.openStart)break;x=w.content}for(let x=p-1;x>=0;x--){let v=h[x],w=XM(v.type);if(w&&!v.sameMarkup(s.node(Math.abs(u)-1)))p=x;else if(w||!v.type.isTextblock)break}for(let x=i.openStart;x>=0;x--){let v=(x+p+1)%(i.openStart+1),w=h[v];if(w)for(let k=0;k<c.length;k++){let E=c[(k+f)%c.length],T=!0;E<0&&(T=!1,E=-E);let A=s.node(E-1),j=s.index(E-1);if(A.canReplaceWith(j,j,w.type,w.marks))return t.replace(s.before(E),T?a.after(E):n,new ee(Aw(i.content,0,i.openStart,v),v,i.openEnd))}}let g=t.steps.length;for(let x=c.length-1;x>=0&&(t.replace(e,n,i),!(t.steps.length>g));x--){let v=c[x];v<0||(e=s.before(v),n=a.after(v))}}function Aw(t,e,n,i,s){if(e<n){let a=t.firstChild;t=t.replaceChild(0,a.copy(Aw(a.content,e+1,n,i,a)))}if(e>i){let a=s.contentMatchAt(0),c=a.fillBefore(t).append(t);t=c.append(a.matchFragment(c).fillBefore(J.empty,!0))}return t}function QM(t,e,n,i){if(!i.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let s=GM(t.doc,e,i.type);s!=null&&(e=n=s)}t.replaceRange(e,n,new ee(J.from(i),0,0))}function ZM(t,e,n){let i=t.doc.resolve(e),s=t.doc.resolve(n),a=Mw(i,s);for(let c=0;c<a.length;c++){let u=a[c],f=c==a.length-1;if(f&&u==0||i.node(u).type.contentMatch.validEnd)return t.delete(i.start(u),s.end(u));if(u>0&&(f||i.node(u-1).canReplace(i.index(u-1),s.indexAfter(u-1))))return t.delete(i.before(u),s.after(u))}for(let c=1;c<=i.depth&&c<=s.depth;c++)if(e-i.start(c)==i.depth-c&&n>i.end(c)&&s.end(c)-n!=s.depth-c&&i.start(c-1)==s.start(c-1)&&i.node(c-1).canReplace(i.index(c-1),s.index(c-1)))return t.delete(i.before(c),n);t.delete(e,n)}function Mw(t,e){let n=[],i=Math.min(t.depth,e.depth);for(let s=i;s>=0;s--){let a=t.start(s);if(a<t.pos-(t.depth-s)||e.end(s)>e.pos+(e.depth-s)||t.node(s).type.spec.isolating||e.node(s).type.spec.isolating)break;(a==e.start(s)||s==t.depth&&s==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&s&&e.start(s-1)==a-1)&&n.push(s)}return n}class Ws extends _t{constructor(e,n,i){super(),this.pos=e,this.attr=n,this.value=i}apply(e){let n=e.nodeAt(this.pos);if(!n)return ht.fail("No node at attribute step's position");let i=Object.create(null);for(let a in n.attrs)i[a]=n.attrs[a];i[this.attr]=this.value;let s=n.type.create(i,null,n.marks);return ht.fromReplace(e,this.pos,this.pos+1,new ee(J.from(s),0,n.isLeaf?0:1))}getMap(){return dn.empty}invert(e){return new Ws(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Ws(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new Ws(n.pos,n.attr,n.value)}}_t.jsonID("attr",Ws);class Ra extends _t{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let s in e.attrs)n[s]=e.attrs[s];n[this.attr]=this.value;let i=e.type.create(n,e.content,e.marks);return ht.ok(i)}getMap(){return dn.empty}invert(e){return new Ra(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Ra(n.attr,n.value)}}_t.jsonID("docAttr",Ra);let el=class extends Error{};el=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};el.prototype=Object.create(Error.prototype);el.prototype.constructor=el;el.prototype.name="TransformError";class Ow{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new Oa}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new el(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}changedRange(){let e=1e9,n=-1e9;for(let i=0;i<this.mapping.maps.length;i++){let s=this.mapping.maps[i];i&&(e=s.map(e,1),n=s.map(n,-1)),s.forEach((a,c,u,f)=>{e=Math.min(e,u),n=Math.max(n,f)})}return e==1e9?null:{from:e,to:n}}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,i=ee.empty){let s=Vu(this.doc,e,n,i);return s&&this.step(s),this}replaceWith(e,n,i){return this.replace(e,n,new ee(J.from(i),0,0))}delete(e,n){return this.replace(e,n,ee.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,i){return WM(this,e,n,i),this}replaceRangeWith(e,n,i){return QM(this,e,n,i),this}deleteRange(e,n){return ZM(this,e,n),this}lift(e,n){return BM(this,e,n),this}join(e,n=1){return KM(this,e,n),this}wrap(e,n){return qM(this,e,n),this}setBlockType(e,n=e,i,s=null){return IM(this,e,n,i,s),this}setNodeMarkup(e,n,i=null,s){return VM(this,e,n,i,s),this}setNodeAttribute(e,n,i){return this.step(new Ws(e,n,i)),this}setDocAttribute(e,n){return this.step(new Ra(e,n)),this}addNodeMark(e,n){return this.step(new lr(e,n)),this}removeNodeMark(e,n){let i=this.doc.nodeAt(e);if(!i)throw new RangeError("No node at position "+e);if(n instanceof Pe)n.isInSet(i.marks)&&this.step(new Qr(e,n));else{let s=i.marks,a,c=[];for(;a=n.isInSet(s);)c.push(new Qr(e,a)),s=a.removeFromSet(s);for(let u=c.length-1;u>=0;u--)this.step(c[u])}return this}split(e,n=1,i){return $M(this,e,n,i),this}addMark(e,n,i){return zM(this,e,n,i),this}removeMark(e,n,i){return LM(this,e,n,i),this}clearIncompatible(e,n,i){return rm(this,e,n,i),this}}const qh=Object.create(null);class be{constructor(e,n,i){this.$anchor=e,this.$head=n,this.ranges=i||[new eO(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=ee.empty){let i=n.content.lastChild,s=null;for(let u=0;u<n.openEnd;u++)s=i,i=i.lastChild;let a=e.steps.length,c=this.ranges;for(let u=0;u<c.length;u++){let{$from:f,$to:h}=c[u],p=e.mapping.slice(a);e.replaceRange(p.map(f.pos),p.map(h.pos),u?ee.empty:n),u==0&&Ix(e,a,(i?i.isInline:s&&s.isTextblock)?-1:1)}}replaceWith(e,n){let i=e.steps.length,s=this.ranges;for(let a=0;a<s.length;a++){let{$from:c,$to:u}=s[a],f=e.mapping.slice(i),h=f.map(c.pos),p=f.map(u.pos);a?e.deleteRange(h,p):(e.replaceRangeWith(h,p,n),Ix(e,i,n.isInline?-1:1))}}static findFrom(e,n,i=!1){let s=e.parent.inlineContent?new de(e):Gs(e.node(0),e.parent,e.pos,e.index(),n,i);if(s)return s;for(let a=e.depth-1;a>=0;a--){let c=n<0?Gs(e.node(0),e.node(a),e.before(a+1),e.index(a),n,i):Gs(e.node(0),e.node(a),e.after(a+1),e.index(a)+1,n,i);if(c)return c}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new fn(e.node(0))}static atStart(e){return Gs(e,e,0,0,1)||new fn(e)}static atEnd(e){return Gs(e,e,e.content.size,e.childCount,-1)||new fn(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let i=qh[n.type];if(!i)throw new RangeError(`No selection type ${n.type} defined`);return i.fromJSON(e,n)}static jsonID(e,n){if(e in qh)throw new RangeError("Duplicate use of selection JSON ID "+e);return qh[e]=n,n.prototype.jsonID=e,n}getBookmark(){return de.between(this.$anchor,this.$head).getBookmark()}}be.prototype.visible=!0;class eO{constructor(e,n){this.$from=e,this.$to=n}}let Ux=!1;function qx(t){!Ux&&!t.parent.inlineContent&&(Ux=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class de extends be{constructor(e,n=e){qx(e),qx(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let i=e.resolve(n.map(this.head));if(!i.parent.inlineContent)return be.near(i);let s=e.resolve(n.map(this.anchor));return new de(s.parent.inlineContent?s:i,i)}replace(e,n=ee.empty){if(super.replace(e,n),n==ee.empty){let i=this.$from.marksAcross(this.$to);i&&e.ensureMarks(i)}}eq(e){return e instanceof de&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new $u(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new de(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,i=n){let s=e.resolve(n);return new this(s,i==n?s:e.resolve(i))}static between(e,n,i){let s=e.pos-n.pos;if((!i||s)&&(i=s>=0?1:-1),!n.parent.inlineContent){let a=be.findFrom(n,i,!0)||be.findFrom(n,-i,!0);if(a)n=a.$head;else return be.near(n,i)}return e.parent.inlineContent||(s==0?e=n:(e=(be.findFrom(e,-i,!0)||be.findFrom(e,i,!0)).$anchor,e.pos<n.pos!=s<0&&(e=n))),new de(e,n)}}be.jsonID("text",de);class $u{constructor(e,n){this.anchor=e,this.head=n}map(e){return new $u(e.map(this.anchor),e.map(this.head))}resolve(e){return de.between(e.resolve(this.anchor),e.resolve(this.head))}}class oe extends be{constructor(e){let n=e.nodeAfter,i=e.node(0).resolve(e.pos+n.nodeSize);super(e,i),this.node=n}map(e,n){let{deleted:i,pos:s}=n.mapResult(this.anchor),a=e.resolve(s);return i?be.near(a):new oe(a)}content(){return new ee(J.from(this.node),0,0)}eq(e){return e instanceof oe&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new lm(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new oe(e.resolve(n.anchor))}static create(e,n){return new oe(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}oe.prototype.visible=!1;be.jsonID("node",oe);class lm{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:i}=e.mapResult(this.anchor);return n?new $u(i,i):new lm(i)}resolve(e){let n=e.resolve(this.anchor),i=n.nodeAfter;return i&&oe.isSelectable(i)?new oe(n):be.near(n)}}class fn extends be{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=ee.empty){if(n==ee.empty){e.delete(0,e.doc.content.size);let i=be.atStart(e.doc);i.eq(e.selection)||e.setSelection(i)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new fn(e)}map(e){return new fn(e)}eq(e){return e instanceof fn}getBookmark(){return tO}}be.jsonID("all",fn);const tO={map(){return this},resolve(t){return new fn(t)}};function Gs(t,e,n,i,s,a=!1){if(e.inlineContent)return de.create(t,n);for(let c=i-(s>0?0:1);s>0?c<e.childCount:c>=0;c+=s){let u=e.child(c);if(u.isAtom){if(!a&&oe.isSelectable(u))return oe.create(t,n-(s<0?u.nodeSize:0))}else{let f=Gs(t,u,n+s,s<0?u.childCount:0,s,a);if(f)return f}n+=u.nodeSize*s}return null}function Ix(t,e,n){let i=t.steps.length-1;if(i<e)return;let s=t.steps[i];if(!(s instanceof vt||s instanceof St))return;let a=t.mapping.maps[i],c;a.forEach((u,f,h,p)=>{c==null&&(c=p)}),t.setSelection(be.near(t.doc.resolve(c),n))}const Px=1,wc=2,Vx=4;class nO extends Ow{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|Px)&~wc,this.storedMarks=null,this}get selectionSet(){return(this.updated&Px)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=wc,this}ensureMarks(e){return Pe.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&wc)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&~wc,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let i=this.selection;return n&&(e=e.mark(this.storedMarks||(i.empty?i.$from.marks():i.$from.marksAcross(i.$to)||Pe.none))),i.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,i){let s=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(s.text(e),!0):this.deleteSelection();{if(i==null&&(i=n),!e)return this.deleteRange(n,i);let a=this.storedMarks;if(!a){let c=this.doc.resolve(n);a=i==n?c.marks():c.marksAcross(this.doc.resolve(i))}return this.replaceRangeWith(n,i,s.text(e,a)),!this.selection.empty&&this.selection.to==n+e.length&&this.setSelection(be.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=Vx,this}get scrolledIntoView(){return(this.updated&Vx)>0}}function $x(t,e){return!e||!t?t:t.bind(e)}class pa{constructor(e,n,i){this.name=e,this.init=$x(n.init,i),this.apply=$x(n.apply,i)}}const iO=[new pa("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new pa("selection",{init(t,e){return t.selection||be.atStart(e.doc)},apply(t){return t.selection}}),new pa("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,i){return i.selection.$cursor?t.storedMarks:null}}),new pa("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class Ih{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=iO.slice(),n&&n.forEach(i=>{if(this.pluginsByKey[i.key])throw new RangeError("Adding different instances of a keyed plugin ("+i.key+")");this.plugins.push(i),this.pluginsByKey[i.key]=i,i.spec.state&&this.fields.push(new pa(i.key,i.spec.state,i))})}}class Xs{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let i=0;i<this.config.plugins.length;i++)if(i!=n){let s=this.config.plugins[i];if(s.spec.filterTransaction&&!s.spec.filterTransaction.call(s,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],i=this.applyInner(e),s=null;for(;;){let a=!1;for(let c=0;c<this.config.plugins.length;c++){let u=this.config.plugins[c];if(u.spec.appendTransaction){let f=s?s[c].n:0,h=s?s[c].state:this,p=f<n.length&&u.spec.appendTransaction.call(u,f?n.slice(f):n,h,i);if(p&&i.filterTransaction(p,c)){if(p.setMeta("appendedTransaction",e),!s){s=[];for(let g=0;g<this.config.plugins.length;g++)s.push(g<c?{state:i,n:n.length}:{state:this,n:0})}n.push(p),i=i.applyInner(p),a=!0}s&&(s[c]={state:i,n:n.length})}}if(!a)return{state:i,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new Xs(this.config),i=this.config.fields;for(let s=0;s<i.length;s++){let a=i[s];n[a.name]=a.apply(e,this[a.name],this,n)}return n}get tr(){return new nO(this)}static create(e){let n=new Ih(e.doc?e.doc.type.schema:e.schema,e.plugins),i=new Xs(n);for(let s=0;s<n.fields.length;s++)i[n.fields[s].name]=n.fields[s].init(e,i);return i}reconfigure(e){let n=new Ih(this.schema,e.plugins),i=n.fields,s=new Xs(n);for(let a=0;a<i.length;a++){let c=i[a].name;s[c]=this.hasOwnProperty(c)?this[c]:i[a].init(e,s)}return s}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(i=>i.toJSON())),e&&typeof e=="object")for(let i in e){if(i=="doc"||i=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let s=e[i],a=s.spec.state;a&&a.toJSON&&(n[i]=a.toJSON.call(s,this[s.key]))}return n}static fromJSON(e,n,i){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let s=new Ih(e.schema,e.plugins),a=new Xs(s);return s.fields.forEach(c=>{if(c.name=="doc")a.doc=_n.fromJSON(e.schema,n.doc);else if(c.name=="selection")a.selection=be.fromJSON(a.doc,n.selection);else if(c.name=="storedMarks")n.storedMarks&&(a.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(i)for(let u in i){let f=i[u],h=f.spec.state;if(f.key==c.name&&h&&h.fromJSON&&Object.prototype.hasOwnProperty.call(n,u)){a[c.name]=h.fromJSON.call(f,e,n[u],a);return}}a[c.name]=c.init(e,a)}}),a}}function Rw(t,e,n){for(let i in t){let s=t[i];s instanceof Function?s=s.bind(e):i=="handleDOMEvents"&&(s=Rw(s,e,{})),n[i]=s}return n}class Xe{constructor(e){this.spec=e,this.props={},e.props&&Rw(e.props,this,this.props),this.key=e.key?e.key.key:jw("plugin")}getState(e){return e[this.key]}}const Ph=Object.create(null);function jw(t){return t in Ph?t+"$"+ ++Ph[t]:(Ph[t]=0,t+"$")}class yt{constructor(e="key"){this.key=jw(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const am=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function Dw(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const zw=(t,e,n)=>{let i=Dw(t,n);if(!i)return!1;let s=om(i);if(!s){let c=i.blockRange(),u=c&&ul(c);return u==null?!1:(e&&e(t.tr.lift(c,u).scrollIntoView()),!0)}let a=s.nodeBefore;if(Vw(t,s,e,-1))return!0;if(i.parent.content.size==0&&(tl(a,"end")||oe.isSelectable(a)))for(let c=i.depth;;c--){let u=Vu(t.doc,i.before(c),i.after(c),ee.empty);if(u&&u.slice.size<u.to-u.from){if(e){let f=t.tr.step(u);f.setSelection(tl(a,"end")?be.findFrom(f.doc.resolve(f.mapping.map(s.pos,-1)),-1):oe.create(f.doc,s.pos-a.nodeSize)),e(f.scrollIntoView())}return!0}if(c==1||i.node(c-1).childCount>1)break}return a.isAtom&&s.depth==i.depth-1?(e&&e(t.tr.delete(s.pos-a.nodeSize,s.pos).scrollIntoView()),!0):!1},rO=(t,e,n)=>{let i=Dw(t,n);if(!i)return!1;let s=om(i);return s?Lw(t,s,e):!1},sO=(t,e,n)=>{let i=Bw(t,n);if(!i)return!1;let s=cm(i);return s?Lw(t,s,e):!1};function Lw(t,e,n){let i=e.nodeBefore,s=i,a=e.pos-1;for(;!s.isTextblock;a--){if(s.type.spec.isolating)return!1;let p=s.lastChild;if(!p)return!1;s=p}let c=e.nodeAfter,u=c,f=e.pos+1;for(;!u.isTextblock;f++){if(u.type.spec.isolating)return!1;let p=u.firstChild;if(!p)return!1;u=p}let h=Vu(t.doc,a,f,ee.empty);if(!h||h.from!=a||h instanceof vt&&h.slice.size>=f-a)return!1;if(n){let p=t.tr.step(h);p.setSelection(de.create(p.doc,a)),n(p.scrollIntoView())}return!0}function tl(t,e,n=!1){for(let i=t;i;i=e=="start"?i.firstChild:i.lastChild){if(i.isTextblock)return!0;if(n&&i.childCount!=1)return!1}return!1}const _w=(t,e,n)=>{let{$head:i,empty:s}=t.selection,a=i;if(!s)return!1;if(i.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):i.parentOffset>0)return!1;a=om(i)}let c=a&&a.nodeBefore;return!c||!oe.isSelectable(c)?!1:(e&&e(t.tr.setSelection(oe.create(t.doc,a.pos-c.nodeSize)).scrollIntoView()),!0)};function om(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function Bw(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const Hw=(t,e,n)=>{let i=Bw(t,n);if(!i)return!1;let s=cm(i);if(!s)return!1;let a=s.nodeAfter;if(Vw(t,s,e,1))return!0;if(i.parent.content.size==0&&(tl(a,"start")||oe.isSelectable(a))){let c=Vu(t.doc,i.before(),i.after(),ee.empty);if(c&&c.slice.size<c.to-c.from){if(e){let u=t.tr.step(c);u.setSelection(tl(a,"start")?be.findFrom(u.doc.resolve(u.mapping.map(s.pos)),1):oe.create(u.doc,u.mapping.map(s.pos))),e(u.scrollIntoView())}return!0}}return a.isAtom&&s.depth==i.depth-1?(e&&e(t.tr.delete(s.pos,s.pos+a.nodeSize).scrollIntoView()),!0):!1},Uw=(t,e,n)=>{let{$head:i,empty:s}=t.selection,a=i;if(!s)return!1;if(i.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):i.parentOffset<i.parent.content.size)return!1;a=cm(i)}let c=a&&a.nodeAfter;return!c||!oe.isSelectable(c)?!1:(e&&e(t.tr.setSelection(oe.create(t.doc,a.pos)).scrollIntoView()),!0)};function cm(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const lO=(t,e)=>{let n=t.selection,i=n instanceof oe,s;if(i){if(n.node.isTextblock||!pr(t.doc,n.from))return!1;s=n.from}else if(s=Pu(t.doc,n.from,-1),s==null)return!1;if(e){let a=t.tr.join(s);i&&a.setSelection(oe.create(a.doc,s-t.doc.resolve(s).nodeBefore.nodeSize)),e(a.scrollIntoView())}return!0},aO=(t,e)=>{let n=t.selection,i;if(n instanceof oe){if(n.node.isTextblock||!pr(t.doc,n.to))return!1;i=n.to}else if(i=Pu(t.doc,n.to,1),i==null)return!1;return e&&e(t.tr.join(i).scrollIntoView()),!0},oO=(t,e)=>{let{$from:n,$to:i}=t.selection,s=n.blockRange(i),a=s&&ul(s);return a==null?!1:(e&&e(t.tr.lift(s,a).scrollIntoView()),!0)},qw=(t,e)=>{let{$head:n,$anchor:i}=t.selection;return!n.parent.type.spec.code||!n.sameParent(i)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function um(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const cO=(t,e)=>{let{$head:n,$anchor:i}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(i))return!1;let s=n.node(-1),a=n.indexAfter(-1),c=um(s.contentMatchAt(a));if(!c||!s.canReplaceWith(a,a,c))return!1;if(e){let u=n.after(),f=t.tr.replaceWith(u,u,c.createAndFill());f.setSelection(be.near(f.doc.resolve(u),1)),e(f.scrollIntoView())}return!0},Iw=(t,e)=>{let n=t.selection,{$from:i,$to:s}=n;if(n instanceof fn||i.parent.inlineContent||s.parent.inlineContent)return!1;let a=um(s.parent.contentMatchAt(s.indexAfter()));if(!a||!a.isTextblock)return!1;if(e){let c=(!i.parentOffset&&s.index()<s.parent.childCount?i:s).pos,u=t.tr.insert(c,a.createAndFill());u.setSelection(de.create(u.doc,c+1)),e(u.scrollIntoView())}return!0},Pw=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let a=n.before();if(Si(t.doc,a))return e&&e(t.tr.split(a).scrollIntoView()),!0}let i=n.blockRange(),s=i&&ul(i);return s==null?!1:(e&&e(t.tr.lift(i,s).scrollIntoView()),!0)};function uO(t){return(e,n)=>{let{$from:i,$to:s}=e.selection;if(e.selection instanceof oe&&e.selection.node.isBlock)return!i.parentOffset||!Si(e.doc,i.pos)?!1:(n&&n(e.tr.split(i.pos).scrollIntoView()),!0);if(!i.depth)return!1;let a=[],c,u,f=!1,h=!1;for(let v=i.depth;;v--)if(i.node(v).isBlock){f=i.end(v)==i.pos+(i.depth-v),h=i.start(v)==i.pos-(i.depth-v),u=um(i.node(v-1).contentMatchAt(i.indexAfter(v-1))),a.unshift(f&&u?{type:u}:null),c=v;break}else{if(v==1)return!1;a.unshift(null)}let p=e.tr;(e.selection instanceof de||e.selection instanceof fn)&&p.deleteSelection();let g=p.mapping.map(i.pos),x=Si(p.doc,g,a.length,a);if(x||(a[0]=u?{type:u}:null,x=Si(p.doc,g,a.length,a)),!x)return!1;if(p.split(g,a.length,a),!f&&h&&i.node(c).type!=u){let v=p.mapping.map(i.before(c)),w=p.doc.resolve(v);u&&i.node(c-1).canReplaceWith(w.index(),w.index()+1,u)&&p.setNodeMarkup(p.mapping.map(i.before(c)),u)}return n&&n(p.scrollIntoView()),!0}}const dO=uO(),fO=(t,e)=>{let{$from:n,to:i}=t.selection,s,a=n.sharedDepth(i);return a==0?!1:(s=n.before(a),e&&e(t.tr.setSelection(oe.create(t.doc,s))),!0)};function hO(t,e,n){let i=e.nodeBefore,s=e.nodeAfter,a=e.index();return!i||!s||!i.type.compatibleContent(s.type)?!1:!i.content.size&&e.parent.canReplace(a-1,a)?(n&&n(t.tr.delete(e.pos-i.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(a,a+1)||!(s.isTextblock||pr(t.doc,e.pos))?!1:(n&&n(t.tr.join(e.pos).scrollIntoView()),!0)}function Vw(t,e,n,i){let s=e.nodeBefore,a=e.nodeAfter,c,u,f=s.type.spec.isolating||a.type.spec.isolating;if(!f&&hO(t,e,n))return!0;let h=!f&&e.parent.canReplace(e.index(),e.index()+1);if(h&&(c=(u=s.contentMatchAt(s.childCount)).findWrapping(a.type))&&u.matchType(c[0]||a.type).validEnd){if(n){let v=e.pos+a.nodeSize,w=J.empty;for(let T=c.length-1;T>=0;T--)w=J.from(c[T].create(null,w));w=J.from(s.copy(w));let k=t.tr.step(new St(e.pos-1,v,e.pos,v,new ee(w,1,0),c.length,!0)),E=k.doc.resolve(v+2*c.length);E.nodeAfter&&E.nodeAfter.type==s.type&&pr(k.doc,E.pos)&&k.join(E.pos),n(k.scrollIntoView())}return!0}let p=a.type.spec.isolating||i>0&&f?null:be.findFrom(e,1),g=p&&p.$from.blockRange(p.$to),x=g&&ul(g);if(x!=null&&x>=e.depth)return n&&n(t.tr.lift(g,x).scrollIntoView()),!0;if(h&&tl(a,"start",!0)&&tl(s,"end")){let v=s,w=[];for(;w.push(v),!v.isTextblock;)v=v.lastChild;let k=a,E=1;for(;!k.isTextblock;k=k.firstChild)E++;if(v.canReplace(v.childCount,v.childCount,k.content)){if(n){let T=J.empty;for(let j=w.length-1;j>=0;j--)T=J.from(w[j].copy(T));let A=t.tr.step(new St(e.pos-w.length,e.pos+a.nodeSize,e.pos+E,e.pos+a.nodeSize-E,new ee(T,w.length,0),0,!0));n(A.scrollIntoView())}return!0}}return!1}function $w(t){return function(e,n){let i=e.selection,s=t<0?i.$from:i.$to,a=s.depth;for(;s.node(a).isInline;){if(!a)return!1;a--}return s.node(a).isTextblock?(n&&n(e.tr.setSelection(de.create(e.doc,t<0?s.start(a):s.end(a)))),!0):!1}}const pO=$w(-1),mO=$w(1);function gO(t,e=null){return function(n,i){let{$from:s,$to:a}=n.selection,c=s.blockRange(a),u=c&&sm(c,t,e);return u?(i&&i(n.tr.wrap(c,u).scrollIntoView()),!0):!1}}function Fx(t,e=null){return function(n,i){let s=!1;for(let a=0;a<n.selection.ranges.length&&!s;a++){let{$from:{pos:c},$to:{pos:u}}=n.selection.ranges[a];n.doc.nodesBetween(c,u,(f,h)=>{if(s)return!1;if(!(!f.isTextblock||f.hasMarkup(t,e)))if(f.type==t)s=!0;else{let p=n.doc.resolve(h),g=p.index();s=p.parent.canReplaceWith(g,g+1,t)}})}if(!s)return!1;if(i){let a=n.tr;for(let c=0;c<n.selection.ranges.length;c++){let{$from:{pos:u},$to:{pos:f}}=n.selection.ranges[c];a.setBlockType(u,f,t,e)}i(a.scrollIntoView())}return!0}}function dm(...t){return function(e,n,i){for(let s=0;s<t.length;s++)if(t[s](e,n,i))return!0;return!1}}dm(am,zw,_w);dm(am,Hw,Uw);dm(qw,Iw,Pw,dO);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function yO(t,e=null){return function(n,i){let{$from:s,$to:a}=n.selection,c=s.blockRange(a);if(!c)return!1;let u=i?n.tr:null;return bO(u,c,t,e)?(i&&i(u.scrollIntoView()),!0):!1}}function bO(t,e,n,i=null){let s=!1,a=e,c=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(n)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let f=c.resolve(e.start-2);a=new Gc(f,f,e.depth),e.endIndex<e.parent.childCount&&(e=new Gc(e.$from,c.resolve(e.$to.end(e.depth)),e.depth)),s=!0}let u=sm(a,n,i,e);return u?(t&&xO(t,e,u,s,n),!0):!1}function xO(t,e,n,i,s){let a=J.empty;for(let p=n.length-1;p>=0;p--)a=J.from(n[p].type.create(n[p].attrs,a));t.step(new St(e.start-(i?2:0),e.end,e.start,e.end,new ee(a,0,0),n.length,!0));let c=0;for(let p=0;p<n.length;p++)n[p].type==s&&(c=p+1);let u=n.length-c,f=e.start+n.length-(i?2:0),h=e.parent;for(let p=e.startIndex,g=e.endIndex,x=!0;p<g;p++,x=!1)!x&&Si(t.doc,f,u)&&(t.split(f,u),f+=2*u),f+=h.child(p).nodeSize;return t}function vO(t){return function(e,n){let{$from:i,$to:s}=e.selection,a=i.blockRange(s,c=>c.childCount>0&&c.firstChild.type==t);return a?n?i.node(a.depth-1).type==t?wO(e,n,t,a):SO(e,n,a):!0:!1}}function wO(t,e,n,i){let s=t.tr,a=i.end,c=i.$to.end(i.depth);a<c&&(s.step(new St(a-1,c,a,c,new ee(J.from(n.create(null,i.parent.copy())),1,0),1,!0)),i=new Gc(s.doc.resolve(i.$from.pos),s.doc.resolve(c),i.depth));const u=ul(i);if(u==null)return!1;s.lift(i,u);let f=s.doc.resolve(s.mapping.map(a,-1)-1);return pr(s.doc,f.pos)&&f.nodeBefore.type==f.nodeAfter.type&&s.join(f.pos),e(s.scrollIntoView()),!0}function SO(t,e,n){let i=t.tr,s=n.parent;for(let v=n.end,w=n.endIndex-1,k=n.startIndex;w>k;w--)v-=s.child(w).nodeSize,i.delete(v-1,v+1);let a=i.doc.resolve(n.start),c=a.nodeAfter;if(i.mapping.map(n.end)!=n.start+a.nodeAfter.nodeSize)return!1;let u=n.startIndex==0,f=n.endIndex==s.childCount,h=a.node(-1),p=a.index(-1);if(!h.canReplace(p+(u?0:1),p+1,c.content.append(f?J.empty:J.from(s))))return!1;let g=a.pos,x=g+c.nodeSize;return i.step(new St(g-(u?1:0),x+(f?1:0),g+1,x-1,new ee((u?J.empty:J.from(s.copy(J.empty))).append(f?J.empty:J.from(s.copy(J.empty))),u?0:1,f?0:1),u?0:1)),e(i.scrollIntoView()),!0}function kO(t){return function(e,n){let{$from:i,$to:s}=e.selection,a=i.blockRange(s,h=>h.childCount>0&&h.firstChild.type==t);if(!a)return!1;let c=a.startIndex;if(c==0)return!1;let u=a.parent,f=u.child(c-1);if(f.type!=t)return!1;if(n){let h=f.lastChild&&f.lastChild.type==u.type,p=J.from(h?t.create():null),g=new ee(J.from(t.create(null,J.from(u.type.create(null,p)))),h?3:1,0),x=a.start,v=a.end;n(e.tr.step(new St(x-(h?3:1),v,x,v,g,1,!0)).scrollIntoView())}return!0}}const Ot=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},nl=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let Sp=null;const xi=function(t,e,n){let i=Sp||(Sp=document.createRange());return i.setEnd(t,n??t.nodeValue.length),i.setStart(t,e||0),i},EO=function(){Sp=null},Zr=function(t,e,n,i){return n&&(Kx(t,e,n,i,-1)||Kx(t,e,n,i,1))},NO=/^(img|br|input|textarea|hr)$/i;function Kx(t,e,n,i,s){for(var a;;){if(t==n&&e==i)return!0;if(e==(s<0?0:Cn(t))){let c=t.parentNode;if(!c||c.nodeType!=1||Ya(t)||NO.test(t.nodeName)||t.contentEditable=="false")return!1;e=Ot(t)+(s<0?0:1),t=c}else if(t.nodeType==1){let c=t.childNodes[e+(s<0?-1:0)];if(c.nodeType==1&&c.contentEditable=="false")if(!((a=c.pmViewDesc)===null||a===void 0)&&a.ignoreForSelection)e+=s;else return!1;else t=c,e=s<0?Cn(t):0}else return!1}}function Cn(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function TO(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=Cn(t)}else if(t.parentNode&&!Ya(t))e=Ot(t),t=t.parentNode;else return null}}function CO(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!Ya(t))e=Ot(t)+1,t=t.parentNode;else return null}}function AO(t,e,n){for(let i=e==0,s=e==Cn(t);i||s;){if(t==n)return!0;let a=Ot(t);if(t=t.parentNode,!t)return!1;i=i&&a==0,s=s&&a==Cn(t)}}function Ya(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const Fu=function(t){return t.focusNode&&Zr(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function Br(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function MO(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function OO(t,e,n){if(t.caretPositionFromPoint)try{let i=t.caretPositionFromPoint(e,n);if(i)return{node:i.offsetNode,offset:Math.min(Cn(i.offsetNode),i.offset)}}catch{}if(t.caretRangeFromPoint){let i=t.caretRangeFromPoint(e,n);if(i)return{node:i.startContainer,offset:Math.min(Cn(i.startContainer),i.startOffset)}}}const Yn=typeof navigator<"u"?navigator:null,Gx=typeof document<"u"?document:null,mr=Yn&&Yn.userAgent||"",kp=/Edge\/(\d+)/.exec(mr),Fw=/MSIE \d/.exec(mr),Ep=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(mr),Zt=!!(Fw||Ep||kp),cr=Fw?document.documentMode:Ep?+Ep[1]:kp?+kp[1]:0,An=!Zt&&/gecko\/(\d+)/i.test(mr);An&&+(/Firefox\/(\d+)/.exec(mr)||[0,0])[1];const Np=!Zt&&/Chrome\/(\d+)/.exec(mr),wt=!!Np,Kw=Np?+Np[1]:0,jt=!Zt&&!!Yn&&/Apple Computer/.test(Yn.vendor),il=jt&&(/Mobile\/\w+/.test(mr)||!!Yn&&Yn.maxTouchPoints>2),Tn=il||(Yn?/Mac/.test(Yn.platform):!1),Gw=Yn?/Win/.test(Yn.platform):!1,vi=/Android \d/.test(mr),Ja=!!Gx&&"webkitFontSmoothing"in Gx.documentElement.style,RO=Ja?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function jO(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function mi(t,e){return typeof t=="number"?t:t[e]}function DO(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,i=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*i}}function Yx(t,e,n){let i=t.someProp("scrollThreshold")||0,s=t.someProp("scrollMargin")||5,a=t.dom.ownerDocument;for(let c=n||t.dom;c;){if(c.nodeType!=1){c=nl(c);continue}let u=c,f=u==a.body,h=f?jO(a):DO(u),p=0,g=0;if(e.top<h.top+mi(i,"top")?g=-(h.top-e.top+mi(s,"top")):e.bottom>h.bottom-mi(i,"bottom")&&(g=e.bottom-e.top>h.bottom-h.top?e.top+mi(s,"top")-h.top:e.bottom-h.bottom+mi(s,"bottom")),e.left<h.left+mi(i,"left")?p=-(h.left-e.left+mi(s,"left")):e.right>h.right-mi(i,"right")&&(p=e.right-h.right+mi(s,"right")),p||g)if(f)a.defaultView.scrollBy(p,g);else{let v=u.scrollLeft,w=u.scrollTop;g&&(u.scrollTop+=g),p&&(u.scrollLeft+=p);let k=u.scrollLeft-v,E=u.scrollTop-w;e={left:e.left-k,top:e.top-E,right:e.right-k,bottom:e.bottom-E}}let x=f?"fixed":getComputedStyle(c).position;if(/^(fixed|sticky)$/.test(x))break;c=x=="absolute"?c.offsetParent:nl(c)}}function zO(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),i,s;for(let a=(e.left+e.right)/2,c=n+1;c<Math.min(innerHeight,e.bottom);c+=5){let u=t.root.elementFromPoint(a,c);if(!u||u==t.dom||!t.dom.contains(u))continue;let f=u.getBoundingClientRect();if(f.top>=n-20){i=u,s=f.top;break}}return{refDOM:i,refTop:s,stack:Yw(t.dom)}}function Yw(t){let e=[],n=t.ownerDocument;for(let i=t;i&&(e.push({dom:i,top:i.scrollTop,left:i.scrollLeft}),t!=n);i=nl(i));return e}function LO({refDOM:t,refTop:e,stack:n}){let i=t?t.getBoundingClientRect().top:0;Jw(n,i==0?0:i-e)}function Jw(t,e){for(let n=0;n<t.length;n++){let{dom:i,top:s,left:a}=t[n];i.scrollTop!=s+e&&(i.scrollTop=s+e),i.scrollLeft!=a&&(i.scrollLeft=a)}}let Fs=null;function _O(t){if(t.setActive)return t.setActive();if(Fs)return t.focus(Fs);let e=Yw(t);t.focus(Fs==null?{get preventScroll(){return Fs={preventScroll:!0},!0}}:void 0),Fs||(Fs=!1,Jw(e,0))}function Xw(t,e){let n,i=2e8,s,a=0,c=e.top,u=e.top,f,h;for(let p=t.firstChild,g=0;p;p=p.nextSibling,g++){let x;if(p.nodeType==1)x=p.getClientRects();else if(p.nodeType==3)x=xi(p).getClientRects();else continue;for(let v=0;v<x.length;v++){let w=x[v];if(w.top<=c&&w.bottom>=u){c=Math.max(w.bottom,c),u=Math.min(w.top,u);let k=w.left>e.left?w.left-e.left:w.right<e.left?e.left-w.right:0;if(k<i){n=p,i=k,s=k&&n.nodeType==3?{left:w.right<e.left?w.right:w.left,top:e.top}:e,p.nodeType==1&&k&&(a=g+(e.left>=(w.left+w.right)/2?1:0));continue}}else w.top>e.top&&!f&&w.left<=e.left&&w.right>=e.left&&(f=p,h={left:Math.max(w.left,Math.min(w.right,e.left)),top:w.top});!n&&(e.left>=w.right&&e.top>=w.top||e.left>=w.left&&e.top>=w.bottom)&&(a=g+1)}}return!n&&f&&(n=f,s=h,i=0),n&&n.nodeType==3?BO(n,s):!n||i&&n.nodeType==1?{node:t,offset:a}:Xw(n,s)}function BO(t,e){let n=t.nodeValue.length,i=document.createRange(),s;for(let a=0;a<n;a++){i.setEnd(t,a+1),i.setStart(t,a);let c=Zi(i,1);if(c.top!=c.bottom&&fm(e,c)){s={node:t,offset:a+(e.left>=(c.left+c.right)/2?1:0)};break}}return i.detach(),s||{node:t,offset:0}}function fm(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function HO(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function UO(t,e,n){let{node:i,offset:s}=Xw(e,n),a=-1;if(i.nodeType==1&&!i.firstChild){let c=i.getBoundingClientRect();a=c.left!=c.right&&n.left>(c.left+c.right)/2?1:-1}return t.docView.posFromDOM(i,s,a)}function qO(t,e,n,i){let s=-1;for(let a=e,c=!1;a!=t.dom;){let u=t.docView.nearestDesc(a,!0),f;if(!u)return null;if(u.dom.nodeType==1&&(u.node.isBlock&&u.parent||!u.contentDOM)&&((f=u.dom.getBoundingClientRect()).width||f.height)&&(u.node.isBlock&&u.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(u.dom.nodeName)&&(!c&&f.left>i.left||f.top>i.top?s=u.posBefore:(!c&&f.right<i.left||f.bottom<i.top)&&(s=u.posAfter),c=!0),!u.contentDOM&&s<0&&!u.node.isText))return(u.node.isBlock?i.top<(f.top+f.bottom)/2:i.left<(f.left+f.right)/2)?u.posBefore:u.posAfter;a=u.dom.parentNode}return s>-1?s:t.docView.posFromDOM(e,n,-1)}function Ww(t,e,n){let i=t.childNodes.length;if(i&&n.top<n.bottom)for(let s=Math.max(0,Math.min(i-1,Math.floor(i*(e.top-n.top)/(n.bottom-n.top))-2)),a=s;;){let c=t.childNodes[a];if(c.nodeType==1){let u=c.getClientRects();for(let f=0;f<u.length;f++){let h=u[f];if(fm(e,h))return Ww(c,e,h)}}if((a=(a+1)%i)==s)break}return t}function IO(t,e){let n=t.dom.ownerDocument,i,s=0,a=OO(n,e.left,e.top);a&&({node:i,offset:s}=a);let c=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),u;if(!c||!t.dom.contains(c.nodeType!=1?c.parentNode:c)){let h=t.dom.getBoundingClientRect();if(!fm(e,h)||(c=Ww(t.dom,e,h),!c))return null}if(jt)for(let h=c;i&&h;h=nl(h))h.draggable&&(i=void 0);if(c=HO(c,e),i){if(An&&i.nodeType==1&&(s=Math.min(s,i.childNodes.length),s<i.childNodes.length)){let p=i.childNodes[s],g;p.nodeName=="IMG"&&(g=p.getBoundingClientRect()).right<=e.left&&g.bottom>e.top&&s++}let h;Ja&&s&&i.nodeType==1&&(h=i.childNodes[s-1]).nodeType==1&&h.contentEditable=="false"&&h.getBoundingClientRect().top>=e.top&&s--,i==t.dom&&s==i.childNodes.length-1&&i.lastChild.nodeType==1&&e.top>i.lastChild.getBoundingClientRect().bottom?u=t.state.doc.content.size:(s==0||i.nodeType!=1||i.childNodes[s-1].nodeName!="BR")&&(u=qO(t,i,s,e))}u==null&&(u=UO(t,c,e));let f=t.docView.nearestDesc(c,!0);return{pos:u,inside:f?f.posAtStart-f.border:-1}}function Jx(t){return t.top<t.bottom||t.left<t.right}function Zi(t,e){let n=t.getClientRects();if(n.length){let i=n[e<0?0:n.length-1];if(Jx(i))return i}return Array.prototype.find.call(n,Jx)||t.getBoundingClientRect()}const PO=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function Qw(t,e,n){let{node:i,offset:s,atom:a}=t.docView.domFromPos(e,n<0?-1:1),c=Ja||An;if(i.nodeType==3)if(c&&(PO.test(i.nodeValue)||(n<0?!s:s==i.nodeValue.length))){let f=Zi(xi(i,s,s),n);if(An&&s&&/\s/.test(i.nodeValue[s-1])&&s<i.nodeValue.length){let h=Zi(xi(i,s-1,s-1),-1);if(h.top==f.top){let p=Zi(xi(i,s,s+1),-1);if(p.top!=f.top)return oa(p,p.left<h.left)}}return f}else{let f=s,h=s,p=n<0?1:-1;return n<0&&!s?(h++,p=-1):n>=0&&s==i.nodeValue.length?(f--,p=1):n<0?f--:h++,oa(Zi(xi(i,f,h),p),p<0)}if(!t.state.doc.resolve(e-(a||0)).parent.inlineContent){if(a==null&&s&&(n<0||s==Cn(i))){let f=i.childNodes[s-1];if(f.nodeType==1)return Vh(f.getBoundingClientRect(),!1)}if(a==null&&s<Cn(i)){let f=i.childNodes[s];if(f.nodeType==1)return Vh(f.getBoundingClientRect(),!0)}return Vh(i.getBoundingClientRect(),n>=0)}if(a==null&&s&&(n<0||s==Cn(i))){let f=i.childNodes[s-1],h=f.nodeType==3?xi(f,Cn(f)-(c?0:1)):f.nodeType==1&&(f.nodeName!="BR"||!f.nextSibling)?f:null;if(h)return oa(Zi(h,1),!1)}if(a==null&&s<Cn(i)){let f=i.childNodes[s];for(;f.pmViewDesc&&f.pmViewDesc.ignoreForCoords;)f=f.nextSibling;let h=f?f.nodeType==3?xi(f,0,c?0:1):f.nodeType==1?f:null:null;if(h)return oa(Zi(h,-1),!0)}return oa(Zi(i.nodeType==3?xi(i):i,-n),n>=0)}function oa(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function Vh(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function Zw(t,e,n){let i=t.state,s=t.root.activeElement;i!=e&&t.updateState(e),s!=t.dom&&t.focus();try{return n()}finally{i!=e&&t.updateState(i),s!=t.dom&&s&&s.focus()}}function VO(t,e,n){let i=e.selection,s=n=="up"?i.$from:i.$to;return Zw(t,e,()=>{let{node:a}=t.docView.domFromPos(s.pos,n=="up"?-1:1);for(;;){let u=t.docView.nearestDesc(a,!0);if(!u)break;if(u.node.isBlock){a=u.contentDOM||u.dom;break}a=u.dom.parentNode}let c=Qw(t,s.pos,1);for(let u=a.firstChild;u;u=u.nextSibling){let f;if(u.nodeType==1)f=u.getClientRects();else if(u.nodeType==3)f=xi(u,0,u.nodeValue.length).getClientRects();else continue;for(let h=0;h<f.length;h++){let p=f[h];if(p.bottom>p.top+1&&(n=="up"?c.top-p.top>(p.bottom-c.top)*2:p.bottom-c.bottom>(c.bottom-p.top)*2))return!1}}return!0})}const $O=/[\u0590-\u08ac]/;function FO(t,e,n){let{$head:i}=e.selection;if(!i.parent.isTextblock)return!1;let s=i.parentOffset,a=!s,c=s==i.parent.content.size,u=t.domSelection();return u?!$O.test(i.parent.textContent)||!u.modify?n=="left"||n=="backward"?a:c:Zw(t,e,()=>{let{focusNode:f,focusOffset:h,anchorNode:p,anchorOffset:g}=t.domSelectionRange(),x=u.caretBidiLevel;u.modify("move",n,"character");let v=i.depth?t.docView.domAfterPos(i.before()):t.dom,{focusNode:w,focusOffset:k}=t.domSelectionRange(),E=w&&!v.contains(w.nodeType==1?w:w.parentNode)||f==w&&h==k;try{u.collapse(p,g),f&&(f!=p||h!=g)&&u.extend&&u.extend(f,h)}catch{}return x!=null&&(u.caretBidiLevel=x),E}):i.pos==i.start()||i.pos==i.end()}let Xx=null,Wx=null,Qx=!1;function KO(t,e,n){return Xx==e&&Wx==n?Qx:(Xx=e,Wx=n,Qx=n=="up"||n=="down"?VO(t,e,n):FO(t,e,n))}const Mn=0,Zx=1,Ur=2,Jn=3;class Xa{constructor(e,n,i,s){this.parent=e,this.children=n,this.dom=i,this.contentDOM=s,this.dirty=Mn,i.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,i){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,i=this.posAtStart;;n++){let s=this.children[n];if(s==e)return i;i+=s.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,i){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(i<0){let a,c;if(e==this.contentDOM)a=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;a=e.previousSibling}for(;a&&!((c=a.pmViewDesc)&&c.parent==this);)a=a.previousSibling;return a?this.posBeforeChild(c)+c.size:this.posAtStart}else{let a,c;if(e==this.contentDOM)a=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;a=e.nextSibling}for(;a&&!((c=a.pmViewDesc)&&c.parent==this);)a=a.nextSibling;return a?this.posBeforeChild(c):this.posAtEnd}let s;if(e==this.dom&&this.contentDOM)s=n>Ot(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))s=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let a=e;;a=a.parentNode){if(a==this.dom){s=!1;break}if(a.previousSibling)break}if(s==null&&n==e.childNodes.length)for(let a=e;;a=a.parentNode){if(a==this.dom){s=!0;break}if(a.nextSibling)break}}return s??i>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let i=!0,s=e;s;s=s.parentNode){let a=this.getDesc(s),c;if(a&&(!n||a.node))if(i&&(c=a.nodeDOM)&&!(c.nodeType==1?c.contains(e.nodeType==1?e:e.parentNode):c==e))i=!1;else return a}}getDesc(e){let n=e.pmViewDesc;for(let i=n;i;i=i.parent)if(i==this)return n}posFromDOM(e,n,i){for(let s=e;s;s=s.parentNode){let a=this.getDesc(s);if(a)return a.localPosFromDOM(e,n,i)}return-1}descAt(e){for(let n=0,i=0;n<this.children.length;n++){let s=this.children[n],a=i+s.size;if(i==e&&a!=i){for(;!s.border&&s.children.length;)for(let c=0;c<s.children.length;c++){let u=s.children[c];if(u.size){s=u;break}}return s}if(e<a)return s.descAt(e-i-s.border);i=a}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let i=0,s=0;for(let a=0;i<this.children.length;i++){let c=this.children[i],u=a+c.size;if(u>e||c instanceof tS){s=e-a;break}a=u}if(s)return this.children[i].domFromPos(s-this.children[i].border,n);for(let a;i&&!(a=this.children[i-1]).size&&a instanceof eS&&a.side>=0;i--);if(n<=0){let a,c=!0;for(;a=i?this.children[i-1]:null,!(!a||a.dom.parentNode==this.contentDOM);i--,c=!1);return a&&n&&c&&!a.border&&!a.domAtom?a.domFromPos(a.size,n):{node:this.contentDOM,offset:a?Ot(a.dom)+1:0}}else{let a,c=!0;for(;a=i<this.children.length?this.children[i]:null,!(!a||a.dom.parentNode==this.contentDOM);i++,c=!1);return a&&c&&!a.border&&!a.domAtom?a.domFromPos(0,n):{node:this.contentDOM,offset:a?Ot(a.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,i=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let s=-1,a=-1;for(let c=i,u=0;;u++){let f=this.children[u],h=c+f.size;if(s==-1&&e<=h){let p=c+f.border;if(e>=p&&n<=h-f.border&&f.node&&f.contentDOM&&this.contentDOM.contains(f.contentDOM))return f.parseRange(e,n,p);e=c;for(let g=u;g>0;g--){let x=this.children[g-1];if(x.size&&x.dom.parentNode==this.contentDOM&&!x.emptyChildAt(1)){s=Ot(x.dom)+1;break}e-=x.size}s==-1&&(s=0)}if(s>-1&&(h>n||u==this.children.length-1)){n=h;for(let p=u+1;p<this.children.length;p++){let g=this.children[p];if(g.size&&g.dom.parentNode==this.contentDOM&&!g.emptyChildAt(-1)){a=Ot(g.dom);break}n+=g.size}a==-1&&(a=this.contentDOM.childNodes.length);break}c=h}return{node:this.contentDOM,from:e,to:n,fromOffset:s,toOffset:a}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:i}=this.domFromPos(e,0);if(n.nodeType!=1||i==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[i]}setSelection(e,n,i,s=!1){let a=Math.min(e,n),c=Math.max(e,n);for(let v=0,w=0;v<this.children.length;v++){let k=this.children[v],E=w+k.size;if(a>w&&c<E)return k.setSelection(e-w-k.border,n-w-k.border,i,s);w=E}let u=this.domFromPos(e,e?-1:1),f=n==e?u:this.domFromPos(n,n?-1:1),h=i.root.getSelection(),p=i.domSelectionRange(),g=!1;if((An||jt)&&e==n){let{node:v,offset:w}=u;if(v.nodeType==3){if(g=!!(w&&v.nodeValue[w-1]==`
`),g&&w==v.nodeValue.length)for(let k=v,E;k;k=k.parentNode){if(E=k.nextSibling){E.nodeName=="BR"&&(u=f={node:E.parentNode,offset:Ot(E)+1});break}let T=k.pmViewDesc;if(T&&T.node&&T.node.isBlock)break}}else{let k=v.childNodes[w-1];g=k&&(k.nodeName=="BR"||k.contentEditable=="false")}}if(An&&p.focusNode&&p.focusNode!=f.node&&p.focusNode.nodeType==1){let v=p.focusNode.childNodes[p.focusOffset];v&&v.contentEditable=="false"&&(s=!0)}if(!(s||g&&jt)&&Zr(u.node,u.offset,p.anchorNode,p.anchorOffset)&&Zr(f.node,f.offset,p.focusNode,p.focusOffset))return;let x=!1;if((h.extend||e==n)&&!(g&&An)){h.collapse(u.node,u.offset);try{e!=n&&h.extend(f.node,f.offset),x=!0}catch{}}if(!x){if(e>n){let w=u;u=f,f=w}let v=document.createRange();v.setEnd(f.node,f.offset),v.setStart(u.node,u.offset),h.removeAllRanges(),h.addRange(v)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let i=0,s=0;s<this.children.length;s++){let a=this.children[s],c=i+a.size;if(i==c?e<=c&&n>=i:e<c&&n>i){let u=i+a.border,f=c-a.border;if(e>=u&&n<=f){this.dirty=e==i||n==c?Ur:Zx,e==u&&n==f&&(a.contentLost||a.dom.parentNode!=this.contentDOM)?a.dirty=Jn:a.markDirty(e-u,n-u);return}else a.dirty=a.dom==a.contentDOM&&a.dom.parentNode==this.contentDOM&&!a.children.length?Ur:Jn}i=c}this.dirty=Ur}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let i=e==1?Ur:Zx;n.dirty<i&&(n.dirty=i)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class eS extends Xa{constructor(e,n,i,s){let a,c=n.type.toDOM;if(typeof c=="function"&&(c=c(i,()=>{if(!a)return s;if(a.parent)return a.parent.posBeforeChild(a)})),!n.type.spec.raw){if(c.nodeType!=1){let u=document.createElement("span");u.appendChild(c),c=u}c.contentEditable="false",c.classList.add("ProseMirror-widget")}super(e,[],c,null),this.widget=n,this.widget=n,a=this}matchesWidget(e){return this.dirty==Mn&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class GO extends Xa{constructor(e,n,i,s){super(e,[],n,null),this.textDOM=i,this.text=s}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class es extends Xa{constructor(e,n,i,s,a){super(e,[],i,s),this.mark=n,this.spec=a}static create(e,n,i,s){let a=s.nodeViews[n.type.name],c=a&&a(n,s,i);return(!c||!c.dom)&&(c=is.renderSpec(document,n.type.spec.toDOM(n,i),null,n.attrs)),new es(e,n,c.dom,c.contentDOM||c.dom,c)}parseRule(){return this.dirty&Jn||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=Jn&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=Mn){let i=this.parent;for(;!i.node;)i=i.parent;i.dirty<this.dirty&&(i.dirty=this.dirty),this.dirty=Mn}}slice(e,n,i){let s=es.create(this.parent,this.mark,!0,i),a=this.children,c=this.size;n<c&&(a=Cp(a,n,c,i)),e>0&&(a=Cp(a,0,e,i));for(let u=0;u<a.length;u++)a[u].parent=s;return s.children=a,s}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class ur extends Xa{constructor(e,n,i,s,a,c,u,f,h){super(e,[],a,c),this.node=n,this.outerDeco=i,this.innerDeco=s,this.nodeDOM=u}static create(e,n,i,s,a,c){let u=a.nodeViews[n.type.name],f,h=u&&u(n,a,()=>{if(!f)return c;if(f.parent)return f.parent.posBeforeChild(f)},i,s),p=h&&h.dom,g=h&&h.contentDOM;if(n.isText){if(!p)p=document.createTextNode(n.text);else if(p.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else p||({dom:p,contentDOM:g}=is.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!g&&!n.isText&&p.nodeName!="BR"&&(p.hasAttribute("contenteditable")||(p.contentEditable="false"),n.type.spec.draggable&&(p.draggable=!0));let x=p;return p=rS(p,i,n),h?f=new YO(e,n,i,s,p,g||null,x,h,a,c+1):n.isText?new Ku(e,n,i,s,p,x,a):new ur(e,n,i,s,p,g||null,x,a,c+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let i=this.children[n];if(this.dom.contains(i.dom.parentNode)){e.contentElement=i.dom.parentNode;break}}e.contentElement||(e.getContent=()=>J.empty)}return e}matchesNode(e,n,i){return this.dirty==Mn&&e.eq(this.node)&&Jc(n,this.outerDeco)&&i.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let i=this.node.inlineContent,s=n,a=e.composing?this.localCompositionInfo(e,n):null,c=a&&a.pos>-1?a:null,u=a&&a.pos<0,f=new XO(this,c&&c.node,e);ZO(this.node,this.innerDeco,(h,p,g)=>{h.spec.marks?f.syncToMarks(h.spec.marks,i,e,p):h.type.side>=0&&!g&&f.syncToMarks(p==this.node.childCount?Pe.none:this.node.child(p).marks,i,e,p),f.placeWidget(h,e,s)},(h,p,g,x)=>{f.syncToMarks(h.marks,i,e,x);let v;f.findNodeMatch(h,p,g,x)||u&&e.state.selection.from>s&&e.state.selection.to<s+h.nodeSize&&(v=f.findIndexWithChild(a.node))>-1&&f.updateNodeAt(h,p,g,v,e)||f.updateNextNode(h,p,g,e,x,s)||f.addNode(h,p,g,e,s),s+=h.nodeSize}),f.syncToMarks([],i,e,0),this.node.isTextblock&&f.addTextblockHacks(),f.destroyRest(),(f.changed||this.dirty==Ur)&&(c&&this.protectLocalComposition(e,c),nS(this.contentDOM,this.children,e),il&&eR(this.dom))}localCompositionInfo(e,n){let{from:i,to:s}=e.state.selection;if(!(e.state.selection instanceof de)||i<n||s>n+this.node.content.size)return null;let a=e.input.compositionNode;if(!a||!this.dom.contains(a.parentNode))return null;if(this.node.inlineContent){let c=a.nodeValue,u=tR(this.node.content,c,i-n,s-n);return u<0?null:{node:a,pos:u,text:c}}else return{node:a,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:i,text:s}){if(this.getDesc(n))return;let a=n;for(;a.parentNode!=this.contentDOM;a=a.parentNode){for(;a.previousSibling;)a.parentNode.removeChild(a.previousSibling);for(;a.nextSibling;)a.parentNode.removeChild(a.nextSibling);a.pmViewDesc&&(a.pmViewDesc=void 0)}let c=new GO(this,a,n,s);e.input.compositionNodes.push(c),this.children=Cp(this.children,i,i+s.length,e,c)}update(e,n,i,s){return this.dirty==Jn||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,i,s),!0)}updateInner(e,n,i,s){this.updateOuterDeco(n),this.node=e,this.innerDeco=i,this.contentDOM&&this.updateChildren(s,this.posAtStart),this.dirty=Mn}updateOuterDeco(e){if(Jc(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,i=this.dom;this.dom=iS(this.dom,this.nodeDOM,Tp(this.outerDeco,this.node,n),Tp(e,this.node,n)),this.dom!=i&&(i.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function ev(t,e,n,i,s){rS(i,e,t);let a=new ur(void 0,t,e,n,i,i,i,s,0);return a.contentDOM&&a.updateChildren(s,0),a}class Ku extends ur{constructor(e,n,i,s,a,c,u){super(e,n,i,s,a,null,c,u,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,i,s){return this.dirty==Jn||this.dirty!=Mn&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=Mn||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,s.trackWrites==this.nodeDOM&&(s.trackWrites=null)),this.node=e,this.dirty=Mn,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,i){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,i)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,i){let s=this.node.cut(e,n),a=document.createTextNode(s.text);return new Ku(this.parent,s,this.outerDeco,this.innerDeco,a,a,i)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=Jn)}get domAtom(){return!1}isText(e){return this.node.text==e}}class tS extends Xa{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==Mn&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class YO extends ur{constructor(e,n,i,s,a,c,u,f,h,p){super(e,n,i,s,a,c,u,h,p),this.spec=f}update(e,n,i,s){if(this.dirty==Jn)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let a=this.spec.update(e,n,i);return a&&this.updateInner(e,n,i,s),a}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,i,s)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,i,s){this.spec.setSelection?this.spec.setSelection(e,n,i.root):super.setSelection(e,n,i,s)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function nS(t,e,n){let i=t.firstChild,s=!1;for(let a=0;a<e.length;a++){let c=e[a],u=c.dom;if(u.parentNode==t){for(;u!=i;)i=tv(i),s=!0;i=i.nextSibling}else s=!0,t.insertBefore(u,i);if(c instanceof es){let f=i?i.previousSibling:t.lastChild;nS(c.contentDOM,c.children,n),i=f?f.nextSibling:t.firstChild}}for(;i;)i=tv(i),s=!0;s&&n.trackWrites==t&&(n.trackWrites=null)}const xa=function(t){t&&(this.nodeName=t)};xa.prototype=Object.create(null);const qr=[new xa];function Tp(t,e,n){if(t.length==0)return qr;let i=n?qr[0]:new xa,s=[i];for(let a=0;a<t.length;a++){let c=t[a].type.attrs;if(c){c.nodeName&&s.push(i=new xa(c.nodeName));for(let u in c){let f=c[u];f!=null&&(n&&s.length==1&&s.push(i=new xa(e.isInline?"span":"div")),u=="class"?i.class=(i.class?i.class+" ":"")+f:u=="style"?i.style=(i.style?i.style+";":"")+f:u!="nodeName"&&(i[u]=f))}}}return s}function iS(t,e,n,i){if(n==qr&&i==qr)return e;let s=e;for(let a=0;a<i.length;a++){let c=i[a],u=n[a];if(a){let f;u&&u.nodeName==c.nodeName&&s!=t&&(f=s.parentNode)&&f.nodeName.toLowerCase()==c.nodeName||(f=document.createElement(c.nodeName),f.pmIsDeco=!0,f.appendChild(s),u=qr[0]),s=f}JO(s,u||qr[0],c)}return s}function JO(t,e,n){for(let i in e)i!="class"&&i!="style"&&i!="nodeName"&&!(i in n)&&t.removeAttribute(i);for(let i in n)i!="class"&&i!="style"&&i!="nodeName"&&n[i]!=e[i]&&t.setAttribute(i,n[i]);if(e.class!=n.class){let i=e.class?e.class.split(" ").filter(Boolean):[],s=n.class?n.class.split(" ").filter(Boolean):[];for(let a=0;a<i.length;a++)s.indexOf(i[a])==-1&&t.classList.remove(i[a]);for(let a=0;a<s.length;a++)i.indexOf(s[a])==-1&&t.classList.add(s[a]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let i=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,s;for(;s=i.exec(e.style);)t.style.removeProperty(s[1])}n.style&&(t.style.cssText+=n.style)}}function rS(t,e,n){return iS(t,t,qr,Tp(e,n,t.nodeType!=1))}function Jc(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function tv(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class XO{constructor(e,n,i){this.lock=n,this.view=i,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=WO(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let i=e;i<n;i++)this.top.children[i].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,i,s){let a=0,c=this.stack.length>>1,u=Math.min(c,e.length);for(;a<u&&(a==c-1?this.top:this.stack[a+1<<1]).matchesMark(e[a])&&e[a].type.spec.spanning!==!1;)a++;for(;a<c;)this.destroyRest(),this.top.dirty=Mn,this.index=this.stack.pop(),this.top=this.stack.pop(),c--;for(;c<e.length;){this.stack.push(this.top,this.index+1);let f=-1,h=this.top.children.length;s<this.preMatch.index&&(h=Math.min(this.index+3,h));for(let p=this.index;p<h;p++){let g=this.top.children[p];if(g.matchesMark(e[c])&&!this.isLocked(g.dom)){f=p;break}}if(f>-1)f>this.index&&(this.changed=!0,this.destroyBetween(this.index,f)),this.top=this.top.children[this.index];else{let p=es.create(this.top,e[c],n,i);this.top.children.splice(this.index,0,p),this.top=p,this.changed=!0}this.index=0,c++}}findNodeMatch(e,n,i,s){let a=-1,c;if(s>=this.preMatch.index&&(c=this.preMatch.matches[s-this.preMatch.index]).parent==this.top&&c.matchesNode(e,n,i))a=this.top.children.indexOf(c,this.index);else for(let u=this.index,f=Math.min(this.top.children.length,u+5);u<f;u++){let h=this.top.children[u];if(h.matchesNode(e,n,i)&&!this.preMatch.matched.has(h)){a=u;break}}return a<0?!1:(this.destroyBetween(this.index,a),this.index++,!0)}updateNodeAt(e,n,i,s,a){let c=this.top.children[s];return c.dirty==Jn&&c.dom==c.contentDOM&&(c.dirty=Ur),c.update(e,n,i,a)?(this.destroyBetween(this.index,s),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let i=e.pmViewDesc;if(i){for(let s=this.index;s<this.top.children.length;s++)if(this.top.children[s]==i)return s}return-1}e=n}}updateNextNode(e,n,i,s,a,c){for(let u=this.index;u<this.top.children.length;u++){let f=this.top.children[u];if(f instanceof ur){let h=this.preMatch.matched.get(f);if(h!=null&&h!=a)return!1;let p=f.dom,g,x=this.isLocked(p)&&!(e.isText&&f.node&&f.node.isText&&f.nodeDOM.nodeValue==e.text&&f.dirty!=Jn&&Jc(n,f.outerDeco));if(!x&&f.update(e,n,i,s))return this.destroyBetween(this.index,u),f.dom!=p&&(this.changed=!0),this.index++,!0;if(!x&&(g=this.recreateWrapper(f,e,n,i,s,c)))return this.destroyBetween(this.index,u),this.top.children[this.index]=g,g.contentDOM&&(g.dirty=Ur,g.updateChildren(s,c+1),g.dirty=Mn),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,i,s,a,c){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content)||!Jc(i,e.outerDeco)||!s.eq(e.innerDeco))return null;let u=ur.create(this.top,n,i,s,a,c);if(u.contentDOM){u.children=e.children,e.children=[];for(let f of u.children)f.parent=u}return e.destroy(),u}addNode(e,n,i,s,a){let c=ur.create(this.top,e,n,i,s,a);c.contentDOM&&c.updateChildren(s,a+1),this.top.children.splice(this.index++,0,c),this.changed=!0}placeWidget(e,n,i){let s=this.index<this.top.children.length?this.top.children[this.index]:null;if(s&&s.matchesWidget(e)&&(e==s.widget||!s.widget.type.toDOM.parentNode))this.index++;else{let a=new eS(this.top,e,n,i);this.top.children.splice(this.index++,0,a),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof es;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof Ku)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((jt||wt)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let i=document.createElement(e);e=="IMG"&&(i.className="ProseMirror-separator",i.alt=""),e=="BR"&&(i.className="ProseMirror-trailingBreak");let s=new tS(this.top,[],i,null);n!=this.top?n.children.push(s):n.children.splice(this.index++,0,s),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function WO(t,e){let n=e,i=n.children.length,s=t.childCount,a=new Map,c=[];e:for(;s>0;){let u;for(;;)if(i){let h=n.children[i-1];if(h instanceof es)n=h,i=h.children.length;else{u=h,i--;break}}else{if(n==e)break e;i=n.parent.children.indexOf(n),n=n.parent}let f=u.node;if(f){if(f!=t.child(s-1))break;--s,a.set(u,s),c.push(u)}}return{index:s,matched:a,matches:c.reverse()}}function QO(t,e){return t.type.side-e.type.side}function ZO(t,e,n,i){let s=e.locals(t),a=0;if(s.length==0){for(let h=0;h<t.childCount;h++){let p=t.child(h);i(p,s,e.forChild(a,p),h),a+=p.nodeSize}return}let c=0,u=[],f=null;for(let h=0;;){let p,g;for(;c<s.length&&s[c].to==a;){let E=s[c++];E.widget&&(p?(g||(g=[p])).push(E):p=E)}if(p)if(g){g.sort(QO);for(let E=0;E<g.length;E++)n(g[E],h,!!f)}else n(p,h,!!f);let x,v;if(f)v=-1,x=f,f=null;else if(h<t.childCount)v=h,x=t.child(h++);else break;for(let E=0;E<u.length;E++)u[E].to<=a&&u.splice(E--,1);for(;c<s.length&&s[c].from<=a&&s[c].to>a;)u.push(s[c++]);let w=a+x.nodeSize;if(x.isText){let E=w;c<s.length&&s[c].from<E&&(E=s[c].from);for(let T=0;T<u.length;T++)u[T].to<E&&(E=u[T].to);E<w&&(f=x.cut(E-a),x=x.cut(0,E-a),w=E,v=-1)}else for(;c<s.length&&s[c].to<w;)c++;let k=x.isInline&&!x.isLeaf?u.filter(E=>!E.inline):u.slice();i(x,k,e.forChild(a,x),v),a=w}}function eR(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function tR(t,e,n,i){for(let s=0,a=0;s<t.childCount&&a<=i;){let c=t.child(s++),u=a;if(a+=c.nodeSize,!c.isText)continue;let f=c.text;for(;s<t.childCount;){let h=t.child(s++);if(a+=h.nodeSize,!h.isText)break;f+=h.text}if(a>=n){if(a>=i&&f.slice(i-e.length-u,i-u)==e)return i-e.length;let h=u<i?f.lastIndexOf(e,i-u-1):-1;if(h>=0&&h+e.length+u>=n)return u+h;if(n==i&&f.length>=i+e.length-u&&f.slice(i-u,i-u+e.length)==e)return i}}return-1}function Cp(t,e,n,i,s){let a=[];for(let c=0,u=0;c<t.length;c++){let f=t[c],h=u,p=u+=f.size;h>=n||p<=e?a.push(f):(h<e&&a.push(f.slice(0,e-h,i)),s&&(a.push(s),s=void 0),p>n&&a.push(f.slice(n-h,f.size,i)))}return a}function hm(t,e=null){let n=t.domSelectionRange(),i=t.state.doc;if(!n.focusNode)return null;let s=t.docView.nearestDesc(n.focusNode),a=s&&s.size==0,c=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(c<0)return null;let u=i.resolve(c),f,h;if(Fu(n)){for(f=c;s&&!s.node;)s=s.parent;let g=s.node;if(s&&g.isAtom&&oe.isSelectable(g)&&s.parent&&!(g.isInline&&AO(n.focusNode,n.focusOffset,s.dom))){let x=s.posBefore;h=new oe(c==x?u:i.resolve(x))}}else{if(n instanceof t.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let g=c,x=c;for(let v=0;v<n.rangeCount;v++){let w=n.getRangeAt(v);g=Math.min(g,t.docView.posFromDOM(w.startContainer,w.startOffset,1)),x=Math.max(x,t.docView.posFromDOM(w.endContainer,w.endOffset,-1))}if(g<0)return null;[f,c]=x==t.state.selection.anchor?[x,g]:[g,x],u=i.resolve(c)}else f=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(f<0)return null}let p=i.resolve(f);if(!h){let g=e=="pointer"||t.state.selection.head<u.pos&&!a?1:-1;h=pm(t,p,u,g)}return h}function sS(t){return t.editable?t.hasFocus():aS(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function ki(t,e=!1){let n=t.state.selection;if(lS(t,n),!!sS(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&wt){let i=t.domSelectionRange(),s=t.domObserver.currentSelection;if(i.anchorNode&&s.anchorNode&&Zr(i.anchorNode,i.anchorOffset,s.anchorNode,s.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)iR(t);else{let{anchor:i,head:s}=n,a,c;nv&&!(n instanceof de)&&(n.$from.parent.inlineContent||(a=iv(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(c=iv(t,n.to))),t.docView.setSelection(i,s,t,e),nv&&(a&&rv(a),c&&rv(c)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&nR(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const nv=jt||wt&&Kw<63;function iv(t,e){let{node:n,offset:i}=t.docView.domFromPos(e,0),s=i<n.childNodes.length?n.childNodes[i]:null,a=i?n.childNodes[i-1]:null;if(jt&&s&&s.contentEditable=="false")return $h(s);if((!s||s.contentEditable=="false")&&(!a||a.contentEditable=="false")){if(s)return $h(s);if(a)return $h(a)}}function $h(t){return t.contentEditable="true",jt&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function rv(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function nR(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),i=n.anchorNode,s=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=i||n.anchorOffset!=s)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!sS(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function iR(t){let e=t.domSelection();if(!e)return;let n=t.cursorWrapper.dom,i=n.nodeName=="IMG";i?e.collapse(n.parentNode,Ot(n)+1):e.collapse(n,0),!i&&!t.state.selection.visible&&Zt&&cr<=11&&(n.disabled=!0,n.disabled=!1)}function lS(t,e){if(e instanceof oe){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(sv(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else sv(t)}function sv(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function pm(t,e,n,i){return t.someProp("createSelectionBetween",s=>s(t,e,n))||de.between(e,n,i)}function lv(t){return t.editable&&!t.hasFocus()?!1:aS(t)}function aS(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function rR(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return Zr(e.node,e.offset,n.anchorNode,n.anchorOffset)}function Ap(t,e){let{$anchor:n,$head:i}=t.selection,s=e>0?n.max(i):n.min(i),a=s.parent.inlineContent?s.depth?t.doc.resolve(e>0?s.after():s.before()):null:s;return a&&be.findFrom(a,e)}function er(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function av(t,e,n){let i=t.state.selection;if(i instanceof de)if(n.indexOf("s")>-1){let{$head:s}=i,a=s.textOffset?null:e<0?s.nodeBefore:s.nodeAfter;if(!a||a.isText||!a.isLeaf)return!1;let c=t.state.doc.resolve(s.pos+a.nodeSize*(e<0?-1:1));return er(t,new de(i.$anchor,c))}else if(i.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let s=Ap(t.state,e);return s&&s instanceof oe?er(t,s):!1}else if(!(Tn&&n.indexOf("m")>-1)){let s=i.$head,a=s.textOffset?null:e<0?s.nodeBefore:s.nodeAfter,c;if(!a||a.isText)return!1;let u=e<0?s.pos-a.nodeSize:s.pos;return a.isAtom||(c=t.docView.descAt(u))&&!c.contentDOM?oe.isSelectable(a)?er(t,new oe(e<0?t.state.doc.resolve(s.pos-a.nodeSize):s)):Ja?er(t,new de(t.state.doc.resolve(e<0?u:u+a.nodeSize))):!1:!1}}else return!1;else{if(i instanceof oe&&i.node.isInline)return er(t,new de(e>0?i.$to:i.$from));{let s=Ap(t.state,e);return s?er(t,s):!1}}}function Xc(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function va(t,e){let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function Ks(t,e){return e<0?sR(t):lR(t)}function sR(t){let e=t.domSelectionRange(),n=e.focusNode,i=e.focusOffset;if(!n)return;let s,a,c=!1;for(An&&n.nodeType==1&&i<Xc(n)&&va(n.childNodes[i],-1)&&(c=!0);;)if(i>0){if(n.nodeType!=1)break;{let u=n.childNodes[i-1];if(va(u,-1))s=n,a=--i;else if(u.nodeType==3)n=u,i=n.nodeValue.length;else break}}else{if(oS(n))break;{let u=n.previousSibling;for(;u&&va(u,-1);)s=n.parentNode,a=Ot(u),u=u.previousSibling;if(u)n=u,i=Xc(n);else{if(n=n.parentNode,n==t.dom)break;i=0}}}c?Mp(t,n,i):s&&Mp(t,s,a)}function lR(t){let e=t.domSelectionRange(),n=e.focusNode,i=e.focusOffset;if(!n)return;let s=Xc(n),a,c;for(;;)if(i<s){if(n.nodeType!=1)break;let u=n.childNodes[i];if(va(u,1))a=n,c=++i;else break}else{if(oS(n))break;{let u=n.nextSibling;for(;u&&va(u,1);)a=u.parentNode,c=Ot(u)+1,u=u.nextSibling;if(u)n=u,i=0,s=Xc(n);else{if(n=n.parentNode,n==t.dom)break;i=s=0}}}a&&Mp(t,a,c)}function oS(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function aR(t,e){for(;t&&e==t.childNodes.length&&!Ya(t);)e=Ot(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=0}}function oR(t,e){for(;t&&!e&&!Ya(t);)e=Ot(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=t.childNodes.length}}function Mp(t,e,n){if(e.nodeType!=3){let a,c;(c=aR(e,n))?(e=c,n=0):(a=oR(e,n))&&(e=a,n=a.nodeValue.length)}let i=t.domSelection();if(!i)return;if(Fu(i)){let a=document.createRange();a.setEnd(e,n),a.setStart(e,n),i.removeAllRanges(),i.addRange(a)}else i.extend&&i.extend(e,n);t.domObserver.setCurSelection();let{state:s}=t;setTimeout(()=>{t.state==s&&ki(t)},50)}function ov(t,e){let n=t.state.doc.resolve(e);if(!(wt||Gw)&&n.parent.inlineContent){let s=t.coordsAtPos(e);if(e>n.start()){let a=t.coordsAtPos(e-1),c=(a.top+a.bottom)/2;if(c>s.top&&c<s.bottom&&Math.abs(a.left-s.left)>1)return a.left<s.left?"ltr":"rtl"}if(e<n.end()){let a=t.coordsAtPos(e+1),c=(a.top+a.bottom)/2;if(c>s.top&&c<s.bottom&&Math.abs(a.left-s.left)>1)return a.left>s.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function cv(t,e,n){let i=t.state.selection;if(i instanceof de&&!i.empty||n.indexOf("s")>-1||Tn&&n.indexOf("m")>-1)return!1;let{$from:s,$to:a}=i;if(!s.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let c=Ap(t.state,e);if(c&&c instanceof oe)return er(t,c)}if(!s.parent.inlineContent){let c=e<0?s:a,u=i instanceof fn?be.near(c,e):be.findFrom(c,e);return u?er(t,u):!1}return!1}function uv(t,e){if(!(t.state.selection instanceof de))return!0;let{$head:n,$anchor:i,empty:s}=t.state.selection;if(!n.sameParent(i))return!0;if(!s)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let a=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(a&&!a.isText){let c=t.state.tr;return e<0?c.delete(n.pos-a.nodeSize,n.pos):c.delete(n.pos,n.pos+a.nodeSize),t.dispatch(c),!0}return!1}function dv(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function cR(t){if(!jt||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let i=e.firstChild;dv(t,i,"true"),setTimeout(()=>dv(t,i,"false"),20)}return!1}function uR(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function dR(t,e){let n=e.keyCode,i=uR(e);if(n==8||Tn&&n==72&&i=="c")return uv(t,-1)||Ks(t,-1);if(n==46&&!e.shiftKey||Tn&&n==68&&i=="c")return uv(t,1)||Ks(t,1);if(n==13||n==27)return!0;if(n==37||Tn&&n==66&&i=="c"){let s=n==37?ov(t,t.state.selection.from)=="ltr"?-1:1:-1;return av(t,s,i)||Ks(t,s)}else if(n==39||Tn&&n==70&&i=="c"){let s=n==39?ov(t,t.state.selection.from)=="ltr"?1:-1:1;return av(t,s,i)||Ks(t,s)}else{if(n==38||Tn&&n==80&&i=="c")return cv(t,-1,i)||Ks(t,-1);if(n==40||Tn&&n==78&&i=="c")return cR(t)||cv(t,1,i)||Ks(t,1);if(i==(Tn?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function mm(t,e){t.someProp("transformCopied",v=>{e=v(e,t)});let n=[],{content:i,openStart:s,openEnd:a}=e;for(;s>1&&a>1&&i.childCount==1&&i.firstChild.childCount==1;){s--,a--;let v=i.firstChild;n.push(v.type.name,v.attrs!=v.type.defaultAttrs?v.attrs:null),i=v.content}let c=t.someProp("clipboardSerializer")||is.fromSchema(t.state.schema),u=pS(),f=u.createElement("div");f.appendChild(c.serializeFragment(i,{document:u}));let h=f.firstChild,p,g=0;for(;h&&h.nodeType==1&&(p=hS[h.nodeName.toLowerCase()]);){for(let v=p.length-1;v>=0;v--){let w=u.createElement(p[v]);for(;f.firstChild;)w.appendChild(f.firstChild);f.appendChild(w),g++}h=f.firstChild}h&&h.nodeType==1&&h.setAttribute("data-pm-slice",`${s} ${a}${g?` -${g}`:""} ${JSON.stringify(n)}`);let x=t.someProp("clipboardTextSerializer",v=>v(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:f,text:x,slice:e}}function cS(t,e,n,i,s){let a=s.parent.type.spec.code,c,u;if(!n&&!e)return null;let f=!!e&&(i||a||!n);if(f){if(t.someProp("transformPastedText",x=>{e=x(e,a||i,t)}),a)return u=new ee(J.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0),t.someProp("transformPasted",x=>{u=x(u,t,!0)}),u;let g=t.someProp("clipboardTextParser",x=>x(e,s,i,t));if(g)u=g;else{let x=s.marks(),{schema:v}=t.state,w=is.fromSchema(v);c=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(k=>{let E=c.appendChild(document.createElement("p"));k&&E.appendChild(w.serializeNode(v.text(k,x)))})}}else t.someProp("transformPastedHTML",g=>{n=g(n,t)}),c=mR(n),Ja&&gR(c);let h=c&&c.querySelector("[data-pm-slice]"),p=h&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(h.getAttribute("data-pm-slice")||"");if(p&&p[3])for(let g=+p[3];g>0;g--){let x=c.firstChild;for(;x&&x.nodeType!=1;)x=x.nextSibling;if(!x)break;c=x}if(u||(u=(t.someProp("clipboardParser")||t.someProp("domParser")||or.fromSchema(t.state.schema)).parseSlice(c,{preserveWhitespace:!!(f||p),context:s,ruleFromNode(x){return x.nodeName=="BR"&&!x.nextSibling&&x.parentNode&&!fR.test(x.parentNode.nodeName)?{ignore:!0}:null}})),p)u=yR(fv(u,+p[1],+p[2]),p[4]);else if(u=ee.maxOpen(hR(u.content,s),!0),u.openStart||u.openEnd){let g=0,x=0;for(let v=u.content.firstChild;g<u.openStart&&!v.type.spec.isolating;g++,v=v.firstChild);for(let v=u.content.lastChild;x<u.openEnd&&!v.type.spec.isolating;x++,v=v.lastChild);u=fv(u,g,x)}return t.someProp("transformPasted",g=>{u=g(u,t,f)}),u}const fR=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function hR(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let s=e.node(n).contentMatchAt(e.index(n)),a,c=[];if(t.forEach(u=>{if(!c)return;let f=s.findWrapping(u.type),h;if(!f)return c=null;if(h=c.length&&a.length&&dS(f,a,u,c[c.length-1],0))c[c.length-1]=h;else{c.length&&(c[c.length-1]=fS(c[c.length-1],a.length));let p=uS(u,f);c.push(p),s=s.matchType(p.type),a=f}}),c)return J.from(c)}return t}function uS(t,e,n=0){for(let i=e.length-1;i>=n;i--)t=e[i].create(null,J.from(t));return t}function dS(t,e,n,i,s){if(s<t.length&&s<e.length&&t[s]==e[s]){let a=dS(t,e,n,i.lastChild,s+1);if(a)return i.copy(i.content.replaceChild(i.childCount-1,a));if(i.contentMatchAt(i.childCount).matchType(s==t.length-1?n.type:t[s+1]))return i.copy(i.content.append(J.from(uS(n,t,s+1))))}}function fS(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,fS(t.lastChild,e-1)),i=t.contentMatchAt(t.childCount).fillBefore(J.empty,!0);return t.copy(n.append(i))}function Op(t,e,n,i,s,a){let c=e<0?t.firstChild:t.lastChild,u=c.content;return t.childCount>1&&(a=0),s<i-1&&(u=Op(u,e,n,i,s+1,a)),s>=n&&(u=e<0?c.contentMatchAt(0).fillBefore(u,a<=s).append(u):u.append(c.contentMatchAt(c.childCount).fillBefore(J.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,c.copy(u))}function fv(t,e,n){return e<t.openStart&&(t=new ee(Op(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new ee(Op(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const hS={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let hv=null;function pS(){return hv||(hv=document.implementation.createHTMLDocument("title"))}let Fh=null;function pR(t){let e=window.trustedTypes;return e?(Fh||(Fh=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),Fh.createHTML(t)):t}function mR(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=pS().createElement("div"),i=/<([a-z][^>\s]+)/i.exec(t),s;if((s=i&&hS[i[1].toLowerCase()])&&(t=s.map(a=>"<"+a+">").join("")+t+s.map(a=>"</"+a+">").reverse().join("")),n.innerHTML=pR(t),s)for(let a=0;a<s.length;a++)n=n.querySelector(s[a])||n;return n}function gR(t){let e=t.querySelectorAll(wt?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let i=e[n];i.childNodes.length==1&&i.textContent==""&&i.parentNode&&i.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),i)}}function yR(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,i;try{i=JSON.parse(e)}catch{return t}let{content:s,openStart:a,openEnd:c}=t;for(let u=i.length-2;u>=0;u-=2){let f=n.nodes[i[u]];if(!f||f.hasRequiredAttrs())break;s=J.from(f.create(i[u+1],s)),a++,c++}return new ee(s,a,c)}const qt={},It={},bR={touchstart:!0,touchmove:!0};class xR{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.badSafariComposition=!1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function vR(t){for(let e in qt){let n=qt[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=i=>{SR(t,i)&&!gm(t,i)&&(t.editable||!(i.type in It))&&n(t,i)},bR[e]?{passive:!0}:void 0)}jt&&t.dom.addEventListener("input",()=>null),Rp(t)}function ar(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function wR(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function Rp(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=i=>gm(t,i))})}function gm(t,e){return t.someProp("handleDOMEvents",n=>{let i=n[e.type];return i?i(t,e)||e.defaultPrevented:!1})}function SR(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function kR(t,e){!gm(t,e)&&qt[e.type]&&(t.editable||!(e.type in It))&&qt[e.type](t,e)}It.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!gS(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(vi&&wt&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),il&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let i=Date.now();t.input.lastIOSEnter=i,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==i&&(t.someProp("handleKeyDown",s=>s(t,Br(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",i=>i(t,n))||dR(t,n)?n.preventDefault():ar(t,"key")};It.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};It.keypress=(t,e)=>{let n=e;if(gS(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||Tn&&n.metaKey)return;if(t.someProp("handleKeyPress",s=>s(t,n))){n.preventDefault();return}let i=t.state.selection;if(!(i instanceof de)||!i.$from.sameParent(i.$to)){let s=String.fromCharCode(n.charCode),a=()=>t.state.tr.insertText(s).scrollIntoView();!/[\r\n]/.test(s)&&!t.someProp("handleTextInput",c=>c(t,i.$from.pos,i.$to.pos,s,a))&&t.dispatch(a()),n.preventDefault()}};function Gu(t){return{left:t.clientX,top:t.clientY}}function ER(t,e){let n=e.x-t.clientX,i=e.y-t.clientY;return n*n+i*i<100}function ym(t,e,n,i,s){if(i==-1)return!1;let a=t.state.doc.resolve(i);for(let c=a.depth+1;c>0;c--)if(t.someProp(e,u=>c>a.depth?u(t,n,a.nodeAfter,a.before(c),s,!0):u(t,n,a.node(c),a.before(c),s,!1)))return!0;return!1}function Qs(t,e,n){if(t.focused||t.focus(),t.state.selection.eq(e))return;let i=t.state.tr.setSelection(e);i.setMeta("pointer",!0),t.dispatch(i)}function NR(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),i=n.nodeAfter;return i&&i.isAtom&&oe.isSelectable(i)?(Qs(t,new oe(n)),!0):!1}function TR(t,e){if(e==-1)return!1;let n=t.state.selection,i,s;n instanceof oe&&(i=n.node);let a=t.state.doc.resolve(e);for(let c=a.depth+1;c>0;c--){let u=c>a.depth?a.nodeAfter:a.node(c);if(oe.isSelectable(u)){i&&n.$from.depth>0&&c>=n.$from.depth&&a.before(n.$from.depth+1)==n.$from.pos?s=a.before(n.$from.depth):s=a.before(c);break}}return s!=null?(Qs(t,oe.create(t.state.doc,s)),!0):!1}function CR(t,e,n,i,s){return ym(t,"handleClickOn",e,n,i)||t.someProp("handleClick",a=>a(t,e,i))||(s?TR(t,n):NR(t,n))}function AR(t,e,n,i){return ym(t,"handleDoubleClickOn",e,n,i)||t.someProp("handleDoubleClick",s=>s(t,e,i))}function MR(t,e,n,i){return ym(t,"handleTripleClickOn",e,n,i)||t.someProp("handleTripleClick",s=>s(t,e,i))||OR(t,n,i)}function OR(t,e,n){if(n.button!=0)return!1;let i=t.state.doc;if(e==-1)return i.inlineContent?(Qs(t,de.create(i,0,i.content.size)),!0):!1;let s=i.resolve(e);for(let a=s.depth+1;a>0;a--){let c=a>s.depth?s.nodeAfter:s.node(a),u=s.before(a);if(c.inlineContent)Qs(t,de.create(i,u+1,u+1+c.content.size));else if(oe.isSelectable(c))Qs(t,oe.create(i,u));else continue;return!0}}function bm(t){return Wc(t)}const mS=Tn?"metaKey":"ctrlKey";qt.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let i=bm(t),s=Date.now(),a="singleClick";s-t.input.lastClick.time<500&&ER(n,t.input.lastClick)&&!n[mS]&&t.input.lastClick.button==n.button&&(t.input.lastClick.type=="singleClick"?a="doubleClick":t.input.lastClick.type=="doubleClick"&&(a="tripleClick")),t.input.lastClick={time:s,x:n.clientX,y:n.clientY,type:a,button:n.button};let c=t.posAtCoords(Gu(n));c&&(a=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new RR(t,c,n,!!i)):(a=="doubleClick"?AR:MR)(t,c.pos,c.inside,n)?n.preventDefault():ar(t,"pointer"))};class RR{constructor(e,n,i,s){this.view=e,this.pos=n,this.event=i,this.flushed=s,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!i[mS],this.allowDefault=i.shiftKey;let a,c;if(n.inside>-1)a=e.state.doc.nodeAt(n.inside),c=n.inside;else{let p=e.state.doc.resolve(n.pos);a=p.parent,c=p.depth?p.before():0}const u=s?null:i.target,f=u?e.docView.nearestDesc(u,!0):null;this.target=f&&f.nodeDOM.nodeType==1?f.nodeDOM:null;let{selection:h}=e.state;(i.button==0&&a.type.spec.draggable&&a.type.spec.selectable!==!1||h instanceof oe&&h.from<=c&&h.to>c)&&(this.mightDrag={node:a,pos:c,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&An&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),ar(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>ki(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(Gu(e))),this.updateAllowDefault(e),this.allowDefault||!n?ar(this.view,"pointer"):CR(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||jt&&this.mightDrag&&!this.mightDrag.node.isAtom||wt&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(Qs(this.view,be.near(this.view.state.doc.resolve(n.pos))),e.preventDefault()):ar(this.view,"pointer")}move(e){this.updateAllowDefault(e),ar(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}qt.touchstart=t=>{t.input.lastTouch=Date.now(),bm(t),ar(t,"pointer")};qt.touchmove=t=>{t.input.lastTouch=Date.now(),ar(t,"pointer")};qt.contextmenu=t=>bm(t);function gS(t,e){return t.composing?!0:jt&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const jR=vi?5e3:-1;It.compositionstart=It.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$to;if(e.selection instanceof de&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(i=>i.type.spec.inclusive===!1)||wt&&Gw&&DR(t)))t.markCursor=t.state.storedMarks||n.marks(),Wc(t,!0),t.markCursor=null;else if(Wc(t,!e.selection.empty),An&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let i=t.domSelectionRange();for(let s=i.focusNode,a=i.focusOffset;s&&s.nodeType==1&&a!=0;){let c=a<0?s.lastChild:s.childNodes[a-1];if(!c)break;if(c.nodeType==3){let u=t.domSelection();u&&u.collapse(c,c.nodeValue.length);break}else s=c,a=-1}}t.input.composing=!0}yS(t,jR)};function DR(t){let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(!e||e.nodeType!=1||n>=e.childNodes.length)return!1;let i=e.childNodes[n];return i.nodeType==1&&i.contentEditable=="false"}It.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.badSafariComposition?t.domObserver.forceFlush():t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,yS(t,20))};function yS(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>Wc(t),e))}function bS(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=LR());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function zR(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let n=TO(e.focusNode,e.focusOffset),i=CO(e.focusNode,e.focusOffset);if(n&&i&&n!=i){let s=i.pmViewDesc,a=t.domObserver.lastChangedTextNode;if(n==a||i==a)return a;if(!s||!s.isText(i.nodeValue))return i;if(t.input.compositionNode==i){let c=n.pmViewDesc;if(!(!c||!c.isText(n.nodeValue)))return i}}return n||i}function LR(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function Wc(t,e=!1){if(!(vi&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),bS(t),e||t.docView&&t.docView.dirty){let n=hm(t),i=t.state.selection;return n&&!n.eq(i)?t.dispatch(t.state.tr.setSelection(n)):(t.markCursor||e)&&!i.$from.node(i.$from.sharedDepth(i.to)).inlineContent?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function _R(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let i=getSelection(),s=document.createRange();s.selectNodeContents(e),t.dom.blur(),i.removeAllRanges(),i.addRange(s),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const ja=Zt&&cr<15||il&&RO<604;qt.copy=It.cut=(t,e)=>{let n=e,i=t.state.selection,s=n.type=="cut";if(i.empty)return;let a=ja?null:n.clipboardData,c=i.content(),{dom:u,text:f}=mm(t,c);a?(n.preventDefault(),a.clearData(),a.setData("text/html",u.innerHTML),a.setData("text/plain",f)):_R(t,u),s&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function BR(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function HR(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,i=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(i.contentEditable="true"),i.style.cssText="position: fixed; left: -10000px; top: 10px",i.focus();let s=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),i.parentNode&&i.parentNode.removeChild(i),n?Da(t,i.value,null,s,e):Da(t,i.textContent,i.innerHTML,s,e)},50)}function Da(t,e,n,i,s){let a=cS(t,e,n,i,t.state.selection.$from);if(t.someProp("handlePaste",f=>f(t,s,a||ee.empty)))return!0;if(!a)return!1;let c=BR(a),u=c?t.state.tr.replaceSelectionWith(c,i):t.state.tr.replaceSelection(a);return t.dispatch(u.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function xS(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let n=t.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}It.paste=(t,e)=>{let n=e;if(t.composing&&!vi)return;let i=ja?null:n.clipboardData,s=t.input.shiftKey&&t.input.lastKeyCode!=45;i&&Da(t,xS(i),i.getData("text/html"),s,n)?n.preventDefault():HR(t,n)};class vS{constructor(e,n,i){this.slice=e,this.move=n,this.node=i}}const UR=Tn?"altKey":"ctrlKey";function wS(t,e){let n=t.someProp("dragCopies",i=>!i(e));return n??!e[UR]}qt.dragstart=(t,e)=>{let n=e,i=t.input.mouseDown;if(i&&i.done(),!n.dataTransfer)return;let s=t.state.selection,a=s.empty?null:t.posAtCoords(Gu(n)),c;if(!(a&&a.pos>=s.from&&a.pos<=(s instanceof oe?s.to-1:s.to))){if(i&&i.mightDrag)c=oe.create(t.state.doc,i.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let g=t.docView.nearestDesc(n.target,!0);g&&g.node.type.spec.draggable&&g!=t.docView&&(c=oe.create(t.state.doc,g.posBefore))}}let u=(c||t.state.selection).content(),{dom:f,text:h,slice:p}=mm(t,u);(!n.dataTransfer.files.length||!wt||Kw>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(ja?"Text":"text/html",f.innerHTML),n.dataTransfer.effectAllowed="copyMove",ja||n.dataTransfer.setData("text/plain",h),t.dragging=new vS(p,wS(t,n),c)};qt.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};It.dragover=It.dragenter=(t,e)=>e.preventDefault();It.drop=(t,e)=>{try{qR(t,e,t.dragging)}finally{t.dragging=null}};function qR(t,e,n){if(!e.dataTransfer)return;let i=t.posAtCoords(Gu(e));if(!i)return;let s=t.state.doc.resolve(i.pos),a=n&&n.slice;a?t.someProp("transformPasted",v=>{a=v(a,t,!1)}):a=cS(t,xS(e.dataTransfer),ja?null:e.dataTransfer.getData("text/html"),!1,s);let c=!!(n&&wS(t,e));if(t.someProp("handleDrop",v=>v(t,e,a||ee.empty,c))){e.preventDefault();return}if(!a)return;e.preventDefault();let u=a?Nw(t.state.doc,s.pos,a):s.pos;u==null&&(u=s.pos);let f=t.state.tr;if(c){let{node:v}=n;v?v.replace(f):f.deleteSelection()}let h=f.mapping.map(u),p=a.openStart==0&&a.openEnd==0&&a.content.childCount==1,g=f.doc;if(p?f.replaceRangeWith(h,h,a.content.firstChild):f.replaceRange(h,h,a),f.doc.eq(g))return;let x=f.doc.resolve(h);if(p&&oe.isSelectable(a.content.firstChild)&&x.nodeAfter&&x.nodeAfter.sameMarkup(a.content.firstChild))f.setSelection(new oe(x));else{let v=f.mapping.map(u);f.mapping.maps[f.mapping.maps.length-1].forEach((w,k,E,T)=>v=T),f.setSelection(pm(t,x,f.doc.resolve(v)))}t.focus(),t.dispatch(f.setMeta("uiEvent","drop"))}qt.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&ki(t)},20))};qt.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};qt.beforeinput=(t,e)=>{if(wt&&vi&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:i}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=i||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",a=>a(t,Br(8,"Backspace")))))return;let{$cursor:s}=t.state.selection;s&&s.pos>0&&t.dispatch(t.state.tr.delete(s.pos-1,s.pos).scrollIntoView())},50)}};for(let t in It)qt[t]=It[t];function za(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class Qc{constructor(e,n){this.toDOM=e,this.spec=n||Kr,this.side=this.spec.side||0}map(e,n,i,s){let{pos:a,deleted:c}=e.mapResult(n.from+s,this.side<0?-1:1);return c?null:new Ut(a-i,a-i,this)}valid(){return!0}eq(e){return this==e||e instanceof Qc&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&za(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class dr{constructor(e,n){this.attrs=e,this.spec=n||Kr}map(e,n,i,s){let a=e.map(n.from+s,this.spec.inclusiveStart?-1:1)-i,c=e.map(n.to+s,this.spec.inclusiveEnd?1:-1)-i;return a>=c?null:new Ut(a,c,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof dr&&za(this.attrs,e.attrs)&&za(this.spec,e.spec)}static is(e){return e.type instanceof dr}destroy(){}}class xm{constructor(e,n){this.attrs=e,this.spec=n||Kr}map(e,n,i,s){let a=e.mapResult(n.from+s,1);if(a.deleted)return null;let c=e.mapResult(n.to+s,-1);return c.deleted||c.pos<=a.pos?null:new Ut(a.pos-i,c.pos-i,this)}valid(e,n){let{index:i,offset:s}=e.content.findIndex(n.from),a;return s==n.from&&!(a=e.child(i)).isText&&s+a.nodeSize==n.to}eq(e){return this==e||e instanceof xm&&za(this.attrs,e.attrs)&&za(this.spec,e.spec)}destroy(){}}class Ut{constructor(e,n,i){this.from=e,this.to=n,this.type=i}copy(e,n){return new Ut(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,i){return this.type.map(e,this,n,i)}static widget(e,n,i){return new Ut(e,e,new Qc(n,i))}static inline(e,n,i,s){return new Ut(e,n,new dr(i,s))}static node(e,n,i,s){return new Ut(e,n,new xm(i,s))}get spec(){return this.type.spec}get inline(){return this.type instanceof dr}get widget(){return this.type instanceof Qc}}const Ys=[],Kr={};class Ye{constructor(e,n){this.local=e.length?e:Ys,this.children=n.length?n:Ys}static create(e,n){return n.length?Zc(n,e,0,Kr):zt}find(e,n,i){let s=[];return this.findInner(e??0,n??1e9,s,0,i),s}findInner(e,n,i,s,a){for(let c=0;c<this.local.length;c++){let u=this.local[c];u.from<=n&&u.to>=e&&(!a||a(u.spec))&&i.push(u.copy(u.from+s,u.to+s))}for(let c=0;c<this.children.length;c+=3)if(this.children[c]<n&&this.children[c+1]>e){let u=this.children[c]+1;this.children[c+2].findInner(e-u,n-u,i,s+u,a)}}map(e,n,i){return this==zt||e.maps.length==0?this:this.mapInner(e,n,0,0,i||Kr)}mapInner(e,n,i,s,a){let c;for(let u=0;u<this.local.length;u++){let f=this.local[u].map(e,i,s);f&&f.type.valid(n,f)?(c||(c=[])).push(f):a.onRemove&&a.onRemove(this.local[u].spec)}return this.children.length?IR(this.children,c||[],e,n,i,s,a):c?new Ye(c.sort(Gr),Ys):zt}add(e,n){return n.length?this==zt?Ye.create(e,n):this.addInner(e,n,0):this}addInner(e,n,i){let s,a=0;e.forEach((u,f)=>{let h=f+i,p;if(p=kS(n,u,h)){for(s||(s=this.children.slice());a<s.length&&s[a]<f;)a+=3;s[a]==f?s[a+2]=s[a+2].addInner(u,p,h+1):s.splice(a,0,f,f+u.nodeSize,Zc(p,u,h+1,Kr)),a+=3}});let c=SS(a?ES(n):n,-i);for(let u=0;u<c.length;u++)c[u].type.valid(e,c[u])||c.splice(u--,1);return new Ye(c.length?this.local.concat(c).sort(Gr):this.local,s||this.children)}remove(e){return e.length==0||this==zt?this:this.removeInner(e,0)}removeInner(e,n){let i=this.children,s=this.local;for(let a=0;a<i.length;a+=3){let c,u=i[a]+n,f=i[a+1]+n;for(let p=0,g;p<e.length;p++)(g=e[p])&&g.from>u&&g.to<f&&(e[p]=null,(c||(c=[])).push(g));if(!c)continue;i==this.children&&(i=this.children.slice());let h=i[a+2].removeInner(c,u+1);h!=zt?i[a+2]=h:(i.splice(a,3),a-=3)}if(s.length){for(let a=0,c;a<e.length;a++)if(c=e[a])for(let u=0;u<s.length;u++)s[u].eq(c,n)&&(s==this.local&&(s=this.local.slice()),s.splice(u--,1))}return i==this.children&&s==this.local?this:s.length||i.length?new Ye(s,i):zt}forChild(e,n){if(this==zt)return this;if(n.isLeaf)return Ye.empty;let i,s;for(let u=0;u<this.children.length;u+=3)if(this.children[u]>=e){this.children[u]==e&&(i=this.children[u+2]);break}let a=e+1,c=a+n.content.size;for(let u=0;u<this.local.length;u++){let f=this.local[u];if(f.from<c&&f.to>a&&f.type instanceof dr){let h=Math.max(a,f.from)-a,p=Math.min(c,f.to)-a;h<p&&(s||(s=[])).push(f.copy(h,p))}}if(s){let u=new Ye(s.sort(Gr),Ys);return i?new ir([u,i]):u}return i||zt}eq(e){if(this==e)return!0;if(!(e instanceof Ye)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return vm(this.localsInner(e))}localsInner(e){if(this==zt)return Ys;if(e.inlineContent||!this.local.some(dr.is))return this.local;let n=[];for(let i=0;i<this.local.length;i++)this.local[i].type instanceof dr||n.push(this.local[i]);return n}forEachSet(e){e(this)}}Ye.empty=new Ye([],[]);Ye.removeOverlap=vm;const zt=Ye.empty;class ir{constructor(e){this.members=e}map(e,n){const i=this.members.map(s=>s.map(e,n,Kr));return ir.from(i)}forChild(e,n){if(n.isLeaf)return Ye.empty;let i=[];for(let s=0;s<this.members.length;s++){let a=this.members[s].forChild(e,n);a!=zt&&(a instanceof ir?i=i.concat(a.members):i.push(a))}return ir.from(i)}eq(e){if(!(e instanceof ir)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,i=!0;for(let s=0;s<this.members.length;s++){let a=this.members[s].localsInner(e);if(a.length)if(!n)n=a;else{i&&(n=n.slice(),i=!1);for(let c=0;c<a.length;c++)n.push(a[c])}}return n?vm(i?n:n.sort(Gr)):Ys}static from(e){switch(e.length){case 0:return zt;case 1:return e[0];default:return new ir(e.every(n=>n instanceof Ye)?e:e.reduce((n,i)=>n.concat(i instanceof Ye?i:i.members),[]))}}forEachSet(e){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(e)}}function IR(t,e,n,i,s,a,c){let u=t.slice();for(let h=0,p=a;h<n.maps.length;h++){let g=0;n.maps[h].forEach((x,v,w,k)=>{let E=k-w-(v-x);for(let T=0;T<u.length;T+=3){let A=u[T+1];if(A<0||x>A+p-g)continue;let j=u[T]+p-g;v>=j?u[T+1]=x<=j?-2:-1:x>=p&&E&&(u[T]+=E,u[T+1]+=E)}g+=E}),p=n.maps[h].map(p,-1)}let f=!1;for(let h=0;h<u.length;h+=3)if(u[h+1]<0){if(u[h+1]==-2){f=!0,u[h+1]=-1;continue}let p=n.map(t[h]+a),g=p-s;if(g<0||g>=i.content.size){f=!0;continue}let x=n.map(t[h+1]+a,-1),v=x-s,{index:w,offset:k}=i.content.findIndex(g),E=i.maybeChild(w);if(E&&k==g&&k+E.nodeSize==v){let T=u[h+2].mapInner(n,E,p+1,t[h]+a+1,c);T!=zt?(u[h]=g,u[h+1]=v,u[h+2]=T):(u[h+1]=-2,f=!0)}else f=!0}if(f){let h=PR(u,t,e,n,s,a,c),p=Zc(h,i,0,c);e=p.local;for(let g=0;g<u.length;g+=3)u[g+1]<0&&(u.splice(g,3),g-=3);for(let g=0,x=0;g<p.children.length;g+=3){let v=p.children[g];for(;x<u.length&&u[x]<v;)x+=3;u.splice(x,0,p.children[g],p.children[g+1],p.children[g+2])}}return new Ye(e.sort(Gr),u)}function SS(t,e){if(!e||!t.length)return t;let n=[];for(let i=0;i<t.length;i++){let s=t[i];n.push(new Ut(s.from+e,s.to+e,s.type))}return n}function PR(t,e,n,i,s,a,c){function u(f,h){for(let p=0;p<f.local.length;p++){let g=f.local[p].map(i,s,h);g?n.push(g):c.onRemove&&c.onRemove(f.local[p].spec)}for(let p=0;p<f.children.length;p+=3)u(f.children[p+2],f.children[p]+h+1)}for(let f=0;f<t.length;f+=3)t[f+1]==-1&&u(t[f+2],e[f]+a+1);return n}function kS(t,e,n){if(e.isLeaf)return null;let i=n+e.nodeSize,s=null;for(let a=0,c;a<t.length;a++)(c=t[a])&&c.from>n&&c.to<i&&((s||(s=[])).push(c),t[a]=null);return s}function ES(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function Zc(t,e,n,i){let s=[],a=!1;e.forEach((u,f)=>{let h=kS(t,u,f+n);if(h){a=!0;let p=Zc(h,u,n+f+1,i);p!=zt&&s.push(f,f+u.nodeSize,p)}});let c=SS(a?ES(t):t,-n).sort(Gr);for(let u=0;u<c.length;u++)c[u].type.valid(e,c[u])||(i.onRemove&&i.onRemove(c[u].spec),c.splice(u--,1));return c.length||s.length?new Ye(c,s):zt}function Gr(t,e){return t.from-e.from||t.to-e.to}function vm(t){let e=t;for(let n=0;n<e.length-1;n++){let i=e[n];if(i.from!=i.to)for(let s=n+1;s<e.length;s++){let a=e[s];if(a.from==i.from){a.to!=i.to&&(e==t&&(e=t.slice()),e[s]=a.copy(a.from,i.to),pv(e,s+1,a.copy(i.to,a.to)));continue}else{a.from<i.to&&(e==t&&(e=t.slice()),e[n]=i.copy(i.from,a.from),pv(e,s,i.copy(a.from,i.to)));break}}}return e}function pv(t,e,n){for(;e<t.length&&Gr(n,t[e])>0;)e++;t.splice(e,0,n)}function Kh(t){let e=[];return t.someProp("decorations",n=>{let i=n(t.state);i&&i!=zt&&e.push(i)}),t.cursorWrapper&&e.push(Ye.create(t.state.doc,[t.cursorWrapper.deco])),ir.from(e)}const VR={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},$R=Zt&&cr<=11;class FR{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class KR{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new FR,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(i=>{for(let s=0;s<i.length;s++)this.queue.push(i[s]);Zt&&cr<=11&&i.some(s=>s.type=="childList"&&s.removedNodes.length||s.type=="characterData"&&s.oldValue.length>s.target.nodeValue.length)?this.flushSoon():jt&&e.composing&&i.some(s=>s.type=="childList"&&s.target.nodeName=="TR")?(e.input.badSafariComposition=!0,this.flushSoon()):this.flush()}),$R&&(this.onCharData=i=>{this.queue.push({target:i.target,type:"characterData",oldValue:i.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,VR)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(lv(this.view)){if(this.suppressingSelectionUpdates)return ki(this.view);if(Zt&&cr<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&Zr(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,i;for(let a=e.focusNode;a;a=nl(a))n.add(a);for(let a=e.anchorNode;a;a=nl(a))if(n.has(a)){i=a;break}let s=i&&this.view.docView.nearestDesc(i);if(s&&s.ignoreMutation({type:"selection",target:i.nodeType==3?i.parentNode:i}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let i=e.domSelectionRange(),s=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(i)&&lv(e)&&!this.ignoreSelectionChange(i),a=-1,c=-1,u=!1,f=[];if(e.editable)for(let p=0;p<n.length;p++){let g=this.registerMutation(n[p],f);g&&(a=a<0?g.from:Math.min(g.from,a),c=c<0?g.to:Math.max(g.to,c),g.typeOver&&(u=!0))}if(An&&f.length){let p=f.filter(g=>g.nodeName=="BR");if(p.length==2){let[g,x]=p;g.parentNode&&g.parentNode.parentNode==x.parentNode?x.remove():g.remove()}else{let{focusNode:g}=this.currentSelection;for(let x of p){let v=x.parentNode;v&&v.nodeName=="LI"&&(!g||JR(e,g)!=v)&&x.remove()}}}else if((wt||jt)&&f.some(p=>p.nodeName=="BR")&&(e.input.lastKeyCode==8||e.input.lastKeyCode==46)){for(let p of f)if(p.nodeName=="BR"&&p.parentNode){let g=p.nextSibling;g&&g.nodeType==1&&g.contentEditable=="false"&&p.parentNode.removeChild(p)}}let h=null;a<0&&s&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&Fu(i)&&(h=hm(e))&&h.eq(be.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,ki(e),this.currentSelection.set(i),e.scrollToSelection()):(a>-1||s)&&(a>-1&&(e.docView.markDirty(a,c),GR(e)),e.input.badSafariComposition&&(e.input.badSafariComposition=!1,XR(e,f)),this.handleDOMChange(a,c,u,f),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(i)||ki(e),this.currentSelection.set(i))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let i=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(i==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!i||i.ignoreMutation(e))return null;if(e.type=="childList"){for(let p=0;p<e.addedNodes.length;p++){let g=e.addedNodes[p];n.push(g),g.nodeType==3&&(this.lastChangedTextNode=g)}if(i.contentDOM&&i.contentDOM!=i.dom&&!i.contentDOM.contains(e.target))return{from:i.posBefore,to:i.posAfter};let s=e.previousSibling,a=e.nextSibling;if(Zt&&cr<=11&&e.addedNodes.length)for(let p=0;p<e.addedNodes.length;p++){let{previousSibling:g,nextSibling:x}=e.addedNodes[p];(!g||Array.prototype.indexOf.call(e.addedNodes,g)<0)&&(s=g),(!x||Array.prototype.indexOf.call(e.addedNodes,x)<0)&&(a=x)}let c=s&&s.parentNode==e.target?Ot(s)+1:0,u=i.localPosFromDOM(e.target,c,-1),f=a&&a.parentNode==e.target?Ot(a):e.target.childNodes.length,h=i.localPosFromDOM(e.target,f,1);return{from:u,to:h}}else return e.type=="attributes"?{from:i.posAtStart-i.border,to:i.posAtEnd+i.border}:(this.lastChangedTextNode=e.target,{from:i.posAtStart,to:i.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let mv=new WeakMap,gv=!1;function GR(t){if(!mv.has(t)&&(mv.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=An,gv)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),gv=!0}}function yv(t,e){let n=e.startContainer,i=e.startOffset,s=e.endContainer,a=e.endOffset,c=t.domAtPos(t.state.selection.anchor);return Zr(c.node,c.offset,s,a)&&([n,i,s,a]=[s,a,n,i]),{anchorNode:n,anchorOffset:i,focusNode:s,focusOffset:a}}function YR(t,e){if(e.getComposedRanges){let s=e.getComposedRanges(t.root)[0];if(s)return yv(t,s)}let n;function i(s){s.preventDefault(),s.stopImmediatePropagation(),n=s.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",i,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",i,!0),n?yv(t,n):null}function JR(t,e){for(let n=e.parentNode;n&&n!=t.dom;n=n.parentNode){let i=t.docView.nearestDesc(n,!0);if(i&&i.node.isBlock)return n}return null}function XR(t,e){var n;let{focusNode:i,focusOffset:s}=t.domSelectionRange();for(let a of e)if(((n=a.parentNode)===null||n===void 0?void 0:n.nodeName)=="TR"){let c=a.nextSibling;for(;c&&c.nodeName!="TD"&&c.nodeName!="TH";)c=c.nextSibling;if(c){let u=c;for(;;){let f=u.firstChild;if(!f||f.nodeType!=1||f.contentEditable=="false"||/^(BR|IMG)$/.test(f.nodeName))break;u=f}u.insertBefore(a,u.firstChild),i==a&&t.domSelection().collapse(a,s)}else a.parentNode.removeChild(a)}}function WR(t,e,n){let{node:i,fromOffset:s,toOffset:a,from:c,to:u}=t.docView.parseRange(e,n),f=t.domSelectionRange(),h,p=f.anchorNode;if(p&&t.dom.contains(p.nodeType==1?p:p.parentNode)&&(h=[{node:p,offset:f.anchorOffset}],Fu(f)||h.push({node:f.focusNode,offset:f.focusOffset})),wt&&t.input.lastKeyCode===8)for(let E=a;E>s;E--){let T=i.childNodes[E-1],A=T.pmViewDesc;if(T.nodeName=="BR"&&!A){a=E;break}if(!A||A.size)break}let g=t.state.doc,x=t.someProp("domParser")||or.fromSchema(t.state.schema),v=g.resolve(c),w=null,k=x.parse(i,{topNode:v.parent,topMatch:v.parent.contentMatchAt(v.index()),topOpen:!0,from:s,to:a,preserveWhitespace:v.parent.type.whitespace=="pre"?"full":!0,findPositions:h,ruleFromNode:QR,context:v});if(h&&h[0].pos!=null){let E=h[0].pos,T=h[1]&&h[1].pos;T==null&&(T=E),w={anchor:E+c,head:T+c}}return{doc:k,sel:w,from:c,to:u}}function QR(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(jt&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||jt&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const ZR=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function ej(t,e,n,i,s){let a=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let L=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,K=hm(t,L);if(K&&!t.state.selection.eq(K)){if(wt&&vi&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",he=>he(t,Br(13,"Enter"))))return;let Z=t.state.tr.setSelection(K);L=="pointer"?Z.setMeta("pointer",!0):L=="key"&&Z.scrollIntoView(),a&&Z.setMeta("composition",a),t.dispatch(Z)}return}let c=t.state.doc.resolve(e),u=c.sharedDepth(n);e=c.before(u+1),n=t.state.doc.resolve(n).after(u+1);let f=t.state.selection,h=WR(t,e,n),p=t.state.doc,g=p.slice(h.from,h.to),x,v;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(x=t.state.selection.to,v="end"):(x=t.state.selection.from,v="start"),t.input.lastKeyCode=null;let w=ij(g.content,h.doc.content,h.from,x,v);if(w&&t.input.domChangeCount++,(il&&t.input.lastIOSEnter>Date.now()-225||vi)&&s.some(L=>L.nodeType==1&&!ZR.test(L.nodeName))&&(!w||w.endA>=w.endB)&&t.someProp("handleKeyDown",L=>L(t,Br(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!w)if(i&&f instanceof de&&!f.empty&&f.$head.sameParent(f.$anchor)&&!t.composing&&!(h.sel&&h.sel.anchor!=h.sel.head))w={start:f.from,endA:f.to,endB:f.to};else{if(h.sel){let L=bv(t,t.state.doc,h.sel);if(L&&!L.eq(t.state.selection)){let K=t.state.tr.setSelection(L);a&&K.setMeta("composition",a),t.dispatch(K)}}return}t.state.selection.from<t.state.selection.to&&w.start==w.endB&&t.state.selection instanceof de&&(w.start>t.state.selection.from&&w.start<=t.state.selection.from+2&&t.state.selection.from>=h.from?w.start=t.state.selection.from:w.endA<t.state.selection.to&&w.endA>=t.state.selection.to-2&&t.state.selection.to<=h.to&&(w.endB+=t.state.selection.to-w.endA,w.endA=t.state.selection.to)),Zt&&cr<=11&&w.endB==w.start+1&&w.endA==w.start&&w.start>h.from&&h.doc.textBetween(w.start-h.from-1,w.start-h.from+1)==" "&&(w.start--,w.endA--,w.endB--);let k=h.doc.resolveNoCache(w.start-h.from),E=h.doc.resolveNoCache(w.endB-h.from),T=p.resolve(w.start),A=k.sameParent(E)&&k.parent.inlineContent&&T.end()>=w.endA;if((il&&t.input.lastIOSEnter>Date.now()-225&&(!A||s.some(L=>L.nodeName=="DIV"||L.nodeName=="P"))||!A&&k.pos<h.doc.content.size&&(!k.sameParent(E)||!k.parent.inlineContent)&&k.pos<E.pos&&!/\S/.test(h.doc.textBetween(k.pos,E.pos,"","")))&&t.someProp("handleKeyDown",L=>L(t,Br(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>w.start&&nj(p,w.start,w.endA,k,E)&&t.someProp("handleKeyDown",L=>L(t,Br(8,"Backspace")))){vi&&wt&&t.domObserver.suppressSelectionUpdates();return}wt&&w.endB==w.start&&(t.input.lastChromeDelete=Date.now()),vi&&!A&&k.start()!=E.start()&&E.parentOffset==0&&k.depth==E.depth&&h.sel&&h.sel.anchor==h.sel.head&&h.sel.head==w.endA&&(w.endB-=2,E=h.doc.resolveNoCache(w.endB-h.from),setTimeout(()=>{t.someProp("handleKeyDown",function(L){return L(t,Br(13,"Enter"))})},20));let j=w.start,U=w.endA,z=L=>{let K=L||t.state.tr.replace(j,U,h.doc.slice(w.start-h.from,w.endB-h.from));if(h.sel){let Z=bv(t,K.doc,h.sel);Z&&!(wt&&t.composing&&Z.empty&&(w.start!=w.endB||t.input.lastChromeDelete<Date.now()-100)&&(Z.head==j||Z.head==K.mapping.map(U)-1)||Zt&&Z.empty&&Z.head==j)&&K.setSelection(Z)}return a&&K.setMeta("composition",a),K.scrollIntoView()},V;if(A)if(k.pos==E.pos){Zt&&cr<=11&&k.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>ki(t),20));let L=z(t.state.tr.delete(j,U)),K=p.resolve(w.start).marksAcross(p.resolve(w.endA));K&&L.ensureMarks(K),t.dispatch(L)}else if(w.endA==w.endB&&(V=tj(k.parent.content.cut(k.parentOffset,E.parentOffset),T.parent.content.cut(T.parentOffset,w.endA-T.start())))){let L=z(t.state.tr);V.type=="add"?L.addMark(j,U,V.mark):L.removeMark(j,U,V.mark),t.dispatch(L)}else if(k.parent.child(k.index()).isText&&k.index()==E.index()-(E.textOffset?0:1)){let L=k.parent.textBetween(k.parentOffset,E.parentOffset),K=()=>z(t.state.tr.insertText(L,j,U));t.someProp("handleTextInput",Z=>Z(t,j,U,L,K))||t.dispatch(K())}else t.dispatch(z());else t.dispatch(z())}function bv(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:pm(t,e.resolve(n.anchor),e.resolve(n.head))}function tj(t,e){let n=t.firstChild.marks,i=e.firstChild.marks,s=n,a=i,c,u,f;for(let p=0;p<i.length;p++)s=i[p].removeFromSet(s);for(let p=0;p<n.length;p++)a=n[p].removeFromSet(a);if(s.length==1&&a.length==0)u=s[0],c="add",f=p=>p.mark(u.addToSet(p.marks));else if(s.length==0&&a.length==1)u=a[0],c="remove",f=p=>p.mark(u.removeFromSet(p.marks));else return null;let h=[];for(let p=0;p<e.childCount;p++)h.push(f(e.child(p)));if(J.from(h).eq(t))return{mark:u,type:c}}function nj(t,e,n,i,s){if(n-e<=s.pos-i.pos||Gh(i,!0,!1)<s.pos)return!1;let a=t.resolve(e);if(!i.parent.isTextblock){let u=a.nodeAfter;return u!=null&&n==e+u.nodeSize}if(a.parentOffset<a.parent.content.size||!a.parent.isTextblock)return!1;let c=t.resolve(Gh(a,!0,!0));return!c.parent.isTextblock||c.pos>n||Gh(c,!0,!1)<n?!1:i.parent.content.cut(i.parentOffset).eq(c.parent.content)}function Gh(t,e,n){let i=t.depth,s=e?t.end():t.pos;for(;i>0&&(e||t.indexAfter(i)==t.node(i).childCount);)i--,s++,e=!1;if(n){let a=t.node(i).maybeChild(t.indexAfter(i));for(;a&&!a.isLeaf;)a=a.firstChild,s++}return s}function ij(t,e,n,i,s){let a=t.findDiffStart(e,n);if(a==null)return null;let{a:c,b:u}=t.findDiffEnd(e,n+t.size,n+e.size);if(s=="end"){let f=Math.max(0,a-Math.min(c,u));i-=c+f-a}if(c<a&&t.size<e.size){let f=i<=a&&i>=c?a-i:0;a-=f,a&&a<e.size&&xv(e.textBetween(a-1,a+1))&&(a+=f?1:-1),u=a+(u-c),c=a}else if(u<a){let f=i<=a&&i>=u?a-i:0;a-=f,a&&a<t.size&&xv(t.textBetween(a-1,a+1))&&(a+=f?1:-1),c=a+(c-u),u=a}return{start:a,endA:c,endB:u}}function xv(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),n=t.charCodeAt(1);return e>=56320&&e<=57343&&n>=55296&&n<=56319}class NS{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new xR,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(Ev),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=Sv(this),wv(this),this.nodeViews=kv(this),this.docView=ev(this.state.doc,vv(this),Kh(this),this.dom,this),this.domObserver=new KR(this,(i,s,a,c)=>ej(this,i,s,a,c)),this.domObserver.start(),vR(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&Rp(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(Ev),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let i in this._props)n[i]=this._props[i];n.state=this.state;for(let i in e)n[i]=e[i];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){var i;let s=this.state,a=!1,c=!1;e.storedMarks&&this.composing&&(bS(this),c=!0),this.state=e;let u=s.plugins!=e.plugins||this._props.plugins!=n.plugins;if(u||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let v=kv(this);sj(v,this.nodeViews)&&(this.nodeViews=v,a=!0)}(u||n.handleDOMEvents!=this._props.handleDOMEvents)&&Rp(this),this.editable=Sv(this),wv(this);let f=Kh(this),h=vv(this),p=s.plugins!=e.plugins&&!s.doc.eq(e.doc)?"reset":e.scrollToSelection>s.scrollToSelection?"to selection":"preserve",g=a||!this.docView.matchesNode(e.doc,h,f);(g||!e.selection.eq(s.selection))&&(c=!0);let x=p=="preserve"&&c&&this.dom.style.overflowAnchor==null&&zO(this);if(c){this.domObserver.stop();let v=g&&(Zt||wt)&&!this.composing&&!s.selection.empty&&!e.selection.empty&&rj(s.selection,e.selection);if(g){let w=wt?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=zR(this)),(a||!this.docView.update(e.doc,h,f,this))&&(this.docView.updateOuterDeco(h),this.docView.destroy(),this.docView=ev(e.doc,h,f,this.dom,this)),w&&(!this.trackWrites||!this.dom.contains(this.trackWrites))&&(v=!0)}v||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&rR(this))?ki(this,v):(lS(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(s),!((i=this.dragging)===null||i===void 0)&&i.node&&!s.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,s),p=="reset"?this.dom.scrollTop=0:p=="to selection"?this.scrollToSelection():x&&LO(x)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof oe){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&Yx(this,n.getBoundingClientRect(),e)}else Yx(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let i=this.directPlugins[n];i.spec.view&&this.pluginViews.push(i.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let i=this.state.plugins[n];i.spec.view&&this.pluginViews.push(i.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let i=this.pluginViews[n];i.update&&i.update(this,e)}}updateDraggedNode(e,n){let i=e.node,s=-1;if(this.state.doc.nodeAt(i.from)==i.node)s=i.from;else{let a=i.from+(this.state.doc.content.size-n.doc.content.size);(a>0&&this.state.doc.nodeAt(a))==i.node&&(s=a)}this.dragging=new vS(e.slice,e.move,s<0?void 0:oe.create(this.state.doc,s))}someProp(e,n){let i=this._props&&this._props[e],s;if(i!=null&&(s=n?n(i):i))return s;for(let c=0;c<this.directPlugins.length;c++){let u=this.directPlugins[c].props[e];if(u!=null&&(s=n?n(u):u))return s}let a=this.state.plugins;if(a)for(let c=0;c<a.length;c++){let u=a[c].props[e];if(u!=null&&(s=n?n(u):u))return s}}hasFocus(){if(Zt){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&_O(this.dom),ki(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}updateRoot(){this._root=null}posAtCoords(e){return IO(this,e)}coordsAtPos(e,n=1){return Qw(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,i=-1){let s=this.docView.posFromDOM(e,n,i);if(s==null)throw new RangeError("DOM position not inside the editor");return s}endOfTextblock(e,n){return KO(this,n||this.state,e)}pasteHTML(e,n){return Da(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return Da(this,e,null,!0,n||new ClipboardEvent("paste"))}serializeForClipboard(e){return mm(this,e)}destroy(){this.docView&&(wR(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Kh(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,EO())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return kR(this,e)}domSelectionRange(){let e=this.domSelection();return e?jt&&this.root.nodeType===11&&MO(this.dom.ownerDocument)==this.dom&&YR(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}NS.prototype.dispatch=function(t){let e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))};function vv(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let i in n)i=="class"?e.class+=" "+n[i]:i=="style"?e.style=(e.style?e.style+";":"")+n[i]:!e[i]&&i!="contenteditable"&&i!="nodeName"&&(e[i]=String(n[i]))}),e.translate||(e.translate="no"),[Ut.node(0,t.state.doc.content.size,e)]}function wv(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:Ut.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function Sv(t){return!t.someProp("editable",e=>e(t.state)===!1)}function rj(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function kv(t){let e=Object.create(null);function n(i){for(let s in i)Object.prototype.hasOwnProperty.call(e,s)||(e[s]=i[s])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function sj(t,e){let n=0,i=0;for(let s in t){if(t[s]!=e[s])return!0;n++}for(let s in e)i++;return n!=i}function Ev(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var fr={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},eu={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},lj=typeof navigator<"u"&&/Mac/.test(navigator.platform),aj=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Rt=0;Rt<10;Rt++)fr[48+Rt]=fr[96+Rt]=String(Rt);for(var Rt=1;Rt<=24;Rt++)fr[Rt+111]="F"+Rt;for(var Rt=65;Rt<=90;Rt++)fr[Rt]=String.fromCharCode(Rt+32),eu[Rt]=String.fromCharCode(Rt);for(var Yh in fr)eu.hasOwnProperty(Yh)||(eu[Yh]=fr[Yh]);function oj(t){var e=lj&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||aj&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?eu:fr)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const cj=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),uj=typeof navigator<"u"&&/Win/.test(navigator.platform);function dj(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let i,s,a,c;for(let u=0;u<e.length-1;u++){let f=e[u];if(/^(cmd|meta|m)$/i.test(f))c=!0;else if(/^a(lt)?$/i.test(f))i=!0;else if(/^(c|ctrl|control)$/i.test(f))s=!0;else if(/^s(hift)?$/i.test(f))a=!0;else if(/^mod$/i.test(f))cj?c=!0:s=!0;else throw new Error("Unrecognized modifier name: "+f)}return i&&(n="Alt-"+n),s&&(n="Ctrl-"+n),c&&(n="Meta-"+n),a&&(n="Shift-"+n),n}function fj(t){let e=Object.create(null);for(let n in t)e[dj(n)]=t[n];return e}function Jh(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function hj(t){return new Xe({props:{handleKeyDown:TS(t)}})}function TS(t){let e=fj(t);return function(n,i){let s=oj(i),a,c=e[Jh(s,i)];if(c&&c(n.state,n.dispatch,n))return!0;if(s.length==1&&s!=" "){if(i.shiftKey){let u=e[Jh(s,i,!1)];if(u&&u(n.state,n.dispatch,n))return!0}if((i.altKey||i.metaKey||i.ctrlKey)&&!(uj&&i.ctrlKey&&i.altKey)&&(a=fr[i.keyCode])&&a!=s){let u=e[Jh(a,i)];if(u&&u(n.state,n.dispatch,n))return!0}}return!1}}var pj=Object.defineProperty,wm=(t,e)=>{for(var n in e)pj(t,n,{get:e[n],enumerable:!0})};function Yu(t){const{state:e,transaction:n}=t;let{selection:i}=n,{doc:s}=n,{storedMarks:a}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return a},get selection(){return i},get doc(){return s},get tr(){return i=n.selection,s=n.doc,a=n.storedMarks,n}}}var Ju=class{constructor(t){this.editor=t.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=t.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:t,editor:e,state:n}=this,{view:i}=e,{tr:s}=n,a=this.buildProps(s);return Object.fromEntries(Object.entries(t).map(([c,u])=>[c,(...h)=>{const p=u(...h)(a);return!s.getMeta("preventDispatch")&&!this.hasCustomState&&i.dispatch(s),p}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(t,e=!0){const{rawCommands:n,editor:i,state:s}=this,{view:a}=i,c=[],u=!!t,f=t||s.tr,h=()=>(!u&&e&&!f.getMeta("preventDispatch")&&!this.hasCustomState&&a.dispatch(f),c.every(g=>g===!0)),p={...Object.fromEntries(Object.entries(n).map(([g,x])=>[g,(...w)=>{const k=this.buildProps(f,e),E=x(...w)(k);return c.push(E),p}])),run:h};return p}createCan(t){const{rawCommands:e,state:n}=this,i=!1,s=t||n.tr,a=this.buildProps(s,i);return{...Object.fromEntries(Object.entries(e).map(([u,f])=>[u,(...h)=>f(...h)({...a,dispatch:void 0})])),chain:()=>this.createChain(s,i)}}buildProps(t,e=!0){const{rawCommands:n,editor:i,state:s}=this,{view:a}=i,c={tr:t,editor:i,view:a,state:Yu({state:s,transaction:t}),dispatch:e?()=>{}:void 0,chain:()=>this.createChain(t,e),can:()=>this.createCan(t),get commands(){return Object.fromEntries(Object.entries(n).map(([u,f])=>[u,(...h)=>f(...h)(c)]))}};return c}},CS={};wm(CS,{blur:()=>mj,clearContent:()=>gj,clearNodes:()=>yj,command:()=>bj,createParagraphNear:()=>xj,cut:()=>vj,deleteCurrentNode:()=>wj,deleteNode:()=>Sj,deleteRange:()=>kj,deleteSelection:()=>Ej,enter:()=>Nj,exitCode:()=>Tj,extendMarkRange:()=>Cj,first:()=>Aj,focus:()=>Oj,forEach:()=>Rj,insertContent:()=>jj,insertContentAt:()=>Lj,joinBackward:()=>Hj,joinDown:()=>Bj,joinForward:()=>Uj,joinItemBackward:()=>qj,joinItemForward:()=>Ij,joinTextblockBackward:()=>Pj,joinTextblockForward:()=>Vj,joinUp:()=>_j,keyboardShortcut:()=>Fj,lift:()=>Kj,liftEmptyBlock:()=>Gj,liftListItem:()=>Yj,newlineInCode:()=>Jj,resetAttributes:()=>Xj,scrollIntoView:()=>Wj,selectAll:()=>Qj,selectNodeBackward:()=>Zj,selectNodeForward:()=>eD,selectParentNode:()=>tD,selectTextblockEnd:()=>nD,selectTextblockStart:()=>iD,setContent:()=>rD,setMark:()=>ED,setMeta:()=>ND,setNode:()=>TD,setNodeSelection:()=>CD,setTextDirection:()=>AD,setTextSelection:()=>MD,sinkListItem:()=>OD,splitBlock:()=>RD,splitListItem:()=>jD,toggleList:()=>DD,toggleMark:()=>zD,toggleNode:()=>LD,toggleWrap:()=>_D,undoInputRule:()=>BD,unsetAllMarks:()=>HD,unsetMark:()=>UD,unsetTextDirection:()=>qD,updateAttributes:()=>ID,wrapIn:()=>PD,wrapInList:()=>VD});var mj=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window?.getSelection())==null||n.removeAllRanges())}),!0),gj=(t=!0)=>({commands:e})=>e.setContent("",{emitUpdate:t}),yj=()=>({state:t,tr:e,dispatch:n})=>{const{selection:i}=e,{ranges:s}=i;return n&&s.forEach(({$from:a,$to:c})=>{t.doc.nodesBetween(a.pos,c.pos,(u,f)=>{if(u.type.isText)return;const{doc:h,mapping:p}=e,g=h.resolve(p.map(f)),x=h.resolve(p.map(f+u.nodeSize)),v=g.blockRange(x);if(!v)return;const w=ul(v);if(u.type.isTextblock){const{defaultType:k}=g.parent.contentMatchAt(g.index());e.setNodeMarkup(v.start,k)}(w||w===0)&&e.lift(v,w)})}),!0},bj=t=>e=>t(e),xj=()=>({state:t,dispatch:e})=>Iw(t,e),vj=(t,e)=>({editor:n,tr:i})=>{const{state:s}=n,a=s.doc.slice(t.from,t.to);i.deleteRange(t.from,t.to);const c=i.mapping.map(e);return i.insert(c,a.content),i.setSelection(new de(i.doc.resolve(Math.max(c-1,0)))),!0},wj=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,i=n.$anchor.node();if(i.content.size>0)return!1;const s=t.selection.$anchor;for(let a=s.depth;a>0;a-=1)if(s.node(a).type===i.type){if(e){const u=s.before(a),f=s.after(a);t.delete(u,f).scrollIntoView()}return!0}return!1};function pt(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}var Sj=t=>({tr:e,state:n,dispatch:i})=>{const s=pt(t,n.schema),a=e.selection.$anchor;for(let c=a.depth;c>0;c-=1)if(a.node(c).type===s){if(i){const f=a.before(c),h=a.after(c);e.delete(f,h).scrollIntoView()}return!0}return!1},kj=t=>({tr:e,dispatch:n})=>{const{from:i,to:s}=t;return n&&e.delete(i,s),!0},Ej=()=>({state:t,dispatch:e})=>am(t,e),Nj=()=>({commands:t})=>t.keyboardShortcut("Enter"),Tj=()=>({state:t,dispatch:e})=>cO(t,e);function Sm(t){return Object.prototype.toString.call(t)==="[object RegExp]"}function tu(t,e,n={strict:!0}){const i=Object.keys(e);return i.length?i.every(s=>n.strict?e[s]===t[s]:Sm(e[s])?e[s].test(t[s]):e[s]===t[s]):!0}function AS(t,e,n={}){return t.find(i=>i.type===e&&tu(Object.fromEntries(Object.keys(n).map(s=>[s,i.attrs[s]])),n))}function Nv(t,e,n={}){return!!AS(t,e,n)}function km(t,e,n){var i;if(!t||!e)return;let s=t.parent.childAfter(t.parentOffset);if((!s.node||!s.node.marks.some(p=>p.type===e))&&(s=t.parent.childBefore(t.parentOffset)),!s.node||!s.node.marks.some(p=>p.type===e)||(n=n||((i=s.node.marks[0])==null?void 0:i.attrs),!AS([...s.node.marks],e,n)))return;let c=s.index,u=t.start()+s.offset,f=c+1,h=u+s.node.nodeSize;for(;c>0&&Nv([...t.parent.child(c-1).marks],e,n);)c-=1,u-=t.parent.child(c).nodeSize;for(;f<t.parent.childCount&&Nv([...t.parent.child(f).marks],e,n);)h+=t.parent.child(f).nodeSize,f+=1;return{from:u,to:h}}function Ti(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}var Cj=(t,e={})=>({tr:n,state:i,dispatch:s})=>{const a=Ti(t,i.schema),{doc:c,selection:u}=n,{$from:f,from:h,to:p}=u;if(s){const g=km(f,a,e);if(g&&g.from<=h&&g.to>=p){const x=de.create(c,g.from,g.to);n.setSelection(x)}}return!0},Aj=t=>e=>{const n=typeof t=="function"?t(e):t;for(let i=0;i<n.length;i+=1)if(n[i](e))return!0;return!1};function MS(t){return t instanceof de}function Ir(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function OS(t,e=null){if(!e)return null;const n=be.atStart(t),i=be.atEnd(t);if(e==="start"||e===!0)return n;if(e==="end")return i;const s=n.from,a=i.to;return e==="all"?de.create(t,Ir(0,s,a),Ir(t.content.size,s,a)):de.create(t,Ir(e,s,a),Ir(e,s,a))}function Tv(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function nu(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}function Mj(){return typeof navigator<"u"?/^((?!chrome|android).)*safari/i.test(navigator.userAgent):!1}var Oj=(t=null,e={})=>({editor:n,view:i,tr:s,dispatch:a})=>{e={scrollIntoView:!0,...e};const c=()=>{(nu()||Tv())&&i.dom.focus(),Mj()&&!nu()&&!Tv()&&i.dom.focus({preventScroll:!0}),requestAnimationFrame(()=>{n.isDestroyed||(i.focus(),e?.scrollIntoView&&n.commands.scrollIntoView())})};try{if(i.hasFocus()&&t===null||t===!1)return!0}catch{return!1}if(a&&t===null&&!MS(n.state.selection))return c(),!0;const u=OS(s.doc,t)||n.state.selection,f=n.state.selection.eq(u);return a&&(f||s.setSelection(u),f&&s.storedMarks&&s.setStoredMarks(s.storedMarks),c()),!0},Rj=(t,e)=>n=>t.every((i,s)=>e(i,{...n,index:s})),jj=(t,e)=>({tr:n,commands:i})=>i.insertContentAt({from:n.selection.from,to:n.selection.to},t,e),RS=t=>{const e=t.childNodes;for(let n=e.length-1;n>=0;n-=1){const i=e[n];i.nodeType===3&&i.nodeValue&&/^(\n\s\s|\n)$/.test(i.nodeValue)?t.removeChild(i):i.nodeType===1&&RS(i)}return t};function Sc(t){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const e=`<body>${t}</body>`,n=new window.DOMParser().parseFromString(e,"text/html").body;return RS(n)}function La(t,e,n){if(t instanceof _n||t instanceof J)return t;n={slice:!0,parseOptions:{},...n};const i=typeof t=="object"&&t!==null,s=typeof t=="string";if(i)try{if(Array.isArray(t)&&t.length>0)return J.fromArray(t.map(u=>e.nodeFromJSON(u)));const c=e.nodeFromJSON(t);return n.errorOnInvalidContent&&c.check(),c}catch(a){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:a});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",a),La("",e,n)}if(s){if(n.errorOnInvalidContent){let c=!1,u="";const f=new pw({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:h=>(c=!0,u=typeof h=="string"?h:h.outerHTML,null)}]}})});if(n.slice?or.fromSchema(f).parseSlice(Sc(t),n.parseOptions):or.fromSchema(f).parse(Sc(t),n.parseOptions),n.errorOnInvalidContent&&c)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${u}`)})}const a=or.fromSchema(e);return n.slice?a.parseSlice(Sc(t),n.parseOptions).content:a.parse(Sc(t),n.parseOptions)}return La("",e,n)}function Dj(t,e,n){const i=t.steps.length-1;if(i<e)return;const s=t.steps[i];if(!(s instanceof vt||s instanceof St))return;const a=t.mapping.maps[i];let c=0;a.forEach((u,f,h,p)=>{c===0&&(c=p)}),t.setSelection(be.near(t.doc.resolve(c),n))}var zj=t=>!("type"in t),Lj=(t,e,n)=>({tr:i,dispatch:s,editor:a})=>{var c;if(s){n={parseOptions:a.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let u;const f=E=>{a.emit("contentError",{editor:a,error:E,disableCollaboration:()=>{"collaboration"in a.storage&&typeof a.storage.collaboration=="object"&&a.storage.collaboration&&(a.storage.collaboration.isDisabled=!0)}})},h={preserveWhitespace:"full",...n.parseOptions};if(!n.errorOnInvalidContent&&!a.options.enableContentCheck&&a.options.emitContentError)try{La(e,a.schema,{parseOptions:h,errorOnInvalidContent:!0})}catch(E){f(E)}try{u=La(e,a.schema,{parseOptions:h,errorOnInvalidContent:(c=n.errorOnInvalidContent)!=null?c:a.options.enableContentCheck})}catch(E){return f(E),!1}let{from:p,to:g}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},x=!0,v=!0;if((zj(u)?u:[u]).forEach(E=>{E.check(),x=x?E.isText&&E.marks.length===0:!1,v=v?E.isBlock:!1}),p===g&&v){const{parent:E}=i.doc.resolve(p);E.isTextblock&&!E.type.spec.code&&!E.childCount&&(p-=1,g+=1)}let k;if(x){if(Array.isArray(e))k=e.map(E=>E.text||"").join("");else if(e instanceof J){let E="";e.forEach(T=>{T.text&&(E+=T.text)}),k=E}else typeof e=="object"&&e&&e.text?k=e.text:k=e;i.insertText(k,p,g)}else{k=u;const E=i.doc.resolve(p),T=E.node(),A=E.parentOffset===0,j=T.isText||T.isTextblock,U=T.content.size>0;A&&j&&U&&(p=Math.max(0,p-1)),i.replaceWith(p,g,k)}n.updateSelection&&Dj(i,i.steps.length-1,-1),n.applyInputRules&&i.setMeta("applyInputRules",{from:p,text:k}),n.applyPasteRules&&i.setMeta("applyPasteRules",{from:p,text:k})}return!0},_j=()=>({state:t,dispatch:e})=>lO(t,e),Bj=()=>({state:t,dispatch:e})=>aO(t,e),Hj=()=>({state:t,dispatch:e})=>zw(t,e),Uj=()=>({state:t,dispatch:e})=>Hw(t,e),qj=()=>({state:t,dispatch:e,tr:n})=>{try{const i=Pu(t.doc,t.selection.$from.pos,-1);return i==null?!1:(n.join(i,2),e&&e(n),!0)}catch{return!1}},Ij=()=>({state:t,dispatch:e,tr:n})=>{try{const i=Pu(t.doc,t.selection.$from.pos,1);return i==null?!1:(n.join(i,2),e&&e(n),!0)}catch{return!1}},Pj=()=>({state:t,dispatch:e})=>rO(t,e),Vj=()=>({state:t,dispatch:e})=>sO(t,e);function jS(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function $j(t){const e=t.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let i,s,a,c;for(let u=0;u<e.length-1;u+=1){const f=e[u];if(/^(cmd|meta|m)$/i.test(f))c=!0;else if(/^a(lt)?$/i.test(f))i=!0;else if(/^(c|ctrl|control)$/i.test(f))s=!0;else if(/^s(hift)?$/i.test(f))a=!0;else if(/^mod$/i.test(f))nu()||jS()?c=!0:s=!0;else throw new Error(`Unrecognized modifier name: ${f}`)}return i&&(n=`Alt-${n}`),s&&(n=`Ctrl-${n}`),c&&(n=`Meta-${n}`),a&&(n=`Shift-${n}`),n}var Fj=t=>({editor:e,view:n,tr:i,dispatch:s})=>{const a=$j(t).split(/-(?!$)/),c=a.find(h=>!["Alt","Ctrl","Meta","Shift"].includes(h)),u=new KeyboardEvent("keydown",{key:c==="Space"?" ":c,altKey:a.includes("Alt"),ctrlKey:a.includes("Ctrl"),metaKey:a.includes("Meta"),shiftKey:a.includes("Shift"),bubbles:!0,cancelable:!0}),f=e.captureTransaction(()=>{n.someProp("handleKeyDown",h=>h(n,u))});return f?.steps.forEach(h=>{const p=h.map(i.mapping);p&&s&&i.maybeStep(p)}),!0};function hr(t,e,n={}){const{from:i,to:s,empty:a}=t.selection,c=e?pt(e,t.schema):null,u=[];t.doc.nodesBetween(i,s,(g,x)=>{if(g.isText)return;const v=Math.max(i,x),w=Math.min(s,x+g.nodeSize);u.push({node:g,from:v,to:w})});const f=s-i,h=u.filter(g=>c?c.name===g.node.type.name:!0).filter(g=>tu(g.node.attrs,n,{strict:!1}));return a?!!h.length:h.reduce((g,x)=>g+x.to-x.from,0)>=f}var Kj=(t,e={})=>({state:n,dispatch:i})=>{const s=pt(t,n.schema);return hr(n,s,e)?oO(n,i):!1},Gj=()=>({state:t,dispatch:e})=>Pw(t,e),Yj=t=>({state:e,dispatch:n})=>{const i=pt(t,e.schema);return vO(i)(e,n)},Jj=()=>({state:t,dispatch:e})=>qw(t,e);function Xu(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function Cv(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((i,s)=>(n.includes(s)||(i[s]=t[s]),i),{})}var Xj=(t,e)=>({tr:n,state:i,dispatch:s})=>{let a=null,c=null;const u=Xu(typeof t=="string"?t:t.name,i.schema);if(!u)return!1;u==="node"&&(a=pt(t,i.schema)),u==="mark"&&(c=Ti(t,i.schema));let f=!1;return n.selection.ranges.forEach(h=>{i.doc.nodesBetween(h.$from.pos,h.$to.pos,(p,g)=>{a&&a===p.type&&(f=!0,s&&n.setNodeMarkup(g,void 0,Cv(p.attrs,e))),c&&p.marks.length&&p.marks.forEach(x=>{c===x.type&&(f=!0,s&&n.addMark(g,g+p.nodeSize,c.create(Cv(x.attrs,e))))})})}),f},Wj=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),Qj=()=>({tr:t,dispatch:e})=>{if(e){const n=new fn(t.doc);t.setSelection(n)}return!0},Zj=()=>({state:t,dispatch:e})=>_w(t,e),eD=()=>({state:t,dispatch:e})=>Uw(t,e),tD=()=>({state:t,dispatch:e})=>fO(t,e),nD=()=>({state:t,dispatch:e})=>mO(t,e),iD=()=>({state:t,dispatch:e})=>pO(t,e);function jp(t,e,n={},i={}){return La(t,e,{slice:!1,parseOptions:n,errorOnInvalidContent:i.errorOnInvalidContent})}var rD=(t,{errorOnInvalidContent:e,emitUpdate:n=!0,parseOptions:i={}}={})=>({editor:s,tr:a,dispatch:c,commands:u})=>{const{doc:f}=a;if(i.preserveWhitespace!=="full"){const h=jp(t,s.schema,i,{errorOnInvalidContent:e??s.options.enableContentCheck});return c&&a.replaceWith(0,f.content.size,h).setMeta("preventUpdate",!n),!0}return c&&a.setMeta("preventUpdate",!n),u.insertContentAt({from:0,to:f.content.size},t,{parseOptions:i,errorOnInvalidContent:e??s.options.enableContentCheck})};function DS(t,e){const n=Ti(e,t.schema),{from:i,to:s,empty:a}=t.selection,c=[];a?(t.storedMarks&&c.push(...t.storedMarks),c.push(...t.selection.$head.marks())):t.doc.nodesBetween(i,s,f=>{c.push(...f.marks)});const u=c.find(f=>f.type.name===n.name);return u?{...u.attrs}:{}}function zS(t,e){const n=new Ow(t);return e.forEach(i=>{i.steps.forEach(s=>{n.step(s)})}),n}function sD(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function lD(t,e,n){const i=[];return t.nodesBetween(e.from,e.to,(s,a)=>{n(s)&&i.push({node:s,pos:a})}),i}function aD(t,e){for(let n=t.depth;n>0;n-=1){const i=t.node(n);if(e(i))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:i}}}function Wu(t){return e=>aD(e.$from,t)}function le(t,e,n){return t.config[e]===void 0&&t.parent?le(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind({...n,parent:t.parent?le(t.parent,e,n):null}):t.config[e]}function Em(t){return t.map(e=>{const n={name:e.name,options:e.options,storage:e.storage},i=le(e,"addExtensions",n);return i?[e,...Em(i())]:e}).flat(10)}function Nm(t,e){const n=is.fromSchema(e).serializeFragment(t),s=document.implementation.createHTMLDocument().createElement("div");return s.appendChild(n),s.innerHTML}function LS(t){return typeof t=="function"}function je(t,e=void 0,...n){return LS(t)?e?t.bind(e)(...n):t(...n):t}function oD(t={}){return Object.keys(t).length===0&&t.constructor===Object}function rl(t){const e=t.filter(s=>s.type==="extension"),n=t.filter(s=>s.type==="node"),i=t.filter(s=>s.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:i}}function _S(t){const e=[],{nodeExtensions:n,markExtensions:i}=rl(t),s=[...n,...i],a={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(c=>{const u={name:c.name,options:c.options,storage:c.storage,extensions:s},f=le(c,"addGlobalAttributes",u);if(!f)return;f().forEach(p=>{p.types.forEach(g=>{Object.entries(p.attributes).forEach(([x,v])=>{e.push({type:g,name:x,attribute:{...a,...v}})})})})}),s.forEach(c=>{const u={name:c.name,options:c.options,storage:c.storage},f=le(c,"addAttributes",u);if(!f)return;const h=f();Object.entries(h).forEach(([p,g])=>{const x={...a,...g};typeof x?.default=="function"&&(x.default=x.default()),x?.isRequired&&x?.default===void 0&&delete x.default,e.push({type:c.name,name:p,attribute:x})})}),e}function rt(...t){return t.filter(e=>!!e).reduce((e,n)=>{const i={...e};return Object.entries(n).forEach(([s,a])=>{if(!i[s]){i[s]=a;return}if(s==="class"){const u=a?String(a).split(" "):[],f=i[s]?i[s].split(" "):[],h=u.filter(p=>!f.includes(p));i[s]=[...f,...h].join(" ")}else if(s==="style"){const u=a?a.split(";").map(p=>p.trim()).filter(Boolean):[],f=i[s]?i[s].split(";").map(p=>p.trim()).filter(Boolean):[],h=new Map;f.forEach(p=>{const[g,x]=p.split(":").map(v=>v.trim());h.set(g,x)}),u.forEach(p=>{const[g,x]=p.split(":").map(v=>v.trim());h.set(g,x)}),i[s]=Array.from(h.entries()).map(([p,g])=>`${p}: ${g}`).join("; ")}else i[s]=a}),i},{})}function _a(t,e){return e.filter(n=>n.type===t.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(t.attrs)||{}:{[n.name]:t.attrs[n.name]}).reduce((n,i)=>rt(n,i),{})}function cD(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function Av(t,e){return"style"in t?t:{...t,getAttrs:n=>{const i=t.getAttrs?t.getAttrs(n):t.attrs;if(i===!1)return!1;const s=e.reduce((a,c)=>{const u=c.attribute.parseHTML?c.attribute.parseHTML(n):cD(n.getAttribute(c.name));return u==null?a:{...a,[c.name]:u}},{});return{...i,...s}}}}function Mv(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>e==="attrs"&&oD(n)?!1:n!=null))}function Ov(t){var e,n;const i={};return!((e=t?.attribute)!=null&&e.isRequired)&&"default"in(t?.attribute||{})&&(i.default=t.attribute.default),((n=t?.attribute)==null?void 0:n.validate)!==void 0&&(i.validate=t.attribute.validate),[t.name,i]}function uD(t,e){var n;const i=_S(t),{nodeExtensions:s,markExtensions:a}=rl(t),c=(n=s.find(h=>le(h,"topNode")))==null?void 0:n.name,u=Object.fromEntries(s.map(h=>{const p=i.filter(T=>T.type===h.name),g={name:h.name,options:h.options,storage:h.storage,editor:e},x=t.reduce((T,A)=>{const j=le(A,"extendNodeSchema",g);return{...T,...j?j(h):{}}},{}),v=Mv({...x,content:je(le(h,"content",g)),marks:je(le(h,"marks",g)),group:je(le(h,"group",g)),inline:je(le(h,"inline",g)),atom:je(le(h,"atom",g)),selectable:je(le(h,"selectable",g)),draggable:je(le(h,"draggable",g)),code:je(le(h,"code",g)),whitespace:je(le(h,"whitespace",g)),linebreakReplacement:je(le(h,"linebreakReplacement",g)),defining:je(le(h,"defining",g)),isolating:je(le(h,"isolating",g)),attrs:Object.fromEntries(p.map(Ov))}),w=je(le(h,"parseHTML",g));w&&(v.parseDOM=w.map(T=>Av(T,p)));const k=le(h,"renderHTML",g);k&&(v.toDOM=T=>k({node:T,HTMLAttributes:_a(T,p)}));const E=le(h,"renderText",g);return E&&(v.toText=E),[h.name,v]})),f=Object.fromEntries(a.map(h=>{const p=i.filter(E=>E.type===h.name),g={name:h.name,options:h.options,storage:h.storage,editor:e},x=t.reduce((E,T)=>{const A=le(T,"extendMarkSchema",g);return{...E,...A?A(h):{}}},{}),v=Mv({...x,inclusive:je(le(h,"inclusive",g)),excludes:je(le(h,"excludes",g)),group:je(le(h,"group",g)),spanning:je(le(h,"spanning",g)),code:je(le(h,"code",g)),attrs:Object.fromEntries(p.map(Ov))}),w=je(le(h,"parseHTML",g));w&&(v.parseDOM=w.map(E=>Av(E,p)));const k=le(h,"renderHTML",g);return k&&(v.toDOM=E=>k({mark:E,HTMLAttributes:_a(E,p)})),[h.name,v]}));return new pw({topNode:c,nodes:u,marks:f})}function dD(t){const e=t.filter((n,i)=>t.indexOf(n)!==i);return Array.from(new Set(e))}function iu(t){return t.sort((n,i)=>{const s=le(n,"priority")||100,a=le(i,"priority")||100;return s>a?-1:s<a?1:0})}function BS(t){const e=iu(Em(t)),n=dD(e.map(i=>i.name));return n.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${n.map(i=>`'${i}'`).join(", ")}]. This can lead to issues.`),e}function HS(t,e,n){const{from:i,to:s}=e,{blockSeparator:a=`

`,textSerializers:c={}}=n||{};let u="";return t.nodesBetween(i,s,(f,h,p,g)=>{var x;f.isBlock&&h>i&&(u+=a);const v=c?.[f.type.name];if(v)return p&&(u+=v({node:f,pos:h,parent:p,index:g,range:e})),!1;f.isText&&(u+=(x=f?.text)==null?void 0:x.slice(Math.max(i,h)-h,s-h))}),u}function fD(t,e){const n={from:0,to:t.content.size};return HS(t,n,e)}function US(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}function hD(t,e){const n=pt(e,t.schema),{from:i,to:s}=t.selection,a=[];t.doc.nodesBetween(i,s,u=>{a.push(u)});const c=a.reverse().find(u=>u.type.name===n.name);return c?{...c.attrs}:{}}function qS(t,e){const n=Xu(typeof e=="string"?e:e.name,t.schema);return n==="node"?hD(t,e):n==="mark"?DS(t,e):{}}function pD(t,e=JSON.stringify){const n={};return t.filter(i=>{const s=e(i);return Object.prototype.hasOwnProperty.call(n,s)?!1:n[s]=!0})}function mD(t){const e=pD(t);return e.length===1?e:e.filter((n,i)=>!e.filter((a,c)=>c!==i).some(a=>n.oldRange.from>=a.oldRange.from&&n.oldRange.to<=a.oldRange.to&&n.newRange.from>=a.newRange.from&&n.newRange.to<=a.newRange.to))}function IS(t){const{mapping:e,steps:n}=t,i=[];return e.maps.forEach((s,a)=>{const c=[];if(s.ranges.length)s.forEach((u,f)=>{c.push({from:u,to:f})});else{const{from:u,to:f}=n[a];if(u===void 0||f===void 0)return;c.push({from:u,to:f})}c.forEach(({from:u,to:f})=>{const h=e.slice(a).map(u,-1),p=e.slice(a).map(f),g=e.invert().map(h,-1),x=e.invert().map(p);i.push({oldRange:{from:g,to:x},newRange:{from:h,to:p}})})}),mD(i)}function Tm(t,e,n){const i=[];return t===e?n.resolve(t).marks().forEach(s=>{const a=n.resolve(t),c=km(a,s.type);c&&i.push({mark:s,...c})}):n.nodesBetween(t,e,(s,a)=>{!s||s?.nodeSize===void 0||i.push(...s.marks.map(c=>({from:a,to:a+s.nodeSize,mark:c})))}),i}var gD=(t,e,n,i=20)=>{const s=t.doc.resolve(n);let a=i,c=null;for(;a>0&&c===null;){const u=s.node(a);u?.type.name===e?c=u:a-=1}return[c,a]};function kc(t,e){return e.nodes[t]||e.marks[t]||null}function Uc(t,e,n){return Object.fromEntries(Object.entries(n).filter(([i])=>{const s=t.find(a=>a.type===e&&a.name===i);return s?s.attribute.keepOnSplit:!1}))}var yD=(t,e=500)=>{let n="";const i=t.parentOffset;return t.parent.nodesBetween(Math.max(0,i-e),i,(s,a,c,u)=>{var f,h;const p=((h=(f=s.type.spec).toText)==null?void 0:h.call(f,{node:s,pos:a,parent:c,index:u}))||s.textContent||"%leaf%";n+=s.isAtom&&!s.isText?p:p.slice(0,Math.max(0,i-a))}),n};function Dp(t,e,n={}){const{empty:i,ranges:s}=t.selection,a=e?Ti(e,t.schema):null;if(i)return!!(t.storedMarks||t.selection.$from.marks()).filter(g=>a?a.name===g.type.name:!0).find(g=>tu(g.attrs,n,{strict:!1}));let c=0;const u=[];if(s.forEach(({$from:g,$to:x})=>{const v=g.pos,w=x.pos;t.doc.nodesBetween(v,w,(k,E)=>{if(!k.isText&&!k.marks.length)return;const T=Math.max(v,E),A=Math.min(w,E+k.nodeSize),j=A-T;c+=j,u.push(...k.marks.map(U=>({mark:U,from:T,to:A})))})}),c===0)return!1;const f=u.filter(g=>a?a.name===g.mark.type.name:!0).filter(g=>tu(g.mark.attrs,n,{strict:!1})).reduce((g,x)=>g+x.to-x.from,0),h=u.filter(g=>a?g.mark.type!==a&&g.mark.type.excludes(a):!0).reduce((g,x)=>g+x.to-x.from,0);return(f>0?f+h:f)>=c}function bD(t,e,n={}){if(!e)return hr(t,null,n)||Dp(t,null,n);const i=Xu(e,t.schema);return i==="node"?hr(t,e,n):i==="mark"?Dp(t,e,n):!1}var xD=(t,e)=>{const{$from:n,$to:i,$anchor:s}=t.selection;if(e){const a=Wu(u=>u.type.name===e)(t.selection);if(!a)return!1;const c=t.doc.resolve(a.pos+1);return s.pos+1===c.end()}return!(i.parentOffset<i.parent.nodeSize-2||n.pos!==i.pos)},vD=t=>{const{$from:e,$to:n}=t.selection;return!(e.parentOffset>0||e.pos!==n.pos)};function Rv(t,e){return Array.isArray(e)?e.some(n=>(typeof n=="string"?n:n.name)===t.name):e}function jv(t,e){const{nodeExtensions:n}=rl(e),i=n.find(c=>c.name===t);if(!i)return!1;const s={name:i.name,options:i.options,storage:i.storage},a=je(le(i,"group",s));return typeof a!="string"?!1:a.split(" ").includes("list")}function Qu(t,{checkChildren:e=!0,ignoreWhitespace:n=!1}={}){var i;if(n){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((i=t.text)!=null?i:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(e){let s=!0;return t.content.forEach(a=>{s!==!1&&(Qu(a,{ignoreWhitespace:n,checkChildren:e})||(s=!1))}),s}return!1}function PS(t){return t instanceof oe}var VS=class $S{constructor(e){this.position=e}static fromJSON(e){return new $S(e.position)}toJSON(){return{position:this.position}}};function wD(t,e){const n=e.mapping.mapResult(t.position);return{position:new VS(n.pos),mapResult:n}}function SD(t){return new VS(t)}function kD(t,e,n){var i;const{selection:s}=e;let a=null;if(MS(s)&&(a=s.$cursor),a){const u=(i=t.storedMarks)!=null?i:a.marks();return a.parent.type.allowsMarkType(n)&&(!!n.isInSet(u)||!u.some(h=>h.type.excludes(n)))}const{ranges:c}=s;return c.some(({$from:u,$to:f})=>{let h=u.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(n):!1;return t.doc.nodesBetween(u.pos,f.pos,(p,g,x)=>{if(h)return!1;if(p.isInline){const v=!x||x.type.allowsMarkType(n),w=!!n.isInSet(p.marks)||!p.marks.some(k=>k.type.excludes(n));h=v&&w}return!h}),h})}var ED=(t,e={})=>({tr:n,state:i,dispatch:s})=>{const{selection:a}=n,{empty:c,ranges:u}=a,f=Ti(t,i.schema);if(s)if(c){const h=DS(i,f);n.addStoredMark(f.create({...h,...e}))}else u.forEach(h=>{const p=h.$from.pos,g=h.$to.pos;i.doc.nodesBetween(p,g,(x,v)=>{const w=Math.max(v,p),k=Math.min(v+x.nodeSize,g);x.marks.find(T=>T.type===f)?x.marks.forEach(T=>{f===T.type&&n.addMark(w,k,f.create({...T.attrs,...e}))}):n.addMark(w,k,f.create(e))})});return kD(i,n,f)},ND=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),TD=(t,e={})=>({state:n,dispatch:i,chain:s})=>{const a=pt(t,n.schema);let c;return n.selection.$anchor.sameParent(n.selection.$head)&&(c=n.selection.$anchor.parent.attrs),a.isTextblock?s().command(({commands:u})=>Fx(a,{...c,...e})(n)?!0:u.clearNodes()).command(({state:u})=>Fx(a,{...c,...e})(u,i)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},CD=t=>({tr:e,dispatch:n})=>{if(n){const{doc:i}=e,s=Ir(t,0,i.content.size),a=oe.create(i,s);e.setSelection(a)}return!0},AD=(t,e)=>({tr:n,state:i,dispatch:s})=>{const{selection:a}=i;let c,u;return typeof e=="number"?(c=e,u=e):e&&"from"in e&&"to"in e?(c=e.from,u=e.to):(c=a.from,u=a.to),s&&n.doc.nodesBetween(c,u,(f,h)=>{f.isText||n.setNodeMarkup(h,void 0,{...f.attrs,dir:t})}),!0},MD=t=>({tr:e,dispatch:n})=>{if(n){const{doc:i}=e,{from:s,to:a}=typeof t=="number"?{from:t,to:t}:t,c=de.atStart(i).from,u=de.atEnd(i).to,f=Ir(s,c,u),h=Ir(a,c,u),p=de.create(i,f,h);e.setSelection(p)}return!0},OD=t=>({state:e,dispatch:n})=>{const i=pt(t,e.schema);return kO(i)(e,n)};function Dv(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const i=n.filter(s=>e?.includes(s.type.name));t.tr.ensureMarks(i)}}var RD=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:i,editor:s})=>{const{selection:a,doc:c}=e,{$from:u,$to:f}=a,h=s.extensionManager.attributes,p=Uc(h,u.node().type.name,u.node().attrs);if(a instanceof oe&&a.node.isBlock)return!u.parentOffset||!Si(c,u.pos)?!1:(i&&(t&&Dv(n,s.extensionManager.splittableMarks),e.split(u.pos).scrollIntoView()),!0);if(!u.parent.isBlock)return!1;const g=f.parentOffset===f.parent.content.size,x=u.depth===0?void 0:sD(u.node(-1).contentMatchAt(u.indexAfter(-1)));let v=g&&x?[{type:x,attrs:p}]:void 0,w=Si(e.doc,e.mapping.map(u.pos),1,v);if(!v&&!w&&Si(e.doc,e.mapping.map(u.pos),1,x?[{type:x}]:void 0)&&(w=!0,v=x?[{type:x,attrs:p}]:void 0),i){if(w&&(a instanceof de&&e.deleteSelection(),e.split(e.mapping.map(u.pos),1,v),x&&!g&&!u.parentOffset&&u.parent.type!==x)){const k=e.mapping.map(u.before()),E=e.doc.resolve(k);u.node(-1).canReplaceWith(E.index(),E.index()+1,x)&&e.setNodeMarkup(e.mapping.map(u.before()),x)}t&&Dv(n,s.extensionManager.splittableMarks),e.scrollIntoView()}return w},jD=(t,e={})=>({tr:n,state:i,dispatch:s,editor:a})=>{var c;const u=pt(t,i.schema),{$from:f,$to:h}=i.selection,p=i.selection.node;if(p&&p.isBlock||f.depth<2||!f.sameParent(h))return!1;const g=f.node(-1);if(g.type!==u)return!1;const x=a.extensionManager.attributes;if(f.parent.content.size===0&&f.node(-1).childCount===f.indexAfter(-1)){if(f.depth===2||f.node(-3).type!==u||f.index(-2)!==f.node(-2).childCount-1)return!1;if(s){let T=J.empty;const A=f.index(-1)?1:f.index(-2)?2:3;for(let K=f.depth-A;K>=f.depth-3;K-=1)T=J.from(f.node(K).copy(T));const j=f.indexAfter(-1)<f.node(-2).childCount?1:f.indexAfter(-2)<f.node(-3).childCount?2:3,U={...Uc(x,f.node().type.name,f.node().attrs),...e},z=((c=u.contentMatch.defaultType)==null?void 0:c.createAndFill(U))||void 0;T=T.append(J.from(u.createAndFill(null,z)||void 0));const V=f.before(f.depth-(A-1));n.replace(V,f.after(-j),new ee(T,4-A,0));let L=-1;n.doc.nodesBetween(V,n.doc.content.size,(K,Z)=>{if(L>-1)return!1;K.isTextblock&&K.content.size===0&&(L=Z+1)}),L>-1&&n.setSelection(de.near(n.doc.resolve(L))),n.scrollIntoView()}return!0}const v=h.pos===f.end()?g.contentMatchAt(0).defaultType:null,w={...Uc(x,g.type.name,g.attrs),...e},k={...Uc(x,f.node().type.name,f.node().attrs),...e};n.delete(f.pos,h.pos);const E=v?[{type:u,attrs:w},{type:v,attrs:k}]:[{type:u,attrs:w}];if(!Si(n.doc,f.pos,2))return!1;if(s){const{selection:T,storedMarks:A}=i,{splittableMarks:j}=a.extensionManager,U=A||T.$to.parentOffset&&T.$from.marks();if(n.split(f.pos,2,E).scrollIntoView(),!U||!s)return!0;const z=U.filter(V=>j.includes(V.type.name));n.ensureMarks(z)}return!0},Xh=(t,e)=>{const n=Wu(c=>c.type===e)(t.selection);if(!n)return!0;const i=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(i===void 0)return!0;const s=t.doc.nodeAt(i);return n.node.type===s?.type&&pr(t.doc,n.pos)&&t.join(n.pos),!0},Wh=(t,e)=>{const n=Wu(c=>c.type===e)(t.selection);if(!n)return!0;const i=t.doc.resolve(n.start).after(n.depth);if(i===void 0)return!0;const s=t.doc.nodeAt(i);return n.node.type===s?.type&&pr(t.doc,i)&&t.join(i),!0},DD=(t,e,n,i={})=>({editor:s,tr:a,state:c,dispatch:u,chain:f,commands:h,can:p})=>{const{extensions:g,splittableMarks:x}=s.extensionManager,v=pt(t,c.schema),w=pt(e,c.schema),{selection:k,storedMarks:E}=c,{$from:T,$to:A}=k,j=T.blockRange(A),U=E||k.$to.parentOffset&&k.$from.marks();if(!j)return!1;const z=Wu(V=>jv(V.type.name,g))(k);if(j.depth>=1&&z&&j.depth-z.depth<=1){if(z.node.type===v)return h.liftListItem(w);if(jv(z.node.type.name,g)&&v.validContent(z.node.content)&&u)return f().command(()=>(a.setNodeMarkup(z.pos,v),!0)).command(()=>Xh(a,v)).command(()=>Wh(a,v)).run()}return!n||!U||!u?f().command(()=>p().wrapInList(v,i)?!0:h.clearNodes()).wrapInList(v,i).command(()=>Xh(a,v)).command(()=>Wh(a,v)).run():f().command(()=>{const V=p().wrapInList(v,i),L=U.filter(K=>x.includes(K.type.name));return a.ensureMarks(L),V?!0:h.clearNodes()}).wrapInList(v,i).command(()=>Xh(a,v)).command(()=>Wh(a,v)).run()},zD=(t,e={},n={})=>({state:i,commands:s})=>{const{extendEmptyMarkRange:a=!1}=n,c=Ti(t,i.schema);return Dp(i,c,e)?s.unsetMark(c,{extendEmptyMarkRange:a}):s.setMark(c,e)},LD=(t,e,n={})=>({state:i,commands:s})=>{const a=pt(t,i.schema),c=pt(e,i.schema),u=hr(i,a,n);let f;return i.selection.$anchor.sameParent(i.selection.$head)&&(f=i.selection.$anchor.parent.attrs),u?s.setNode(c,f):s.setNode(a,{...f,...n})},_D=(t,e={})=>({state:n,commands:i})=>{const s=pt(t,n.schema);return hr(n,s,e)?i.lift(s):i.wrapIn(s,e)},BD=()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let i=0;i<n.length;i+=1){const s=n[i];let a;if(s.spec.isInputRules&&(a=s.getState(t))){if(e){const c=t.tr,u=a.transform;for(let f=u.steps.length-1;f>=0;f-=1)c.step(u.steps[f].invert(u.docs[f]));if(a.text){const f=c.doc.resolve(a.from).marks();c.replaceWith(a.from,a.to,t.schema.text(a.text,f))}else c.delete(a.from,a.to)}return!0}}return!1},HD=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:i,ranges:s}=n;return i||e&&s.forEach(a=>{t.removeMark(a.$from.pos,a.$to.pos)}),!0},UD=(t,e={})=>({tr:n,state:i,dispatch:s})=>{var a;const{extendEmptyMarkRange:c=!1}=e,{selection:u}=n,f=Ti(t,i.schema),{$from:h,empty:p,ranges:g}=u;if(!s)return!0;if(p&&c){let{from:x,to:v}=u;const w=(a=h.marks().find(E=>E.type===f))==null?void 0:a.attrs,k=km(h,f,w);k&&(x=k.from,v=k.to),n.removeMark(x,v,f)}else g.forEach(x=>{n.removeMark(x.$from.pos,x.$to.pos,f)});return n.removeStoredMark(f),!0},qD=t=>({tr:e,state:n,dispatch:i})=>{const{selection:s}=n;let a,c;return typeof t=="number"?(a=t,c=t):t&&"from"in t&&"to"in t?(a=t.from,c=t.to):(a=s.from,c=s.to),i&&e.doc.nodesBetween(a,c,(u,f)=>{if(u.isText)return;const h={...u.attrs};delete h.dir,e.setNodeMarkup(f,void 0,h)}),!0},ID=(t,e={})=>({tr:n,state:i,dispatch:s})=>{let a=null,c=null;const u=Xu(typeof t=="string"?t:t.name,i.schema);if(!u)return!1;u==="node"&&(a=pt(t,i.schema)),u==="mark"&&(c=Ti(t,i.schema));let f=!1;return n.selection.ranges.forEach(h=>{const p=h.$from.pos,g=h.$to.pos;let x,v,w,k;n.selection.empty?i.doc.nodesBetween(p,g,(E,T)=>{a&&a===E.type&&(f=!0,w=Math.max(T,p),k=Math.min(T+E.nodeSize,g),x=T,v=E)}):i.doc.nodesBetween(p,g,(E,T)=>{T<p&&a&&a===E.type&&(f=!0,w=Math.max(T,p),k=Math.min(T+E.nodeSize,g),x=T,v=E),T>=p&&T<=g&&(a&&a===E.type&&(f=!0,s&&n.setNodeMarkup(T,void 0,{...E.attrs,...e})),c&&E.marks.length&&E.marks.forEach(A=>{if(c===A.type&&(f=!0,s)){const j=Math.max(T,p),U=Math.min(T+E.nodeSize,g);n.addMark(j,U,c.create({...A.attrs,...e}))}}))}),v&&(x!==void 0&&s&&n.setNodeMarkup(x,void 0,{...v.attrs,...e}),c&&v.marks.length&&v.marks.forEach(E=>{c===E.type&&s&&n.addMark(w,k,c.create({...E.attrs,...e}))}))}),f},PD=(t,e={})=>({state:n,dispatch:i})=>{const s=pt(t,n.schema);return gO(s,e)(n,i)},VD=(t,e={})=>({state:n,dispatch:i})=>{const s=pt(t,n.schema);return yO(s,e)(n,i)},$D=class{constructor(){this.callbacks={}}on(t,e){return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(e),this}emit(t,...e){const n=this.callbacks[t];return n&&n.forEach(i=>i.apply(this,e)),this}off(t,e){const n=this.callbacks[t];return n&&(e?this.callbacks[t]=n.filter(i=>i!==e):delete this.callbacks[t]),this}once(t,e){const n=(...i)=>{this.off(t,n),e.apply(this,i)};return this.on(t,n)}removeAllListeners(){this.callbacks={}}},Zu=class{constructor(t){var e;this.find=t.find,this.handler=t.handler,this.undoable=(e=t.undoable)!=null?e:!0}},FD=(t,e)=>{if(Sm(e))return e.exec(t);const n=e(t);if(!n)return null;const i=[n.text];return i.index=n.index,i.input=t,i.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),i.push(n.replaceWith)),i};function Ec(t){var e;const{editor:n,from:i,to:s,text:a,rules:c,plugin:u}=t,{view:f}=n;if(f.composing)return!1;const h=f.state.doc.resolve(i);if(h.parent.type.spec.code||(e=h.nodeBefore||h.nodeAfter)!=null&&e.marks.find(x=>x.type.spec.code))return!1;let p=!1;const g=yD(h)+a;return c.forEach(x=>{if(p)return;const v=FD(g,x.find);if(!v)return;const w=f.state.tr,k=Yu({state:f.state,transaction:w}),E={from:i-(v[0].length-a.length),to:s},{commands:T,chain:A,can:j}=new Ju({editor:n,state:k});x.handler({state:k,range:E,match:v,commands:T,chain:A,can:j})===null||!w.steps.length||(x.undoable&&w.setMeta(u,{transform:w,from:i,to:s,text:a}),f.dispatch(w),p=!0)}),p}function KD(t){const{editor:e,rules:n}=t,i=new Xe({state:{init(){return null},apply(s,a,c){const u=s.getMeta(i);if(u)return u;const f=s.getMeta("applyInputRules");return f&&setTimeout(()=>{let{text:p}=f;typeof p=="string"?p=p:p=Nm(J.from(p),c.schema);const{from:g}=f,x=g+p.length;Ec({editor:e,from:g,to:x,text:p,rules:n,plugin:i})}),s.selectionSet||s.docChanged?null:a}},props:{handleTextInput(s,a,c,u){return Ec({editor:e,from:a,to:c,text:u,rules:n,plugin:i})},handleDOMEvents:{compositionend:s=>(setTimeout(()=>{const{$cursor:a}=s.state.selection;a&&Ec({editor:e,from:a.pos,to:a.pos,text:"",rules:n,plugin:i})}),!1)},handleKeyDown(s,a){if(a.key!=="Enter")return!1;const{$cursor:c}=s.state.selection;return c?Ec({editor:e,from:c.pos,to:c.pos,text:`
`,rules:n,plugin:i}):!1}},isInputRules:!0});return i}function GD(t){return Object.prototype.toString.call(t).slice(8,-1)}function Nc(t){return GD(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function FS(t,e){const n={...t};return Nc(t)&&Nc(e)&&Object.keys(e).forEach(i=>{Nc(e[i])&&Nc(t[i])?n[i]=FS(t[i],e[i]):n[i]=e[i]}),n}var Cm=class{constructor(t={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...t},this.name=this.config.name}get options(){return{...je(le(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...je(le(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(t={}){const e=this.extend({...this.config,addOptions:()=>FS(this.options,t)});return e.name=this.name,e.parent=this.parent,e}extend(t={}){const e=new this.constructor({...this.config,...t});return e.parent=this,this.child=e,e.name="name"in t?t.name:e.parent.name,e}},rs=class KS extends Cm{constructor(){super(...arguments),this.type="mark"}static create(e={}){const n=typeof e=="function"?e():e;return new KS(n)}static handleExit({editor:e,mark:n}){const{tr:i}=e.state,s=e.state.selection.$from;if(s.pos===s.end()){const c=s.marks();if(!!!c.find(h=>h?.type.name===n.name))return!1;const f=c.find(h=>h?.type.name===n.name);return f&&i.removeStoredMark(f),i.insertText(" ",s.pos),e.view.dispatch(i),!0}return!1}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}};function YD(t){return typeof t=="number"}var GS=class{constructor(t){this.find=t.find,this.handler=t.handler}},JD=(t,e,n)=>{if(Sm(e))return[...t.matchAll(e)];const i=e(t,n);return i?i.map(s=>{const a=[s.text];return a.index=s.index,a.input=t,a.data=s.data,s.replaceWith&&(s.text.includes(s.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),a.push(s.replaceWith)),a}):[]};function XD(t){const{editor:e,state:n,from:i,to:s,rule:a,pasteEvent:c,dropEvent:u}=t,{commands:f,chain:h,can:p}=new Ju({editor:e,state:n}),g=[];return n.doc.nodesBetween(i,s,(v,w)=>{var k,E,T,A,j;if((E=(k=v.type)==null?void 0:k.spec)!=null&&E.code||!(v.isText||v.isTextblock||v.isInline))return;const U=(j=(A=(T=v.content)==null?void 0:T.size)!=null?A:v.nodeSize)!=null?j:0,z=Math.max(i,w),V=Math.min(s,w+U);if(z>=V)return;const L=v.isText?v.text||"":v.textBetween(z-w,V-w,void 0,"");JD(L,a.find,c).forEach(Z=>{if(Z.index===void 0)return;const he=z+Z.index+1,We=he+Z[0].length,re={from:n.tr.mapping.map(he),to:n.tr.mapping.map(We)},qe=a.handler({state:n,range:re,match:Z,commands:f,chain:h,can:p,pasteEvent:c,dropEvent:u});g.push(qe)})}),g.every(v=>v!==null)}var Tc=null,WD=t=>{var e;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=n.clipboardData)==null||e.setData("text/html",t),n};function QD(t){const{editor:e,rules:n}=t;let i=null,s=!1,a=!1,c=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,u;try{u=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{u=null}const f=({state:p,from:g,to:x,rule:v,pasteEvt:w})=>{const k=p.tr,E=Yu({state:p,transaction:k});if(!(!XD({editor:e,state:E,from:Math.max(g-1,0),to:x.b-1,rule:v,pasteEvent:w,dropEvent:u})||!k.steps.length)){try{u=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{u=null}return c=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,k}};return n.map(p=>new Xe({view(g){const x=w=>{var k;i=(k=g.dom.parentElement)!=null&&k.contains(w.target)?g.dom.parentElement:null,i&&(Tc=e)},v=()=>{Tc&&(Tc=null)};return window.addEventListener("dragstart",x),window.addEventListener("dragend",v),{destroy(){window.removeEventListener("dragstart",x),window.removeEventListener("dragend",v)}}},props:{handleDOMEvents:{drop:(g,x)=>{if(a=i===g.dom.parentElement,u=x,!a){const v=Tc;v?.isEditable&&setTimeout(()=>{const w=v.state.selection;w&&v.commands.deleteRange({from:w.from,to:w.to})},10)}return!1},paste:(g,x)=>{var v;const w=(v=x.clipboardData)==null?void 0:v.getData("text/html");return c=x,s=!!w?.includes("data-pm-slice"),!1}}},appendTransaction:(g,x,v)=>{const w=g[0],k=w.getMeta("uiEvent")==="paste"&&!s,E=w.getMeta("uiEvent")==="drop"&&!a,T=w.getMeta("applyPasteRules"),A=!!T;if(!k&&!E&&!A)return;if(A){let{text:z}=T;typeof z=="string"?z=z:z=Nm(J.from(z),v.schema);const{from:V}=T,L=V+z.length,K=WD(z);return f({rule:p,state:v,from:V,to:{b:L},pasteEvt:K})}const j=x.doc.content.findDiffStart(v.doc.content),U=x.doc.content.findDiffEnd(v.doc.content);if(!(!YD(j)||!U||j===U.b))return f({rule:p,state:v,from:j,to:U,pasteEvt:c})}}))}var ed=class{constructor(t,e){this.splittableMarks=[],this.editor=e,this.baseExtensions=t,this.extensions=BS(t),this.schema=uD(this.extensions,e),this.setupExtensions()}get commands(){return this.extensions.reduce((t,e)=>{const n={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:kc(e.name,this.schema)},i=le(e,"addCommands",n);return i?{...t,...i()}:t},{})}get plugins(){const{editor:t}=this;return iu([...this.extensions].reverse()).flatMap(i=>{const s={name:i.name,options:i.options,storage:this.editor.extensionStorage[i.name],editor:t,type:kc(i.name,this.schema)},a=[],c=le(i,"addKeyboardShortcuts",s);let u={};if(i.type==="mark"&&le(i,"exitable",s)&&(u.ArrowRight=()=>rs.handleExit({editor:t,mark:i})),c){const x=Object.fromEntries(Object.entries(c()).map(([v,w])=>[v,()=>w({editor:t})]));u={...u,...x}}const f=hj(u);a.push(f);const h=le(i,"addInputRules",s);if(Rv(i,t.options.enableInputRules)&&h){const x=h();if(x&&x.length){const v=KD({editor:t,rules:x}),w=Array.isArray(v)?v:[v];a.push(...w)}}const p=le(i,"addPasteRules",s);if(Rv(i,t.options.enablePasteRules)&&p){const x=p();if(x&&x.length){const v=QD({editor:t,rules:x});a.push(...v)}}const g=le(i,"addProseMirrorPlugins",s);if(g){const x=g();a.push(...x)}return a})}get attributes(){return _S(this.extensions)}get nodeViews(){const{editor:t}=this,{nodeExtensions:e}=rl(this.extensions);return Object.fromEntries(e.filter(n=>!!le(n,"addNodeView")).map(n=>{const i=this.attributes.filter(f=>f.type===n.name),s={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:pt(n.name,this.schema)},a=le(n,"addNodeView",s);if(!a)return[];const c=a();if(!c)return[];const u=(f,h,p,g,x)=>{const v=_a(f,i);return c({node:f,view:h,getPos:p,decorations:g,innerDecorations:x,editor:t,extension:n,HTMLAttributes:v})};return[n.name,u]}))}dispatchTransaction(t){const{editor:e}=this;return iu([...this.extensions].reverse()).reduceRight((i,s)=>{const a={name:s.name,options:s.options,storage:this.editor.extensionStorage[s.name],editor:e,type:kc(s.name,this.schema)},c=le(s,"dispatchTransaction",a);return c?u=>{c.call(a,{transaction:u,next:i})}:i},t)}get markViews(){const{editor:t}=this,{markExtensions:e}=rl(this.extensions);return Object.fromEntries(e.filter(n=>!!le(n,"addMarkView")).map(n=>{const i=this.attributes.filter(u=>u.type===n.name),s={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:Ti(n.name,this.schema)},a=le(n,"addMarkView",s);if(!a)return[];const c=(u,f,h)=>{const p=_a(u,i);return a()({mark:u,view:f,inline:h,editor:t,extension:n,HTMLAttributes:p,updateAttributes:g=>{f4(u,t,g)}})};return[n.name,c]}))}setupExtensions(){const t=this.extensions;this.editor.extensionStorage=Object.fromEntries(t.map(e=>[e.name,e.storage])),t.forEach(e=>{var n;const i={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:kc(e.name,this.schema)};e.type==="mark"&&((n=je(le(e,"keepOnSplit",i)))==null||n)&&this.splittableMarks.push(e.name);const s=le(e,"onBeforeCreate",i),a=le(e,"onCreate",i),c=le(e,"onUpdate",i),u=le(e,"onSelectionUpdate",i),f=le(e,"onTransaction",i),h=le(e,"onFocus",i),p=le(e,"onBlur",i),g=le(e,"onDestroy",i);s&&this.editor.on("beforeCreate",s),a&&this.editor.on("create",a),c&&this.editor.on("update",c),u&&this.editor.on("selectionUpdate",u),f&&this.editor.on("transaction",f),h&&this.editor.on("focus",h),p&&this.editor.on("blur",p),g&&this.editor.on("destroy",g)})}};ed.resolve=BS;ed.sort=iu;ed.flatten=Em;var ZD={};wm(ZD,{ClipboardTextSerializer:()=>JS,Commands:()=>XS,Delete:()=>WS,Drop:()=>QS,Editable:()=>ZS,FocusEvents:()=>tk,Keymap:()=>nk,Paste:()=>ik,Tabindex:()=>rk,TextDirection:()=>sk,focusEventsPluginKey:()=>ek});var ot=class YS extends Cm{constructor(){super(...arguments),this.type="extension"}static create(e={}){const n=typeof e=="function"?e():e;return new YS(n)}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}},JS=ot.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Xe({key:new yt("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:i,selection:s}=e,{ranges:a}=s,c=Math.min(...a.map(p=>p.$from.pos)),u=Math.max(...a.map(p=>p.$to.pos)),f=US(n);return HS(i,{from:c,to:u},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:f})}}})]}}),XS=ot.create({name:"commands",addCommands(){return{...CS}}}),WS=ot.create({name:"delete",onUpdate({transaction:t,appendedTransactions:e}){var n,i,s;const a=()=>{var c,u,f,h;if((h=(f=(u=(c=this.editor.options.coreExtensionOptions)==null?void 0:c.delete)==null?void 0:u.filterTransaction)==null?void 0:f.call(u,t))!=null?h:t.getMeta("y-sync$"))return;const p=zS(t.before,[t,...e]);IS(p).forEach(v=>{p.mapping.mapResult(v.oldRange.from).deletedAfter&&p.mapping.mapResult(v.oldRange.to).deletedBefore&&p.before.nodesBetween(v.oldRange.from,v.oldRange.to,(w,k)=>{const E=k+w.nodeSize-2,T=v.oldRange.from<=k&&E<=v.oldRange.to;this.editor.emit("delete",{type:"node",node:w,from:k,to:E,newFrom:p.mapping.map(k),newTo:p.mapping.map(E),deletedRange:v.oldRange,newRange:v.newRange,partial:!T,editor:this.editor,transaction:t,combinedTransform:p})})});const x=p.mapping;p.steps.forEach((v,w)=>{var k,E;if(v instanceof Ln){const T=x.slice(w).map(v.from,-1),A=x.slice(w).map(v.to),j=x.invert().map(T,-1),U=x.invert().map(A),z=(k=p.doc.nodeAt(T-1))==null?void 0:k.marks.some(L=>L.eq(v.mark)),V=(E=p.doc.nodeAt(A))==null?void 0:E.marks.some(L=>L.eq(v.mark));this.editor.emit("delete",{type:"mark",mark:v.mark,from:v.from,to:v.to,deletedRange:{from:j,to:U},newRange:{from:T,to:A},partial:!!(V||z),editor:this.editor,transaction:t,combinedTransform:p})}})};(s=(i=(n=this.editor.options.coreExtensionOptions)==null?void 0:n.delete)==null?void 0:i.async)==null||s?setTimeout(a,0):a()}}),QS=ot.create({name:"drop",addProseMirrorPlugins(){return[new Xe({key:new yt("tiptapDrop"),props:{handleDrop:(t,e,n,i)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:n,moved:i})}}})]}}),ZS=ot.create({name:"editable",addProseMirrorPlugins(){return[new Xe({key:new yt("editable"),props:{editable:()=>this.editor.options.editable}})]}}),ek=new yt("focusEvents"),tk=ot.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new Xe({key:ek,props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const i=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(i),!1},blur:(e,n)=>{t.isFocused=!1;const i=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(i),!1}}}})]}}),nk=ot.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:c})=>[()=>c.undoInputRule(),()=>c.command(({tr:u})=>{const{selection:f,doc:h}=u,{empty:p,$anchor:g}=f,{pos:x,parent:v}=g,w=g.parent.isTextblock&&x>0?u.doc.resolve(x-1):g,k=w.parent.type.spec.isolating,E=g.pos-g.parentOffset,T=k&&w.parent.childCount===1?E===g.pos:be.atStart(h).from===x;return!p||!v.type.isTextblock||v.textContent.length||!T||T&&g.parent.type.name==="paragraph"?!1:c.clearNodes()}),()=>c.deleteSelection(),()=>c.joinBackward(),()=>c.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:c})=>[()=>c.deleteSelection(),()=>c.deleteCurrentNode(),()=>c.joinForward(),()=>c.selectNodeForward()]),i={Enter:()=>this.editor.commands.first(({commands:c})=>[()=>c.newlineInCode(),()=>c.createParagraphNear(),()=>c.liftEmptyBlock(),()=>c.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},s={...i},a={...i,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return nu()||jS()?a:s},addProseMirrorPlugins(){return[new Xe({key:new yt("clearDocument"),appendTransaction:(t,e,n)=>{if(t.some(k=>k.getMeta("composition")))return;const i=t.some(k=>k.docChanged)&&!e.doc.eq(n.doc),s=t.some(k=>k.getMeta("preventClearDocument"));if(!i||s)return;const{empty:a,from:c,to:u}=e.selection,f=be.atStart(e.doc).from,h=be.atEnd(e.doc).to;if(a||!(c===f&&u===h)||!Qu(n.doc))return;const x=n.tr,v=Yu({state:n,transaction:x}),{commands:w}=new Ju({editor:this.editor,state:v});if(w.clearNodes(),!!x.steps.length)return x}})]}}),ik=ot.create({name:"paste",addProseMirrorPlugins(){return[new Xe({key:new yt("tiptapPaste"),props:{handlePaste:(t,e,n)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:n})}}})]}}),rk=ot.create({name:"tabindex",addProseMirrorPlugins(){return[new Xe({key:new yt("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),sk=ot.create({name:"textDirection",addOptions(){return{direction:void 0}},addGlobalAttributes(){if(!this.options.direction)return[];const{nodeExtensions:t}=rl(this.extensions);return[{types:t.filter(e=>e.name!=="text").map(e=>e.name),attributes:{dir:{default:this.options.direction,parseHTML:e=>{const n=e.getAttribute("dir");return n&&(n==="ltr"||n==="rtl"||n==="auto")?n:this.options.direction},renderHTML:e=>e.dir?{dir:e.dir}:{}}}}]},addProseMirrorPlugins(){return[new Xe({key:new yt("textDirection"),props:{attributes:()=>{const t=this.options.direction;return t?{dir:t}:{}}}})]}}),e4=class ma{constructor(e,n,i=!1,s=null){this.currentNode=null,this.actualDepth=null,this.isBlock=i,this.resolvedPos=e,this.editor=n,this.currentNode=s}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!=null?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let n=this.from,i=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,i=this.to-1}this.editor.commands.insertContentAt({from:n,to:i},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(e);return new ma(n,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new ma(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new ma(e,this.editor)}get children(){const e=[];return this.node.content.forEach((n,i)=>{const s=n.isBlock&&!n.isTextblock,a=n.isAtom&&!n.isText,c=n.isInline,u=this.pos+i+(a?0:1);if(u<0||u>this.resolvedPos.doc.nodeSize-2)return;const f=this.resolvedPos.doc.resolve(u);if(!s&&!c&&f.depth<=this.depth)return;const h=new ma(f,this.editor,s,s||c?n:null);s&&(h.actualDepth=this.depth+1),e.push(h)}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,n={}){let i=null,s=this.parent;for(;s&&!i;){if(s.node.type.name===e)if(Object.keys(n).length>0){const a=s.node.attrs,c=Object.keys(n);for(let u=0;u<c.length;u+=1){const f=c[u];if(a[f]!==n[f])break}}else i=s;s=s.parent}return i}querySelector(e,n={}){return this.querySelectorAll(e,n,!0)[0]||null}querySelectorAll(e,n={},i=!1){let s=[];if(!this.children||this.children.length===0)return s;const a=Object.keys(n);return this.children.forEach(c=>{i&&s.length>0||(c.node.type.name===e&&a.every(f=>n[f]===c.node.attrs[f])&&s.push(c),!(i&&s.length>0)&&(s=s.concat(c.querySelectorAll(e,n,i))))}),s}setAttribute(e){const{tr:n}=this.editor.state;n.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(n)}},t4=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function n4(t,e,n){const i=document.querySelector("style[data-tiptap-style]");if(i!==null)return i;const s=document.createElement("style");return e&&s.setAttribute("nonce",e),s.setAttribute("data-tiptap-style",""),s.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(s),s}var i4=class extends $D{constructor(t={}){super(),this.css=null,this.className="tiptap",this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document<"u"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,textDirection:void 0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onMount:()=>null,onUnmount:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:i})=>{throw i},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null,enableExtensionDispatchTransaction:!0},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.utils={getUpdatedPosition:wD,createMappablePosition:SD},this.setOptions(t),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("mount",this.options.onMount),this.on("unmount",this.options.onUnmount),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:i,slice:s,moved:a})=>this.options.onDrop(i,s,a)),this.on("paste",({event:i,slice:s})=>this.options.onPaste(i,s)),this.on("delete",this.options.onDelete);const e=this.createDoc(),n=OS(e,this.options.autofocus);this.editorState=Xs.create({doc:e,schema:this.schema,selection:n||void 0}),this.options.element&&this.mount(this.options.element)}mount(t){if(typeof document>"u")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(t),this.emit("mount",{editor:this}),this.css&&!document.head.contains(this.css)&&document.head.appendChild(this.css),window.setTimeout(()=>{this.isDestroyed||(this.options.autofocus!==!1&&this.options.autofocus!==null&&this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){const t=this.editorView.dom;t?.editor&&delete t.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css&&!document.querySelectorAll(`.${this.className}`).length)try{typeof this.css.remove=="function"?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(t){console.warn("Failed to remove CSS element:",t)}this.css=null,this.emit("unmount",{editor:this})}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document<"u"&&(this.css=n4(t4,this.options.injectNonce))}setOptions(t={}){this.options={...this.options,...t},!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(t,e=!0){this.setOptions({editable:t}),e&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:t=>{this.editorState=t},dispatch:t=>{this.dispatchTransaction(t)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(t,e)=>{if(this.editorView)return this.editorView[e];if(e==="state")return this.editorState;if(e in t)return Reflect.get(t,e);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${e}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(t,e){const n=LS(e)?e(t,[...this.state.plugins]):[...this.state.plugins,t],i=this.state.reconfigure({plugins:n});return this.view.updateState(i),i}unregisterPlugin(t){if(this.isDestroyed)return;const e=this.state.plugins;let n=e;if([].concat(t).forEach(s=>{const a=typeof s=="string"?`${s}$`:s.key;n=n.filter(c=>!c.key.startsWith(a))}),e.length===n.length)return;const i=this.state.reconfigure({plugins:n});return this.view.updateState(i),i}createExtensionManager(){var t,e;const i=[...this.options.enableCoreExtensions?[ZS,JS.configure({blockSeparator:(e=(t=this.options.coreExtensionOptions)==null?void 0:t.clipboardTextSerializer)==null?void 0:e.blockSeparator}),XS,tk,nk,rk,QS,ik,WS,sk.configure({direction:this.options.textDirection})].filter(s=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[s.name]!==!1:!0):[],...this.options.extensions].filter(s=>["extension","node","mark"].includes(s?.type));this.extensionManager=new ed(i,this)}createCommandManager(){this.commandManager=new Ju({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let t;try{t=jp(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(e){if(!(e instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(e.message))throw e;this.emit("contentError",{editor:this,error:e,disableCollaboration:()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(n=>n.name!=="collaboration"),this.createExtensionManager()}}),t=jp(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return t}createView(t){const{editorProps:e,enableExtensionDispatchTransaction:n}=this.options,i=e.dispatchTransaction||this.dispatchTransaction.bind(this),s=n?this.extensionManager.dispatchTransaction(i):i;this.editorView=new NS(t,{...e,attributes:{role:"textbox",...e?.attributes},dispatchTransaction:s,state:this.editorState,markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews});const a=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(a),this.prependClass(),this.injectCSS();const c=this.view.dom;c.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`${this.className} ${this.view.dom.className}`}captureTransaction(t){this.isCapturingTransaction=!0,t(),this.isCapturingTransaction=!1;const e=this.capturedTransaction;return this.capturedTransaction=null,e}dispatchTransaction(t){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=t;return}t.steps.forEach(h=>{var p;return(p=this.capturedTransaction)==null?void 0:p.step(h)});return}const{state:e,transactions:n}=this.state.applyTransaction(t),i=!this.state.selection.eq(e.selection),s=n.includes(t),a=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:t,nextState:e}),!s)return;this.view.updateState(e),this.emit("transaction",{editor:this,transaction:t,appendedTransactions:n.slice(1)}),i&&this.emit("selectionUpdate",{editor:this,transaction:t});const c=n.findLast(h=>h.getMeta("focus")||h.getMeta("blur")),u=c?.getMeta("focus"),f=c?.getMeta("blur");u&&this.emit("focus",{editor:this,event:u.event,transaction:c}),f&&this.emit("blur",{editor:this,event:f.event,transaction:c}),!(t.getMeta("preventUpdate")||!n.some(h=>h.docChanged)||a.doc.eq(e.doc))&&this.emit("update",{editor:this,transaction:t,appendedTransactions:n.slice(1)})}getAttributes(t){return qS(this.state,t)}isActive(t,e){const n=typeof t=="string"?t:null,i=typeof t=="string"?e:t;return bD(this.state,n,i)}getJSON(){return this.state.doc.toJSON()}getHTML(){return Nm(this.state.doc.content,this.schema)}getText(t){const{blockSeparator:e=`

`,textSerializers:n={}}=t||{};return fD(this.state.doc,{blockSeparator:e,textSerializers:{...US(this.schema),...n}})}get isEmpty(){return Qu(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var t,e;return(e=(t=this.editorView)==null?void 0:t.isDestroyed)!=null?e:!0}$node(t,e){var n;return((n=this.$doc)==null?void 0:n.querySelector(t,e))||null}$nodes(t,e){var n;return((n=this.$doc)==null?void 0:n.querySelectorAll(t,e))||null}$pos(t){const e=this.state.doc.resolve(t);return new e4(e,this)}get $doc(){return this.$pos(0)}};function sl(t){return new Zu({find:t.find,handler:({state:e,range:n,match:i})=>{const s=je(t.getAttributes,void 0,i);if(s===!1||s===null)return null;const{tr:a}=e,c=i[i.length-1],u=i[0];if(c){const f=u.search(/\S/),h=n.from+u.indexOf(c),p=h+c.length;if(Tm(n.from,n.to,e.doc).filter(v=>v.mark.type.excluded.find(k=>k===t.type&&k!==v.mark.type)).filter(v=>v.to>h).length)return null;p<n.to&&a.delete(p,n.to),h>n.from&&a.delete(n.from+f,h);const x=n.from+f+c.length;a.addMark(n.from+f,x,t.type.create(s||{})),a.removeStoredMark(t.type)}},undoable:t.undoable})}function lk(t){return new Zu({find:t.find,handler:({state:e,range:n,match:i})=>{const s=je(t.getAttributes,void 0,i)||{},{tr:a}=e,c=n.from;let u=n.to;const f=t.type.create(s);if(i[1]){const h=i[0].lastIndexOf(i[1]);let p=c+h;p>u?p=u:u=p+i[1].length;const g=i[0][i[0].length-1];a.insertText(g,c+i[0].length-1),a.replaceWith(p,u,f)}else if(i[0]){const h=t.type.isInline?c:c-1;a.insert(h,t.type.create(s)).delete(a.mapping.map(c),a.mapping.map(u))}a.scrollIntoView()},undoable:t.undoable})}function zp(t){return new Zu({find:t.find,handler:({state:e,range:n,match:i})=>{const s=e.doc.resolve(n.from),a=je(t.getAttributes,void 0,i)||{};if(!s.node(-1).canReplaceWith(s.index(-1),s.indexAfter(-1),t.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,t.type,a)},undoable:t.undoable})}function ll(t){return new Zu({find:t.find,handler:({state:e,range:n,match:i,chain:s})=>{const a=je(t.getAttributes,void 0,i)||{},c=e.tr.delete(n.from,n.to),f=c.doc.resolve(n.from).blockRange(),h=f&&sm(f,t.type,a);if(!h)return null;if(c.wrap(f,h),t.keepMarks&&t.editor){const{selection:g,storedMarks:x}=e,{splittableMarks:v}=t.editor.extensionManager,w=x||g.$to.parentOffset&&g.$from.marks();if(w){const k=w.filter(E=>v.includes(E.type.name));c.ensureMarks(k)}}if(t.keepAttributes){const g=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";s().updateAttributes(g,a).run()}const p=c.doc.resolve(n.from-1).nodeBefore;p&&p.type===t.type&&pr(c.doc,n.from-1)&&(!t.joinPredicate||t.joinPredicate(i,p))&&c.join(n.from-1)},undoable:t.undoable})}var r4=t=>"touches"in t,s4=class{constructor(t){this.directions=["bottom-left","bottom-right","top-left","top-right"],this.minSize={height:8,width:8},this.preserveAspectRatio=!1,this.classNames={container:"",wrapper:"",handle:"",resizing:""},this.initialWidth=0,this.initialHeight=0,this.aspectRatio=1,this.isResizing=!1,this.activeHandle=null,this.startX=0,this.startY=0,this.startWidth=0,this.startHeight=0,this.isShiftKeyPressed=!1,this.lastEditableState=void 0,this.handleMap=new Map,this.handleMouseMove=u=>{if(!this.isResizing||!this.activeHandle)return;const f=u.clientX-this.startX,h=u.clientY-this.startY;this.handleResize(f,h)},this.handleTouchMove=u=>{if(!this.isResizing||!this.activeHandle)return;const f=u.touches[0];if(!f)return;const h=f.clientX-this.startX,p=f.clientY-this.startY;this.handleResize(h,p)},this.handleMouseUp=()=>{if(!this.isResizing)return;const u=this.element.offsetWidth,f=this.element.offsetHeight;this.onCommit(u,f),this.isResizing=!1,this.activeHandle=null,this.container.dataset.resizeState="false",this.classNames.resizing&&this.container.classList.remove(this.classNames.resizing),document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp)},this.handleKeyDown=u=>{u.key==="Shift"&&(this.isShiftKeyPressed=!0)},this.handleKeyUp=u=>{u.key==="Shift"&&(this.isShiftKeyPressed=!1)};var e,n,i,s,a,c;this.node=t.node,this.editor=t.editor,this.element=t.element,this.contentElement=t.contentElement,this.getPos=t.getPos,this.onResize=t.onResize,this.onCommit=t.onCommit,this.onUpdate=t.onUpdate,(e=t.options)!=null&&e.min&&(this.minSize={...this.minSize,...t.options.min}),(n=t.options)!=null&&n.max&&(this.maxSize=t.options.max),(i=t?.options)!=null&&i.directions&&(this.directions=t.options.directions),(s=t.options)!=null&&s.preserveAspectRatio&&(this.preserveAspectRatio=t.options.preserveAspectRatio),(a=t.options)!=null&&a.className&&(this.classNames={container:t.options.className.container||"",wrapper:t.options.className.wrapper||"",handle:t.options.className.handle||"",resizing:t.options.className.resizing||""}),(c=t.options)!=null&&c.createCustomHandle&&(this.createCustomHandle=t.options.createCustomHandle),this.wrapper=this.createWrapper(),this.container=this.createContainer(),this.applyInitialSize(),this.attachHandles(),this.editor.on("update",this.handleEditorUpdate.bind(this))}get dom(){return this.container}get contentDOM(){var t;return(t=this.contentElement)!=null?t:null}handleEditorUpdate(){const t=this.editor.isEditable;t!==this.lastEditableState&&(this.lastEditableState=t,t?t&&this.handleMap.size===0&&this.attachHandles():this.removeHandles())}update(t,e,n){return t.type!==this.node.type?!1:(this.node=t,this.onUpdate?this.onUpdate(t,e,n):!0)}destroy(){this.isResizing&&(this.container.dataset.resizeState="false",this.classNames.resizing&&this.container.classList.remove(this.classNames.resizing),document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp),this.isResizing=!1,this.activeHandle=null),this.editor.off("update",this.handleEditorUpdate.bind(this)),this.container.remove()}createContainer(){const t=document.createElement("div");return t.dataset.resizeContainer="",t.dataset.node=this.node.type.name,t.style.display="flex",this.classNames.container&&(t.className=this.classNames.container),t.appendChild(this.wrapper),t}createWrapper(){const t=document.createElement("div");return t.style.position="relative",t.style.display="block",t.dataset.resizeWrapper="",this.classNames.wrapper&&(t.className=this.classNames.wrapper),t.appendChild(this.element),t}createHandle(t){const e=document.createElement("div");return e.dataset.resizeHandle=t,e.style.position="absolute",this.classNames.handle&&(e.className=this.classNames.handle),e}positionHandle(t,e){const n=e.includes("top"),i=e.includes("bottom"),s=e.includes("left"),a=e.includes("right");n&&(t.style.top="0"),i&&(t.style.bottom="0"),s&&(t.style.left="0"),a&&(t.style.right="0"),(e==="top"||e==="bottom")&&(t.style.left="0",t.style.right="0"),(e==="left"||e==="right")&&(t.style.top="0",t.style.bottom="0")}attachHandles(){this.directions.forEach(t=>{let e;this.createCustomHandle?e=this.createCustomHandle(t):e=this.createHandle(t),e instanceof HTMLElement||(console.warn(`[ResizableNodeView] createCustomHandle("${t}") did not return an HTMLElement. Falling back to default handle.`),e=this.createHandle(t)),this.createCustomHandle||this.positionHandle(e,t),e.addEventListener("mousedown",n=>this.handleResizeStart(n,t)),e.addEventListener("touchstart",n=>this.handleResizeStart(n,t)),this.handleMap.set(t,e),this.wrapper.appendChild(e)})}removeHandles(){this.handleMap.forEach(t=>t.remove()),this.handleMap.clear()}applyInitialSize(){const t=this.node.attrs.width,e=this.node.attrs.height;t?(this.element.style.width=`${t}px`,this.initialWidth=t):this.initialWidth=this.element.offsetWidth,e?(this.element.style.height=`${e}px`,this.initialHeight=e):this.initialHeight=this.element.offsetHeight,this.initialWidth>0&&this.initialHeight>0&&(this.aspectRatio=this.initialWidth/this.initialHeight)}handleResizeStart(t,e){t.preventDefault(),t.stopPropagation(),this.isResizing=!0,this.activeHandle=e,r4(t)?(this.startX=t.touches[0].clientX,this.startY=t.touches[0].clientY):(this.startX=t.clientX,this.startY=t.clientY),this.startWidth=this.element.offsetWidth,this.startHeight=this.element.offsetHeight,this.startWidth>0&&this.startHeight>0&&(this.aspectRatio=this.startWidth/this.startHeight),this.getPos(),this.container.dataset.resizeState="true",this.classNames.resizing&&this.container.classList.add(this.classNames.resizing),document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("touchmove",this.handleTouchMove),document.addEventListener("mouseup",this.handleMouseUp),document.addEventListener("keydown",this.handleKeyDown),document.addEventListener("keyup",this.handleKeyUp)}handleResize(t,e){if(!this.activeHandle)return;const n=this.preserveAspectRatio||this.isShiftKeyPressed,{width:i,height:s}=this.calculateNewDimensions(this.activeHandle,t,e),a=this.applyConstraints(i,s,n);this.element.style.width=`${a.width}px`,this.element.style.height=`${a.height}px`,this.onResize&&this.onResize(a.width,a.height)}calculateNewDimensions(t,e,n){let i=this.startWidth,s=this.startHeight;const a=t.includes("right"),c=t.includes("left"),u=t.includes("bottom"),f=t.includes("top");return a?i=this.startWidth+e:c&&(i=this.startWidth-e),u?s=this.startHeight+n:f&&(s=this.startHeight-n),(t==="right"||t==="left")&&(i=this.startWidth+(a?e:-e)),(t==="top"||t==="bottom")&&(s=this.startHeight+(u?n:-n)),this.preserveAspectRatio||this.isShiftKeyPressed?this.applyAspectRatio(i,s,t):{width:i,height:s}}applyConstraints(t,e,n){var i,s,a,c;if(!n){let h=Math.max(this.minSize.width,t),p=Math.max(this.minSize.height,e);return(i=this.maxSize)!=null&&i.width&&(h=Math.min(this.maxSize.width,h)),(s=this.maxSize)!=null&&s.height&&(p=Math.min(this.maxSize.height,p)),{width:h,height:p}}let u=t,f=e;return u<this.minSize.width&&(u=this.minSize.width,f=u/this.aspectRatio),f<this.minSize.height&&(f=this.minSize.height,u=f*this.aspectRatio),(a=this.maxSize)!=null&&a.width&&u>this.maxSize.width&&(u=this.maxSize.width,f=u/this.aspectRatio),(c=this.maxSize)!=null&&c.height&&f>this.maxSize.height&&(f=this.maxSize.height,u=f*this.aspectRatio),{width:u,height:f}}applyAspectRatio(t,e,n){const i=n==="left"||n==="right",s=n==="top"||n==="bottom";return i?{width:t,height:t/this.aspectRatio}:s?{width:e*this.aspectRatio,height:e}:{width:t,height:t/this.aspectRatio}}};function l4(t,e){const{selection:n}=t,{$from:i}=n;if(n instanceof oe){const a=i.index();return i.parent.canReplaceWith(a,a+1,e)}let s=i.depth;for(;s>=0;){const a=i.index(s);if(i.node(s).contentMatchAt(a).matchType(e))return!0;s-=1}return!1}var a4={};wm(a4,{createAtomBlockMarkdownSpec:()=>ak,createBlockMarkdownSpec:()=>o4,createInlineMarkdownSpec:()=>d4,parseAttributes:()=>Am,parseIndentedBlocks:()=>Lp,renderNestedMarkdownContent:()=>Om,serializeAttributes:()=>Mm});function Am(t){if(!t?.trim())return{};const e={},n=[],i=t.replace(/["']([^"']*)["']/g,h=>(n.push(h),`__QUOTED_${n.length-1}__`)),s=i.match(/(?:^|\s)\.([a-zA-Z][\w-]*)/g);if(s){const h=s.map(p=>p.trim().slice(1));e.class=h.join(" ")}const a=i.match(/(?:^|\s)#([a-zA-Z][\w-]*)/);a&&(e.id=a[1]);const c=/([a-zA-Z][\w-]*)\s*=\s*(__QUOTED_\d+__)/g;Array.from(i.matchAll(c)).forEach(([,h,p])=>{var g;const x=parseInt(((g=p.match(/__QUOTED_(\d+)__/))==null?void 0:g[1])||"0",10),v=n[x];v&&(e[h]=v.slice(1,-1))});const f=i.replace(/(?:^|\s)\.([a-zA-Z][\w-]*)/g,"").replace(/(?:^|\s)#([a-zA-Z][\w-]*)/g,"").replace(/([a-zA-Z][\w-]*)\s*=\s*__QUOTED_\d+__/g,"").trim();return f&&f.split(/\s+/).filter(Boolean).forEach(p=>{p.match(/^[a-zA-Z][\w-]*$/)&&(e[p]=!0)}),e}function Mm(t){if(!t||Object.keys(t).length===0)return"";const e=[];return t.class&&String(t.class).split(/\s+/).filter(Boolean).forEach(i=>e.push(`.${i}`)),t.id&&e.push(`#${t.id}`),Object.entries(t).forEach(([n,i])=>{n==="class"||n==="id"||(i===!0?e.push(n):i!==!1&&i!=null&&e.push(`${n}="${String(i)}"`))}),e.join(" ")}function ak(t){const{nodeName:e,name:n,parseAttributes:i=Am,serializeAttributes:s=Mm,defaultAttributes:a={},requiredAttributes:c=[],allowedAttributes:u}=t,f=n||e,h=p=>{if(!u)return p;const g={};return u.forEach(x=>{x in p&&(g[x]=p[x])}),g};return{parseMarkdown:(p,g)=>{const x={...a,...p.attributes};return g.createNode(e,x,[])},markdownTokenizer:{name:e,level:"block",start(p){var g;const x=new RegExp(`^:::${f}(?:\\s|$)`,"m"),v=(g=p.match(x))==null?void 0:g.index;return v!==void 0?v:-1},tokenize(p,g,x){const v=new RegExp(`^:::${f}(?:\\s+\\{([^}]*)\\})?\\s*:::(?:\\n|$)`),w=p.match(v);if(!w)return;const k=w[1]||"",E=i(k);if(!c.find(A=>!(A in E)))return{type:e,raw:w[0],attributes:E}}},renderMarkdown:p=>{const g=h(p.attrs||{}),x=s(g),v=x?` {${x}}`:"";return`:::${f}${v} :::`}}}function o4(t){const{nodeName:e,name:n,getContent:i,parseAttributes:s=Am,serializeAttributes:a=Mm,defaultAttributes:c={},content:u="block",allowedAttributes:f}=t,h=n||e,p=g=>{if(!f)return g;const x={};return f.forEach(v=>{v in g&&(x[v]=g[v])}),x};return{parseMarkdown:(g,x)=>{let v;if(i){const k=i(g);v=typeof k=="string"?[{type:"text",text:k}]:k}else u==="block"?v=x.parseChildren(g.tokens||[]):v=x.parseInline(g.tokens||[]);const w={...c,...g.attributes};return x.createNode(e,w,v)},markdownTokenizer:{name:e,level:"block",start(g){var x;const v=new RegExp(`^:::${h}`,"m"),w=(x=g.match(v))==null?void 0:x.index;return w!==void 0?w:-1},tokenize(g,x,v){var w;const k=new RegExp(`^:::${h}(?:\\s+\\{([^}]*)\\})?\\s*\\n`),E=g.match(k);if(!E)return;const[T,A=""]=E,j=s(A);let U=1;const z=T.length;let V="";const L=/^:::([\w-]*)(\s.*)?/gm,K=g.slice(z);for(L.lastIndex=0;;){const Z=L.exec(K);if(Z===null)break;const he=Z.index,We=Z[1];if(!((w=Z[2])!=null&&w.endsWith(":::"))){if(We)U+=1;else if(U-=1,U===0){const re=K.slice(0,he);V=re.trim();const qe=g.slice(0,z+he+Z[0].length);let Ne=[];if(V)if(u==="block")for(Ne=v.blockTokens(re),Ne.forEach(Te=>{Te.text&&(!Te.tokens||Te.tokens.length===0)&&(Te.tokens=v.inlineTokens(Te.text))});Ne.length>0;){const Te=Ne[Ne.length-1];if(Te.type==="paragraph"&&(!Te.text||Te.text.trim()===""))Ne.pop();else break}else Ne=v.inlineTokens(V);return{type:e,raw:qe,attributes:j,content:V,tokens:Ne}}}}}},renderMarkdown:(g,x)=>{const v=p(g.attrs||{}),w=a(v),k=w?` {${w}}`:"",E=x.renderChildren(g.content||[],`

`);return`:::${h}${k}

${E}

:::`}}}function c4(t){if(!t.trim())return{};const e={},n=/(\w+)=(?:"([^"]*)"|'([^']*)')/g;let i=n.exec(t);for(;i!==null;){const[,s,a,c]=i;e[s]=a||c,i=n.exec(t)}return e}function u4(t){return Object.entries(t).filter(([,e])=>e!=null).map(([e,n])=>`${e}="${n}"`).join(" ")}function d4(t){const{nodeName:e,name:n,getContent:i,parseAttributes:s=c4,serializeAttributes:a=u4,defaultAttributes:c={},selfClosing:u=!1,allowedAttributes:f}=t,h=n||e,p=x=>{if(!f)return x;const v={};return f.forEach(w=>{const k=typeof w=="string"?w:w.name,E=typeof w=="string"?void 0:w.skipIfDefault;if(k in x){const T=x[k];if(E!==void 0&&T===E)return;v[k]=T}}),v},g=h.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return{parseMarkdown:(x,v)=>{const w={...c,...x.attributes};if(u)return v.createNode(e,w);const k=i?i(x):x.content||"";return k?v.createNode(e,w,[v.createTextNode(k)]):v.createNode(e,w,[])},markdownTokenizer:{name:e,level:"inline",start(x){const v=u?new RegExp(`\\[${g}\\s*[^\\]]*\\]`):new RegExp(`\\[${g}\\s*[^\\]]*\\][\\s\\S]*?\\[\\/${g}\\]`),w=x.match(v),k=w?.index;return k!==void 0?k:-1},tokenize(x,v,w){const k=u?new RegExp(`^\\[${g}\\s*([^\\]]*)\\]`):new RegExp(`^\\[${g}\\s*([^\\]]*)\\]([\\s\\S]*?)\\[\\/${g}\\]`),E=x.match(k);if(!E)return;let T="",A="";if(u){const[,U]=E;A=U}else{const[,U,z]=E;A=U,T=z||""}const j=s(A.trim());return{type:e,raw:E[0],content:T.trim(),attributes:j}}},renderMarkdown:x=>{let v="";i?v=i(x):x.content&&x.content.length>0&&(v=x.content.filter(T=>T.type==="text").map(T=>T.text).join(""));const w=p(x.attrs||{}),k=a(w),E=k?` ${k}`:"";return u?`[${h}${E}]`:`[${h}${E}]${v}[/${h}]`}}}function Lp(t,e,n){var i,s,a,c;const u=t.split(`
`),f=[];let h="",p=0;const g=e.baseIndentSize||2;for(;p<u.length;){const x=u[p],v=x.match(e.itemPattern);if(!v){if(f.length>0)break;if(x.trim()===""){p+=1,h=`${h}${x}
`;continue}else return}const w=e.extractItemData(v),{indentLevel:k,mainContent:E}=w;h=`${h}${x}
`;const T=[E];for(p+=1;p<u.length;){const z=u[p];if(z.trim()===""){const L=u.slice(p+1).findIndex(he=>he.trim()!=="");if(L===-1)break;if((((s=(i=u[p+1+L].match(/^(\s*)/))==null?void 0:i[1])==null?void 0:s.length)||0)>k){T.push(z),h=`${h}${z}
`,p+=1;continue}else break}if((((c=(a=z.match(/^(\s*)/))==null?void 0:a[1])==null?void 0:c.length)||0)>k)T.push(z),h=`${h}${z}
`,p+=1;else break}let A;const j=T.slice(1);if(j.length>0){const z=j.map(V=>V.slice(k+g)).join(`
`);z.trim()&&(e.customNestedParser?A=e.customNestedParser(z):A=n.blockTokens(z))}const U=e.createToken(w,A);f.push(U)}if(f.length!==0)return{items:f,raw:h}}function Om(t,e,n,i){if(!t||!Array.isArray(t.content))return"";const s=typeof n=="function"?n(i):n,[a,...c]=t.content,u=e.renderChildren([a]),f=[`${s}${u}`];return c&&c.length>0&&c.forEach(h=>{const p=e.renderChildren([h]);if(p){const g=p.split(`
`).map(x=>x?e.indent(x):"").join(`
`);f.push(g)}}),f.join(`
`)}function f4(t,e,n={}){const{state:i}=e,{doc:s,tr:a}=i,c=t;s.descendants((u,f)=>{const h=a.mapping.map(f),p=a.mapping.map(f)+u.nodeSize;let g=null;if(u.marks.forEach(v=>{if(v!==c)return!1;g=v}),!g)return;let x=!1;if(Object.keys(n).forEach(v=>{n[v]!==g.attrs[v]&&(x=!0)}),x){const v=t.type.create({...t.attrs,...n});a.removeMark(h,p,t.type),a.addMark(h,p,v)}}),a.docChanged&&e.view.dispatch(a)}var Pt=class ok extends Cm{constructor(){super(...arguments),this.type="node"}static create(e={}){const n=typeof e=="function"?e():e;return new ok(n)}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}};function ts(t){return new GS({find:t.find,handler:({state:e,range:n,match:i,pasteEvent:s})=>{const a=je(t.getAttributes,void 0,i,s);if(a===!1||a===null)return null;const{tr:c}=e,u=i[i.length-1],f=i[0];let h=n.to;if(u){const p=f.search(/\S/),g=n.from+f.indexOf(u),x=g+u.length;if(Tm(n.from,n.to,e.doc).filter(w=>w.mark.type.excluded.find(E=>E===t.type&&E!==w.mark.type)).filter(w=>w.to>g).length)return null;x<n.to&&c.delete(x,n.to),g>n.from&&c.delete(n.from+p,g),h=n.from+p+u.length,c.addMark(n.from+p,h,t.type.create(a||{})),c.removeStoredMark(t.type)}}})}function h4(t){return new GS({find:t.find,handler({match:e,chain:n,range:i,pasteEvent:s}){const a=je(t.getAttributes,void 0,e,s),c=je(t.getContent,void 0,a);if(a===!1||a===null)return null;const u={type:t.type.name,attrs:a};c&&(u.content=c),e.input&&n().deleteRange(i).insertContentAt(i.from,u)}})}const{getOwnPropertyNames:p4,getOwnPropertySymbols:m4}=Object,{hasOwnProperty:g4}=Object.prototype;function Qh(t,e){return function(i,s,a){return t(i,s,a)&&e(i,s,a)}}function Cc(t){return function(n,i,s){if(!n||!i||typeof n!="object"||typeof i!="object")return t(n,i,s);const{cache:a}=s,c=a.get(n),u=a.get(i);if(c&&u)return c===i&&u===n;a.set(n,i),a.set(i,n);const f=t(n,i,s);return a.delete(n),a.delete(i),f}}function y4(t){return t?.[Symbol.toStringTag]}function zv(t){return p4(t).concat(m4(t))}const b4=Object.hasOwn||((t,e)=>g4.call(t,e));function ss(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const x4="__v",v4="__o",w4="_owner",{getOwnPropertyDescriptor:Lv,keys:_v}=Object;function S4(t,e){return t.byteLength===e.byteLength&&ru(new Uint8Array(t),new Uint8Array(e))}function k4(t,e,n){let i=t.length;if(e.length!==i)return!1;for(;i-- >0;)if(!n.equals(t[i],e[i],i,i,t,e,n))return!1;return!0}function E4(t,e){return t.byteLength===e.byteLength&&ru(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function N4(t,e){return ss(t.getTime(),e.getTime())}function T4(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function C4(t,e){return t===e}function Bv(t,e,n){const i=t.size;if(i!==e.size)return!1;if(!i)return!0;const s=new Array(i),a=t.entries();let c,u,f=0;for(;(c=a.next())&&!c.done;){const h=e.entries();let p=!1,g=0;for(;(u=h.next())&&!u.done;){if(s[g]){g++;continue}const x=c.value,v=u.value;if(n.equals(x[0],v[0],f,g,t,e,n)&&n.equals(x[1],v[1],x[0],v[0],t,e,n)){p=s[g]=!0;break}g++}if(!p)return!1;f++}return!0}const A4=ss;function M4(t,e,n){const i=_v(t);let s=i.length;if(_v(e).length!==s)return!1;for(;s-- >0;)if(!ck(t,e,n,i[s]))return!1;return!0}function ca(t,e,n){const i=zv(t);let s=i.length;if(zv(e).length!==s)return!1;let a,c,u;for(;s-- >0;)if(a=i[s],!ck(t,e,n,a)||(c=Lv(t,a),u=Lv(e,a),(c||u)&&(!c||!u||c.configurable!==u.configurable||c.enumerable!==u.enumerable||c.writable!==u.writable)))return!1;return!0}function O4(t,e){return ss(t.valueOf(),e.valueOf())}function R4(t,e){return t.source===e.source&&t.flags===e.flags}function Hv(t,e,n){const i=t.size;if(i!==e.size)return!1;if(!i)return!0;const s=new Array(i),a=t.values();let c,u;for(;(c=a.next())&&!c.done;){const f=e.values();let h=!1,p=0;for(;(u=f.next())&&!u.done;){if(!s[p]&&n.equals(c.value,u.value,c.value,u.value,t,e,n)){h=s[p]=!0;break}p++}if(!h)return!1}return!0}function ru(t,e){let n=t.byteLength;if(e.byteLength!==n||t.byteOffset!==e.byteOffset)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function j4(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function ck(t,e,n,i){return(i===w4||i===v4||i===x4)&&(t.$$typeof||e.$$typeof)?!0:b4(e,i)&&n.equals(t[i],e[i],i,i,t,e,n)}const D4="[object ArrayBuffer]",z4="[object Arguments]",L4="[object Boolean]",_4="[object DataView]",B4="[object Date]",H4="[object Error]",U4="[object Map]",q4="[object Number]",I4="[object Object]",P4="[object RegExp]",V4="[object Set]",$4="[object String]",F4={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},K4="[object URL]",G4=Object.prototype.toString;function Y4({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:n,areDatesEqual:i,areErrorsEqual:s,areFunctionsEqual:a,areMapsEqual:c,areNumbersEqual:u,areObjectsEqual:f,arePrimitiveWrappersEqual:h,areRegExpsEqual:p,areSetsEqual:g,areTypedArraysEqual:x,areUrlsEqual:v,unknownTagComparators:w}){return function(E,T,A){if(E===T)return!0;if(E==null||T==null)return!1;const j=typeof E;if(j!==typeof T)return!1;if(j!=="object")return j==="number"?u(E,T,A):j==="function"?a(E,T,A):!1;const U=E.constructor;if(U!==T.constructor)return!1;if(U===Object)return f(E,T,A);if(Array.isArray(E))return e(E,T,A);if(U===Date)return i(E,T,A);if(U===RegExp)return p(E,T,A);if(U===Map)return c(E,T,A);if(U===Set)return g(E,T,A);const z=G4.call(E);if(z===B4)return i(E,T,A);if(z===P4)return p(E,T,A);if(z===U4)return c(E,T,A);if(z===V4)return g(E,T,A);if(z===I4)return typeof E.then!="function"&&typeof T.then!="function"&&f(E,T,A);if(z===K4)return v(E,T,A);if(z===H4)return s(E,T,A);if(z===z4)return f(E,T,A);if(F4[z])return x(E,T,A);if(z===D4)return t(E,T,A);if(z===_4)return n(E,T,A);if(z===L4||z===q4||z===$4)return h(E,T,A);if(w){let V=w[z];if(!V){const L=y4(E);L&&(V=w[L])}if(V)return V(E,T,A)}return!1}}function J4({circular:t,createCustomConfig:e,strict:n}){let i={areArrayBuffersEqual:S4,areArraysEqual:n?ca:k4,areDataViewsEqual:E4,areDatesEqual:N4,areErrorsEqual:T4,areFunctionsEqual:C4,areMapsEqual:n?Qh(Bv,ca):Bv,areNumbersEqual:A4,areObjectsEqual:n?ca:M4,arePrimitiveWrappersEqual:O4,areRegExpsEqual:R4,areSetsEqual:n?Qh(Hv,ca):Hv,areTypedArraysEqual:n?Qh(ru,ca):ru,areUrlsEqual:j4,unknownTagComparators:void 0};if(e&&(i=Object.assign({},i,e(i))),t){const s=Cc(i.areArraysEqual),a=Cc(i.areMapsEqual),c=Cc(i.areObjectsEqual),u=Cc(i.areSetsEqual);i=Object.assign({},i,{areArraysEqual:s,areMapsEqual:a,areObjectsEqual:c,areSetsEqual:u})}return i}function X4(t){return function(e,n,i,s,a,c,u){return t(e,n,u)}}function W4({circular:t,comparator:e,createState:n,equals:i,strict:s}){if(n)return function(u,f){const{cache:h=t?new WeakMap:void 0,meta:p}=n();return e(u,f,{cache:h,equals:i,meta:p,strict:s})};if(t)return function(u,f){return e(u,f,{cache:new WeakMap,equals:i,meta:void 0,strict:s})};const a={cache:void 0,equals:i,meta:void 0,strict:s};return function(u,f){return e(u,f,a)}}const Q4=gr();gr({strict:!0});gr({circular:!0});gr({circular:!0,strict:!0});gr({createInternalComparator:()=>ss});gr({strict:!0,createInternalComparator:()=>ss});gr({circular:!0,createInternalComparator:()=>ss});gr({circular:!0,createInternalComparator:()=>ss,strict:!0});function gr(t={}){const{circular:e=!1,createInternalComparator:n,createState:i,strict:s=!1}=t,a=J4(t),c=Y4(a),u=n?n(c):X4(c);return W4({circular:e,comparator:c,createState:i,equals:u,strict:s})}var Zh={exports:{}},ep={};var Uv;function Z4(){if(Uv)return ep;Uv=1;var t=Ua(),e=W1();function n(h,p){return h===p&&(h!==0||1/h===1/p)||h!==h&&p!==p}var i=typeof Object.is=="function"?Object.is:n,s=e.useSyncExternalStore,a=t.useRef,c=t.useEffect,u=t.useMemo,f=t.useDebugValue;return ep.useSyncExternalStoreWithSelector=function(h,p,g,x,v){var w=a(null);if(w.current===null){var k={hasValue:!1,value:null};w.current=k}else k=w.current;w=u(function(){function T(V){if(!A){if(A=!0,j=V,V=x(V),v!==void 0&&k.hasValue){var L=k.value;if(v(L,V))return U=L}return U=V}if(L=U,i(j,V))return L;var K=x(V);return v!==void 0&&v(L,K)?(j=V,L):(j=V,U=K)}var A=!1,j,U,z=g===void 0?null:g;return[function(){return T(p())},z===null?void 0:function(){return T(z())}]},[p,g,x,v]);var E=s(h,w[0],w[1]);return c(function(){k.hasValue=!0,k.value=E},[E]),f(E),E},ep}var qv;function e3(){return qv||(qv=1,Zh.exports=Z4()),Zh.exports}var t3=e3(),n3=(...t)=>e=>{t.forEach(n=>{typeof n=="function"?n(e):n&&(n.current=e)})},i3=({contentComponent:t})=>{const e=Q1.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getServerSnapshot);return b.jsx(b.Fragment,{children:Object.values(e)})};function r3(){const t=new Set;let e={};return{subscribe(n){return t.add(n),()=>{t.delete(n)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(n,i){e={...e,[n]:e2.createPortal(i.reactElement,i.element,n)},t.forEach(s=>s())},removeRenderer(n){const i={...e};delete i[n],e=i,t.forEach(s=>s())}}}var s3=class extends Jr.Component{constructor(t){var e;super(t),this.editorContentRef=Jr.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!((e=t.editor)!=null&&e.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){var t;const e=this.props.editor;if(e&&!e.isDestroyed&&((t=e.view.dom)!=null&&t.parentNode)){if(e.contentComponent)return;const n=this.editorContentRef.current;n.append(...e.view.dom.parentNode.childNodes),e.setOptions({element:n}),e.contentComponent=r3(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(i=>i.hasContentComponentInitialized?i:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var t;const e=this.props.editor;if(e){this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null;try{if(!((t=e.view.dom)!=null&&t.parentNode))return;const n=document.createElement("div");n.append(...e.view.dom.parentNode.childNodes),e.setOptions({element:n})}catch{}}}render(){const{editor:t,innerRef:e,...n}=this.props;return b.jsxs(b.Fragment,{children:[b.jsx("div",{ref:n3(e,this.editorContentRef),...n}),t?.contentComponent&&b.jsx(i3,{contentComponent:t.contentComponent})]})}},l3=C.forwardRef((t,e)=>{const n=Jr.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[t.editor]);return Jr.createElement(s3,{key:n,innerRef:e,...t})}),uk=Jr.memo(l3),a3=typeof window<"u"?C.useLayoutEffect:C.useEffect,o3=class{constructor(t){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=t,this.lastSnapshot={editor:t,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(t){return this.subscribers.add(t),()=>{this.subscribers.delete(t)}}watch(t){if(this.editor=t,this.editor){const e=()=>{this.transactionNumber+=1,this.subscribers.forEach(i=>i())},n=this.editor;return n.on("transaction",e),()=>{n.off("transaction",e)}}}};function c3(t){var e;const[n]=C.useState(()=>new o3(t.editor)),i=t3.useSyncExternalStoreWithSelector(n.subscribe,n.getSnapshot,n.getServerSnapshot,t.selector,(e=t.equalityFn)!=null?e:Q4);return a3(()=>n.watch(t.editor),[t.editor,n]),C.useDebugValue(i),i}var u3=!1,_p=typeof window>"u",d3=_p||!!(typeof window<"u"&&window.next),f3=class dk{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(n=>n())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?_p||d3?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...i)=>{var s,a;return(a=(s=this.options.current).onBeforeCreate)==null?void 0:a.call(s,...i)},onBlur:(...i)=>{var s,a;return(a=(s=this.options.current).onBlur)==null?void 0:a.call(s,...i)},onCreate:(...i)=>{var s,a;return(a=(s=this.options.current).onCreate)==null?void 0:a.call(s,...i)},onDestroy:(...i)=>{var s,a;return(a=(s=this.options.current).onDestroy)==null?void 0:a.call(s,...i)},onFocus:(...i)=>{var s,a;return(a=(s=this.options.current).onFocus)==null?void 0:a.call(s,...i)},onSelectionUpdate:(...i)=>{var s,a;return(a=(s=this.options.current).onSelectionUpdate)==null?void 0:a.call(s,...i)},onTransaction:(...i)=>{var s,a;return(a=(s=this.options.current).onTransaction)==null?void 0:a.call(s,...i)},onUpdate:(...i)=>{var s,a;return(a=(s=this.options.current).onUpdate)==null?void 0:a.call(s,...i)},onContentError:(...i)=>{var s,a;return(a=(s=this.options.current).onContentError)==null?void 0:a.call(s,...i)},onDrop:(...i)=>{var s,a;return(a=(s=this.options.current).onDrop)==null?void 0:a.call(s,...i)},onPaste:(...i)=>{var s,a;return(a=(s=this.options.current).onPaste)==null?void 0:a.call(s,...i)},onDelete:(...i)=>{var s,a;return(a=(s=this.options.current).onDelete)==null?void 0:a.call(s,...i)}};return new i4(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,n){return Object.keys(e).every(i=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(i)?!0:i==="extensions"&&e.extensions&&n.extensions?e.extensions.length!==n.extensions.length?!1:e.extensions.every((s,a)=>{var c;return s===((c=n.extensions)==null?void 0:c[a])}):e[i]===n[i])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?dk.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((i,s)=>i===e[s]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,n=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){n&&n.setOptions(this.options.current);return}n&&!n.isDestroyed&&(n.destroy(),this.instanceId===e&&this.setEditor(null))},1)}};function h3(t={},e=[]){const n=C.useRef(t);n.current=t;const[i]=C.useState(()=>new f3(n)),s=Q1.useSyncExternalStore(i.subscribe,i.getEditor,i.getServerSnapshot);return C.useDebugValue(s),C.useEffect(i.onRender(e)),c3({editor:s,selector:({transactionNumber:a})=>t.shouldRerenderOnTransaction===!1||t.shouldRerenderOnTransaction===void 0?null:t.immediatelyRender&&a===0?0:a+1}),s}var fk=C.createContext({editor:null});fk.Consumer;var p3=C.createContext({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}}),m3=()=>C.useContext(p3);Jr.forwardRef((t,e)=>{const{onDragStart:n}=m3(),i=t.as||"div";return b.jsx(i,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...t.style}})});Jr.createContext({markViewContentRef:()=>{}});var Rm=C.createContext({get editor(){throw new Error("useTiptap must be used within a <Tiptap> provider")}});Rm.displayName="TiptapContext";var g3=()=>C.useContext(Rm);function hk({editor:t,instance:e,children:n}){const i=t??e;if(!i)throw new Error("Tiptap: An editor instance is required. Pass a non-null `editor` prop.");const s=C.useMemo(()=>({editor:i}),[i]),a=C.useMemo(()=>({editor:i}),[i]);return b.jsx(fk.Provider,{value:a,children:b.jsx(Rm.Provider,{value:s,children:n})})}hk.displayName="Tiptap";function pk({...t}){const{editor:e}=g3();return b.jsx(uk,{editor:e,...t})}pk.displayName="Tiptap.Content";Object.assign(hk,{Content:pk});var su=(t,e)=>{if(t==="slot")return 0;if(t instanceof Function)return t(e);const{children:n,...i}=e??{};if(t==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[t,i,n]},y3=/^\s*>\s$/,b3=Pt.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return su("blockquote",{...rt(this.options.HTMLAttributes,t),children:su("slot",{})})},parseMarkdown:(t,e)=>e.createNode("blockquote",void 0,e.parseChildren(t.tokens||[])),renderMarkdown:(t,e)=>{if(!t.content)return"";const n=">",i=[];return t.content.forEach(s=>{const u=e.renderChildren([s]).split(`
`).map(f=>f.trim()===""?n:`${n} ${f}`);i.push(u.join(`
`))}),i.join(`
${n}
`)},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[ll({find:y3,type:this.type})]}}),x3=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,v3=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,w3=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,S3=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,k3=rs.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return su("strong",{...rt(this.options.HTMLAttributes,t),children:su("slot",{})})},markdownTokenName:"strong",parseMarkdown:(t,e)=>e.applyMark("bold",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`**${e.renderChildren(t)}**`,addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[sl({find:x3,type:this.type}),sl({find:w3,type:this.type})]},addPasteRules(){return[ts({find:v3,type:this.type}),ts({find:S3,type:this.type})]}}),E3=/(^|[^`])`([^`]+)`(?!`)$/,N3=/(^|[^`])`([^`]+)`(?!`)/g,T3=rs.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",rt(this.options.HTMLAttributes,t),0]},markdownTokenName:"codespan",parseMarkdown:(t,e)=>e.applyMark("code",[{type:"text",text:t.text||""}]),renderMarkdown:(t,e)=>t.content?`\`${e.renderChildren(t.content)}\``:"",addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[sl({find:E3,type:this.type})]},addPasteRules(){return[ts({find:N3,type:this.type})]}}),tp=4,C3=/^```([a-z]+)?[\s\n]$/,A3=/^~~~([a-z]+)?[\s\n]$/,M3=Pt.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,enableTabIndentation:!1,tabSize:tp,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:t=>{var e;const{languageClassPrefix:n}=this.options;if(!n)return null;const a=[...((e=t.firstElementChild)==null?void 0:e.classList)||[]].filter(c=>c.startsWith(n)).map(c=>c.replace(n,""))[0];return a||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",rt(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},markdownTokenName:"code",parseMarkdown:(t,e)=>{var n;return((n=t.raw)==null?void 0:n.startsWith("```"))===!1&&t.codeBlockStyle!=="indented"?[]:e.createNode("codeBlock",{language:t.lang||null},t.text?[e.createTextNode(t.text)]:[])},renderMarkdown:(t,e)=>{var n;let i="";const s=((n=t.attrs)==null?void 0:n.language)||"";return t.content?i=[`\`\`\`${s}`,e.renderChildren(t.content),"```"].join(`
`):i=`\`\`\`${s}

\`\`\``,i},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,n=e.pos===1;return!t||e.parent.type.name!==this.name?!1:n||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Tab:({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;const n=(e=this.options.tabSize)!=null?e:tp,{state:i}=t,{selection:s}=i,{$from:a,empty:c}=s;if(a.parent.type!==this.type)return!1;const u=" ".repeat(n);return c?t.commands.insertContent(u):t.commands.command(({tr:f})=>{const{from:h,to:p}=s,v=i.doc.textBetween(h,p,`
`,`
`).split(`
`).map(w=>u+w).join(`
`);return f.replaceWith(h,p,i.schema.text(v)),!0})},"Shift-Tab":({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;const n=(e=this.options.tabSize)!=null?e:tp,{state:i}=t,{selection:s}=i,{$from:a,empty:c}=s;return a.parent.type!==this.type?!1:c?t.commands.command(({tr:u})=>{var f;const{pos:h}=a,p=a.start(),g=a.end(),v=i.doc.textBetween(p,g,`
`,`
`).split(`
`);let w=0,k=0;const E=h-p;for(let V=0;V<v.length;V+=1){if(k+v[V].length>=E){w=V;break}k+=v[V].length+1}const A=((f=v[w].match(/^ */))==null?void 0:f[0])||"",j=Math.min(A.length,n);if(j===0)return!0;let U=p;for(let V=0;V<w;V+=1)U+=v[V].length+1;return u.delete(U,U+j),h-U<=j&&u.setSelection(de.create(u.doc,U)),!0}):t.commands.command(({tr:u})=>{const{from:f,to:h}=s,x=i.doc.textBetween(f,h,`
`,`
`).split(`
`).map(v=>{var w;const k=((w=v.match(/^ */))==null?void 0:w[0])||"",E=Math.min(k.length,n);return v.slice(E)}).join(`
`);return u.replaceWith(f,h,i.schema.text(x)),!0})},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:n}=e,{$from:i,empty:s}=n;if(!s||i.parent.type!==this.type)return!1;const a=i.parentOffset===i.parent.nodeSize-2,c=i.parent.textContent.endsWith(`

`);return!a||!c?!1:t.chain().command(({tr:u})=>(u.delete(i.pos-2,i.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:n,doc:i}=e,{$from:s,empty:a}=n;if(!a||s.parent.type!==this.type||!(s.parentOffset===s.parent.nodeSize-2))return!1;const u=s.after();return u===void 0?!1:i.nodeAt(u)?t.commands.command(({tr:h})=>(h.setSelection(be.near(i.resolve(u))),!0)):t.commands.exitCode()}}},addInputRules(){return[zp({find:C3,type:this.type,getAttributes:t=>({language:t[1]})}),zp({find:A3,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new Xe({key:new yt("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const n=e.clipboardData.getData("text/plain"),i=e.clipboardData.getData("vscode-editor-data"),s=i?JSON.parse(i):void 0,a=s?.mode;if(!n||!a)return!1;const{tr:c,schema:u}=t.state,f=u.text(n.replace(/\r\n?/g,`
`));return c.replaceSelectionWith(this.type.create({language:a},f)),c.selection.$from.parent.type!==this.type&&c.setSelection(de.near(c.doc.resolve(Math.max(0,c.selection.from-2)))),c.setMeta("paste",!0),t.dispatch(c),!0}}})]}}),O3=Pt.create({name:"doc",topNode:!0,content:"block+",renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`

`):""}),R3=Pt.create({name:"hardBreak",markdownTokenName:"br",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",rt(this.options.HTMLAttributes,t)]},renderText(){return`
`},renderMarkdown:()=>`  
`,parseMarkdown:()=>({type:"hardBreak"}),addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:i})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:s,storedMarks:a}=n;if(s.$from.parent.type.spec.isolating)return!1;const{keepMarks:c}=this.options,{splittableMarks:u}=i.extensionManager,f=a||s.$to.parentOffset&&s.$from.marks();return e().insertContent({type:this.name}).command(({tr:h,dispatch:p})=>{if(p&&f&&c){const g=f.filter(x=>u.includes(x.type.name));h.ensureMarks(g)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),j3=Pt.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,rt(this.options.HTMLAttributes,e),0]},parseMarkdown:(t,e)=>e.createNode("heading",{level:t.depth||1},e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>{var n;const i=(n=t.attrs)!=null&&n.level?parseInt(t.attrs.level,10):1,s="#".repeat(i);return t.content?`${s} ${e.renderChildren(t.content)}`:""},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>zp({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}}),D3=Pt.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{},nextNodeType:"paragraph"}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",rt(this.options.HTMLAttributes,t)]},markdownTokenName:"hr",parseMarkdown:(t,e)=>e.createNode("horizontalRule"),renderMarkdown:()=>"---",addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{if(!l4(e,e.schema.nodes[this.name]))return!1;const{selection:n}=e,{$to:i}=n,s=t();return PS(n)?s.insertContentAt(i.pos,{type:this.name}):s.insertContent({type:this.name}),s.command(({state:a,tr:c,dispatch:u})=>{if(u){const{$to:f}=c.selection,h=f.end();if(f.nodeAfter)f.nodeAfter.isTextblock?c.setSelection(de.create(c.doc,f.pos+1)):f.nodeAfter.isBlock?c.setSelection(oe.create(c.doc,f.pos)):c.setSelection(de.create(c.doc,f.pos));else{const p=a.schema.nodes[this.options.nextNodeType]||f.parent.type.contentMatch.defaultType,g=p?.create();g&&(c.insert(h,g),c.setSelection(de.create(c.doc,h+1)))}c.scrollIntoView()}return!0}).run()}}},addInputRules(){return[lk({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),z3=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,L3=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,_3=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,B3=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,H3=rs.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:t=>t.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",rt(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},markdownTokenName:"em",parseMarkdown:(t,e)=>e.applyMark("italic",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`*${e.renderChildren(t)}*`,addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[sl({find:z3,type:this.type}),sl({find:_3,type:this.type})]},addPasteRules(){return[ts({find:L3,type:this.type}),ts({find:B3,type:this.type})]}});const U3="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",q3="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",Bp="numeric",Hp="ascii",Up="alpha",wa="asciinumeric",ga="alphanumeric",qp="domain",mk="emoji",I3="scheme",P3="slashscheme",np="whitespace";function V3(t,e){return t in e||(e[t]=[]),e[t]}function Pr(t,e,n){e[Bp]&&(e[wa]=!0,e[ga]=!0),e[Hp]&&(e[wa]=!0,e[Up]=!0),e[wa]&&(e[ga]=!0),e[Up]&&(e[ga]=!0),e[ga]&&(e[qp]=!0),e[mk]&&(e[qp]=!0);for(const i in e){const s=V3(i,n);s.indexOf(t)<0&&s.push(t)}}function $3(t,e){const n={};for(const i in e)e[i].indexOf(t)>=0&&(n[i]=!0);return n}function Xt(t=null){this.j={},this.jr=[],this.jd=null,this.t=t}Xt.groups={};Xt.prototype={accepts(){return!!this.t},go(t){const e=this,n=e.j[t];if(n)return n;for(let i=0;i<e.jr.length;i++){const s=e.jr[i][0],a=e.jr[i][1];if(a&&s.test(t))return a}return e.jd},has(t,e=!1){return e?t in this.j:!!this.go(t)},ta(t,e,n,i){for(let s=0;s<t.length;s++)this.tt(t[s],e,n,i)},tr(t,e,n,i){i=i||Xt.groups;let s;return e&&e.j?s=e:(s=new Xt(e),n&&i&&Pr(e,n,i)),this.jr.push([t,s]),s},ts(t,e,n,i){let s=this;const a=t.length;if(!a)return s;for(let c=0;c<a-1;c++)s=s.tt(t[c]);return s.tt(t[a-1],e,n,i)},tt(t,e,n,i){i=i||Xt.groups;const s=this;if(e&&e.j)return s.j[t]=e,e;const a=e;let c,u=s.go(t);if(u?(c=new Xt,Object.assign(c.j,u.j),c.jr.push.apply(c.jr,u.jr),c.jd=u.jd,c.t=u.t):c=new Xt,a){if(i)if(c.t&&typeof c.t=="string"){const f=Object.assign($3(c.t,i),n);Pr(a,f,i)}else n&&Pr(a,n,i);c.t=a}return s.j[t]=c,c}};const ye=(t,e,n,i,s)=>t.ta(e,n,i,s),et=(t,e,n,i,s)=>t.tr(e,n,i,s),Iv=(t,e,n,i,s)=>t.ts(e,n,i,s),X=(t,e,n,i,s)=>t.tt(e,n,i,s),bi="WORD",Ip="UWORD",gk="ASCIINUMERICAL",yk="ALPHANUMERICAL",Ba="LOCALHOST",Pp="TLD",Vp="UTLD",qc="SCHEME",Js="SLASH_SCHEME",jm="NUM",$p="WS",Dm="NL",Sa="OPENBRACE",ka="CLOSEBRACE",lu="OPENBRACKET",au="CLOSEBRACKET",ou="OPENPAREN",cu="CLOSEPAREN",uu="OPENANGLEBRACKET",du="CLOSEANGLEBRACKET",fu="FULLWIDTHLEFTPAREN",hu="FULLWIDTHRIGHTPAREN",pu="LEFTCORNERBRACKET",mu="RIGHTCORNERBRACKET",gu="LEFTWHITECORNERBRACKET",yu="RIGHTWHITECORNERBRACKET",bu="FULLWIDTHLESSTHAN",xu="FULLWIDTHGREATERTHAN",vu="AMPERSAND",wu="APOSTROPHE",Su="ASTERISK",tr="AT",ku="BACKSLASH",Eu="BACKTICK",Nu="CARET",rr="COLON",zm="COMMA",Tu="DOLLAR",Fn="DOT",Cu="EQUALS",Lm="EXCLAMATION",En="HYPHEN",Ea="PERCENT",Au="PIPE",Mu="PLUS",Ou="POUND",Na="QUERY",_m="QUOTE",bk="FULLWIDTHMIDDLEDOT",Bm="SEMI",Kn="SLASH",Ta="TILDE",Ru="UNDERSCORE",xk="EMOJI",ju="SYM";var vk=Object.freeze({__proto__:null,ALPHANUMERICAL:yk,AMPERSAND:vu,APOSTROPHE:wu,ASCIINUMERICAL:gk,ASTERISK:Su,AT:tr,BACKSLASH:ku,BACKTICK:Eu,CARET:Nu,CLOSEANGLEBRACKET:du,CLOSEBRACE:ka,CLOSEBRACKET:au,CLOSEPAREN:cu,COLON:rr,COMMA:zm,DOLLAR:Tu,DOT:Fn,EMOJI:xk,EQUALS:Cu,EXCLAMATION:Lm,FULLWIDTHGREATERTHAN:xu,FULLWIDTHLEFTPAREN:fu,FULLWIDTHLESSTHAN:bu,FULLWIDTHMIDDLEDOT:bk,FULLWIDTHRIGHTPAREN:hu,HYPHEN:En,LEFTCORNERBRACKET:pu,LEFTWHITECORNERBRACKET:gu,LOCALHOST:Ba,NL:Dm,NUM:jm,OPENANGLEBRACKET:uu,OPENBRACE:Sa,OPENBRACKET:lu,OPENPAREN:ou,PERCENT:Ea,PIPE:Au,PLUS:Mu,POUND:Ou,QUERY:Na,QUOTE:_m,RIGHTCORNERBRACKET:mu,RIGHTWHITECORNERBRACKET:yu,SCHEME:qc,SEMI:Bm,SLASH:Kn,SLASH_SCHEME:Js,SYM:ju,TILDE:Ta,TLD:Pp,UNDERSCORE:Ru,UTLD:Vp,UWORD:Ip,WORD:bi,WS:$p});const gi=/[a-z]/,ua=new RegExp("\\p{L}","u"),ip=new RegExp("\\p{Emoji}","u"),yi=/\d/,rp=/\s/,Pv="\r",sp=`
`,F3="",K3="",lp="";let Ac=null,Mc=null;function G3(t=[]){const e={};Xt.groups=e;const n=new Xt;Ac==null&&(Ac=Vv(U3)),Mc==null&&(Mc=Vv(q3)),X(n,"'",wu),X(n,"{",Sa),X(n,"}",ka),X(n,"[",lu),X(n,"]",au),X(n,"(",ou),X(n,")",cu),X(n,"<",uu),X(n,">",du),X(n,"",fu),X(n,"",hu),X(n,"",pu),X(n,"",mu),X(n,"",gu),X(n,"",yu),X(n,"",bu),X(n,"",xu),X(n,"&",vu),X(n,"*",Su),X(n,"@",tr),X(n,"`",Eu),X(n,"^",Nu),X(n,":",rr),X(n,",",zm),X(n,"$",Tu),X(n,".",Fn),X(n,"=",Cu),X(n,"!",Lm),X(n,"-",En),X(n,"%",Ea),X(n,"|",Au),X(n,"+",Mu),X(n,"#",Ou),X(n,"?",Na),X(n,'"',_m),X(n,"/",Kn),X(n,";",Bm),X(n,"~",Ta),X(n,"_",Ru),X(n,"\\",ku),X(n,"",bk);const i=et(n,yi,jm,{[Bp]:!0});et(i,yi,i);const s=et(i,gi,gk,{[wa]:!0}),a=et(i,ua,yk,{[ga]:!0}),c=et(n,gi,bi,{[Hp]:!0});et(c,yi,s),et(c,gi,c),et(s,yi,s),et(s,gi,s);const u=et(n,ua,Ip,{[Up]:!0});et(u,gi),et(u,yi,a),et(u,ua,u),et(a,yi,a),et(a,gi),et(a,ua,a);const f=X(n,sp,Dm,{[np]:!0}),h=X(n,Pv,$p,{[np]:!0}),p=et(n,rp,$p,{[np]:!0});X(n,lp,p),X(h,sp,f),X(h,lp,p),et(h,rp,p),X(p,Pv),X(p,sp),et(p,rp,p),X(p,lp,p);const g=et(n,ip,xk,{[mk]:!0});X(g,"#"),et(g,ip,g),X(g,F3,g);const x=X(g,K3);X(x,"#"),et(x,ip,g);const v=[[gi,c],[yi,s]],w=[[gi,null],[ua,u],[yi,a]];for(let k=0;k<Ac.length;k++)Qi(n,Ac[k],Pp,bi,v);for(let k=0;k<Mc.length;k++)Qi(n,Mc[k],Vp,Ip,w);Pr(Pp,{tld:!0,ascii:!0},e),Pr(Vp,{utld:!0,alpha:!0},e),Qi(n,"file",qc,bi,v),Qi(n,"mailto",qc,bi,v),Qi(n,"http",Js,bi,v),Qi(n,"https",Js,bi,v),Qi(n,"ftp",Js,bi,v),Qi(n,"ftps",Js,bi,v),Pr(qc,{scheme:!0,ascii:!0},e),Pr(Js,{slashscheme:!0,ascii:!0},e),t=t.sort((k,E)=>k[0]>E[0]?1:-1);for(let k=0;k<t.length;k++){const E=t[k][0],A=t[k][1]?{[I3]:!0}:{[P3]:!0};E.indexOf("-")>=0?A[qp]=!0:gi.test(E)?yi.test(E)?A[wa]=!0:A[Hp]=!0:A[Bp]=!0,Iv(n,E,E,A)}return Iv(n,"localhost",Ba,{ascii:!0}),n.jd=new Xt(ju),{start:n,tokens:Object.assign({groups:e},vk)}}function wk(t,e){const n=Y3(e.replace(/[A-Z]/g,u=>u.toLowerCase())),i=n.length,s=[];let a=0,c=0;for(;c<i;){let u=t,f=null,h=0,p=null,g=-1,x=-1;for(;c<i&&(f=u.go(n[c]));)u=f,u.accepts()?(g=0,x=0,p=u):g>=0&&(g+=n[c].length,x++),h+=n[c].length,a+=n[c].length,c++;a-=g,c-=x,h-=g,s.push({t:p.t,v:e.slice(a-h,a),s:a-h,e:a})}return s}function Y3(t){const e=[],n=t.length;let i=0;for(;i<n;){let s=t.charCodeAt(i),a,c=s<55296||s>56319||i+1===n||(a=t.charCodeAt(i+1))<56320||a>57343?t[i]:t.slice(i,i+2);e.push(c),i+=c.length}return e}function Qi(t,e,n,i,s){let a;const c=e.length;for(let u=0;u<c-1;u++){const f=e[u];t.j[f]?a=t.j[f]:(a=new Xt(i),a.jr=s.slice(),t.j[f]=a),t=a}return a=new Xt(n),a.jr=s.slice(),t.j[e[c-1]]=a,a}function Vv(t){const e=[],n=[];let i=0,s="0123456789";for(;i<t.length;){let a=0;for(;s.indexOf(t[i+a])>=0;)a++;if(a>0){e.push(n.join(""));for(let c=parseInt(t.substring(i,i+a),10);c>0;c--)n.pop();i+=a}else n.push(t[i]),i++}return e}const Ha={defaultProtocol:"http",events:null,format:$v,formatHref:$v,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function Hm(t,e=null){let n=Object.assign({},Ha);t&&(n=Object.assign(n,t instanceof Hm?t.o:t));const i=n.ignoreTags,s=[];for(let a=0;a<i.length;a++)s.push(i[a].toUpperCase());this.o=n,e&&(this.defaultRender=e),this.ignoreTags=s}Hm.prototype={o:Ha,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,e,n){const i=e!=null;let s=this.o[t];return s&&(typeof s=="object"?(s=n.t in s?s[n.t]:Ha[t],typeof s=="function"&&i&&(s=s(e,n))):typeof s=="function"&&i&&(s=s(e,n.t,n)),s)},getObj(t,e,n){let i=this.o[t];return typeof i=="function"&&e!=null&&(i=i(e,n.t,n)),i},render(t){const e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}};function $v(t){return t}function Sk(t,e){this.t="token",this.v=t,this.tk=e}Sk.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),n=t.get("truncate",e,this),i=t.get("format",e,this);return n&&i.length>n?i.substring(0,n)+"":i},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t=Ha.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,n=this.toHref(t.get("defaultProtocol")),i=t.get("formatHref",n,this),s=t.get("tagName",n,e),a=this.toFormattedString(t),c={},u=t.get("className",n,e),f=t.get("target",n,e),h=t.get("rel",n,e),p=t.getObj("attributes",n,e),g=t.getObj("events",n,e);return c.href=i,u&&(c.class=u),f&&(c.target=f),h&&(c.rel=h),p&&Object.assign(c,p),{tagName:s,attributes:c,content:a,eventListeners:g}}};function td(t,e){class n extends Sk{constructor(s,a){super(s,a),this.t=t}}for(const i in e)n.prototype[i]=e[i];return n.t=t,n}const Fv=td("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),Kv=td("text"),J3=td("nl"),Oc=td("url",{isLink:!0,toHref(t=Ha.defaultProtocol){return this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==Ba&&t[1].t===rr}}),kn=t=>new Xt(t);function X3({groups:t}){const e=t.domain.concat([vu,Su,tr,ku,Eu,Nu,Tu,Cu,En,jm,Ea,Au,Mu,Ou,Kn,ju,Ta,Ru]),n=[wu,rr,zm,Fn,Lm,Ea,Na,_m,Bm,uu,du,Sa,ka,au,lu,ou,cu,fu,hu,pu,mu,gu,yu,bu,xu],i=[vu,wu,Su,ku,Eu,Nu,Tu,Cu,En,Sa,ka,Ea,Au,Mu,Ou,Na,Kn,ju,Ta,Ru],s=kn(),a=X(s,Ta);ye(a,i,a),ye(a,t.domain,a);const c=kn(),u=kn(),f=kn();ye(s,t.domain,c),ye(s,t.scheme,u),ye(s,t.slashscheme,f),ye(c,i,a),ye(c,t.domain,c);const h=X(c,tr);X(a,tr,h),X(u,tr,h),X(f,tr,h);const p=X(a,Fn);ye(p,i,a),ye(p,t.domain,a);const g=kn();ye(h,t.domain,g),ye(g,t.domain,g);const x=X(g,Fn);ye(x,t.domain,g);const v=kn(Fv);ye(x,t.tld,v),ye(x,t.utld,v),X(h,Ba,v);const w=X(g,En);X(w,En,w),ye(w,t.domain,g),ye(v,t.domain,g),X(v,Fn,x),X(v,En,w);const k=X(v,rr);ye(k,t.numeric,Fv);const E=X(c,En),T=X(c,Fn);X(E,En,E),ye(E,t.domain,c),ye(T,i,a),ye(T,t.domain,c);const A=kn(Oc);ye(T,t.tld,A),ye(T,t.utld,A),ye(A,t.domain,c),ye(A,i,a),X(A,Fn,T),X(A,En,E),X(A,tr,h);const j=X(A,rr),U=kn(Oc);ye(j,t.numeric,U);const z=kn(Oc),V=kn();ye(z,e,z),ye(z,n,V),ye(V,e,z),ye(V,n,V),X(A,Kn,z),X(U,Kn,z);const L=X(u,rr),K=X(f,rr),Z=X(K,Kn),he=X(Z,Kn);ye(u,t.domain,c),X(u,Fn,T),X(u,En,E),ye(f,t.domain,c),X(f,Fn,T),X(f,En,E),ye(L,t.domain,z),X(L,Kn,z),X(L,Na,z),ye(he,t.domain,z),ye(he,e,z),X(he,Kn,z);const We=[[Sa,ka],[lu,au],[ou,cu],[uu,du],[fu,hu],[pu,mu],[gu,yu],[bu,xu]];for(let re=0;re<We.length;re++){const[qe,Ne]=We[re],Te=X(z,qe);X(V,qe,Te),X(Te,Ne,z);const q=kn(Oc);ye(Te,e,q);const W=kn();ye(Te,n),ye(q,e,q),ye(q,n,W),ye(W,e,q),ye(W,n,W),X(q,Ne,z),X(W,Ne,z)}return X(s,Ba,A),X(s,Dm,J3),{start:s,tokens:vk}}function W3(t,e,n){let i=n.length,s=0,a=[],c=[];for(;s<i;){let u=t,f=null,h=null,p=0,g=null,x=-1;for(;s<i&&!(f=u.go(n[s].t));)c.push(n[s++]);for(;s<i&&(h=f||u.go(n[s].t));)f=null,u=h,u.accepts()?(x=0,g=u):x>=0&&x++,s++,p++;if(x<0)s-=p,s<i&&(c.push(n[s]),s++);else{c.length>0&&(a.push(ap(Kv,e,c)),c=[]),s-=x,p-=x;const v=g.t,w=n.slice(s-p,s);a.push(ap(v,e,w))}}return c.length>0&&a.push(ap(Kv,e,c)),a}function ap(t,e,n){const i=n[0].s,s=n[n.length-1].e,a=e.slice(i,s);return new t(a,n)}const Q3=typeof console<"u"&&console&&console.warn||(()=>{}),Z3="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",Ke={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function ez(){return Xt.groups={},Ke.scanner=null,Ke.parser=null,Ke.tokenQueue=[],Ke.pluginQueue=[],Ke.customSchemes=[],Ke.initialized=!1,Ke}function Gv(t,e=!1){if(Ke.initialized&&Q3(`linkifyjs: already initialized - will not register custom scheme "${t}" ${Z3}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(t))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);Ke.customSchemes.push([t,e])}function tz(){Ke.scanner=G3(Ke.customSchemes);for(let t=0;t<Ke.tokenQueue.length;t++)Ke.tokenQueue[t][1]({scanner:Ke.scanner});Ke.parser=X3(Ke.scanner.tokens);for(let t=0;t<Ke.pluginQueue.length;t++)Ke.pluginQueue[t][1]({scanner:Ke.scanner,parser:Ke.parser});return Ke.initialized=!0,Ke}function Um(t){return Ke.initialized||tz(),W3(Ke.parser.start,t,wk(Ke.scanner.start,t))}Um.scan=wk;function kk(t,e=null,n=null){if(e&&typeof e=="object"){if(n)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);n=e,e=null}const i=new Hm(n),s=Um(t),a=[];for(let c=0;c<s.length;c++){const u=s[c];u.isLink&&(!e||u.t===e)&&i.check(u)&&a.push(u.toFormattedObject(i))}return a}var qm="[\0- -\u2029]",nz=new RegExp(qm),iz=new RegExp(`${qm}$`),rz=new RegExp(qm,"g");function sz(t){return t.length===1?t[0].isLink:t.length===3&&t[1].isLink?["()","[]"].includes(t[0].value+t[2].value):!1}function lz(t){return new Xe({key:new yt("autolink"),appendTransaction:(e,n,i)=>{const s=e.some(h=>h.docChanged)&&!n.doc.eq(i.doc),a=e.some(h=>h.getMeta("preventAutolink"));if(!s||a)return;const{tr:c}=i,u=zS(n.doc,[...e]);if(IS(u).forEach(({newRange:h})=>{const p=lD(i.doc,h,v=>v.isTextblock);let g,x;if(p.length>1)g=p[0],x=i.doc.textBetween(g.pos,g.pos+g.node.nodeSize,void 0," ");else if(p.length){const v=i.doc.textBetween(h.from,h.to," "," ");if(!iz.test(v))return;g=p[0],x=i.doc.textBetween(g.pos,h.to,void 0," ")}if(g&&x){const v=x.split(nz).filter(Boolean);if(v.length<=0)return!1;const w=v[v.length-1],k=g.pos+x.lastIndexOf(w);if(!w)return!1;const E=Um(w).map(T=>T.toObject(t.defaultProtocol));if(!sz(E))return!1;E.filter(T=>T.isLink).map(T=>({...T,from:k+T.start+1,to:k+T.end+1})).filter(T=>i.schema.marks.code?!i.doc.rangeHasMark(T.from,T.to,i.schema.marks.code):!0).filter(T=>t.validate(T.value)).filter(T=>t.shouldAutoLink(T.value)).forEach(T=>{Tm(T.from,T.to,i.doc).some(A=>A.mark.type===t.type)||c.addMark(T.from,T.to,t.type.create({href:T.href}))})}}),!!c.steps.length)return c}})}function az(t){return new Xe({key:new yt("handleClickLink"),props:{handleClick:(e,n,i)=>{var s,a;if(i.button!==0||!e.editable)return!1;let c=null;if(i.target instanceof HTMLAnchorElement)c=i.target;else{const f=i.target;if(!f)return!1;const h=t.editor.view.dom;c=f.closest("a"),c&&!h.contains(c)&&(c=null)}if(!c)return!1;let u=!1;if(t.enableClickSelection&&(u=t.editor.commands.extendMarkRange(t.type.name)),t.openOnClick){const f=qS(e.state,t.type.name),h=(s=c.href)!=null?s:f.href,p=(a=c.target)!=null?a:f.target;h&&(window.open(h,p),u=!0)}return u}}})}function oz(t){return new Xe({key:new yt("handlePasteLink"),props:{handlePaste:(e,n,i)=>{const{shouldAutoLink:s}=t,{state:a}=e,{selection:c}=a,{empty:u}=c;if(u)return!1;let f="";i.content.forEach(p=>{f+=p.textContent});const h=kk(f,{defaultProtocol:t.defaultProtocol}).find(p=>p.isLink&&p.value===f);return!f||!h||s!==void 0&&!s(h.value)?!1:t.editor.commands.setMark(t.type,{href:h.href})}}})}function _r(t,e){const n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(i=>{const s=typeof i=="string"?i:i.scheme;s&&n.push(s)}),!t||t.replace(rz,"").match(new RegExp(`^(?:(?:${n.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var Ek=rs.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(t=>{if(typeof t=="string"){Gv(t);return}Gv(t.scheme,t.optionalSlashes)})},onDestroy(){ez()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(t,e)=>!!_r(t,e.protocols),validate:t=>!!t,shouldAutoLink:t=>{const e=/^[a-z][a-z0-9+.-]*:\/\//i.test(t),n=/^[a-z][a-z0-9+.-]*:/i.test(t);if(e||n&&!t.includes("@"))return!0;const s=(t.includes("@")?t.split("@").pop():t).split(/[/?#:]/)[0];return!(/^\d{1,3}(\.\d{1,3}){3}$/.test(s)||!/\./.test(s))}}},addAttributes(){return{href:{default:null,parseHTML(t){return t.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class},title:{default:null}}},parseHTML(){return[{tag:"a[href]",getAttrs:t=>{const e=t.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:n=>!!_r(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:t}){return this.options.isAllowedUri(t.href,{defaultValidate:e=>!!_r(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",rt(this.options.HTMLAttributes,t),0]:["a",rt(this.options.HTMLAttributes,{...t,href:""}),0]},markdownTokenName:"link",parseMarkdown:(t,e)=>e.applyMark("link",e.parseInline(t.tokens||[]),{href:t.href,title:t.title||null}),renderMarkdown:(t,e)=>{var n,i,s,a;const c=(i=(n=t.attrs)==null?void 0:n.href)!=null?i:"",u=(a=(s=t.attrs)==null?void 0:s.title)!=null?a:"",f=e.renderChildren(t);return u?`[${f}](${c} "${u}")`:`[${f}](${c})`},addCommands(){return{setLink:t=>({chain:e})=>{const{href:n}=t;return this.options.isAllowedUri(n,{defaultValidate:i=>!!_r(i,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,t).setMeta("preventAutolink",!0).run():!1},toggleLink:t=>({chain:e})=>{const{href:n}=t||{};return n&&!this.options.isAllowedUri(n,{defaultValidate:i=>!!_r(i,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:e().toggleMark(this.name,t,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:t})=>t().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[ts({find:t=>{const e=[];if(t){const{protocols:n,defaultProtocol:i}=this.options,s=kk(t).filter(a=>a.isLink&&this.options.isAllowedUri(a.value,{defaultValidate:c=>!!_r(c,n),protocols:n,defaultProtocol:i}));s.length&&s.forEach(a=>{this.options.shouldAutoLink(a.value)&&e.push({text:a.value,data:{href:a.href},index:a.start})})}return e},type:this.type,getAttributes:t=>{var e;return{href:(e=t.data)==null?void 0:e.href}}})]},addProseMirrorPlugins(){const t=[],{protocols:e,defaultProtocol:n}=this.options;return this.options.autolink&&t.push(lz({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:i=>this.options.isAllowedUri(i,{defaultValidate:s=>!!_r(s,e),protocols:e,defaultProtocol:n}),shouldAutoLink:this.options.shouldAutoLink})),t.push(az({type:this.type,editor:this.editor,openOnClick:this.options.openOnClick==="whenNotEditable"?!0:this.options.openOnClick,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&t.push(oz({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type,shouldAutoLink:this.options.shouldAutoLink})),t}}),cz=Ek,uz=Object.defineProperty,dz=(t,e)=>{for(var n in e)uz(t,n,{get:e[n],enumerable:!0})},fz="listItem",Yv="textStyle",Jv=/^\s*([-+*])\s$/,Nk=Pt.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",rt(this.options.HTMLAttributes,t),0]},markdownTokenName:"list",parseMarkdown:(t,e)=>t.type!=="list"||t.ordered?[]:{type:"bulletList",content:t.items?e.parseChildren(t.items):[]},renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownOptions:{indentsContent:!0},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(fz,this.editor.getAttributes(Yv)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=ll({find:Jv,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=ll({find:Jv,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(Yv),editor:this.editor})),[t]}}),Tk=Pt.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",rt(this.options.HTMLAttributes,t),0]},markdownTokenName:"list_item",parseMarkdown:(t,e)=>{if(t.type!=="list_item")return[];let n=[];if(t.tokens&&t.tokens.length>0)if(t.tokens.some(s=>s.type==="paragraph"))n=e.parseChildren(t.tokens);else{const s=t.tokens[0];if(s&&s.type==="text"&&s.tokens&&s.tokens.length>0){if(n=[{type:"paragraph",content:e.parseInline(s.tokens)}],t.tokens.length>1){const c=t.tokens.slice(1),u=e.parseChildren(c);n.push(...u)}}else n=e.parseChildren(t.tokens)}return n.length===0&&(n=[{type:"paragraph",content:[]}]),{type:"listItem",content:n}},renderMarkdown:(t,e,n)=>Om(t,e,i=>{var s,a;return i.parentType==="bulletList"?"- ":i.parentType==="orderedList"?`${(((a=(s=i.meta)==null?void 0:s.parentAttrs)==null?void 0:a.start)||1)+i.index}. `:"- "},n),addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),hz={};dz(hz,{findListItemPos:()=>Wa,getNextListDepth:()=>Im,handleBackspace:()=>Fp,handleDelete:()=>Kp,hasListBefore:()=>Ck,hasListItemAfter:()=>pz,hasListItemBefore:()=>Ak,listItemHasSubList:()=>Mk,nextListIsDeeper:()=>Ok,nextListIsHigher:()=>Rk});var Wa=(t,e)=>{const{$from:n}=e.selection,i=pt(t,e.schema);let s=null,a=n.depth,c=n.pos,u=null;for(;a>0&&u===null;)s=n.node(a),s.type===i?u=a:(a-=1,c-=1);return u===null?null:{$pos:e.doc.resolve(c),depth:u}},Im=(t,e)=>{const n=Wa(t,e);if(!n)return!1;const[,i]=gD(e,t,n.$pos.pos+4);return i},Ck=(t,e,n)=>{const{$anchor:i}=t.selection,s=Math.max(0,i.pos-2),a=t.doc.resolve(s).node();return!(!a||!n.includes(a.type.name))},Ak=(t,e)=>{var n;const{$anchor:i}=e.selection,s=e.doc.resolve(i.pos-2);return!(s.index()===0||((n=s.nodeBefore)==null?void 0:n.type.name)!==t)},Mk=(t,e,n)=>{if(!n)return!1;const i=pt(t,e.schema);let s=!1;return n.descendants(a=>{a.type===i&&(s=!0)}),s},Fp=(t,e,n)=>{if(t.commands.undoInputRule())return!0;if(t.state.selection.from!==t.state.selection.to)return!1;if(!hr(t.state,e)&&Ck(t.state,e,n)){const{$anchor:u}=t.state.selection,f=t.state.doc.resolve(u.before()-1),h=[];f.node().descendants((x,v)=>{x.type.name===e&&h.push({node:x,pos:v})});const p=h.at(-1);if(!p)return!1;const g=t.state.doc.resolve(f.start()+p.pos+1);return t.chain().cut({from:u.start()-1,to:u.end()+1},g.end()).joinForward().run()}if(!hr(t.state,e)||!vD(t.state))return!1;const i=Wa(e,t.state);if(!i)return!1;const a=t.state.doc.resolve(i.$pos.pos-2).node(i.depth),c=Mk(e,t.state,a);return Ak(e,t.state)&&!c?t.commands.joinItemBackward():t.chain().liftListItem(e).run()},Ok=(t,e)=>{const n=Im(t,e),i=Wa(t,e);return!i||!n?!1:n>i.depth},Rk=(t,e)=>{const n=Im(t,e),i=Wa(t,e);return!i||!n?!1:n<i.depth},Kp=(t,e)=>{if(!hr(t.state,e)||!xD(t.state,e))return!1;const{selection:n}=t.state,{$from:i,$to:s}=n;return!n.empty&&i.sameParent(s)?!1:Ok(e,t.state)?t.chain().focus(t.state.selection.from+4).lift(e).joinBackward().run():Rk(e,t.state)?t.chain().joinForward().joinBackward().run():t.commands.joinItemForward()},pz=(t,e)=>{var n;const{$anchor:i}=e.selection,s=e.doc.resolve(i.pos-i.parentOffset-2);return!(s.index()===s.parent.childCount-1||((n=s.nodeAfter)==null?void 0:n.type.name)!==t)},jk=ot.create({name:"listKeymap",addOptions(){return{listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}},addKeyboardShortcuts(){return{Delete:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n})=>{t.state.schema.nodes[n]!==void 0&&Kp(t,n)&&(e=!0)}),e},"Mod-Delete":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n})=>{t.state.schema.nodes[n]!==void 0&&Kp(t,n)&&(e=!0)}),e},Backspace:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:i})=>{t.state.schema.nodes[n]!==void 0&&Fp(t,n,i)&&(e=!0)}),e},"Mod-Backspace":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:i})=>{t.state.schema.nodes[n]!==void 0&&Fp(t,n,i)&&(e=!0)}),e}}}}),Xv=/^(\s*)(\d+)\.\s+(.*)$/,mz=/^\s/;function gz(t){const e=[];let n=0,i=0;for(;n<t.length;){const s=t[n],a=s.match(Xv);if(!a)break;const[,c,u,f]=a,h=c.length;let p=f,g=n+1;const x=[s];for(;g<t.length;){const v=t[g];if(v.match(Xv))break;if(v.trim()==="")x.push(v),p+=`
`,g+=1;else if(v.match(mz))x.push(v),p+=`
${v.slice(h+2)}`,g+=1;else break}e.push({indent:h,number:parseInt(u,10),content:p.trim(),raw:x.join(`
`)}),i=g,n=g}return[e,i]}function Dk(t,e,n){var i;const s=[];let a=0;for(;a<t.length;){const c=t[a];if(c.indent===e){const u=c.content.split(`
`),f=((i=u[0])==null?void 0:i.trim())||"",h=[];f&&h.push({type:"paragraph",raw:f,tokens:n.inlineTokens(f)});const p=u.slice(1).join(`
`).trim();if(p){const v=n.blockTokens(p);h.push(...v)}let g=a+1;const x=[];for(;g<t.length&&t[g].indent>e;)x.push(t[g]),g+=1;if(x.length>0){const v=Math.min(...x.map(k=>k.indent)),w=Dk(x,v,n);h.push({type:"list",ordered:!0,start:x[0].number,items:w,raw:x.map(k=>k.raw).join(`
`)})}s.push({type:"list_item",raw:c.raw,tokens:h}),a=g}else a+=1}return s}function yz(t,e){return t.map(n=>{if(n.type!=="list_item")return e.parseChildren([n])[0];const i=[];return n.tokens&&n.tokens.length>0&&n.tokens.forEach(s=>{if(s.type==="paragraph"||s.type==="list"||s.type==="blockquote"||s.type==="code")i.push(...e.parseChildren([s]));else if(s.type==="text"&&s.tokens){const a=e.parseChildren([s]);i.push({type:"paragraph",content:a})}else{const a=e.parseChildren([s]);a.length>0&&i.push(...a)}}),{type:"listItem",content:i}})}var bz="listItem",Wv="textStyle",Qv=/^(\d+)\.\s$/,zk=Pt.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1},type:{default:null,parseHTML:t=>t.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...n}=t;return e===1?["ol",rt(this.options.HTMLAttributes,n),0]:["ol",rt(this.options.HTMLAttributes,t),0]},markdownTokenName:"list",parseMarkdown:(t,e)=>{if(t.type!=="list"||!t.ordered)return[];const n=t.start||1,i=t.items?yz(t.items,e):[];return n!==1?{type:"orderedList",attrs:{start:n},content:i}:{type:"orderedList",content:i}},renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownTokenizer:{name:"orderedList",level:"block",start:t=>{const e=t.match(/^(\s*)(\d+)\.\s+/),n=e?.index;return n!==void 0?n:-1},tokenize:(t,e,n)=>{var i;const s=t.split(`
`),[a,c]=gz(s);if(a.length===0)return;const u=Dk(a,0,n);return u.length===0?void 0:{type:"list",ordered:!0,start:((i=a[0])==null?void 0:i.number)||1,items:u,raw:s.slice(0,c).join(`
`)}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(bz,this.editor.getAttributes(Wv)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=ll({find:Qv,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=ll({find:Qv,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(Wv)}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1],editor:this.editor})),[t]}}),xz=/^\s*(\[([( |x])?\])\s$/,vz=Pt.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:t=>{const e=t.getAttribute("data-checked");return e===""||e==="true"},renderHTML:t=>({"data-checked":t.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:t,HTMLAttributes:e}){return["li",rt(this.options.HTMLAttributes,e,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:t.attrs.checked?"checked":null}],["span"]],["div",0]]},parseMarkdown:(t,e)=>{const n=[];if(t.tokens&&t.tokens.length>0?n.push(e.createNode("paragraph",{},e.parseInline(t.tokens))):t.text?n.push(e.createNode("paragraph",{},[e.createNode("text",{text:t.text})])):n.push(e.createNode("paragraph",{},[])),t.nestedTokens&&t.nestedTokens.length>0){const i=e.parseChildren(t.nestedTokens);n.push(...i)}return e.createNode("taskItem",{checked:t.checked||!1},n)},renderMarkdown:(t,e)=>{var n;const s=`- [${(n=t.attrs)!=null&&n.checked?"x":" "}] `;return Om(t,e,s)},addKeyboardShortcuts(){const t={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...t,Tab:()=>this.editor.commands.sinkListItem(this.name)}:t},addNodeView(){return({node:t,HTMLAttributes:e,getPos:n,editor:i})=>{const s=document.createElement("li"),a=document.createElement("label"),c=document.createElement("span"),u=document.createElement("input"),f=document.createElement("div"),h=g=>{var x,v;u.ariaLabel=((v=(x=this.options.a11y)==null?void 0:x.checkboxLabel)==null?void 0:v.call(x,g,u.checked))||`Task item checkbox for ${g.textContent||"empty task item"}`};h(t),a.contentEditable="false",u.type="checkbox",u.addEventListener("mousedown",g=>g.preventDefault()),u.addEventListener("change",g=>{if(!i.isEditable&&!this.options.onReadOnlyChecked){u.checked=!u.checked;return}const{checked:x}=g.target;i.isEditable&&typeof n=="function"&&i.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:v})=>{const w=n();if(typeof w!="number")return!1;const k=v.doc.nodeAt(w);return v.setNodeMarkup(w,void 0,{...k?.attrs,checked:x}),!0}).run(),!i.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(t,x)||(u.checked=!u.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([g,x])=>{s.setAttribute(g,x)}),s.dataset.checked=t.attrs.checked,u.checked=t.attrs.checked,a.append(u,c),s.append(a,f),Object.entries(e).forEach(([g,x])=>{s.setAttribute(g,x)});let p=new Set(Object.keys(e));return{dom:s,contentDOM:f,update:g=>{if(g.type!==this.type)return!1;s.dataset.checked=g.attrs.checked,u.checked=g.attrs.checked,h(g);const x=i.extensionManager.attributes,v=_a(g,x),w=new Set(Object.keys(v)),k=this.options.HTMLAttributes;return p.forEach(E=>{w.has(E)||(E in k?s.setAttribute(E,k[E]):s.removeAttribute(E))}),Object.entries(v).forEach(([E,T])=>{T==null?E in k?s.setAttribute(E,k[E]):s.removeAttribute(E):s.setAttribute(E,T)}),p=w,!0}}}},addInputRules(){return[ll({find:xz,type:this.type,getAttributes:t=>({checked:t[t.length-1]==="x"})})]}}),wz=Pt.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:t}){return["ul",rt(this.options.HTMLAttributes,t,{"data-type":this.name}),0]},parseMarkdown:(t,e)=>e.createNode("taskList",{},e.parseChildren(t.items||[])),renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownTokenizer:{name:"taskList",level:"block",start(t){var e;const n=(e=t.match(/^\s*[-+*]\s+\[([ xX])\]\s+/))==null?void 0:e.index;return n!==void 0?n:-1},tokenize(t,e,n){const i=a=>{const c=Lp(a,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:u=>({indentLevel:u[1].length,mainContent:u[4],checked:u[3].toLowerCase()==="x"}),createToken:(u,f)=>({type:"taskItem",raw:"",mainContent:u.mainContent,indentLevel:u.indentLevel,checked:u.checked,text:u.mainContent,tokens:n.inlineTokens(u.mainContent),nestedTokens:f}),customNestedParser:i},n);return c?[{type:"taskList",raw:c.raw,items:c.items}]:n.blockTokens(a)},s=Lp(t,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:a=>({indentLevel:a[1].length,mainContent:a[4],checked:a[3].toLowerCase()==="x"}),createToken:(a,c)=>({type:"taskItem",raw:"",mainContent:a.mainContent,indentLevel:a.indentLevel,checked:a.checked,text:a.mainContent,tokens:n.inlineTokens(a.mainContent),nestedTokens:c}),customNestedParser:i},n);if(s)return{type:"taskList",raw:s.raw,items:s.items}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleTaskList:()=>({commands:t})=>t.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});ot.create({name:"listKit",addExtensions(){const t=[];return this.options.bulletList!==!1&&t.push(Nk.configure(this.options.bulletList)),this.options.listItem!==!1&&t.push(Tk.configure(this.options.listItem)),this.options.listKeymap!==!1&&t.push(jk.configure(this.options.listKeymap)),this.options.orderedList!==!1&&t.push(zk.configure(this.options.orderedList)),this.options.taskItem!==!1&&t.push(vz.configure(this.options.taskItem)),this.options.taskList!==!1&&t.push(wz.configure(this.options.taskList)),t}});var Zv="&nbsp;",Sz="",kz=Pt.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",rt(this.options.HTMLAttributes,t),0]},parseMarkdown:(t,e)=>{const n=t.tokens||[];if(n.length===1&&n[0].type==="image")return e.parseChildren([n[0]]);const i=e.parseInline(n);return i.length===1&&i[0].type==="text"&&(i[0].text===Zv||i[0].text===Sz)?e.createNode("paragraph",void 0,[]):e.createNode("paragraph",void 0,i)},renderMarkdown:(t,e)=>{if(!t)return"";const n=Array.isArray(t.content)?t.content:[];return n.length===0?Zv:e.renderChildren(n)},addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),Ez=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,Nz=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,Tz=rs.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",rt(this.options.HTMLAttributes,t),0]},markdownTokenName:"del",parseMarkdown:(t,e)=>e.applyMark("strike",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`~~${e.renderChildren(t)}~~`,addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[sl({find:Ez,type:this.type})]},addPasteRules(){return[ts({find:Nz,type:this.type})]}}),Cz=Pt.create({name:"text",group:"inline",parseMarkdown:t=>({type:"text",text:t.text||""}),renderMarkdown:t=>t.text||""}),Az=rs.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["u",rt(this.options.HTMLAttributes,t),0]},parseMarkdown(t,e){return e.applyMark(this.name||"underline",e.parseInline(t.tokens||[]))},renderMarkdown(t,e){return`++${e.renderChildren(t)}++`},markdownTokenizer:{name:"underline",level:"inline",start(t){return t.indexOf("++")},tokenize(t,e,n){const s=/^(\+\+)([\s\S]+?)(\+\+)/.exec(t);if(!s)return;const a=s[2].trim();return{type:"underline",raw:s[0],text:a,tokens:n.inlineTokens(a)}}},addCommands(){return{setUnderline:()=>({commands:t})=>t.setMark(this.name),toggleUnderline:()=>({commands:t})=>t.toggleMark(this.name),unsetUnderline:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}});function Mz(t={}){return new Xe({view(e){return new Oz(e,t)}})}class Oz{constructor(e,n){var i;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(i=n.width)!==null&&i!==void 0?i:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(s=>{let a=c=>{this[s](c)};return e.dom.addEventListener(s,a),{name:s,handler:a}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,i,s=this.editorView.dom,a=s.getBoundingClientRect(),c=a.width/s.offsetWidth,u=a.height/s.offsetHeight;if(n){let g=e.nodeBefore,x=e.nodeAfter;if(g||x){let v=this.editorView.nodeDOM(this.cursorPos-(g?g.nodeSize:0));if(v){let w=v.getBoundingClientRect(),k=g?w.bottom:w.top;g&&x&&(k=(k+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let E=this.width/2*u;i={left:w.left,right:w.right,top:k-E,bottom:k+E}}}}if(!i){let g=this.editorView.coordsAtPos(this.cursorPos),x=this.width/2*c;i={left:g.left-x,right:g.left+x,top:g.top,bottom:g.bottom}}let f=this.editorView.dom.offsetParent;this.element||(this.element=f.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let h,p;if(!f||f==document.body&&getComputedStyle(f).position=="static")h=-pageXOffset,p=-pageYOffset;else{let g=f.getBoundingClientRect(),x=g.width/f.offsetWidth,v=g.height/f.offsetHeight;h=g.left-f.scrollLeft*x,p=g.top-f.scrollTop*v}this.element.style.left=(i.left-h)/c+"px",this.element.style.top=(i.top-p)/u+"px",this.element.style.width=(i.right-i.left)/c+"px",this.element.style.height=(i.bottom-i.top)/u+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),i=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),s=i&&i.type.spec.disableDropCursor,a=typeof s=="function"?s(this.editorView,n,e):s;if(n&&!a){let c=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let u=Nw(this.editorView.state.doc,c,this.editorView.dragging.slice);u!=null&&(c=u)}this.setCursor(c),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}class nt extends be{constructor(e){super(e,e)}map(e,n){let i=e.resolve(n.map(this.head));return nt.valid(i)?new nt(i):be.near(i)}content(){return ee.empty}eq(e){return e instanceof nt&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new nt(e.resolve(n.pos))}getBookmark(){return new Pm(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!Rz(e)||!jz(e))return!1;let i=n.type.spec.allowGapCursor;if(i!=null)return i;let s=n.contentMatchAt(e.index()).defaultType;return s&&s.isTextblock}static findGapCursorFrom(e,n,i=!1){e:for(;;){if(!i&&nt.valid(e))return e;let s=e.pos,a=null;for(let c=e.depth;;c--){let u=e.node(c);if(n>0?e.indexAfter(c)<u.childCount:e.index(c)>0){a=u.child(n>0?e.indexAfter(c):e.index(c)-1);break}else if(c==0)return null;s+=n;let f=e.doc.resolve(s);if(nt.valid(f))return f}for(;;){let c=n>0?a.firstChild:a.lastChild;if(!c){if(a.isAtom&&!a.isText&&!oe.isSelectable(a)){e=e.doc.resolve(s+a.nodeSize*n),i=!1;continue e}break}a=c,s+=n;let u=e.doc.resolve(s);if(nt.valid(u))return u}return null}}}nt.prototype.visible=!1;nt.findFrom=nt.findGapCursorFrom;be.jsonID("gapcursor",nt);class Pm{constructor(e){this.pos=e}map(e){return new Pm(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return nt.valid(n)?new nt(n):be.near(n)}}function Lk(t){return t.isAtom||t.spec.isolating||t.spec.createGapCursor}function Rz(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),i=t.node(e);if(n==0){if(i.type.spec.isolating)return!0;continue}for(let s=i.child(n-1);;s=s.lastChild){if(s.childCount==0&&!s.inlineContent||Lk(s.type))return!0;if(s.inlineContent)return!1}}return!0}function jz(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),i=t.node(e);if(n==i.childCount){if(i.type.spec.isolating)return!0;continue}for(let s=i.child(n);;s=s.firstChild){if(s.childCount==0&&!s.inlineContent||Lk(s.type))return!0;if(s.inlineContent)return!1}}return!0}function Dz(){return new Xe({props:{decorations:Bz,createSelectionBetween(t,e,n){return e.pos==n.pos&&nt.valid(n)?new nt(n):null},handleClick:Lz,handleKeyDown:zz,handleDOMEvents:{beforeinput:_z}}})}const zz=TS({ArrowLeft:Rc("horiz",-1),ArrowRight:Rc("horiz",1),ArrowUp:Rc("vert",-1),ArrowDown:Rc("vert",1)});function Rc(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(i,s,a){let c=i.selection,u=e>0?c.$to:c.$from,f=c.empty;if(c instanceof de){if(!a.endOfTextblock(n)||u.depth==0)return!1;f=!1,u=i.doc.resolve(e>0?u.after():u.before())}let h=nt.findGapCursorFrom(u,e,f);return h?(s&&s(i.tr.setSelection(new nt(h))),!0):!1}}function Lz(t,e,n){if(!t||!t.editable)return!1;let i=t.state.doc.resolve(e);if(!nt.valid(i))return!1;let s=t.posAtCoords({left:n.clientX,top:n.clientY});return s&&s.inside>-1&&oe.isSelectable(t.state.doc.nodeAt(s.inside))?!1:(t.dispatch(t.state.tr.setSelection(new nt(i))),!0)}function _z(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof nt))return!1;let{$from:n}=t.state.selection,i=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!i)return!1;let s=J.empty;for(let c=i.length-1;c>=0;c--)s=J.from(i[c].createAndFill(null,s));let a=t.state.tr.replace(n.pos,n.pos,new ee(s,0,0));return a.setSelection(de.near(a.doc.resolve(n.pos+1))),t.dispatch(a),!1}function Bz(t){if(!(t.selection instanceof nt))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",Ye.create(t.doc,[Ut.widget(t.selection.head,e,{key:"gapcursor"})])}var Du=200,kt=function(){};kt.prototype.append=function(e){return e.length?(e=kt.from(e),!this.length&&e||e.length<Du&&this.leafAppend(e)||this.length<Du&&e.leafPrepend(this)||this.appendInner(e)):this};kt.prototype.prepend=function(e){return e.length?kt.from(e).append(this):this};kt.prototype.appendInner=function(e){return new Hz(this,e)};kt.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?kt.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};kt.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};kt.prototype.forEach=function(e,n,i){n===void 0&&(n=0),i===void 0&&(i=this.length),n<=i?this.forEachInner(e,n,i,0):this.forEachInvertedInner(e,n,i,0)};kt.prototype.map=function(e,n,i){n===void 0&&(n=0),i===void 0&&(i=this.length);var s=[];return this.forEach(function(a,c){return s.push(e(a,c))},n,i),s};kt.from=function(e){return e instanceof kt?e:e&&e.length?new _k(e):kt.empty};var _k=(function(t){function e(i){t.call(this),this.values=i}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(s,a){return s==0&&a==this.length?this:new e(this.values.slice(s,a))},e.prototype.getInner=function(s){return this.values[s]},e.prototype.forEachInner=function(s,a,c,u){for(var f=a;f<c;f++)if(s(this.values[f],u+f)===!1)return!1},e.prototype.forEachInvertedInner=function(s,a,c,u){for(var f=a-1;f>=c;f--)if(s(this.values[f],u+f)===!1)return!1},e.prototype.leafAppend=function(s){if(this.length+s.length<=Du)return new e(this.values.concat(s.flatten()))},e.prototype.leafPrepend=function(s){if(this.length+s.length<=Du)return new e(s.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e})(kt);kt.empty=new _k([]);var Hz=(function(t){function e(n,i){t.call(this),this.left=n,this.right=i,this.length=n.length+i.length,this.depth=Math.max(n.depth,i.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(i){return i<this.left.length?this.left.get(i):this.right.get(i-this.left.length)},e.prototype.forEachInner=function(i,s,a,c){var u=this.left.length;if(s<u&&this.left.forEachInner(i,s,Math.min(a,u),c)===!1||a>u&&this.right.forEachInner(i,Math.max(s-u,0),Math.min(this.length,a)-u,c+u)===!1)return!1},e.prototype.forEachInvertedInner=function(i,s,a,c){var u=this.left.length;if(s>u&&this.right.forEachInvertedInner(i,s-u,Math.max(a,u)-u,c+u)===!1||a<u&&this.left.forEachInvertedInner(i,Math.min(s,u),a,c)===!1)return!1},e.prototype.sliceInner=function(i,s){if(i==0&&s==this.length)return this;var a=this.left.length;return s<=a?this.left.slice(i,s):i>=a?this.right.slice(i-a,s-a):this.left.slice(i,a).append(this.right.slice(0,s-a))},e.prototype.leafAppend=function(i){var s=this.right.leafAppend(i);if(s)return new e(this.left,s)},e.prototype.leafPrepend=function(i){var s=this.left.leafPrepend(i);if(s)return new e(s,this.right)},e.prototype.appendInner=function(i){return this.left.depth>=Math.max(this.right.depth,i.depth)+1?new e(this.left,new e(this.right,i)):new e(this,i)},e})(kt);const Uz=500;class zn{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let i=this.items.length;for(;;i--)if(this.items.get(i-1).selection){--i;break}let s,a;n&&(s=this.remapping(i,this.items.length),a=s.maps.length);let c=e.tr,u,f,h=[],p=[];return this.items.forEach((g,x)=>{if(!g.step){s||(s=this.remapping(i,x+1),a=s.maps.length),a--,p.push(g);return}if(s){p.push(new Gn(g.map));let v=g.step.map(s.slice(a)),w;v&&c.maybeStep(v).doc&&(w=c.mapping.maps[c.mapping.maps.length-1],h.push(new Gn(w,void 0,void 0,h.length+p.length))),a--,w&&s.appendMap(w,a)}else c.maybeStep(g.step);if(g.selection)return u=s?g.selection.map(s.slice(a)):g.selection,f=new zn(this.items.slice(0,i).append(p.reverse().concat(h)),this.eventCount-1),!1},this.items.length,0),{remaining:f,transform:c,selection:u}}addTransform(e,n,i,s){let a=[],c=this.eventCount,u=this.items,f=!s&&u.length?u.get(u.length-1):null;for(let p=0;p<e.steps.length;p++){let g=e.steps[p].invert(e.docs[p]),x=new Gn(e.mapping.maps[p],g,n),v;(v=f&&f.merge(x))&&(x=v,p?a.pop():u=u.slice(0,u.length-1)),a.push(x),n&&(c++,n=void 0),s||(f=x)}let h=c-i.depth;return h>Iz&&(u=qz(u,h),c-=h),new zn(u.append(a),c)}remapping(e,n){let i=new Oa;return this.items.forEach((s,a)=>{let c=s.mirrorOffset!=null&&a-s.mirrorOffset>=e?i.maps.length-s.mirrorOffset:void 0;i.appendMap(s.map,c)},e,n),i}addMaps(e){return this.eventCount==0?this:new zn(this.items.append(e.map(n=>new Gn(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let i=[],s=Math.max(0,this.items.length-n),a=e.mapping,c=e.steps.length,u=this.eventCount;this.items.forEach(x=>{x.selection&&u--},s);let f=n;this.items.forEach(x=>{let v=a.getMirror(--f);if(v==null)return;c=Math.min(c,v);let w=a.maps[v];if(x.step){let k=e.steps[v].invert(e.docs[v]),E=x.selection&&x.selection.map(a.slice(f+1,v));E&&u++,i.push(new Gn(w,k,E))}else i.push(new Gn(w))},s);let h=[];for(let x=n;x<c;x++)h.push(new Gn(a.maps[x]));let p=this.items.slice(0,s).append(h).append(i),g=new zn(p,u);return g.emptyItemCount()>Uz&&(g=g.compress(this.items.length-i.length)),g}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),i=n.maps.length,s=[],a=0;return this.items.forEach((c,u)=>{if(u>=e)s.push(c),c.selection&&a++;else if(c.step){let f=c.step.map(n.slice(i)),h=f&&f.getMap();if(i--,h&&n.appendMap(h,i),f){let p=c.selection&&c.selection.map(n.slice(i));p&&a++;let g=new Gn(h.invert(),f,p),x,v=s.length-1;(x=s.length&&s[v].merge(g))?s[v]=x:s.push(g)}}else c.map&&i--},this.items.length,0),new zn(kt.from(s.reverse()),a)}}zn.empty=new zn(kt.empty,0);function qz(t,e){let n;return t.forEach((i,s)=>{if(i.selection&&e--==0)return n=s,!1}),t.slice(n)}class Gn{constructor(e,n,i,s){this.map=e,this.step=n,this.selection=i,this.mirrorOffset=s}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new Gn(n.getMap().invert(),n,this.selection)}}}class nr{constructor(e,n,i,s,a){this.done=e,this.undone=n,this.prevRanges=i,this.prevTime=s,this.prevComposition=a}}const Iz=20;function Pz(t,e,n,i){let s=n.getMeta(Yr),a;if(s)return s.historyState;n.getMeta(Fz)&&(t=new nr(t.done,t.undone,null,0,-1));let c=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(c&&c.getMeta(Yr))return c.getMeta(Yr).redo?new nr(t.done.addTransform(n,void 0,i,Ic(e)),t.undone,e1(n.mapping.maps),t.prevTime,t.prevComposition):new nr(t.done,t.undone.addTransform(n,void 0,i,Ic(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(c&&c.getMeta("addToHistory")===!1)){let u=n.getMeta("composition"),f=t.prevTime==0||!c&&t.prevComposition!=u&&(t.prevTime<(n.time||0)-i.newGroupDelay||!Vz(n,t.prevRanges)),h=c?op(t.prevRanges,n.mapping):e1(n.mapping.maps);return new nr(t.done.addTransform(n,f?e.selection.getBookmark():void 0,i,Ic(e)),zn.empty,h,n.time,u??t.prevComposition)}else return(a=n.getMeta("rebased"))?new nr(t.done.rebased(n,a),t.undone.rebased(n,a),op(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new nr(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),op(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function Vz(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((i,s)=>{for(let a=0;a<e.length;a+=2)i<=e[a+1]&&s>=e[a]&&(n=!0)}),n}function e1(t){let e=[];for(let n=t.length-1;n>=0&&e.length==0;n--)t[n].forEach((i,s,a,c)=>e.push(a,c));return e}function op(t,e){if(!t)return null;let n=[];for(let i=0;i<t.length;i+=2){let s=e.map(t[i],1),a=e.map(t[i+1],-1);s<=a&&n.push(s,a)}return n}function $z(t,e,n){let i=Ic(e),s=Yr.get(e).spec.config,a=(n?t.undone:t.done).popEvent(e,i);if(!a)return null;let c=a.selection.resolve(a.transform.doc),u=(n?t.done:t.undone).addTransform(a.transform,e.selection.getBookmark(),s,i),f=new nr(n?u:a.remaining,n?a.remaining:u,null,0,-1);return a.transform.setSelection(c).setMeta(Yr,{redo:n,historyState:f})}let cp=!1,t1=null;function Ic(t){let e=t.plugins;if(t1!=e){cp=!1,t1=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){cp=!0;break}}return cp}const Yr=new yt("history"),Fz=new yt("closeHistory");function Kz(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new Xe({key:Yr,state:{init(){return new nr(zn.empty,zn.empty,null,0,-1)},apply(e,n,i){return Pz(n,i,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let i=n.inputType,s=i=="historyUndo"?Hk:i=="historyRedo"?Uk:null;return!s||!e.editable?!1:(n.preventDefault(),s(e.state,e.dispatch))}}}})}function Bk(t,e){return(n,i)=>{let s=Yr.getState(n);if(!s||(t?s.undone:s.done).eventCount==0)return!1;if(i){let a=$z(s,n,t);a&&i(e?a.scrollIntoView():a)}return!0}}const Hk=Bk(!1,!0),Uk=Bk(!0,!0);ot.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:t=>t.length,wordCounter:t=>t.split(" ").filter(e=>e!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=t=>{const e=t?.node||this.editor.state.doc;if((t?.mode||this.options.mode)==="textSize"){const i=e.textBetween(0,e.content.size,void 0," ");return this.options.textCounter(i)}return e.nodeSize},this.storage.words=t=>{const e=t?.node||this.editor.state.doc,n=e.textBetween(0,e.content.size," "," ");return this.options.wordCounter(n)}},addProseMirrorPlugins(){let t=!1;return[new Xe({key:new yt("characterCount"),appendTransaction:(e,n,i)=>{if(t)return;const s=this.options.limit;if(s==null||s===0){t=!0;return}const a=this.storage.characters({node:i.doc});if(a>s){const c=a-s,u=0,f=c;console.warn(`[CharacterCount] Initial content exceeded limit of ${s} characters. Content was automatically trimmed.`);const h=i.tr.deleteRange(u,f);return t=!0,h}t=!0},filterTransaction:(e,n)=>{const i=this.options.limit;if(!e.docChanged||i===0||i===null||i===void 0)return!0;const s=this.storage.characters({node:n.doc}),a=this.storage.characters({node:e.doc});if(a<=i||s>i&&a>i&&a<=s)return!0;if(s>i&&a>i&&a>s||!e.getMeta("paste"))return!1;const u=e.selection.$head.pos,f=a-i,h=u-f,p=u;return e.deleteRange(h,p),!(this.storage.characters({node:e.doc})>i)}})]}});var Gz=ot.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[Mz(this.options)]}});ot.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new Xe({key:new yt("focus"),props:{decorations:({doc:t,selection:e})=>{const{isEditable:n,isFocused:i}=this.editor,{anchor:s}=e,a=[];if(!n||!i)return Ye.create(t,[]);let c=0;this.options.mode==="deepest"&&t.descendants((f,h)=>{if(f.isText)return;if(!(s>=h&&s<=h+f.nodeSize-1))return!1;c+=1});let u=0;return t.descendants((f,h)=>{if(f.isText||!(s>=h&&s<=h+f.nodeSize-1))return!1;if(u+=1,this.options.mode==="deepest"&&c-u>0||this.options.mode==="shallowest"&&u>1)return this.options.mode==="deepest";a.push(Ut.node(h,h+f.nodeSize,{class:this.options.className}))}),Ye.create(t,a)}}})]}});var Yz=ot.create({name:"gapCursor",addProseMirrorPlugins(){return[Dz()]},extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=je(le(t,"allowGapCursor",n)))!=null?e:null}}}),n1="placeholder";function Jz(t){return t.replace(/\s+/g,"-").replace(/[^a-zA-Z0-9-]/g,"").replace(/^[0-9-]+/,"").replace(/^-+/,"").toLowerCase()}ot.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",dataAttribute:n1,placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){const t=this.options.dataAttribute?`data-${Jz(this.options.dataAttribute)}`:`data-${n1}`;return[new Xe({key:new yt("placeholder"),props:{decorations:({doc:e,selection:n})=>{const i=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:s}=n,a=[];if(!i)return null;const c=this.editor.isEmpty;return e.descendants((u,f)=>{const h=s>=f&&s<=f+u.nodeSize,p=!u.isLeaf&&Qu(u);if((h||!this.options.showOnlyCurrent)&&p){const g=[this.options.emptyNodeClass];c&&g.push(this.options.emptyEditorClass);const x=Ut.node(f,f+u.nodeSize,{class:g.join(" "),[t]:typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:u,pos:f,hasAnchor:h}):this.options.placeholder});a.push(x)}return this.options.includeChildren}),Ye.create(e,a)}}})]}});ot.create({name:"selection",addOptions(){return{className:"selection"}},addProseMirrorPlugins(){const{editor:t,options:e}=this;return[new Xe({key:new yt("selection"),props:{decorations(n){return n.selection.empty||t.isFocused||!t.isEditable||PS(n.selection)||t.view.dragging?null:Ye.create(n.doc,[Ut.inline(n.selection.from,n.selection.to,{class:e.className})])}}})]}});function i1({types:t,node:e}){return e&&Array.isArray(t)&&t.includes(e.type)||e?.type===t}var Xz=ot.create({name:"trailingNode",addOptions(){return{node:void 0,notAfter:[]}},addProseMirrorPlugins(){var t;const e=new yt(this.name),n=this.options.node||((t=this.editor.schema.topNodeType.contentMatch.defaultType)==null?void 0:t.name)||"paragraph",i=Object.entries(this.editor.schema.nodes).map(([,s])=>s).filter(s=>(this.options.notAfter||[]).concat(n).includes(s.name));return[new Xe({key:e,appendTransaction:(s,a,c)=>{const{doc:u,tr:f,schema:h}=c,p=e.getState(c),g=u.content.size,x=h.nodes[n];if(p)return f.insert(g,x.create())},state:{init:(s,a)=>{const c=a.tr.doc.lastChild;return!i1({node:c,types:i})},apply:(s,a)=>{if(!s.docChanged||s.getMeta("__uniqueIDTransaction"))return a;const c=s.doc.lastChild;return!i1({node:c,types:i})}}})]}}),Wz=ot.create({name:"undoRedo",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>Hk(t,e),redo:()=>({state:t,dispatch:e})=>Uk(t,e)}},addProseMirrorPlugins(){return[Kz(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),Qz=ot.create({name:"starterKit",addExtensions(){var t,e,n,i;const s=[];return this.options.bold!==!1&&s.push(k3.configure(this.options.bold)),this.options.blockquote!==!1&&s.push(b3.configure(this.options.blockquote)),this.options.bulletList!==!1&&s.push(Nk.configure(this.options.bulletList)),this.options.code!==!1&&s.push(T3.configure(this.options.code)),this.options.codeBlock!==!1&&s.push(M3.configure(this.options.codeBlock)),this.options.document!==!1&&s.push(O3.configure(this.options.document)),this.options.dropcursor!==!1&&s.push(Gz.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&s.push(Yz.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&s.push(R3.configure(this.options.hardBreak)),this.options.heading!==!1&&s.push(j3.configure(this.options.heading)),this.options.undoRedo!==!1&&s.push(Wz.configure(this.options.undoRedo)),this.options.horizontalRule!==!1&&s.push(D3.configure(this.options.horizontalRule)),this.options.italic!==!1&&s.push(H3.configure(this.options.italic)),this.options.listItem!==!1&&s.push(Tk.configure(this.options.listItem)),this.options.listKeymap!==!1&&s.push(jk.configure((t=this.options)==null?void 0:t.listKeymap)),this.options.link!==!1&&s.push(Ek.configure((e=this.options)==null?void 0:e.link)),this.options.orderedList!==!1&&s.push(zk.configure(this.options.orderedList)),this.options.paragraph!==!1&&s.push(kz.configure(this.options.paragraph)),this.options.strike!==!1&&s.push(Tz.configure(this.options.strike)),this.options.text!==!1&&s.push(Cz.configure(this.options.text)),this.options.underline!==!1&&s.push(Az.configure((n=this.options)==null?void 0:n.underline)),this.options.trailingNode!==!1&&s.push(Xz.configure((i=this.options)==null?void 0:i.trailingNode)),s}}),Zz=Qz,eL=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,tL=Pt.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{},resize:!1}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null},width:{default:null},height:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:t}){return["img",rt(this.options.HTMLAttributes,t)]},parseMarkdown:(t,e)=>e.createNode("image",{src:t.href,title:t.title,alt:t.text}),renderMarkdown:t=>{var e,n,i,s,a,c;const u=(n=(e=t.attrs)==null?void 0:e.src)!=null?n:"",f=(s=(i=t.attrs)==null?void 0:i.alt)!=null?s:"",h=(c=(a=t.attrs)==null?void 0:a.title)!=null?c:"";return h?`![${f}](${u} "${h}")`:`![${f}](${u})`},addNodeView(){if(!this.options.resize||!this.options.resize.enabled||typeof document>"u")return null;const{directions:t,minWidth:e,minHeight:n,alwaysPreserveAspectRatio:i}=this.options.resize;return({node:s,getPos:a,HTMLAttributes:c,editor:u})=>{const f=document.createElement("img");Object.entries(c).forEach(([g,x])=>{if(x!=null)switch(g){case"width":case"height":break;default:f.setAttribute(g,x);break}}),f.src=c.src;const h=new s4({element:f,editor:u,node:s,getPos:a,onResize:(g,x)=>{f.style.width=`${g}px`,f.style.height=`${x}px`},onCommit:(g,x)=>{const v=a();v!==void 0&&this.editor.chain().setNodeSelection(v).updateAttributes(this.name,{width:g,height:x}).run()},onUpdate:(g,x,v)=>g.type===s.type,options:{directions:t,min:{width:e,height:n},preserveAspectRatio:i===!0}}),p=h.dom;return p.style.visibility="hidden",p.style.pointerEvents="none",f.onload=()=>{p.style.visibility="",p.style.pointerEvents=""},h}},addCommands(){return{setImage:t=>({commands:e})=>e.insertContent({type:this.name,attrs:t})}},addInputRules(){return[lk({find:eL,type:this.type,getAttributes:t=>{const[,,e,n,i]=t;return{src:n,alt:e,title:i}}})]}}),nL=tL,iL=/^((?:https?:)?\/\/)?((?:www|m|music)\.)?((?:youtube\.com|youtu\.be|youtube-nocookie\.com))(\/(?:[\w-]+\?v=|embed\/|v\/)?)([\w-]+)(\S+)?$/,rL=/^((?:https?:)?\/\/)?((?:www|m|music)\.)?((?:youtube\.com|youtu\.be|youtube-nocookie\.com))(\/(?:[\w-]+\?v=|embed\/|v\/)?)([\w-]+)(\S+)?$/g,qk=t=>t.match(iL),r1=(t,e)=>e?"https://www.youtube-nocookie.com/embed/videoseries?list=":t?"https://www.youtube-nocookie.com/embed/":"https://www.youtube.com/embed/",sL=t=>{const{url:e,allowFullscreen:n,autoplay:i,ccLanguage:s,ccLoadPolicy:a,controls:c,disableKBcontrols:u,enableIFrameApi:f,endTime:h,interfaceLanguage:p,ivLoadPolicy:g,loop:x,modestBranding:v,nocookie:w,origin:k,playlist:E,progressBarColor:T,startAt:A,rel:j}=t;if(!qk(e))return null;if(e.includes("/embed/"))return e;if(e.includes("youtu.be")){const K=e.split("/").pop();return K?`${r1(w)}${K}`:null}const z=/(?:(v|list)=|shorts\/)([-\w]+)/gm.exec(e);if(!z||!z[2])return null;let V=`${r1(w,z[1]==="list")}${z[2]}`;const L=[];return n===!1&&L.push("fs=0"),i&&L.push("autoplay=1"),s&&L.push(`cc_lang_pref=${s}`),a&&L.push("cc_load_policy=1"),c||L.push("controls=0"),u&&L.push("disablekb=1"),f&&L.push("enablejsapi=1"),h&&L.push(`end=${h}`),p&&L.push(`hl=${p}`),g&&L.push(`iv_load_policy=${g}`),x&&L.push("loop=1"),v&&L.push("modestbranding=1"),k&&L.push(`origin=${k}`),E&&L.push(`playlist=${E}`),A&&L.push(`start=${A}`),T&&L.push(`color=${T}`),j!==void 0&&L.push(`rel=${j}`),L.length&&(V+=`${z[1]==="list"?"&":"?"}${L.join("&")}`),V},lL=Pt.create({name:"youtube",addOptions(){return{addPasteHandler:!0,allowFullscreen:!0,autoplay:!1,ccLanguage:void 0,ccLoadPolicy:void 0,controls:!0,disableKBcontrols:!1,enableIFrameApi:!1,endTime:0,height:480,interfaceLanguage:void 0,ivLoadPolicy:0,loop:!1,modestBranding:!1,HTMLAttributes:{},inline:!1,nocookie:!1,origin:"",playlist:"",progressBarColor:void 0,width:640,rel:1}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},start:{default:0},width:{default:this.options.width},height:{default:this.options.height}}},parseHTML(){return[{tag:"div[data-youtube-video] iframe"}]},addCommands(){return{setYoutubeVideo:t=>({commands:e})=>qk(t.src)?e.insertContent({type:this.name,attrs:t}):!1}},addPasteRules(){return this.options.addPasteHandler?[h4({find:rL,type:this.type,getAttributes:t=>({src:t.input})})]:[]},renderHTML({HTMLAttributes:t}){const e=sL({url:t.src,allowFullscreen:this.options.allowFullscreen,autoplay:this.options.autoplay,ccLanguage:this.options.ccLanguage,ccLoadPolicy:this.options.ccLoadPolicy,controls:this.options.controls,disableKBcontrols:this.options.disableKBcontrols,enableIFrameApi:this.options.enableIFrameApi,endTime:this.options.endTime,interfaceLanguage:this.options.interfaceLanguage,ivLoadPolicy:this.options.ivLoadPolicy,loop:this.options.loop,modestBranding:this.options.modestBranding,nocookie:this.options.nocookie,origin:this.options.origin,playlist:this.options.playlist,progressBarColor:this.options.progressBarColor,startAt:t.start||0,rel:this.options.rel});return t.src=e,["div",{"data-youtube-video":""},["iframe",rt(this.options.HTMLAttributes,{width:this.options.width,height:this.options.height,allowfullscreen:this.options.allowFullscreen,autoplay:this.options.autoplay,ccLanguage:this.options.ccLanguage,ccLoadPolicy:this.options.ccLoadPolicy,disableKBcontrols:this.options.disableKBcontrols,enableIFrameApi:this.options.enableIFrameApi,endTime:this.options.endTime,interfaceLanguage:this.options.interfaceLanguage,ivLoadPolicy:this.options.ivLoadPolicy,loop:this.options.loop,modestBranding:this.options.modestBranding,origin:this.options.origin,playlist:this.options.playlist,progressBarColor:this.options.progressBarColor,rel:this.options.rel},t)]]},...ak({nodeName:"youtube",allowedAttributes:["src","width","height","start"]})}),aL=lL;function Ik({value:t,onChange:e,minHeight:n="200px",onImageUpload:i}){const s=C.useRef(null),[a,c]=C.useState(""),[u,f]=C.useState(""),[h,p]=C.useState(""),[g,x]=C.useState(!1),[v,w]=C.useState(!1),[k,E]=C.useState(!1),[T,A]=C.useState(!1),j=h3({extensions:[Zz,cz.configure({openOnClick:!1,HTMLAttributes:{class:"text-white underline hover:text-white/90"}}),nL.configure({HTMLAttributes:{class:"max-w-full h-auto rounded"}}),aL.configure({width:640,height:360,HTMLAttributes:{class:"rounded"}})],content:t,editorProps:{attributes:{class:"text-white min-h-[240px] px-5 py-4 text-base focus:outline-none [&_h2]:text-xl [&_h2]:font-semibold [&_h3]:text-lg [&_h3]:font-medium [&_p]:my-2 [&_ul]:list-disc [&_ul]:pl-6 [&_ol]:list-decimal [&_ol]:pl-6 [&_blockquote]:border-l-2 [&_blockquote]:border-white/30 [&_blockquote]:pl-4 [&_blockquote]:italic [&_blockquote]:text-white/80 [&_a]:underline [&_img]:max-w-full [&_img]:h-auto"}},onUpdate:({editor:K})=>e(K.getHTML())});if(C.useEffect(()=>{j&&j.getHTML()!==t&&j.commands.setContent(t,{emitUpdate:!1})},[t,j]),!j)return b.jsx("div",{className:"animate-pulse h-[200px] bg-white/5 rounded"});const U=()=>{a.trim()?j.chain().focus().setLink({href:a.trim()}).run():j.chain().focus().unsetLink().run(),c(""),x(!1)},z=()=>{u.trim()&&j.chain().focus().setImage({src:u.trim()}).run(),f(""),w(!1)},V=()=>{const K=h.trim();K&&j.chain().focus().setYoutubeVideo({src:K}).run(),p(""),E(!1)},L=async K=>{const Z=K.target.files?.[0];if(!(!Z||!i)){A(!0);try{const he=await i(Z);j.chain().focus().setImage({src:he}).run()}finally{A(!1),s.current&&(s.current.value="")}w(!1)}};return b.jsxs("div",{className:"border border-white/20 bg-white/5 rounded-lg focus-within:border-white/50 focus-within:ring-1 focus-within:ring-white/20 transition-colors overflow-hidden",style:{minHeight:n},children:[b.jsx(oL,{editor:j,showLinkInput:g,setShowLinkInput:x,linkUrl:a,setLinkUrl:c,onSetLink:U,showImageInput:v,setShowImageInput:w,imageUrl:u,setImageUrl:f,onSetImage:z,imageInputRef:s,onImageFile:L,onImageUpload:i,uploadingImage:T,showYoutubeInput:k,setShowYoutubeInput:E,youtubeUrl:h,setYoutubeUrl:p,onSetYoutube:V}),b.jsx(uk,{editor:j})]})}function oL({editor:t,showLinkInput:e,setShowLinkInput:n,linkUrl:i,setLinkUrl:s,onSetLink:a,showImageInput:c,setShowImageInput:u,imageUrl:f,setImageUrl:h,onSetImage:p,imageInputRef:g,onImageFile:x,onImageUpload:v,uploadingImage:w,showYoutubeInput:k,setShowYoutubeInput:E,youtubeUrl:T,setYoutubeUrl:A,onSetYoutube:j}){const U="px-2 py-1 text-xs uppercase text-white/60 hover:text-white transition-colors",z="bg-white/20 text-white";return b.jsxs("div",{className:"p-2 border-b border-white/10 space-y-2",children:[b.jsxs("div",{className:"flex flex-wrap gap-1",children:[b.jsx("button",{type:"button",onClick:()=>t.chain().focus().toggleBold().run(),className:`${U} ${t.isActive("bold")?z:""}`,children:"Bold"}),b.jsx("button",{type:"button",onClick:()=>t.chain().focus().toggleItalic().run(),className:`${U} ${t.isActive("italic")?z:""}`,children:"Italic"}),b.jsx("button",{type:"button",onClick:()=>t.chain().focus().toggleHeading({level:2}).run(),className:`${U} ${t.isActive("heading",{level:2})?z:""}`,children:"H2"}),b.jsx("button",{type:"button",onClick:()=>t.chain().focus().toggleHeading({level:3}).run(),className:`${U} ${t.isActive("heading",{level:3})?z:""}`,children:"H3"}),b.jsx("button",{type:"button",onClick:()=>t.chain().focus().toggleBulletList().run(),className:`${U} ${t.isActive("bulletList")?z:""}`,children:"List"}),b.jsx("button",{type:"button",onClick:()=>t.chain().focus().toggleOrderedList().run(),className:`${U} ${t.isActive("orderedList")?z:""}`,children:"Numbered"}),b.jsx("button",{type:"button",onClick:()=>t.chain().focus().toggleBlockquote().run(),className:`${U} ${t.isActive("blockquote")?z:""}`,children:"Quote"}),b.jsx("span",{className:"w-px h-5 bg-white/20 mx-1"}),b.jsx("button",{type:"button",onClick:()=>{n(!e),u(!1),E(!1)},className:`${U} ${t.isActive("link")?z:""}`,children:"Link"}),b.jsx("button",{type:"button",onClick:()=>{u(!c),n(!1),E(!1)},className:U,children:"Image"}),b.jsx("button",{type:"button",onClick:()=>{E(!k),n(!1),u(!1)},className:U,children:"YouTube"})]}),e&&b.jsxs("div",{className:"flex gap-2 items-center flex-wrap",children:[b.jsx("input",{type:"url",value:i,onChange:V=>s(V.target.value),placeholder:"https://...",className:"flex-1 min-w-[280px] px-4 py-2 bg-white/5 border border-white/20 rounded text-white text-sm placeholder-white/40 focus:outline-none focus:border-white/50",onKeyDown:V=>V.key==="Enter"&&a()}),b.jsx("button",{type:"button",onClick:a,className:"px-3 py-1.5 bg-white/10 text-white text-xs uppercase hover:bg-white/20",children:"Set"}),b.jsx("button",{type:"button",onClick:()=>t.chain().focus().unsetLink().run(),className:"px-3 py-1.5 text-red-400/80 hover:text-red-400 text-xs",children:"Remove link"})]}),c&&b.jsxs("div",{className:"flex gap-2 items-center flex-wrap",children:[b.jsx("input",{type:"url",value:f,onChange:V=>h(V.target.value),placeholder:"Image URL",className:"flex-1 min-w-[280px] px-4 py-2 bg-white/5 border border-white/20 rounded text-white text-sm placeholder-white/40 focus:outline-none focus:border-white/50",onKeyDown:V=>V.key==="Enter"&&p()}),b.jsx("button",{type:"button",onClick:p,className:"px-3 py-1.5 bg-white/10 text-white text-xs uppercase hover:bg-white/20",children:"Insert"}),v&&b.jsxs(b.Fragment,{children:[b.jsx("input",{ref:g,type:"file",accept:"image/jpeg,image/png,image/gif,image/webp",onChange:x,className:"hidden"}),b.jsx("button",{type:"button",onClick:()=>g.current?.click(),disabled:w,className:"px-3 py-1.5 border border-white/30 text-white text-xs uppercase hover:border-white/50 disabled:opacity-50",children:w?"Uploading":"Upload"})]})]}),k&&b.jsxs("div",{className:"flex gap-2 items-center flex-wrap",children:[b.jsx("input",{type:"url",value:T,onChange:V=>A(V.target.value),placeholder:"YouTube URL (youtube.com/watch?v=... or youtu.be/...)",className:"flex-1 min-w-[320px] px-4 py-2 bg-white/5 border border-white/20 rounded text-white text-sm placeholder-white/40 focus:outline-none focus:border-white/50",onKeyDown:V=>V.key==="Enter"&&j()}),b.jsx("button",{type:"button",onClick:j,className:"px-3 py-1.5 bg-white/10 text-white text-xs uppercase hover:bg-white/20",children:"Embed"})]})]})}function cL(){gt("Admin - Create Article");const t=ns(),e=C.useRef(null),[n,i]=C.useState(""),[s,a]=C.useState(""),[c,u]=C.useState(""),[f,h]=C.useState(""),[p,g]=C.useState(!1),[x,v]=C.useState(!1),[w,k]=C.useState(""),E=async A=>{const j=A.target.files?.[0];if(!j)return;if(!["image/jpeg","image/png","image/gif","image/webp"].includes(j.type)){k("Use JPEG, PNG, GIF, or WebP");return}if(j.size>5*1024*1024){k("Image must be under 5MB");return}k(""),g(!0);try{const z=new FormData;z.append("thumbnail",j);const{data:V}=await Ve.post("/upload-thumbnail",z,{headers:{"Content-Type":"multipart/form-data"}});h(V.url)}catch{k("Failed to upload thumbnail")}finally{g(!1),e.current&&(e.current.value="")}},T=async A=>{if(A.preventDefault(),k(""),!n.trim()){k("Title is required");return}if(!c.trim()){k("Short description is required");return}v(!0);try{await Ve.post("/articles",{title:n.trim(),thumbnail:f,shortDescription:c.trim(),content:s}),t("/admin/articles")}catch(j){const U=j?.response?.data?.error;k(U||"Failed to create article")}finally{v(!1)}};return b.jsxs("div",{className:"p-8 md:p-12 lg:p-16 max-w-5xl mx-auto",children:[b.jsxs("div",{className:"flex items-center justify-between mb-10",children:[b.jsx("h1",{className:"font-serif text-3xl md:text-4xl font-normal text-white",children:"Create Article"}),b.jsx("button",{type:"button",onClick:()=>t("/admin/articles"),className:"text-white/60 hover:text-white text-sm uppercase tracking-wider transition-colors",children:" Back to list"})]}),b.jsxs("form",{onSubmit:T,className:"space-y-10",children:[w&&b.jsx("div",{className:"px-5 py-4 bg-red-500/10 border border-red-500/30 rounded text-red-400 text-sm",children:w}),b.jsxs("section",{className:"space-y-6",children:[b.jsx("h2",{className:"text-xs font-medium tracking-[0.2em] uppercase text-white/40 border-b border-white/10 pb-3",children:"Basics"}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-medium tracking-widest uppercase text-white/60 mb-3",children:"Title"}),b.jsx("input",{type:"text",value:n,onChange:A=>i(A.target.value),className:"w-full max-w-full px-5 py-4 text-base bg-white/5 border border-white/20 rounded text-white placeholder-white/40 focus:outline-none focus:border-white/50 focus:ring-1 focus:ring-white/20 transition-colors",placeholder:"Article title"})]}),b.jsxs("div",{children:[b.jsxs("label",{className:"block text-xs font-medium tracking-widest uppercase text-white/60 mb-3",children:["Short description ",b.jsx("span",{className:"text-red-400",children:"*"})]}),b.jsx("textarea",{value:c,onChange:A=>u(A.target.value),rows:4,required:!0,className:"w-full max-w-full px-5 py-4 text-base bg-white/5 border border-white/20 rounded text-white placeholder-white/40 focus:outline-none focus:border-white/50 focus:ring-1 focus:ring-white/20 resize-y transition-colors",placeholder:"Brief description (required)"})]})]}),b.jsxs("section",{className:"space-y-6",children:[b.jsx("h2",{className:"text-xs font-medium tracking-[0.2em] uppercase text-white/40 border-b border-white/10 pb-3",children:"Thumbnail"}),b.jsxs("div",{className:"flex flex-col sm:flex-row items-start gap-6",children:[b.jsx("div",{className:"shrink-0 w-full sm:w-48 h-36 bg-white/5 border border-white/20 rounded overflow-hidden flex items-center justify-center",children:f?b.jsx("img",{src:f,alt:"Thumbnail",className:"w-full h-full object-cover"}):p?b.jsx("span",{className:"text-white/50 text-sm",children:"Uploading"}):b.jsx("span",{className:"text-white/40 text-sm text-center px-4",children:"No image"})}),b.jsxs("div",{className:"flex flex-col gap-2",children:[b.jsx("input",{ref:e,type:"file",accept:"image/jpeg,image/png,image/gif,image/webp",onChange:E,className:"hidden"}),b.jsx("button",{type:"button",onClick:()=>e.current?.click(),disabled:p,className:"px-6 py-3 border border-white/30 text-white text-sm uppercase tracking-wider hover:border-white/50 hover:bg-white/5 rounded transition-colors disabled:opacity-50",children:p?"Uploading":"Choose image"}),f&&b.jsx("button",{type:"button",onClick:()=>h(""),className:"text-red-400/80 hover:text-red-400 text-sm",children:"Remove"}),b.jsx("p",{className:"text-white/40 text-xs",children:"JPEG, PNG, GIF, or WebP. Max 5MB."})]})]})]}),b.jsxs("section",{className:"space-y-6",children:[b.jsx("h2",{className:"text-xs font-medium tracking-[0.2em] uppercase text-white/40 border-b border-white/10 pb-3",children:"Content"}),b.jsx("div",{children:b.jsx(Ik,{value:s,onChange:a,onImageUpload:async A=>{const j=new FormData;j.append("image",A);const{data:U}=await Ve.post("/upload-image",j,{headers:{"Content-Type":"multipart/form-data"}});return U.url}})})]}),b.jsxs("div",{className:"flex flex-wrap gap-4 pt-4 border-t border-white/10",children:[b.jsx("button",{type:"submit",disabled:x,className:"px-8 py-4 bg-white text-black text-sm font-medium tracking-widest uppercase hover:bg-white/90 disabled:opacity-50 rounded transition-colors",children:x?"Creating":"Create Article"}),b.jsx("button",{type:"button",onClick:()=>t("/admin/articles"),className:"px-8 py-4 border border-white/30 text-white text-sm font-medium tracking-widest uppercase hover:border-white/50 hover:bg-white/5 rounded transition-colors",children:"Cancel"})]})]})]})}function uL(){const t=ns(),{id:e}=x1(),n=C.useRef(null),[i,s]=C.useState(""),[a,c]=C.useState(""),[u,f]=C.useState(""),[h,p]=C.useState(""),[g,x]=C.useState(!0),[v,w]=C.useState(!1),[k,E]=C.useState(!1),[T,A]=C.useState("");gt(i?`Admin - Edit: ${i}`:"Admin - Edit Article"),C.useEffect(()=>{e&&Ve.get(`/articles/${e}`).then(({data:z})=>{s(z.title),c(z.content||""),f(z.shortDescription||""),p(z.thumbnail||"")}).catch(()=>A("Article not found")).finally(()=>x(!1))},[e]);const j=async z=>{const V=z.target.files?.[0];if(!V)return;if(!["image/jpeg","image/png","image/gif","image/webp"].includes(V.type)){A("Use JPEG, PNG, GIF, or WebP");return}if(V.size>5*1024*1024){A("Image must be under 5MB");return}A(""),w(!0);try{const K=new FormData;K.append("thumbnail",V);const{data:Z}=await Ve.post("/upload-thumbnail",K,{headers:{"Content-Type":"multipart/form-data"}});p(Z.url)}catch{A("Failed to upload thumbnail")}finally{w(!1),n.current&&(n.current.value="")}},U=async z=>{if(z.preventDefault(),A(""),!i.trim()){A("Title is required");return}if(!u.trim()){A("Short description is required");return}if(e){E(!0);try{await Ve.put(`/articles/${e}`,{title:i.trim(),thumbnail:h,shortDescription:u.trim(),content:a}),t("/admin/articles")}catch(V){const L=V?.response?.data?.error;A(L||"Failed to update article")}finally{E(!1)}}};return g?b.jsx("div",{className:"p-8 md:p-12 lg:p-16 max-w-5xl mx-auto",children:b.jsx("p",{className:"text-white/60",children:"Loading"})}):b.jsxs("div",{className:"p-8 md:p-12 lg:p-16 max-w-5xl mx-auto",children:[b.jsxs("div",{className:"flex items-center justify-between mb-10",children:[b.jsx("h1",{className:"font-serif text-3xl md:text-4xl font-normal text-white",children:"Edit Article"}),b.jsx("button",{type:"button",onClick:()=>t("/admin/articles"),className:"text-white/60 hover:text-white text-sm uppercase tracking-wider transition-colors",children:" Back to list"})]}),b.jsxs("form",{onSubmit:U,className:"space-y-10",children:[T&&b.jsx("div",{className:"px-5 py-4 bg-red-500/10 border border-red-500/30 rounded text-red-400 text-sm",children:T}),b.jsxs("section",{className:"space-y-6",children:[b.jsx("h2",{className:"text-xs font-medium tracking-[0.2em] uppercase text-white/40 border-b border-white/10 pb-3",children:"Basics"}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-medium tracking-widest uppercase text-white/60 mb-3",children:"Title"}),b.jsx("input",{type:"text",value:i,onChange:z=>s(z.target.value),className:"w-full max-w-full px-5 py-4 text-base bg-white/5 border border-white/20 rounded text-white placeholder-white/40 focus:outline-none focus:border-white/50 focus:ring-1 focus:ring-white/20 transition-colors",placeholder:"Article title"})]}),b.jsxs("div",{children:[b.jsxs("label",{className:"block text-xs font-medium tracking-widest uppercase text-white/60 mb-3",children:["Short description ",b.jsx("span",{className:"text-red-400",children:"*"})]}),b.jsx("textarea",{value:u,onChange:z=>f(z.target.value),rows:4,required:!0,className:"w-full max-w-full px-5 py-4 text-base bg-white/5 border border-white/20 rounded text-white placeholder-white/40 focus:outline-none focus:border-white/50 focus:ring-1 focus:ring-white/20 resize-y transition-colors",placeholder:"Brief description (required)"})]})]}),b.jsxs("section",{className:"space-y-6",children:[b.jsx("h2",{className:"text-xs font-medium tracking-[0.2em] uppercase text-white/40 border-b border-white/10 pb-3",children:"Thumbnail"}),b.jsxs("div",{className:"flex flex-col sm:flex-row items-start gap-6",children:[b.jsx("div",{className:"shrink-0 w-full sm:w-48 h-36 bg-white/5 border border-white/20 rounded overflow-hidden flex items-center justify-center",children:h?b.jsx("img",{src:h,alt:"Thumbnail",className:"w-full h-full object-cover"}):v?b.jsx("span",{className:"text-white/50 text-sm",children:"Uploading"}):b.jsx("span",{className:"text-white/40 text-sm text-center px-4",children:"No image"})}),b.jsxs("div",{className:"flex flex-col gap-2",children:[b.jsx("input",{ref:n,type:"file",accept:"image/jpeg,image/png,image/gif,image/webp",onChange:j,className:"hidden"}),b.jsx("button",{type:"button",onClick:()=>n.current?.click(),disabled:v,className:"px-6 py-3 border border-white/30 text-white text-sm uppercase tracking-wider hover:border-white/50 hover:bg-white/5 rounded transition-colors disabled:opacity-50",children:v?"Uploading":"Choose image"}),h&&b.jsx("button",{type:"button",onClick:()=>p(""),className:"text-red-400/80 hover:text-red-400 text-sm",children:"Remove"}),b.jsx("p",{className:"text-white/40 text-xs",children:"JPEG, PNG, GIF, or WebP. Max 5MB."})]})]})]}),b.jsxs("section",{className:"space-y-6",children:[b.jsx("h2",{className:"text-xs font-medium tracking-[0.2em] uppercase text-white/40 border-b border-white/10 pb-3",children:"Content"}),b.jsx("div",{children:b.jsx(Ik,{value:a,onChange:c,onImageUpload:async z=>{const V=new FormData;V.append("image",z);const{data:L}=await Ve.post("/upload-image",V,{headers:{"Content-Type":"multipart/form-data"}});return L.url}})})]}),b.jsxs("div",{className:"flex flex-wrap gap-4 pt-4 border-t border-white/10",children:[b.jsx("button",{type:"submit",disabled:k,className:"px-8 py-4 bg-white text-black text-sm font-medium tracking-widest uppercase hover:bg-white/90 disabled:opacity-50 rounded transition-colors",children:k?"Saving":"Save Changes"}),b.jsx("button",{type:"button",onClick:()=>t("/admin/articles"),className:"px-8 py-4 border border-white/30 text-white text-sm font-medium tracking-widest uppercase hover:border-white/50 hover:bg-white/5 rounded transition-colors",children:"Cancel"})]})]})]})}const da=5;function dL(){gt("Admin - Testimonials");const t=C.useRef(null),[e,n]=C.useState([]),[i,s]=C.useState(!0),[a,c]=C.useState(null),[u,f]=C.useState(""),[h,p]=C.useState(""),[g,x]=C.useState(""),[v,w]=C.useState(!1),[k,E]=C.useState(!1),[T,A]=C.useState(""),j=async()=>{try{const{data:re}=await Ve.get("/testimonials");n(re||[])}catch{n([])}finally{s(!1)}};C.useEffect(()=>{j()},[]);const U=()=>{c(null),f(""),p(""),x(""),A("")},z=async re=>{const qe=re.target.files?.[0];if(!qe)return;if(!["image/jpeg","image/png","image/gif","image/webp"].includes(qe.type)){A("Use JPEG, PNG, GIF, or WebP");return}if(qe.size>5*1024*1024){A("Image must be under 5MB");return}A(""),w(!0);try{const Te=new FormData;Te.append("image",qe);const{data:q}=await Ve.post("/upload-testimonial-image",Te,{headers:{"Content-Type":"multipart/form-data"}});p(q.url)}catch{A("Failed to upload image")}finally{w(!1),t.current&&(t.current.value="")}},V=async re=>{if(re.preventDefault(),A(""),!u.trim()){A("Name is required");return}if(!g.trim()){A("Quote is required");return}E(!0);try{if(a)await Ve.put(`/testimonials/${a}`,{name:u.trim(),image:h,quote:g.trim()}),await j(),U();else{if(e.length>=da){A(`Maximum of ${da} testimonials allowed.`);return}await Ve.post("/testimonials",{name:u.trim(),image:h,quote:g.trim()}),await j(),U()}}catch(qe){const Ne=qe?.response?.data?.error;A(Ne||"Failed to save testimonial")}finally{E(!1)}},L=re=>{c(re._id),f(re.name),p(re.image),x(re.quote),A("")},K=async re=>{if(confirm("Delete this testimonial?"))try{await Ve.delete(`/testimonials/${re}`),await j(),a===re&&U()}catch{A("Failed to delete")}},Z=e.length<da,he=a?"Edit testimonial":"Add testimonial",We=a?"Update":"Add testimonial";return b.jsxs("div",{className:"p-8 md:p-12 lg:p-16 max-w-5xl mx-auto",children:[b.jsx("h1",{className:"font-serif text-3xl md:text-4xl font-normal text-white mb-2",children:"Testimonials"}),b.jsxs("p",{className:"text-white/60 text-sm mb-10",children:["Manage testimonials shown on the homepage. Maximum ",da," allowed."]}),(Z||a)&&b.jsxs("form",{onSubmit:V,className:"mb-12 p-6 border border-white/20 rounded-lg space-y-6",children:[b.jsx("h2",{className:"text-xs font-medium tracking-[0.2em] uppercase text-white/40",children:he}),T&&b.jsx("div",{className:"px-5 py-4 bg-red-500/10 border border-red-500/30 rounded text-red-400 text-sm",children:T}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-medium tracking-widest uppercase text-white/60 mb-3",children:"Name"}),b.jsx("input",{type:"text",value:u,onChange:re=>f(re.target.value),className:"w-full px-5 py-4 text-base bg-white/5 border border-white/20 rounded text-white placeholder-white/40 focus:outline-none focus:border-white/50",placeholder:"e.g. Partner, Am Law 100",required:!0})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-medium tracking-widest uppercase text-white/60 mb-3",children:"Image"}),b.jsxs("div",{className:"flex flex-col sm:flex-row items-start gap-6",children:[b.jsx("div",{className:"shrink-0 w-20 h-20 bg-white/5 border border-white/20 rounded-full overflow-hidden flex items-center justify-center",children:h?b.jsx("img",{src:h,alt:"",className:"w-full h-full object-cover"}):v?b.jsx("span",{className:"text-white/50 text-xs",children:"Uploading"}):b.jsx("span",{className:"text-white/40 text-xs",children:"No image"})}),b.jsxs("div",{className:"flex flex-col gap-2",children:[b.jsx("input",{ref:t,type:"file",accept:"image/jpeg,image/png,image/gif,image/webp",onChange:z,className:"hidden"}),b.jsx("button",{type:"button",onClick:()=>t.current?.click(),disabled:v,className:"px-6 py-3 border border-white/30 text-white text-sm uppercase tracking-wider hover:border-white/50 hover:bg-white/5 rounded transition-colors disabled:opacity-50",children:v?"Uploading":"Choose image"}),h&&b.jsx("button",{type:"button",onClick:()=>p(""),className:"text-red-400/80 hover:text-red-400 text-sm",children:"Remove"}),b.jsx("p",{className:"text-white/40 text-xs",children:"JPEG, PNG, GIF, or WebP. Max 5MB."})]})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-medium tracking-widest uppercase text-white/60 mb-3",children:"Quote"}),b.jsx("textarea",{value:g,onChange:re=>x(re.target.value),rows:4,required:!0,className:"w-full px-5 py-4 text-base bg-white/5 border border-white/20 rounded text-white placeholder-white/40 focus:outline-none focus:border-white/50 resize-y",placeholder:"Testimonial quote"})]}),b.jsxs("div",{className:"flex gap-4",children:[b.jsx("button",{type:"submit",disabled:k,className:"px-8 py-4 bg-white text-black text-sm font-medium tracking-widest uppercase hover:bg-white/90 disabled:opacity-50 rounded",children:k?"Saving":We}),a&&b.jsx("button",{type:"button",onClick:U,className:"px-8 py-4 border border-white/30 text-white text-sm font-medium tracking-widest uppercase hover:border-white/50 hover:bg-white/5 rounded",children:"Cancel"})]})]}),!Z&&!a&&b.jsxs("div",{className:"mb-12 px-6 py-4 bg-amber-500/10 border border-amber-500/30 rounded text-amber-400 text-sm",children:["Maximum of ",da," testimonials reached. Delete one to add another."]}),b.jsxs("section",{children:[b.jsx("h2",{className:"text-xs font-medium tracking-[0.2em] uppercase text-white/40 mb-4",children:"Current testimonials"}),i?b.jsx("div",{className:"space-y-4",children:[1,2].map(re=>b.jsx("div",{className:"h-24 bg-white/5 rounded animate-pulse"},re))}):e.length===0?b.jsx("p",{className:"text-white/50 text-sm",children:"No testimonials yet."}):b.jsx("div",{className:"space-y-6",children:e.map(re=>b.jsxs("div",{className:"flex gap-6 p-6 border border-white/20 rounded-lg items-start",children:[b.jsx("div",{className:"shrink-0 w-16 h-16 rounded-full overflow-hidden bg-white/5 border border-white/20 flex items-center justify-center",children:re.image?b.jsx("img",{src:re.image,alt:re.name,className:"w-full h-full object-cover"}):b.jsx("span",{className:"text-white/40 text-xs",children:"No img"})}),b.jsxs("div",{className:"flex-1 min-w-0",children:[b.jsx("p",{className:"text-white font-medium",children:re.name}),b.jsxs("p",{className:"text-white/70 text-sm mt-1 line-clamp-2",children:["",re.quote,""]})]}),b.jsxs("div",{className:"shrink-0 flex gap-2",children:[b.jsx("button",{type:"button",onClick:()=>L(re),className:"px-4 py-2 text-sm text-white/80 hover:text-white border border-white/30 hover:border-white/50 rounded transition-colors",children:"Edit"}),b.jsx("button",{type:"button",onClick:()=>K(re._id),className:"px-4 py-2 text-sm text-red-400/80 hover:text-red-400 border border-red-500/30 hover:border-red-500/50 rounded transition-colors",children:"Delete"})]})]},re._id))})]})]})}const fL=[{id:"",label:"All"},{id:"contact",label:"Contact"},{id:"private-work",label:"Private Work"},{id:"for-law-firms",label:"For Law Firms"}],hL={contact:"Contact","private-work":"Private Work","for-law-firms":"For Law Firms"};function pL(){gt("Admin - Inquiries");const[t,e]=C.useState([]),[n,i]=C.useState(!0),[s,a]=C.useState(""),c=async()=>{i(!0);try{const p=s?{source:s}:{},{data:g}=await Ve.get("/inquiries",{params:p});e(g||[])}catch{e([])}finally{i(!1)}};C.useEffect(()=>{c()},[s]);const u=p=>{try{return new Date(p).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit"})}catch{return p}},f=async p=>{try{await Ve.patch(`/inquiries/${p}/read`),e(g=>g.map(x=>x._id===p?{...x,read:!0}:x))}catch{}},h=async p=>{if(confirm("Delete this inquiry?"))try{await Ve.delete(`/inquiries/${p}`),e(g=>g.filter(x=>x._id!==p))}catch{}};return b.jsxs("div",{className:"p-8 md:p-12 lg:p-16 max-w-5xl mx-auto",children:[b.jsx("h1",{className:"font-serif text-3xl md:text-4xl font-normal text-white mb-2",children:"Inquiries"}),b.jsx("p",{className:"text-white/60 text-sm mb-10",children:"Form submissions from Contact, Private Work, and For Law Firms pages."}),b.jsx("div",{className:"flex flex-wrap gap-2 border-b border-white/20 pb-6 mb-8",children:fL.map(({id:p,label:g})=>b.jsx("button",{type:"button",onClick:()=>a(p),className:`px-5 py-2.5 text-sm font-medium tracking-wide rounded transition-colors ${s===p?"bg-white text-black":"text-white/70 hover:text-white hover:bg-white/10"}`,children:g},p||"all"))}),n?b.jsx("div",{className:"space-y-4",children:[1,2,3].map(p=>b.jsx("div",{className:"h-32 bg-white/5 rounded animate-pulse"},p))}):t.length===0?b.jsx("p",{className:"text-white/50 text-sm",children:"No inquiries yet."}):b.jsx("div",{className:"space-y-6",children:t.map(p=>b.jsxs("div",{className:`p-6 border rounded-lg transition-colors ${p.read?"border-white/10 bg-white/5":"border-white/20 bg-white/[0.07]"}`,children:[b.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-4 mb-4",children:[b.jsxs("div",{children:[b.jsx("span",{className:"text-[10px] font-medium tracking-widest uppercase text-white/50 px-2 py-1 bg-white/10 rounded",children:hL[p.source]||p.source}),b.jsx("p",{className:"text-white font-medium mt-2",children:p.name}),b.jsx("a",{href:`mailto:${p.email}`,className:"text-sm text-white/60 hover:text-white transition-colors",children:p.email})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("span",{className:"text-white/40 text-xs",children:u(p.createdAt)}),!p.read&&b.jsx("button",{type:"button",onClick:()=>f(p._id),className:"text-xs text-white/60 hover:text-white uppercase tracking-wider",children:"Mark read"}),b.jsx("button",{type:"button",onClick:()=>h(p._id),className:"text-xs text-red-400/80 hover:text-red-400 uppercase tracking-wider",children:"Delete"})]})]}),p.message&&b.jsx("p",{className:"text-white/80 text-sm leading-relaxed whitespace-pre-wrap border-t border-white/10 pt-4",children:p.message})]},p._id))})]})}function mL(){return gt("Page not found"),b.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center px-6 bg-white",children:[b.jsx("p",{className:"text-xs font-medium tracking-[0.3em] uppercase text-black/50 mb-4",children:"404"}),b.jsx("h1",{className:"font-serif text-4xl md:text-5xl font-normal text-black tracking-tight text-center mb-6",children:"Page not found"}),b.jsx("p",{className:"text-black/60 text-center max-w-md mb-12",children:"The page you're looking for doesn't exist or has been moved."}),b.jsx(Me,{to:"/",className:"inline-block px-8 py-4 border border-black text-black text-sm font-medium tracking-widest uppercase hover:bg-black hover:text-white transition-colors",children:"Back to home"})]})}function gL(){const[t,e]=C.useState("loading");return C.useEffect(()=>{fetch("http://localhost:3000/api/admin/verify",{credentials:"include"}).then(n=>n.ok?e("authorized"):e("unauthorized")).catch(()=>e("unauthorized"))},[]),t==="loading"?b.jsx("div",{className:"min-h-screen flex items-center justify-center bg-black",children:b.jsx("div",{className:"w-px h-12 bg-white/30 animate-pulse"})}):t==="unauthorized"?b.jsx(mL,{}):b.jsx(Xp,{})}const yL=[{to:"/admin",label:"Dashboard",icon:b.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-5 h-5 shrink-0",children:[b.jsx("rect",{x:"3",y:"3",width:"7",height:"7",rx:"1"}),b.jsx("rect",{x:"14",y:"3",width:"7",height:"7",rx:"1"}),b.jsx("rect",{x:"14",y:"14",width:"7",height:"7",rx:"1"}),b.jsx("rect",{x:"3",y:"14",width:"7",height:"7",rx:"1"})]})},{to:"/admin/inquiries",label:"Inquiries",icon:b.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-5 h-5 shrink-0",children:[b.jsx("path",{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}),b.jsx("polyline",{points:"22,6 12,13 2,6"})]})},{to:"/admin/testimonials",label:"Testimonials",icon:b.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-5 h-5 shrink-0",children:b.jsx("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})})},{to:"/admin/articles",label:"Articles",icon:b.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-5 h-5 shrink-0",children:[b.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),b.jsx("path",{d:"M14 2v6h6"}),b.jsx("path",{d:"M16 13H8"}),b.jsx("path",{d:"M16 17H8"}),b.jsx("path",{d:"M10 9H8"})]})},{to:"/admin/settings",label:"Settings",icon:b.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-5 h-5 shrink-0",children:[b.jsx("path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"}),b.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}];function bL(){const t=ns(),e=async()=>{try{await Ve.post("/logout"),t("/mac-/adam/admin/69846d7f374584e675d7fa28")}catch{t("/mac-/adam/admin/69846d7f374584e675d7fa28")}};return b.jsxs("div",{className:"min-h-screen flex bg-black",children:[b.jsxs("aside",{className:"w-72 shrink-0 border-r border-white/10 flex flex-col",children:[b.jsx("div",{className:"p-6 border-b border-white/10",children:b.jsx("p",{className:"text-xs font-medium tracking-widest uppercase text-white/50",children:"Admin"})}),b.jsx("nav",{className:"flex-1 py-6",children:yL.map(({to:n,label:i,icon:s})=>b.jsxs(T1,{to:n,end:n==="/admin",className:({isActive:a})=>`flex items-center gap-4 px-6 py-4 mx-2 rounded-lg text-sm font-medium tracking-wide transition-all ${a?"bg-white/10 text-white":"text-white/60 hover:text-white hover:bg-white/5"}`,children:[s,i]},n))}),b.jsx("div",{className:"p-6 border-t border-white/10",children:b.jsxs("button",{type:"button",onClick:e,className:"flex items-center gap-4 w-full px-6 py-4 mx-2 rounded-lg text-sm font-medium tracking-widest uppercase text-white/60 hover:text-white hover:bg-white/5 transition-all",children:[b.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-5 h-5 shrink-0",children:[b.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),b.jsx("polyline",{points:"16 17 21 12 16 7"}),b.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),"Logout"]})})]}),b.jsx("main",{className:"flex-1 overflow-auto",children:b.jsx(Xp,{})})]})}function xL(){return b.jsxs(VC,{children:[b.jsx(r2,{}),b.jsxs(bC,{children:[b.jsxs(tt,{path:"/",element:b.jsx(n2,{}),children:[b.jsx(tt,{index:!0,element:b.jsx(qA,{})}),b.jsx(tt,{path:"regulation-reset",element:b.jsx(IA,{})}),b.jsx(tt,{path:"courses",element:b.jsx(VA,{})}),b.jsx(tt,{path:"private-work",element:b.jsx($A,{})}),b.jsx(tt,{path:"for-law-firms",element:b.jsx(KA,{})}),b.jsx(tt,{path:"about",element:b.jsx(GA,{})}),b.jsx(tt,{path:"contact",element:b.jsx(YA,{})}),b.jsx(tt,{path:"articles",element:b.jsx(JA,{})}),b.jsx(tt,{path:"articles/:id",element:b.jsx(WA,{})})]}),b.jsx(tt,{path:"/admin/signup",element:b.jsx(ZA,{})}),b.jsx(tt,{path:"/mac-/adam/admin/69846d7f374584e675d7fa28",element:b.jsx(eM,{})}),b.jsx(tt,{path:"/admin",element:b.jsx(gL,{}),children:b.jsxs(tt,{element:b.jsx(bL,{}),children:[b.jsx(tt,{index:!0,element:b.jsx(tM,{})}),b.jsx(tt,{path:"settings",element:b.jsx(nM,{})}),b.jsx(tt,{path:"articles",element:b.jsx(aM,{})}),b.jsx(tt,{path:"articles/new",element:b.jsx(cL,{})}),b.jsx(tt,{path:"articles/:id/edit",element:b.jsx(uL,{})}),b.jsx(tt,{path:"testimonials",element:b.jsx(dL,{})}),b.jsx(tt,{path:"inquiries",element:b.jsx(pL,{})})]})})]})]})}xT.createRoot(document.getElementById("root")).render(b.jsx(C.StrictMode,{children:b.jsx(xL,{})}));

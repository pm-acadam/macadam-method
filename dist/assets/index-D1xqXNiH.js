(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();function l1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Sh={exports:{}},ra={};var F0;function pT(){if(F0)return ra;F0=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,s,a){var c=null;if(a!==void 0&&(c=""+a),s.key!==void 0&&(c=""+s.key),"key"in s){a={};for(var u in s)u!=="key"&&(a[u]=s[u])}else a=s;return s=a.ref,{$$typeof:t,type:i,key:c,ref:s!==void 0?s:null,props:a}}return ra.Fragment=e,ra.jsx=n,ra.jsxs=n,ra}var K0;function mT(){return K0||(K0=1,Sh.exports=pT()),Sh.exports}var b=mT(),kh={exports:{}},ge={};var G0;function gT(){if(G0)return ge;G0=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),x=Symbol.iterator;function v(A){return A===null||typeof A!="object"?null:(A=x&&A[x]||A["@@iterator"],typeof A=="function"?A:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,E={};function T(A,F,X){this.props=A,this.context=F,this.refs=E,this.updater=X||w}T.prototype.isReactComponent={},T.prototype.setState=function(A,F){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,F,"setState")},T.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function M(){}M.prototype=T.prototype;function z(A,F,X){this.props=A,this.context=F,this.refs=E,this.updater=X||w}var P=z.prototype=new M;P.constructor=z,k(P,T.prototype),P.isPureReactComponent=!0;var D=Array.isArray;function $(){}var L={H:null,A:null,T:null,S:null},G=Object.prototype.hasOwnProperty;function Z(A,F,X){var ee=X.ref;return{$$typeof:t,type:A,key:F,ref:ee!==void 0?ee:null,props:X}}function ue(A,F){return Z(A.type,F,A.props)}function Ve(A){return typeof A=="object"&&A!==null&&A.$$typeof===t}function ie(A){var F={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(X){return F[X]})}var Me=/\/+/g;function Se(A,F){return typeof A=="object"&&A!==null&&A.key!=null?ie(""+A.key):F.toString(36)}function ae(A){switch(A.status){case"fulfilled":return A.value;case"rejected":throw A.reason;default:switch(typeof A.status=="string"?A.then($,$):(A.status="pending",A.then(function(F){A.status==="pending"&&(A.status="fulfilled",A.value=F)},function(F){A.status==="pending"&&(A.status="rejected",A.reason=F)})),A.status){case"fulfilled":return A.value;case"rejected":throw A.reason}}throw A}function U(A,F,X,ee,pe){var ke=typeof A;(ke==="undefined"||ke==="boolean")&&(A=null);var Le=!1;if(A===null)Le=!0;else switch(ke){case"bigint":case"string":case"number":Le=!0;break;case"object":switch(A.$$typeof){case t:case e:Le=!0;break;case p:return Le=A._init,U(Le(A._payload),F,X,ee,pe)}}if(Le)return pe=pe(A),Le=ee===""?"."+Se(A,0):ee,D(pe)?(X="",Le!=null&&(X=Le.replace(Me,"$&/")+"/"),U(pe,F,X,"",function(dl){return dl})):pe!=null&&(Ve(pe)&&(pe=ue(pe,X+(pe.key==null||A&&A.key===pe.key?"":(""+pe.key).replace(Me,"$&/")+"/")+Le)),F.push(pe)),1;Le=0;var Ht=ee===""?".":ee+":";if(D(A))for(var st=0;st<A.length;st++)ee=A[st],ke=Ht+Se(ee,st),Le+=U(ee,F,X,ke,pe);else if(st=v(A),typeof st=="function")for(A=st.call(A),st=0;!(ee=A.next()).done;)ee=ee.value,ke=Ht+Se(ee,st++),Le+=U(ee,F,X,ke,pe);else if(ke==="object"){if(typeof A.then=="function")return U(ae(A),F,X,ee,pe);throw F=String(A),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.")}return Le}function Q(A,F,X){if(A==null)return A;var ee=[],pe=0;return U(A,ee,"","",function(ke){return F.call(X,ke,pe++)}),ee}function re(A){if(A._status===-1){var F=A._result;F=F(),F.then(function(X){(A._status===0||A._status===-1)&&(A._status=1,A._result=X)},function(X){(A._status===0||A._status===-1)&&(A._status=2,A._result=X)}),A._status===-1&&(A._status=0,A._result=F)}if(A._status===1)return A._result.default;throw A._result}var he=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var F=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent(F))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",A);return}console.error(A)},xe={map:Q,forEach:function(A,F,X){Q(A,function(){F.apply(this,arguments)},X)},count:function(A){var F=0;return Q(A,function(){F++}),F},toArray:function(A){return Q(A,function(F){return F})||[]},only:function(A){if(!Ve(A))throw Error("React.Children.only expected to receive a single React element child.");return A}};return ge.Activity=g,ge.Children=xe,ge.Component=T,ge.Fragment=n,ge.Profiler=s,ge.PureComponent=z,ge.StrictMode=i,ge.Suspense=f,ge.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=L,ge.__COMPILER_RUNTIME={__proto__:null,c:function(A){return L.H.useMemoCache(A)}},ge.cache=function(A){return function(){return A.apply(null,arguments)}},ge.cacheSignal=function(){return null},ge.cloneElement=function(A,F,X){if(A==null)throw Error("The argument must be a React element, but you passed "+A+".");var ee=k({},A.props),pe=A.key;if(F!=null)for(ke in F.key!==void 0&&(pe=""+F.key),F)!G.call(F,ke)||ke==="key"||ke==="__self"||ke==="__source"||ke==="ref"&&F.ref===void 0||(ee[ke]=F[ke]);var ke=arguments.length-2;if(ke===1)ee.children=X;else if(1<ke){for(var Le=Array(ke),Ht=0;Ht<ke;Ht++)Le[Ht]=arguments[Ht+2];ee.children=Le}return Z(A.type,pe,ee)},ge.createContext=function(A){return A={$$typeof:c,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null},A.Provider=A,A.Consumer={$$typeof:a,_context:A},A},ge.createElement=function(A,F,X){var ee,pe={},ke=null;if(F!=null)for(ee in F.key!==void 0&&(ke=""+F.key),F)G.call(F,ee)&&ee!=="key"&&ee!=="__self"&&ee!=="__source"&&(pe[ee]=F[ee]);var Le=arguments.length-2;if(Le===1)pe.children=X;else if(1<Le){for(var Ht=Array(Le),st=0;st<Le;st++)Ht[st]=arguments[st+2];pe.children=Ht}if(A&&A.defaultProps)for(ee in Le=A.defaultProps,Le)pe[ee]===void 0&&(pe[ee]=Le[ee]);return Z(A,ke,pe)},ge.createRef=function(){return{current:null}},ge.forwardRef=function(A){return{$$typeof:u,render:A}},ge.isValidElement=Ve,ge.lazy=function(A){return{$$typeof:p,_payload:{_status:-1,_result:A},_init:re}},ge.memo=function(A,F){return{$$typeof:h,type:A,compare:F===void 0?null:F}},ge.startTransition=function(A){var F=L.T,X={};L.T=X;try{var ee=A(),pe=L.S;pe!==null&&pe(X,ee),typeof ee=="object"&&ee!==null&&typeof ee.then=="function"&&ee.then($,he)}catch(ke){he(ke)}finally{F!==null&&X.types!==null&&(F.types=X.types),L.T=F}},ge.unstable_useCacheRefresh=function(){return L.H.useCacheRefresh()},ge.use=function(A){return L.H.use(A)},ge.useActionState=function(A,F,X){return L.H.useActionState(A,F,X)},ge.useCallback=function(A,F){return L.H.useCallback(A,F)},ge.useContext=function(A){return L.H.useContext(A)},ge.useDebugValue=function(){},ge.useDeferredValue=function(A,F){return L.H.useDeferredValue(A,F)},ge.useEffect=function(A,F){return L.H.useEffect(A,F)},ge.useEffectEvent=function(A){return L.H.useEffectEvent(A)},ge.useId=function(){return L.H.useId()},ge.useImperativeHandle=function(A,F,X){return L.H.useImperativeHandle(A,F,X)},ge.useInsertionEffect=function(A,F){return L.H.useInsertionEffect(A,F)},ge.useLayoutEffect=function(A,F){return L.H.useLayoutEffect(A,F)},ge.useMemo=function(A,F){return L.H.useMemo(A,F)},ge.useOptimistic=function(A,F){return L.H.useOptimistic(A,F)},ge.useReducer=function(A,F,X){return L.H.useReducer(A,F,X)},ge.useRef=function(A){return L.H.useRef(A)},ge.useState=function(A){return L.H.useState(A)},ge.useSyncExternalStore=function(A,F,X){return L.H.useSyncExternalStore(A,F,X)},ge.useTransition=function(){return L.H.useTransition()},ge.version="19.2.4",ge}var Y0;function Ua(){return Y0||(Y0=1,kh.exports=gT()),kh.exports}var C=Ua();const Jr=l1(C);var Eh={exports:{}},sa={},Nh={exports:{}},Th={};var J0;function yT(){return J0||(J0=1,(function(t){function e(U,Q){var re=U.length;U.push(Q);e:for(;0<re;){var he=re-1>>>1,xe=U[he];if(0<s(xe,Q))U[he]=Q,U[re]=xe,re=he;else break e}}function n(U){return U.length===0?null:U[0]}function i(U){if(U.length===0)return null;var Q=U[0],re=U.pop();if(re!==Q){U[0]=re;e:for(var he=0,xe=U.length,A=xe>>>1;he<A;){var F=2*(he+1)-1,X=U[F],ee=F+1,pe=U[ee];if(0>s(X,re))ee<xe&&0>s(pe,X)?(U[he]=pe,U[ee]=re,he=ee):(U[he]=X,U[F]=re,he=F);else if(ee<xe&&0>s(pe,re))U[he]=pe,U[ee]=re,he=ee;else break e}}return Q}function s(U,Q){var re=U.sortIndex-Q.sortIndex;return re!==0?re:U.id-Q.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var c=Date,u=c.now();t.unstable_now=function(){return c.now()-u}}var f=[],h=[],p=1,g=null,x=3,v=!1,w=!1,k=!1,E=!1,T=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;function P(U){for(var Q=n(h);Q!==null;){if(Q.callback===null)i(h);else if(Q.startTime<=U)i(h),Q.sortIndex=Q.expirationTime,e(f,Q);else break;Q=n(h)}}function D(U){if(k=!1,P(U),!w)if(n(f)!==null)w=!0,$||($=!0,ie());else{var Q=n(h);Q!==null&&ae(D,Q.startTime-U)}}var $=!1,L=-1,G=5,Z=-1;function ue(){return E?!0:!(t.unstable_now()-Z<G)}function Ve(){if(E=!1,$){var U=t.unstable_now();Z=U;var Q=!0;try{e:{w=!1,k&&(k=!1,M(L),L=-1),v=!0;var re=x;try{t:{for(P(U),g=n(f);g!==null&&!(g.expirationTime>U&&ue());){var he=g.callback;if(typeof he=="function"){g.callback=null,x=g.priorityLevel;var xe=he(g.expirationTime<=U);if(U=t.unstable_now(),typeof xe=="function"){g.callback=xe,P(U),Q=!0;break t}g===n(f)&&i(f),P(U)}else i(f);g=n(f)}if(g!==null)Q=!0;else{var A=n(h);A!==null&&ae(D,A.startTime-U),Q=!1}}break e}finally{g=null,x=re,v=!1}Q=void 0}}finally{Q?ie():$=!1}}}var ie;if(typeof z=="function")ie=function(){z(Ve)};else if(typeof MessageChannel<"u"){var Me=new MessageChannel,Se=Me.port2;Me.port1.onmessage=Ve,ie=function(){Se.postMessage(null)}}else ie=function(){T(Ve,0)};function ae(U,Q){L=T(function(){U(t.unstable_now())},Q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_next=function(U){switch(x){case 1:case 2:case 3:var Q=3;break;default:Q=x}var re=x;x=Q;try{return U()}finally{x=re}},t.unstable_requestPaint=function(){E=!0},t.unstable_runWithPriority=function(U,Q){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var re=x;x=U;try{return Q()}finally{x=re}},t.unstable_scheduleCallback=function(U,Q,re){var he=t.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?he+re:he):re=he,U){case 1:var xe=-1;break;case 2:xe=250;break;case 5:xe=1073741823;break;case 4:xe=1e4;break;default:xe=5e3}return xe=re+xe,U={id:p++,callback:Q,priorityLevel:U,startTime:re,expirationTime:xe,sortIndex:-1},re>he?(U.sortIndex=re,e(h,U),n(f)===null&&U===n(h)&&(k?(M(L),L=-1):k=!0,ae(D,re-he))):(U.sortIndex=xe,e(f,U),w||v||(w=!0,$||($=!0,ie()))),U},t.unstable_shouldYield=ue,t.unstable_wrapCallback=function(U){var Q=x;return function(){var re=x;x=Q;try{return U.apply(this,arguments)}finally{x=re}}}})(Th)),Th}var X0;function bT(){return X0||(X0=1,Nh.exports=yT()),Nh.exports}var Ch={exports:{}},zt={};var W0;function xT(){if(W0)return zt;W0=1;var t=Ua();function e(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)h+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function a(f,h,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:g==null?null:""+g,children:f,containerInfo:h,implementation:p}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return zt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,zt.createPortal=function(f,h){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return a(f,h,null,p)},zt.flushSync=function(f){var h=c.T,p=i.p;try{if(c.T=null,i.p=2,f)return f()}finally{c.T=h,i.p=p,i.d.f()}},zt.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,i.d.C(f,h))},zt.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},zt.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var p=h.as,g=u(p,h.crossOrigin),x=typeof h.integrity=="string"?h.integrity:void 0,v=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;p==="style"?i.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:g,integrity:x,fetchPriority:v}):p==="script"&&i.d.X(f,{crossOrigin:g,integrity:x,fetchPriority:v,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},zt.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var p=u(h.as,h.crossOrigin);i.d.M(f,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&i.d.M(f)},zt.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var p=h.as,g=u(p,h.crossOrigin);i.d.L(f,p,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},zt.preloadModule=function(f,h){if(typeof f=="string")if(h){var p=u(h.as,h.crossOrigin);i.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else i.d.m(f)},zt.requestFormReset=function(f){i.d.r(f)},zt.unstable_batchedUpdates=function(f,h){return f(h)},zt.useFormState=function(f,h,p){return c.H.useFormState(f,h,p)},zt.useFormStatus=function(){return c.H.useHostTransitionStatus()},zt.version="19.2.4",zt}var Q0;function a1(){if(Q0)return Ch.exports;Q0=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Ch.exports=xT(),Ch.exports}var Z0;function vT(){if(Z0)return sa;Z0=1;var t=bT(),e=Ua(),n=a1();function i(r){var l="https://react.dev/errors/"+r;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)l+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function a(r){var l=r,o=r;if(r.alternate)for(;l.return;)l=l.return;else{r=l;do l=r,(l.flags&4098)!==0&&(o=l.return),r=l.return;while(r)}return l.tag===3?o:null}function c(r){if(r.tag===13){var l=r.memoizedState;if(l===null&&(r=r.alternate,r!==null&&(l=r.memoizedState)),l!==null)return l.dehydrated}return null}function u(r){if(r.tag===31){var l=r.memoizedState;if(l===null&&(r=r.alternate,r!==null&&(l=r.memoizedState)),l!==null)return l.dehydrated}return null}function f(r){if(a(r)!==r)throw Error(i(188))}function h(r){var l=r.alternate;if(!l){if(l=a(r),l===null)throw Error(i(188));return l!==r?null:r}for(var o=r,d=l;;){var m=o.return;if(m===null)break;var y=m.alternate;if(y===null){if(d=m.return,d!==null){o=d;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===o)return f(m),r;if(y===d)return f(m),l;y=y.sibling}throw Error(i(188))}if(o.return!==d.return)o=m,d=y;else{for(var S=!1,N=m.child;N;){if(N===o){S=!0,o=m,d=y;break}if(N===d){S=!0,d=m,o=y;break}N=N.sibling}if(!S){for(N=y.child;N;){if(N===o){S=!0,o=y,d=m;break}if(N===d){S=!0,d=y,o=m;break}N=N.sibling}if(!S)throw Error(i(189))}}if(o.alternate!==d)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?r:l}function p(r){var l=r.tag;if(l===5||l===26||l===27||l===6)return r;for(r=r.child;r!==null;){if(l=p(r),l!==null)return l;r=r.sibling}return null}var g=Object.assign,x=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),M=Symbol.for("react.consumer"),z=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),$=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),G=Symbol.for("react.lazy"),Z=Symbol.for("react.activity"),ue=Symbol.for("react.memo_cache_sentinel"),Ve=Symbol.iterator;function ie(r){return r===null||typeof r!="object"?null:(r=Ve&&r[Ve]||r["@@iterator"],typeof r=="function"?r:null)}var Me=Symbol.for("react.client.reference");function Se(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===Me?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case k:return"Fragment";case T:return"Profiler";case E:return"StrictMode";case D:return"Suspense";case $:return"SuspenseList";case Z:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case w:return"Portal";case z:return r.displayName||"Context";case M:return(r._context.displayName||"Context")+".Consumer";case P:var l=r.render;return r=r.displayName,r||(r=l.displayName||l.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case L:return l=r.displayName||null,l!==null?l:Se(r.type)||"Memo";case G:l=r._payload,r=r._init;try{return Se(r(l))}catch{}}return null}var ae=Array.isArray,U=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re={pending:!1,data:null,method:null,action:null},he=[],xe=-1;function A(r){return{current:r}}function F(r){0>xe||(r.current=he[xe],he[xe]=null,xe--)}function X(r,l){xe++,he[xe]=r.current,r.current=l}var ee=A(null),pe=A(null),ke=A(null),Le=A(null);function Ht(r,l){switch(X(ke,l),X(pe,r),X(ee,null),l.nodeType){case 9:case 11:r=(r=l.documentElement)&&(r=r.namespaceURI)?p0(r):0;break;default:if(r=l.tagName,l=l.namespaceURI)l=p0(l),r=m0(l,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}F(ee),X(ee,r)}function st(){F(ee),F(pe),F(ke)}function dl(r){r.memoizedState!==null&&X(Le,r);var l=ee.current,o=m0(l,r.type);l!==o&&(X(pe,r),X(ee,o))}function Za(r){pe.current===r&&(F(ee),F(pe)),Le.current===r&&(F(Le),ea._currentValue=re)}var id,$m;function yr(r){if(id===void 0)try{throw Error()}catch(o){var l=o.stack.trim().match(/\n( *(at )?)/);id=l&&l[1]||"",$m=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+id+r+$m}var rd=!1;function sd(r,l){if(!r||rd)return"";rd=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(l){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(q){var H=q}Reflect.construct(r,[],Y)}else{try{Y.call()}catch(q){H=q}r.call(Y.prototype)}}else{try{throw Error()}catch(q){H=q}(Y=r())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(q){if(q&&H&&typeof q.stack=="string")return[q.stack,H.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=d.DetermineComponentFrameRoot(),S=y[0],N=y[1];if(S&&N){var O=S.split(`
`),B=N.split(`
`);for(m=d=0;d<O.length&&!O[d].includes("DetermineComponentFrameRoot");)d++;for(;m<B.length&&!B[m].includes("DetermineComponentFrameRoot");)m++;if(d===O.length||m===B.length)for(d=O.length-1,m=B.length-1;1<=d&&0<=m&&O[d]!==B[m];)m--;for(;1<=d&&0<=m;d--,m--)if(O[d]!==B[m]){if(d!==1||m!==1)do if(d--,m--,0>m||O[d]!==B[m]){var V=`
`+O[d].replace(" at new "," at ");return r.displayName&&V.includes("<anonymous>")&&(V=V.replace("<anonymous>",r.displayName)),V}while(1<=d&&0<=m);break}}}finally{rd=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?yr(o):""}function Fk(r,l){switch(r.tag){case 26:case 27:case 5:return yr(r.type);case 16:return yr("Lazy");case 13:return r.child!==l&&l!==null?yr("Suspense Fallback"):yr("Suspense");case 19:return yr("SuspenseList");case 0:case 15:return sd(r.type,!1);case 11:return sd(r.type.render,!1);case 1:return sd(r.type,!0);case 31:return yr("Activity");default:return""}}function Fm(r){try{var l="",o=null;do l+=Fk(r,o),o=r,r=r.return;while(r);return l}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}var ld=Object.prototype.hasOwnProperty,ad=t.unstable_scheduleCallback,od=t.unstable_cancelCallback,Kk=t.unstable_shouldYield,Gk=t.unstable_requestPaint,en=t.unstable_now,Yk=t.unstable_getCurrentPriorityLevel,Km=t.unstable_ImmediatePriority,Gm=t.unstable_UserBlockingPriority,eo=t.unstable_NormalPriority,Jk=t.unstable_LowPriority,Ym=t.unstable_IdlePriority,Xk=t.log,Wk=t.unstable_setDisableYieldValue,fl=null,tn=null;function Ci(r){if(typeof Xk=="function"&&Wk(r),tn&&typeof tn.setStrictMode=="function")try{tn.setStrictMode(fl,r)}catch{}}var nn=Math.clz32?Math.clz32:eE,Qk=Math.log,Zk=Math.LN2;function eE(r){return r>>>=0,r===0?32:31-(Qk(r)/Zk|0)|0}var to=256,no=262144,io=4194304;function br(r){var l=r&42;if(l!==0)return l;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return r&261888;case 262144:case 524288:case 1048576:case 2097152:return r&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function ro(r,l,o){var d=r.pendingLanes;if(d===0)return 0;var m=0,y=r.suspendedLanes,S=r.pingedLanes;r=r.warmLanes;var N=d&134217727;return N!==0?(d=N&~y,d!==0?m=br(d):(S&=N,S!==0?m=br(S):o||(o=N&~r,o!==0&&(m=br(o))))):(N=d&~y,N!==0?m=br(N):S!==0?m=br(S):o||(o=d&~r,o!==0&&(m=br(o)))),m===0?0:l!==0&&l!==m&&(l&y)===0&&(y=m&-m,o=l&-l,y>=o||y===32&&(o&4194048)!==0)?l:m}function hl(r,l){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&l)===0}function tE(r,l){switch(r){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jm(){var r=io;return io<<=1,(io&62914560)===0&&(io=4194304),r}function cd(r){for(var l=[],o=0;31>o;o++)l.push(r);return l}function pl(r,l){r.pendingLanes|=l,l!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function nE(r,l,o,d,m,y){var S=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var N=r.entanglements,O=r.expirationTimes,B=r.hiddenUpdates;for(o=S&~o;0<o;){var V=31-nn(o),Y=1<<V;N[V]=0,O[V]=-1;var H=B[V];if(H!==null)for(B[V]=null,V=0;V<H.length;V++){var q=H[V];q!==null&&(q.lane&=-536870913)}o&=~Y}d!==0&&Xm(r,d,0),y!==0&&m===0&&r.tag!==0&&(r.suspendedLanes|=y&~(S&~l))}function Xm(r,l,o){r.pendingLanes|=l,r.suspendedLanes&=~l;var d=31-nn(l);r.entangledLanes|=l,r.entanglements[d]=r.entanglements[d]|1073741824|o&261930}function Wm(r,l){var o=r.entangledLanes|=l;for(r=r.entanglements;o;){var d=31-nn(o),m=1<<d;m&l|r[d]&l&&(r[d]|=l),o&=~m}}function Qm(r,l){var o=l&-l;return o=(o&42)!==0?1:ud(o),(o&(r.suspendedLanes|l))!==0?0:o}function ud(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function dd(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Zm(){var r=Q.p;return r!==0?r:(r=window.event,r===void 0?32:H0(r.type))}function eg(r,l){var o=Q.p;try{return Q.p=r,l()}finally{Q.p=o}}var Ai=Math.random().toString(36).slice(2),Nt="__reactFiber$"+Ai,Vt="__reactProps$"+Ai,ls="__reactContainer$"+Ai,fd="__reactEvents$"+Ai,iE="__reactListeners$"+Ai,rE="__reactHandles$"+Ai,tg="__reactResources$"+Ai,ml="__reactMarker$"+Ai;function hd(r){delete r[Nt],delete r[Vt],delete r[fd],delete r[iE],delete r[rE]}function as(r){var l=r[Nt];if(l)return l;for(var o=r.parentNode;o;){if(l=o[ls]||o[Nt]){if(o=l.alternate,l.child!==null||o!==null&&o.child!==null)for(r=S0(r);r!==null;){if(o=r[Nt])return o;r=S0(r)}return l}r=o,o=r.parentNode}return null}function cs(r){if(r=r[Nt]||r[ls]){var l=r.tag;if(l===5||l===6||l===13||l===31||l===26||l===27||l===3)return r}return null}function gl(r){var l=r.tag;if(l===5||l===26||l===27||l===6)return r.stateNode;throw Error(i(33))}function us(r){var l=r[tg];return l||(l=r[tg]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function bt(r){r[ml]=!0}var ng=new Set,ig={};function xr(r,l){ds(r,l),ds(r+"Capture",l)}function ds(r,l){for(ig[r]=l,r=0;r<l.length;r++)ng.add(l[r])}var sE=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),rg={},sg={};function lE(r){return ld.call(sg,r)?!0:ld.call(rg,r)?!1:sE.test(r)?sg[r]=!0:(rg[r]=!0,!1)}function so(r,l,o){if(lE(l))if(o===null)r.removeAttribute(l);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(l);return;case"boolean":var d=l.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){r.removeAttribute(l);return}}r.setAttribute(l,""+o)}}function lo(r,l,o){if(o===null)r.removeAttribute(l);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(l);return}r.setAttribute(l,""+o)}}function Wn(r,l,o,d){if(d===null)r.removeAttribute(o);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(l,o,""+d)}}function hn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function lg(r){var l=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function aE(r,l,o){var d=Object.getOwnPropertyDescriptor(r.constructor.prototype,l);if(!r.hasOwnProperty(l)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var m=d.get,y=d.set;return Object.defineProperty(r,l,{configurable:!0,get:function(){return m.call(this)},set:function(S){o=""+S,y.call(this,S)}}),Object.defineProperty(r,l,{enumerable:d.enumerable}),{getValue:function(){return o},setValue:function(S){o=""+S},stopTracking:function(){r._valueTracker=null,delete r[l]}}}}function pd(r){if(!r._valueTracker){var l=lg(r)?"checked":"value";r._valueTracker=aE(r,l,""+r[l])}}function ag(r){if(!r)return!1;var l=r._valueTracker;if(!l)return!0;var o=l.getValue(),d="";return r&&(d=lg(r)?r.checked?"true":"false":r.value),r=d,r!==o?(l.setValue(r),!0):!1}function ao(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var oE=/[\n"\\]/g;function pn(r){return r.replace(oE,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function md(r,l,o,d,m,y,S,N){r.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?r.type=S:r.removeAttribute("type"),l!=null?S==="number"?(l===0&&r.value===""||r.value!=l)&&(r.value=""+hn(l)):r.value!==""+hn(l)&&(r.value=""+hn(l)):S!=="submit"&&S!=="reset"||r.removeAttribute("value"),l!=null?gd(r,S,hn(l)):o!=null?gd(r,S,hn(o)):d!=null&&r.removeAttribute("value"),m==null&&y!=null&&(r.defaultChecked=!!y),m!=null&&(r.checked=m&&typeof m!="function"&&typeof m!="symbol"),N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?r.name=""+hn(N):r.removeAttribute("name")}function og(r,l,o,d,m,y,S,N){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(r.type=y),l!=null||o!=null){if(!(y!=="submit"&&y!=="reset"||l!=null)){pd(r);return}o=o!=null?""+hn(o):"",l=l!=null?""+hn(l):o,N||l===r.value||(r.value=l),r.defaultValue=l}d=d??m,d=typeof d!="function"&&typeof d!="symbol"&&!!d,r.checked=N?r.checked:!!d,r.defaultChecked=!!d,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(r.name=S),pd(r)}function gd(r,l,o){l==="number"&&ao(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function fs(r,l,o,d){if(r=r.options,l){l={};for(var m=0;m<o.length;m++)l["$"+o[m]]=!0;for(o=0;o<r.length;o++)m=l.hasOwnProperty("$"+r[o].value),r[o].selected!==m&&(r[o].selected=m),m&&d&&(r[o].defaultSelected=!0)}else{for(o=""+hn(o),l=null,m=0;m<r.length;m++){if(r[m].value===o){r[m].selected=!0,d&&(r[m].defaultSelected=!0);return}l!==null||r[m].disabled||(l=r[m])}l!==null&&(l.selected=!0)}}function cg(r,l,o){if(l!=null&&(l=""+hn(l),l!==r.value&&(r.value=l),o==null)){r.defaultValue!==l&&(r.defaultValue=l);return}r.defaultValue=o!=null?""+hn(o):""}function ug(r,l,o,d){if(l==null){if(d!=null){if(o!=null)throw Error(i(92));if(ae(d)){if(1<d.length)throw Error(i(93));d=d[0]}o=d}o==null&&(o=""),l=o}o=hn(l),r.defaultValue=o,d=r.textContent,d===o&&d!==""&&d!==null&&(r.value=d),pd(r)}function hs(r,l){if(l){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=l;return}}r.textContent=l}var cE=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function dg(r,l,o){var d=l.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?d?r.setProperty(l,""):l==="float"?r.cssFloat="":r[l]="":d?r.setProperty(l,o):typeof o!="number"||o===0||cE.has(l)?l==="float"?r.cssFloat=o:r[l]=(""+o).trim():r[l]=o+"px"}function fg(r,l,o){if(l!=null&&typeof l!="object")throw Error(i(62));if(r=r.style,o!=null){for(var d in o)!o.hasOwnProperty(d)||l!=null&&l.hasOwnProperty(d)||(d.indexOf("--")===0?r.setProperty(d,""):d==="float"?r.cssFloat="":r[d]="");for(var m in l)d=l[m],l.hasOwnProperty(m)&&o[m]!==d&&dg(r,m,d)}else for(var y in l)l.hasOwnProperty(y)&&dg(r,y,l[y])}function yd(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uE=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),dE=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function oo(r){return dE.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}function Qn(){}var bd=null;function xd(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var ps=null,ms=null;function hg(r){var l=cs(r);if(l&&(r=l.stateNode)){var o=r[Vt]||null;e:switch(r=l.stateNode,l.type){case"input":if(md(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),l=o.name,o.type==="radio"&&l!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+pn(""+l)+'"][type="radio"]'),l=0;l<o.length;l++){var d=o[l];if(d!==r&&d.form===r.form){var m=d[Vt]||null;if(!m)throw Error(i(90));md(d,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(l=0;l<o.length;l++)d=o[l],d.form===r.form&&ag(d)}break e;case"textarea":cg(r,o.value,o.defaultValue);break e;case"select":l=o.value,l!=null&&fs(r,!!o.multiple,l,!1)}}}var vd=!1;function pg(r,l,o){if(vd)return r(l,o);vd=!0;try{var d=r(l);return d}finally{if(vd=!1,(ps!==null||ms!==null)&&(Xo(),ps&&(l=ps,r=ms,ms=ps=null,hg(l),r)))for(l=0;l<r.length;l++)hg(r[l])}}function yl(r,l){var o=r.stateNode;if(o===null)return null;var d=o[Vt]||null;if(d===null)return null;o=d[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(r=r.type,d=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!d;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(i(231,l,typeof o));return o}var Zn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wd=!1;if(Zn)try{var bl={};Object.defineProperty(bl,"passive",{get:function(){wd=!0}}),window.addEventListener("test",bl,bl),window.removeEventListener("test",bl,bl)}catch{wd=!1}var Mi=null,Sd=null,co=null;function mg(){if(co)return co;var r,l=Sd,o=l.length,d,m="value"in Mi?Mi.value:Mi.textContent,y=m.length;for(r=0;r<o&&l[r]===m[r];r++);var S=o-r;for(d=1;d<=S&&l[o-d]===m[y-d];d++);return co=m.slice(r,1<d?1-d:void 0)}function uo(r){var l=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&l===13&&(r=13)):r=l,r===10&&(r=13),32<=r||r===13?r:0}function fo(){return!0}function gg(){return!1}function $t(r){function l(o,d,m,y,S){this._reactName=o,this._targetInst=m,this.type=d,this.nativeEvent=y,this.target=S,this.currentTarget=null;for(var N in r)r.hasOwnProperty(N)&&(o=r[N],this[N]=o?o(y):y[N]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?fo:gg,this.isPropagationStopped=gg,this}return g(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=fo)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=fo)},persist:function(){},isPersistent:fo}),l}var vr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ho=$t(vr),xl=g({},vr,{view:0,detail:0}),fE=$t(xl),kd,Ed,vl,po=g({},xl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Td,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==vl&&(vl&&r.type==="mousemove"?(kd=r.screenX-vl.screenX,Ed=r.screenY-vl.screenY):Ed=kd=0,vl=r),kd)},movementY:function(r){return"movementY"in r?r.movementY:Ed}}),yg=$t(po),hE=g({},po,{dataTransfer:0}),pE=$t(hE),mE=g({},xl,{relatedTarget:0}),Nd=$t(mE),gE=g({},vr,{animationName:0,elapsedTime:0,pseudoElement:0}),yE=$t(gE),bE=g({},vr,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),xE=$t(bE),vE=g({},vr,{data:0}),bg=$t(vE),wE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},SE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function EE(r){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(r):(r=kE[r])?!!l[r]:!1}function Td(){return EE}var NE=g({},xl,{key:function(r){if(r.key){var l=wE[r.key]||r.key;if(l!=="Unidentified")return l}return r.type==="keypress"?(r=uo(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?SE[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Td,charCode:function(r){return r.type==="keypress"?uo(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?uo(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),TE=$t(NE),CE=g({},po,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xg=$t(CE),AE=g({},xl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Td}),ME=$t(AE),OE=g({},vr,{propertyName:0,elapsedTime:0,pseudoElement:0}),RE=$t(OE),jE=g({},po,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),DE=$t(jE),zE=g({},vr,{newState:0,oldState:0}),LE=$t(zE),_E=[9,13,27,32],Cd=Zn&&"CompositionEvent"in window,wl=null;Zn&&"documentMode"in document&&(wl=document.documentMode);var BE=Zn&&"TextEvent"in window&&!wl,vg=Zn&&(!Cd||wl&&8<wl&&11>=wl),wg=" ",Sg=!1;function kg(r,l){switch(r){case"keyup":return _E.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Eg(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var gs=!1;function HE(r,l){switch(r){case"compositionend":return Eg(l);case"keypress":return l.which!==32?null:(Sg=!0,wg);case"textInput":return r=l.data,r===wg&&Sg?null:r;default:return null}}function UE(r,l){if(gs)return r==="compositionend"||!Cd&&kg(r,l)?(r=mg(),co=Sd=Mi=null,gs=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return vg&&l.locale!=="ko"?null:l.data;default:return null}}var qE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ng(r){var l=r&&r.nodeName&&r.nodeName.toLowerCase();return l==="input"?!!qE[r.type]:l==="textarea"}function Tg(r,l,o,d){ps?ms?ms.push(d):ms=[d]:ps=d,l=ic(l,"onChange"),0<l.length&&(o=new ho("onChange","change",null,o,d),r.push({event:o,listeners:l}))}var Sl=null,kl=null;function IE(r){o0(r,0)}function mo(r){var l=gl(r);if(ag(l))return r}function Cg(r,l){if(r==="change")return l}var Ag=!1;if(Zn){var Ad;if(Zn){var Md="oninput"in document;if(!Md){var Mg=document.createElement("div");Mg.setAttribute("oninput","return;"),Md=typeof Mg.oninput=="function"}Ad=Md}else Ad=!1;Ag=Ad&&(!document.documentMode||9<document.documentMode)}function Og(){Sl&&(Sl.detachEvent("onpropertychange",Rg),kl=Sl=null)}function Rg(r){if(r.propertyName==="value"&&mo(kl)){var l=[];Tg(l,kl,r,xd(r)),pg(IE,l)}}function PE(r,l,o){r==="focusin"?(Og(),Sl=l,kl=o,Sl.attachEvent("onpropertychange",Rg)):r==="focusout"&&Og()}function VE(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return mo(kl)}function $E(r,l){if(r==="click")return mo(l)}function FE(r,l){if(r==="input"||r==="change")return mo(l)}function KE(r,l){return r===l&&(r!==0||1/r===1/l)||r!==r&&l!==l}var rn=typeof Object.is=="function"?Object.is:KE;function El(r,l){if(rn(r,l))return!0;if(typeof r!="object"||r===null||typeof l!="object"||l===null)return!1;var o=Object.keys(r),d=Object.keys(l);if(o.length!==d.length)return!1;for(d=0;d<o.length;d++){var m=o[d];if(!ld.call(l,m)||!rn(r[m],l[m]))return!1}return!0}function jg(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Dg(r,l){var o=jg(r);r=0;for(var d;o;){if(o.nodeType===3){if(d=r+o.textContent.length,r<=l&&d>=l)return{node:o,offset:l-r};r=d}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=jg(o)}}function zg(r,l){return r&&l?r===l?!0:r&&r.nodeType===3?!1:l&&l.nodeType===3?zg(r,l.parentNode):"contains"in r?r.contains(l):r.compareDocumentPosition?!!(r.compareDocumentPosition(l)&16):!1:!1}function Lg(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var l=ao(r.document);l instanceof r.HTMLIFrameElement;){try{var o=typeof l.contentWindow.location.href=="string"}catch{o=!1}if(o)r=l.contentWindow;else break;l=ao(r.document)}return l}function Od(r){var l=r&&r.nodeName&&r.nodeName.toLowerCase();return l&&(l==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||l==="textarea"||r.contentEditable==="true")}var GE=Zn&&"documentMode"in document&&11>=document.documentMode,ys=null,Rd=null,Nl=null,jd=!1;function _g(r,l,o){var d=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;jd||ys==null||ys!==ao(d)||(d=ys,"selectionStart"in d&&Od(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Nl&&El(Nl,d)||(Nl=d,d=ic(Rd,"onSelect"),0<d.length&&(l=new ho("onSelect","select",null,l,o),r.push({event:l,listeners:d}),l.target=ys)))}function wr(r,l){var o={};return o[r.toLowerCase()]=l.toLowerCase(),o["Webkit"+r]="webkit"+l,o["Moz"+r]="moz"+l,o}var bs={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionrun:wr("Transition","TransitionRun"),transitionstart:wr("Transition","TransitionStart"),transitioncancel:wr("Transition","TransitionCancel"),transitionend:wr("Transition","TransitionEnd")},Dd={},Bg={};Zn&&(Bg=document.createElement("div").style,"AnimationEvent"in window||(delete bs.animationend.animation,delete bs.animationiteration.animation,delete bs.animationstart.animation),"TransitionEvent"in window||delete bs.transitionend.transition);function Sr(r){if(Dd[r])return Dd[r];if(!bs[r])return r;var l=bs[r],o;for(o in l)if(l.hasOwnProperty(o)&&o in Bg)return Dd[r]=l[o];return r}var Hg=Sr("animationend"),Ug=Sr("animationiteration"),qg=Sr("animationstart"),YE=Sr("transitionrun"),JE=Sr("transitionstart"),XE=Sr("transitioncancel"),Ig=Sr("transitionend"),Pg=new Map,zd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");zd.push("scrollEnd");function On(r,l){Pg.set(r,l),xr(l,[r])}var go=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)},mn=[],xs=0,Ld=0;function yo(){for(var r=xs,l=Ld=xs=0;l<r;){var o=mn[l];mn[l++]=null;var d=mn[l];mn[l++]=null;var m=mn[l];mn[l++]=null;var y=mn[l];if(mn[l++]=null,d!==null&&m!==null){var S=d.pending;S===null?m.next=m:(m.next=S.next,S.next=m),d.pending=m}y!==0&&Vg(o,m,y)}}function bo(r,l,o,d){mn[xs++]=r,mn[xs++]=l,mn[xs++]=o,mn[xs++]=d,Ld|=d,r.lanes|=d,r=r.alternate,r!==null&&(r.lanes|=d)}function _d(r,l,o,d){return bo(r,l,o,d),xo(r)}function kr(r,l){return bo(r,null,null,l),xo(r)}function Vg(r,l,o){r.lanes|=o;var d=r.alternate;d!==null&&(d.lanes|=o);for(var m=!1,y=r.return;y!==null;)y.childLanes|=o,d=y.alternate,d!==null&&(d.childLanes|=o),y.tag===22&&(r=y.stateNode,r===null||r._visibility&1||(m=!0)),r=y,y=y.return;return r.tag===3?(y=r.stateNode,m&&l!==null&&(m=31-nn(o),r=y.hiddenUpdates,d=r[m],d===null?r[m]=[l]:d.push(l),l.lane=o|536870912),y):null}function xo(r){if(50<Gl)throw Gl=0,Kf=null,Error(i(185));for(var l=r.return;l!==null;)r=l,l=r.return;return r.tag===3?r.stateNode:null}var vs={};function WE(r,l,o,d){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sn(r,l,o,d){return new WE(r,l,o,d)}function Bd(r){return r=r.prototype,!(!r||!r.isReactComponent)}function ei(r,l){var o=r.alternate;return o===null?(o=sn(r.tag,l,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=l,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&65011712,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,l=r.dependencies,o.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function $g(r,l){r.flags&=65011714;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=l,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,l=o.dependencies,r.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),r}function vo(r,l,o,d,m,y){var S=0;if(d=r,typeof r=="function")Bd(r)&&(S=1);else if(typeof r=="string")S=nT(r,o,ee.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case Z:return r=sn(31,o,l,m),r.elementType=Z,r.lanes=y,r;case k:return Er(o.children,m,y,l);case E:S=8,m|=24;break;case T:return r=sn(12,o,l,m|2),r.elementType=T,r.lanes=y,r;case D:return r=sn(13,o,l,m),r.elementType=D,r.lanes=y,r;case $:return r=sn(19,o,l,m),r.elementType=$,r.lanes=y,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case z:S=10;break e;case M:S=9;break e;case P:S=11;break e;case L:S=14;break e;case G:S=16,d=null;break e}S=29,o=Error(i(130,r===null?"null":typeof r,"")),d=null}return l=sn(S,o,l,m),l.elementType=r,l.type=d,l.lanes=y,l}function Er(r,l,o,d){return r=sn(7,r,d,l),r.lanes=o,r}function Hd(r,l,o){return r=sn(6,r,null,l),r.lanes=o,r}function Fg(r){var l=sn(18,null,null,0);return l.stateNode=r,l}function Ud(r,l,o){return l=sn(4,r.children!==null?r.children:[],r.key,l),l.lanes=o,l.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},l}var Kg=new WeakMap;function gn(r,l){if(typeof r=="object"&&r!==null){var o=Kg.get(r);return o!==void 0?o:(l={value:r,source:l,stack:Fm(l)},Kg.set(r,l),l)}return{value:r,source:l,stack:Fm(l)}}var ws=[],Ss=0,wo=null,Tl=0,yn=[],bn=0,Oi=null,qn=1,In="";function ti(r,l){ws[Ss++]=Tl,ws[Ss++]=wo,wo=r,Tl=l}function Gg(r,l,o){yn[bn++]=qn,yn[bn++]=In,yn[bn++]=Oi,Oi=r;var d=qn;r=In;var m=32-nn(d)-1;d&=~(1<<m),o+=1;var y=32-nn(l)+m;if(30<y){var S=m-m%5;y=(d&(1<<S)-1).toString(32),d>>=S,m-=S,qn=1<<32-nn(l)+m|o<<m|d,In=y+r}else qn=1<<y|o<<m|d,In=r}function qd(r){r.return!==null&&(ti(r,1),Gg(r,1,0))}function Id(r){for(;r===wo;)wo=ws[--Ss],ws[Ss]=null,Tl=ws[--Ss],ws[Ss]=null;for(;r===Oi;)Oi=yn[--bn],yn[bn]=null,In=yn[--bn],yn[bn]=null,qn=yn[--bn],yn[bn]=null}function Yg(r,l){yn[bn++]=qn,yn[bn++]=In,yn[bn++]=Oi,qn=l.id,In=l.overflow,Oi=r}var Tt=null,Fe=null,Ae=!1,Ri=null,xn=!1,Pd=Error(i(519));function ji(r){var l=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Cl(gn(l,r)),Pd}function Jg(r){var l=r.stateNode,o=r.type,d=r.memoizedProps;switch(l[Nt]=r,l[Vt]=d,o){case"dialog":Ne("cancel",l),Ne("close",l);break;case"iframe":case"object":case"embed":Ne("load",l);break;case"video":case"audio":for(o=0;o<Jl.length;o++)Ne(Jl[o],l);break;case"source":Ne("error",l);break;case"img":case"image":case"link":Ne("error",l),Ne("load",l);break;case"details":Ne("toggle",l);break;case"input":Ne("invalid",l),og(l,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0);break;case"select":Ne("invalid",l);break;case"textarea":Ne("invalid",l),ug(l,d.value,d.defaultValue,d.children)}o=d.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||l.textContent===""+o||d.suppressHydrationWarning===!0||f0(l.textContent,o)?(d.popover!=null&&(Ne("beforetoggle",l),Ne("toggle",l)),d.onScroll!=null&&Ne("scroll",l),d.onScrollEnd!=null&&Ne("scrollend",l),d.onClick!=null&&(l.onclick=Qn),l=!0):l=!1,l||ji(r,!0)}function Xg(r){for(Tt=r.return;Tt;)switch(Tt.tag){case 5:case 31:case 13:xn=!1;return;case 27:case 3:xn=!0;return;default:Tt=Tt.return}}function ks(r){if(r!==Tt)return!1;if(!Ae)return Xg(r),Ae=!0,!1;var l=r.tag,o;if((o=l!==3&&l!==27)&&((o=l===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||ah(r.type,r.memoizedProps)),o=!o),o&&Fe&&ji(r),Xg(r),l===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));Fe=w0(r)}else if(l===31){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));Fe=w0(r)}else l===27?(l=Fe,Ki(r.type)?(r=fh,fh=null,Fe=r):Fe=l):Fe=Tt?wn(r.stateNode.nextSibling):null;return!0}function Nr(){Fe=Tt=null,Ae=!1}function Vd(){var r=Ri;return r!==null&&(Yt===null?Yt=r:Yt.push.apply(Yt,r),Ri=null),r}function Cl(r){Ri===null?Ri=[r]:Ri.push(r)}var $d=A(null),Tr=null,ni=null;function Di(r,l,o){X($d,l._currentValue),l._currentValue=o}function ii(r){r._currentValue=$d.current,F($d)}function Fd(r,l,o){for(;r!==null;){var d=r.alternate;if((r.childLanes&l)!==l?(r.childLanes|=l,d!==null&&(d.childLanes|=l)):d!==null&&(d.childLanes&l)!==l&&(d.childLanes|=l),r===o)break;r=r.return}}function Kd(r,l,o,d){var m=r.child;for(m!==null&&(m.return=r);m!==null;){var y=m.dependencies;if(y!==null){var S=m.child;y=y.firstContext;e:for(;y!==null;){var N=y;y=m;for(var O=0;O<l.length;O++)if(N.context===l[O]){y.lanes|=o,N=y.alternate,N!==null&&(N.lanes|=o),Fd(y.return,o,r),d||(S=null);break e}y=N.next}}else if(m.tag===18){if(S=m.return,S===null)throw Error(i(341));S.lanes|=o,y=S.alternate,y!==null&&(y.lanes|=o),Fd(S,o,r),S=null}else S=m.child;if(S!==null)S.return=m;else for(S=m;S!==null;){if(S===r){S=null;break}if(m=S.sibling,m!==null){m.return=S.return,S=m;break}S=S.return}m=S}}function Es(r,l,o,d){r=null;for(var m=l,y=!1;m!==null;){if(!y){if((m.flags&524288)!==0)y=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var S=m.alternate;if(S===null)throw Error(i(387));if(S=S.memoizedProps,S!==null){var N=m.type;rn(m.pendingProps.value,S.value)||(r!==null?r.push(N):r=[N])}}else if(m===Le.current){if(S=m.alternate,S===null)throw Error(i(387));S.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(r!==null?r.push(ea):r=[ea])}m=m.return}r!==null&&Kd(l,r,o,d),l.flags|=262144}function So(r){for(r=r.firstContext;r!==null;){if(!rn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Cr(r){Tr=r,ni=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Ct(r){return Wg(Tr,r)}function ko(r,l){return Tr===null&&Cr(r),Wg(r,l)}function Wg(r,l){var o=l._currentValue;if(l={context:l,memoizedValue:o,next:null},ni===null){if(r===null)throw Error(i(308));ni=l,r.dependencies={lanes:0,firstContext:l},r.flags|=524288}else ni=ni.next=l;return o}var QE=typeof AbortController<"u"?AbortController:function(){var r=[],l=this.signal={aborted:!1,addEventListener:function(o,d){r.push(d)}};this.abort=function(){l.aborted=!0,r.forEach(function(o){return o()})}},ZE=t.unstable_scheduleCallback,eN=t.unstable_NormalPriority,ct={$$typeof:z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Gd(){return{controller:new QE,data:new Map,refCount:0}}function Al(r){r.refCount--,r.refCount===0&&ZE(eN,function(){r.controller.abort()})}var Ml=null,Yd=0,Ns=0,Ts=null;function tN(r,l){if(Ml===null){var o=Ml=[];Yd=0,Ns=Qf(),Ts={status:"pending",value:void 0,then:function(d){o.push(d)}}}return Yd++,l.then(Qg,Qg),l}function Qg(){if(--Yd===0&&Ml!==null){Ts!==null&&(Ts.status="fulfilled");var r=Ml;Ml=null,Ns=0,Ts=null;for(var l=0;l<r.length;l++)(0,r[l])()}}function nN(r,l){var o=[],d={status:"pending",value:null,reason:null,then:function(m){o.push(m)}};return r.then(function(){d.status="fulfilled",d.value=l;for(var m=0;m<o.length;m++)(0,o[m])(l)},function(m){for(d.status="rejected",d.reason=m,m=0;m<o.length;m++)(0,o[m])(void 0)}),d}var Zg=U.S;U.S=function(r,l){_b=en(),typeof l=="object"&&l!==null&&typeof l.then=="function"&&tN(r,l),Zg!==null&&Zg(r,l)};var Ar=A(null);function Jd(){var r=Ar.current;return r!==null?r:Ie.pooledCache}function Eo(r,l){l===null?X(Ar,Ar.current):X(Ar,l.pool)}function ey(){var r=Jd();return r===null?null:{parent:ct._currentValue,pool:r}}var Cs=Error(i(460)),Xd=Error(i(474)),No=Error(i(542)),To={then:function(){}};function ty(r){return r=r.status,r==="fulfilled"||r==="rejected"}function ny(r,l,o){switch(o=r[o],o===void 0?r.push(l):o!==l&&(l.then(Qn,Qn),l=o),l.status){case"fulfilled":return l.value;case"rejected":throw r=l.reason,ry(r),r;default:if(typeof l.status=="string")l.then(Qn,Qn);else{if(r=Ie,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=l,r.status="pending",r.then(function(d){if(l.status==="pending"){var m=l;m.status="fulfilled",m.value=d}},function(d){if(l.status==="pending"){var m=l;m.status="rejected",m.reason=d}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw r=l.reason,ry(r),r}throw Or=l,Cs}}function Mr(r){try{var l=r._init;return l(r._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Or=o,Cs):o}}var Or=null;function iy(){if(Or===null)throw Error(i(459));var r=Or;return Or=null,r}function ry(r){if(r===Cs||r===No)throw Error(i(483))}var As=null,Ol=0;function Co(r){var l=Ol;return Ol+=1,As===null&&(As=[]),ny(As,r,l)}function Rl(r,l){l=l.props.ref,r.ref=l!==void 0?l:null}function Ao(r,l){throw l.$$typeof===x?Error(i(525)):(r=Object.prototype.toString.call(l),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":r)))}function sy(r){function l(j,R){if(r){var _=j.deletions;_===null?(j.deletions=[R],j.flags|=16):_.push(R)}}function o(j,R){if(!r)return null;for(;R!==null;)l(j,R),R=R.sibling;return null}function d(j){for(var R=new Map;j!==null;)j.key!==null?R.set(j.key,j):R.set(j.index,j),j=j.sibling;return R}function m(j,R){return j=ei(j,R),j.index=0,j.sibling=null,j}function y(j,R,_){return j.index=_,r?(_=j.alternate,_!==null?(_=_.index,_<R?(j.flags|=67108866,R):_):(j.flags|=67108866,R)):(j.flags|=1048576,R)}function S(j){return r&&j.alternate===null&&(j.flags|=67108866),j}function N(j,R,_,K){return R===null||R.tag!==6?(R=Hd(_,j.mode,K),R.return=j,R):(R=m(R,_),R.return=j,R)}function O(j,R,_,K){var oe=_.type;return oe===k?V(j,R,_.props.children,K,_.key):R!==null&&(R.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===G&&Mr(oe)===R.type)?(R=m(R,_.props),Rl(R,_),R.return=j,R):(R=vo(_.type,_.key,_.props,null,j.mode,K),Rl(R,_),R.return=j,R)}function B(j,R,_,K){return R===null||R.tag!==4||R.stateNode.containerInfo!==_.containerInfo||R.stateNode.implementation!==_.implementation?(R=Ud(_,j.mode,K),R.return=j,R):(R=m(R,_.children||[]),R.return=j,R)}function V(j,R,_,K,oe){return R===null||R.tag!==7?(R=Er(_,j.mode,K,oe),R.return=j,R):(R=m(R,_),R.return=j,R)}function Y(j,R,_){if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return R=Hd(""+R,j.mode,_),R.return=j,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case v:return _=vo(R.type,R.key,R.props,null,j.mode,_),Rl(_,R),_.return=j,_;case w:return R=Ud(R,j.mode,_),R.return=j,R;case G:return R=Mr(R),Y(j,R,_)}if(ae(R)||ie(R))return R=Er(R,j.mode,_,null),R.return=j,R;if(typeof R.then=="function")return Y(j,Co(R),_);if(R.$$typeof===z)return Y(j,ko(j,R),_);Ao(j,R)}return null}function H(j,R,_,K){var oe=R!==null?R.key:null;if(typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint")return oe!==null?null:N(j,R,""+_,K);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case v:return _.key===oe?O(j,R,_,K):null;case w:return _.key===oe?B(j,R,_,K):null;case G:return _=Mr(_),H(j,R,_,K)}if(ae(_)||ie(_))return oe!==null?null:V(j,R,_,K,null);if(typeof _.then=="function")return H(j,R,Co(_),K);if(_.$$typeof===z)return H(j,R,ko(j,_),K);Ao(j,_)}return null}function q(j,R,_,K,oe){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return j=j.get(_)||null,N(R,j,""+K,oe);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case v:return j=j.get(K.key===null?_:K.key)||null,O(R,j,K,oe);case w:return j=j.get(K.key===null?_:K.key)||null,B(R,j,K,oe);case G:return K=Mr(K),q(j,R,_,K,oe)}if(ae(K)||ie(K))return j=j.get(_)||null,V(R,j,K,oe,null);if(typeof K.then=="function")return q(j,R,_,Co(K),oe);if(K.$$typeof===z)return q(j,R,_,ko(R,K),oe);Ao(R,K)}return null}function ne(j,R,_,K){for(var oe=null,Oe=null,se=R,be=R=0,Ce=null;se!==null&&be<_.length;be++){se.index>be?(Ce=se,se=null):Ce=se.sibling;var Re=H(j,se,_[be],K);if(Re===null){se===null&&(se=Ce);break}r&&se&&Re.alternate===null&&l(j,se),R=y(Re,R,be),Oe===null?oe=Re:Oe.sibling=Re,Oe=Re,se=Ce}if(be===_.length)return o(j,se),Ae&&ti(j,be),oe;if(se===null){for(;be<_.length;be++)se=Y(j,_[be],K),se!==null&&(R=y(se,R,be),Oe===null?oe=se:Oe.sibling=se,Oe=se);return Ae&&ti(j,be),oe}for(se=d(se);be<_.length;be++)Ce=q(se,j,be,_[be],K),Ce!==null&&(r&&Ce.alternate!==null&&se.delete(Ce.key===null?be:Ce.key),R=y(Ce,R,be),Oe===null?oe=Ce:Oe.sibling=Ce,Oe=Ce);return r&&se.forEach(function(Wi){return l(j,Wi)}),Ae&&ti(j,be),oe}function de(j,R,_,K){if(_==null)throw Error(i(151));for(var oe=null,Oe=null,se=R,be=R=0,Ce=null,Re=_.next();se!==null&&!Re.done;be++,Re=_.next()){se.index>be?(Ce=se,se=null):Ce=se.sibling;var Wi=H(j,se,Re.value,K);if(Wi===null){se===null&&(se=Ce);break}r&&se&&Wi.alternate===null&&l(j,se),R=y(Wi,R,be),Oe===null?oe=Wi:Oe.sibling=Wi,Oe=Wi,se=Ce}if(Re.done)return o(j,se),Ae&&ti(j,be),oe;if(se===null){for(;!Re.done;be++,Re=_.next())Re=Y(j,Re.value,K),Re!==null&&(R=y(Re,R,be),Oe===null?oe=Re:Oe.sibling=Re,Oe=Re);return Ae&&ti(j,be),oe}for(se=d(se);!Re.done;be++,Re=_.next())Re=q(se,j,be,Re.value,K),Re!==null&&(r&&Re.alternate!==null&&se.delete(Re.key===null?be:Re.key),R=y(Re,R,be),Oe===null?oe=Re:Oe.sibling=Re,Oe=Re);return r&&se.forEach(function(hT){return l(j,hT)}),Ae&&ti(j,be),oe}function qe(j,R,_,K){if(typeof _=="object"&&_!==null&&_.type===k&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case v:e:{for(var oe=_.key;R!==null;){if(R.key===oe){if(oe=_.type,oe===k){if(R.tag===7){o(j,R.sibling),K=m(R,_.props.children),K.return=j,j=K;break e}}else if(R.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===G&&Mr(oe)===R.type){o(j,R.sibling),K=m(R,_.props),Rl(K,_),K.return=j,j=K;break e}o(j,R);break}else l(j,R);R=R.sibling}_.type===k?(K=Er(_.props.children,j.mode,K,_.key),K.return=j,j=K):(K=vo(_.type,_.key,_.props,null,j.mode,K),Rl(K,_),K.return=j,j=K)}return S(j);case w:e:{for(oe=_.key;R!==null;){if(R.key===oe)if(R.tag===4&&R.stateNode.containerInfo===_.containerInfo&&R.stateNode.implementation===_.implementation){o(j,R.sibling),K=m(R,_.children||[]),K.return=j,j=K;break e}else{o(j,R);break}else l(j,R);R=R.sibling}K=Ud(_,j.mode,K),K.return=j,j=K}return S(j);case G:return _=Mr(_),qe(j,R,_,K)}if(ae(_))return ne(j,R,_,K);if(ie(_)){if(oe=ie(_),typeof oe!="function")throw Error(i(150));return _=oe.call(_),de(j,R,_,K)}if(typeof _.then=="function")return qe(j,R,Co(_),K);if(_.$$typeof===z)return qe(j,R,ko(j,_),K);Ao(j,_)}return typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint"?(_=""+_,R!==null&&R.tag===6?(o(j,R.sibling),K=m(R,_),K.return=j,j=K):(o(j,R),K=Hd(_,j.mode,K),K.return=j,j=K),S(j)):o(j,R)}return function(j,R,_,K){try{Ol=0;var oe=qe(j,R,_,K);return As=null,oe}catch(se){if(se===Cs||se===No)throw se;var Oe=sn(29,se,null,j.mode);return Oe.lanes=K,Oe.return=j,Oe}}}var Rr=sy(!0),ly=sy(!1),zi=!1;function Wd(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Qd(r,l){r=r.updateQueue,l.updateQueue===r&&(l.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Li(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function _i(r,l,o){var d=r.updateQueue;if(d===null)return null;if(d=d.shared,(De&2)!==0){var m=d.pending;return m===null?l.next=l:(l.next=m.next,m.next=l),d.pending=l,l=xo(r),Vg(r,null,o),l}return bo(r,d,l,o),xo(r)}function jl(r,l,o){if(l=l.updateQueue,l!==null&&(l=l.shared,(o&4194048)!==0)){var d=l.lanes;d&=r.pendingLanes,o|=d,l.lanes=o,Wm(r,o)}}function Zd(r,l){var o=r.updateQueue,d=r.alternate;if(d!==null&&(d=d.updateQueue,o===d)){var m=null,y=null;if(o=o.firstBaseUpdate,o!==null){do{var S={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};y===null?m=y=S:y=y.next=S,o=o.next}while(o!==null);y===null?m=y=l:y=y.next=l}else m=y=l;o={baseState:d.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:d.shared,callbacks:d.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=l:r.next=l,o.lastBaseUpdate=l}var ef=!1;function Dl(){if(ef){var r=Ts;if(r!==null)throw r}}function zl(r,l,o,d){ef=!1;var m=r.updateQueue;zi=!1;var y=m.firstBaseUpdate,S=m.lastBaseUpdate,N=m.shared.pending;if(N!==null){m.shared.pending=null;var O=N,B=O.next;O.next=null,S===null?y=B:S.next=B,S=O;var V=r.alternate;V!==null&&(V=V.updateQueue,N=V.lastBaseUpdate,N!==S&&(N===null?V.firstBaseUpdate=B:N.next=B,V.lastBaseUpdate=O))}if(y!==null){var Y=m.baseState;S=0,V=B=O=null,N=y;do{var H=N.lane&-536870913,q=H!==N.lane;if(q?(Te&H)===H:(d&H)===H){H!==0&&H===Ns&&(ef=!0),V!==null&&(V=V.next={lane:0,tag:N.tag,payload:N.payload,callback:null,next:null});e:{var ne=r,de=N;H=l;var qe=o;switch(de.tag){case 1:if(ne=de.payload,typeof ne=="function"){Y=ne.call(qe,Y,H);break e}Y=ne;break e;case 3:ne.flags=ne.flags&-65537|128;case 0:if(ne=de.payload,H=typeof ne=="function"?ne.call(qe,Y,H):ne,H==null)break e;Y=g({},Y,H);break e;case 2:zi=!0}}H=N.callback,H!==null&&(r.flags|=64,q&&(r.flags|=8192),q=m.callbacks,q===null?m.callbacks=[H]:q.push(H))}else q={lane:H,tag:N.tag,payload:N.payload,callback:N.callback,next:null},V===null?(B=V=q,O=Y):V=V.next=q,S|=H;if(N=N.next,N===null){if(N=m.shared.pending,N===null)break;q=N,N=q.next,q.next=null,m.lastBaseUpdate=q,m.shared.pending=null}}while(!0);V===null&&(O=Y),m.baseState=O,m.firstBaseUpdate=B,m.lastBaseUpdate=V,y===null&&(m.shared.lanes=0),Ii|=S,r.lanes=S,r.memoizedState=Y}}function ay(r,l){if(typeof r!="function")throw Error(i(191,r));r.call(l)}function oy(r,l){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)ay(o[r],l)}var Ms=A(null),Mo=A(0);function cy(r,l){r=fi,X(Mo,r),X(Ms,l),fi=r|l.baseLanes}function tf(){X(Mo,fi),X(Ms,Ms.current)}function nf(){fi=Mo.current,F(Ms),F(Mo)}var ln=A(null),vn=null;function Bi(r){var l=r.alternate;X(lt,lt.current&1),X(ln,r),vn===null&&(l===null||Ms.current!==null||l.memoizedState!==null)&&(vn=r)}function rf(r){X(lt,lt.current),X(ln,r),vn===null&&(vn=r)}function uy(r){r.tag===22?(X(lt,lt.current),X(ln,r),vn===null&&(vn=r)):Hi()}function Hi(){X(lt,lt.current),X(ln,ln.current)}function an(r){F(ln),vn===r&&(vn=null),F(lt)}var lt=A(0);function Oo(r){for(var l=r;l!==null;){if(l.tag===13){var o=l.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||uh(o)||dh(o)))return l}else if(l.tag===19&&(l.memoizedProps.revealOrder==="forwards"||l.memoizedProps.revealOrder==="backwards"||l.memoizedProps.revealOrder==="unstable_legacy-backwards"||l.memoizedProps.revealOrder==="together")){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===r)break;for(;l.sibling===null;){if(l.return===null||l.return===r)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var ri=0,ye=null,He=null,ut=null,Ro=!1,Os=!1,jr=!1,jo=0,Ll=0,Rs=null,iN=0;function Ze(){throw Error(i(321))}function sf(r,l){if(l===null)return!1;for(var o=0;o<l.length&&o<r.length;o++)if(!rn(r[o],l[o]))return!1;return!0}function lf(r,l,o,d,m,y){return ri=y,ye=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,U.H=r===null||r.memoizedState===null?Gy:wf,jr=!1,y=o(d,m),jr=!1,Os&&(y=fy(l,o,d,m)),dy(r),y}function dy(r){U.H=Hl;var l=He!==null&&He.next!==null;if(ri=0,ut=He=ye=null,Ro=!1,Ll=0,Rs=null,l)throw Error(i(300));r===null||dt||(r=r.dependencies,r!==null&&So(r)&&(dt=!0))}function fy(r,l,o,d){ye=r;var m=0;do{if(Os&&(Rs=null),Ll=0,Os=!1,25<=m)throw Error(i(301));if(m+=1,ut=He=null,r.updateQueue!=null){var y=r.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}U.H=Yy,y=l(o,d)}while(Os);return y}function rN(){var r=U.H,l=r.useState()[0];return l=typeof l.then=="function"?_l(l):l,r=r.useState()[0],(He!==null?He.memoizedState:null)!==r&&(ye.flags|=1024),l}function af(){var r=jo!==0;return jo=0,r}function of(r,l,o){l.updateQueue=r.updateQueue,l.flags&=-2053,r.lanes&=~o}function cf(r){if(Ro){for(r=r.memoizedState;r!==null;){var l=r.queue;l!==null&&(l.pending=null),r=r.next}Ro=!1}ri=0,ut=He=ye=null,Os=!1,Ll=jo=0,Rs=null}function Ut(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ut===null?ye.memoizedState=ut=r:ut=ut.next=r,ut}function at(){if(He===null){var r=ye.alternate;r=r!==null?r.memoizedState:null}else r=He.next;var l=ut===null?ye.memoizedState:ut.next;if(l!==null)ut=l,He=r;else{if(r===null)throw ye.alternate===null?Error(i(467)):Error(i(310));He=r,r={memoizedState:He.memoizedState,baseState:He.baseState,baseQueue:He.baseQueue,queue:He.queue,next:null},ut===null?ye.memoizedState=ut=r:ut=ut.next=r}return ut}function Do(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function _l(r){var l=Ll;return Ll+=1,Rs===null&&(Rs=[]),r=ny(Rs,r,l),l=ye,(ut===null?l.memoizedState:ut.next)===null&&(l=l.alternate,U.H=l===null||l.memoizedState===null?Gy:wf),r}function zo(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return _l(r);if(r.$$typeof===z)return Ct(r)}throw Error(i(438,String(r)))}function uf(r){var l=null,o=ye.updateQueue;if(o!==null&&(l=o.memoCache),l==null){var d=ye.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(l={data:d.data.map(function(m){return m.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),o===null&&(o=Do(),ye.updateQueue=o),o.memoCache=l,o=l.data[l.index],o===void 0)for(o=l.data[l.index]=Array(r),d=0;d<r;d++)o[d]=ue;return l.index++,o}function si(r,l){return typeof l=="function"?l(r):l}function Lo(r){var l=at();return df(l,He,r)}function df(r,l,o){var d=r.queue;if(d===null)throw Error(i(311));d.lastRenderedReducer=o;var m=r.baseQueue,y=d.pending;if(y!==null){if(m!==null){var S=m.next;m.next=y.next,y.next=S}l.baseQueue=m=y,d.pending=null}if(y=r.baseState,m===null)r.memoizedState=y;else{l=m.next;var N=S=null,O=null,B=l,V=!1;do{var Y=B.lane&-536870913;if(Y!==B.lane?(Te&Y)===Y:(ri&Y)===Y){var H=B.revertLane;if(H===0)O!==null&&(O=O.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),Y===Ns&&(V=!0);else if((ri&H)===H){B=B.next,H===Ns&&(V=!0);continue}else Y={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},O===null?(N=O=Y,S=y):O=O.next=Y,ye.lanes|=H,Ii|=H;Y=B.action,jr&&o(y,Y),y=B.hasEagerState?B.eagerState:o(y,Y)}else H={lane:Y,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},O===null?(N=O=H,S=y):O=O.next=H,ye.lanes|=Y,Ii|=Y;B=B.next}while(B!==null&&B!==l);if(O===null?S=y:O.next=N,!rn(y,r.memoizedState)&&(dt=!0,V&&(o=Ts,o!==null)))throw o;r.memoizedState=y,r.baseState=S,r.baseQueue=O,d.lastRenderedState=y}return m===null&&(d.lanes=0),[r.memoizedState,d.dispatch]}function ff(r){var l=at(),o=l.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=r;var d=o.dispatch,m=o.pending,y=l.memoizedState;if(m!==null){o.pending=null;var S=m=m.next;do y=r(y,S.action),S=S.next;while(S!==m);rn(y,l.memoizedState)||(dt=!0),l.memoizedState=y,l.baseQueue===null&&(l.baseState=y),o.lastRenderedState=y}return[y,d]}function hy(r,l,o){var d=ye,m=at(),y=Ae;if(y){if(o===void 0)throw Error(i(407));o=o()}else o=l();var S=!rn((He||m).memoizedState,o);if(S&&(m.memoizedState=o,dt=!0),m=m.queue,mf(gy.bind(null,d,m,r),[r]),m.getSnapshot!==l||S||ut!==null&&ut.memoizedState.tag&1){if(d.flags|=2048,js(9,{destroy:void 0},my.bind(null,d,m,o,l),null),Ie===null)throw Error(i(349));y||(ri&127)!==0||py(d,l,o)}return o}function py(r,l,o){r.flags|=16384,r={getSnapshot:l,value:o},l=ye.updateQueue,l===null?(l=Do(),ye.updateQueue=l,l.stores=[r]):(o=l.stores,o===null?l.stores=[r]:o.push(r))}function my(r,l,o,d){l.value=o,l.getSnapshot=d,yy(l)&&by(r)}function gy(r,l,o){return o(function(){yy(l)&&by(r)})}function yy(r){var l=r.getSnapshot;r=r.value;try{var o=l();return!rn(r,o)}catch{return!0}}function by(r){var l=kr(r,2);l!==null&&Jt(l,r,2)}function hf(r){var l=Ut();if(typeof r=="function"){var o=r;if(r=o(),jr){Ci(!0);try{o()}finally{Ci(!1)}}}return l.memoizedState=l.baseState=r,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:si,lastRenderedState:r},l}function xy(r,l,o,d){return r.baseState=o,df(r,He,typeof d=="function"?d:si)}function sN(r,l,o,d,m){if(Ho(r))throw Error(i(485));if(r=l.action,r!==null){var y={payload:m,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){y.listeners.push(S)}};U.T!==null?o(!0):y.isTransition=!1,d(y),o=l.pending,o===null?(y.next=l.pending=y,vy(l,y)):(y.next=o.next,l.pending=o.next=y)}}function vy(r,l){var o=l.action,d=l.payload,m=r.state;if(l.isTransition){var y=U.T,S={};U.T=S;try{var N=o(m,d),O=U.S;O!==null&&O(S,N),wy(r,l,N)}catch(B){pf(r,l,B)}finally{y!==null&&S.types!==null&&(y.types=S.types),U.T=y}}else try{y=o(m,d),wy(r,l,y)}catch(B){pf(r,l,B)}}function wy(r,l,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(d){Sy(r,l,d)},function(d){return pf(r,l,d)}):Sy(r,l,o)}function Sy(r,l,o){l.status="fulfilled",l.value=o,ky(l),r.state=o,l=r.pending,l!==null&&(o=l.next,o===l?r.pending=null:(o=o.next,l.next=o,vy(r,o)))}function pf(r,l,o){var d=r.pending;if(r.pending=null,d!==null){d=d.next;do l.status="rejected",l.reason=o,ky(l),l=l.next;while(l!==d)}r.action=null}function ky(r){r=r.listeners;for(var l=0;l<r.length;l++)(0,r[l])()}function Ey(r,l){return l}function Ny(r,l){if(Ae){var o=Ie.formState;if(o!==null){e:{var d=ye;if(Ae){if(Fe){t:{for(var m=Fe,y=xn;m.nodeType!==8;){if(!y){m=null;break t}if(m=wn(m.nextSibling),m===null){m=null;break t}}y=m.data,m=y==="F!"||y==="F"?m:null}if(m){Fe=wn(m.nextSibling),d=m.data==="F!";break e}}ji(d)}d=!1}d&&(l=o[0])}}return o=Ut(),o.memoizedState=o.baseState=l,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ey,lastRenderedState:l},o.queue=d,o=$y.bind(null,ye,d),d.dispatch=o,d=hf(!1),y=vf.bind(null,ye,!1,d.queue),d=Ut(),m={state:l,dispatch:null,action:r,pending:null},d.queue=m,o=sN.bind(null,ye,m,y,o),m.dispatch=o,d.memoizedState=r,[l,o,!1]}function Ty(r){var l=at();return Cy(l,He,r)}function Cy(r,l,o){if(l=df(r,l,Ey)[0],r=Lo(si)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var d=_l(l)}catch(S){throw S===Cs?No:S}else d=l;l=at();var m=l.queue,y=m.dispatch;return o!==l.memoizedState&&(ye.flags|=2048,js(9,{destroy:void 0},lN.bind(null,m,o),null)),[d,y,r]}function lN(r,l){r.action=l}function Ay(r){var l=at(),o=He;if(o!==null)return Cy(l,o,r);at(),l=l.memoizedState,o=at();var d=o.queue.dispatch;return o.memoizedState=r,[l,d,!1]}function js(r,l,o,d){return r={tag:r,create:o,deps:d,inst:l,next:null},l=ye.updateQueue,l===null&&(l=Do(),ye.updateQueue=l),o=l.lastEffect,o===null?l.lastEffect=r.next=r:(d=o.next,o.next=r,r.next=d,l.lastEffect=r),r}function My(){return at().memoizedState}function _o(r,l,o,d){var m=Ut();ye.flags|=r,m.memoizedState=js(1|l,{destroy:void 0},o,d===void 0?null:d)}function Bo(r,l,o,d){var m=at();d=d===void 0?null:d;var y=m.memoizedState.inst;He!==null&&d!==null&&sf(d,He.memoizedState.deps)?m.memoizedState=js(l,y,o,d):(ye.flags|=r,m.memoizedState=js(1|l,y,o,d))}function Oy(r,l){_o(8390656,8,r,l)}function mf(r,l){Bo(2048,8,r,l)}function aN(r){ye.flags|=4;var l=ye.updateQueue;if(l===null)l=Do(),ye.updateQueue=l,l.events=[r];else{var o=l.events;o===null?l.events=[r]:o.push(r)}}function Ry(r){var l=at().memoizedState;return aN({ref:l,nextImpl:r}),function(){if((De&2)!==0)throw Error(i(440));return l.impl.apply(void 0,arguments)}}function jy(r,l){return Bo(4,2,r,l)}function Dy(r,l){return Bo(4,4,r,l)}function zy(r,l){if(typeof l=="function"){r=r();var o=l(r);return function(){typeof o=="function"?o():l(null)}}if(l!=null)return r=r(),l.current=r,function(){l.current=null}}function Ly(r,l,o){o=o!=null?o.concat([r]):null,Bo(4,4,zy.bind(null,l,r),o)}function gf(){}function _y(r,l){var o=at();l=l===void 0?null:l;var d=o.memoizedState;return l!==null&&sf(l,d[1])?d[0]:(o.memoizedState=[r,l],r)}function By(r,l){var o=at();l=l===void 0?null:l;var d=o.memoizedState;if(l!==null&&sf(l,d[1]))return d[0];if(d=r(),jr){Ci(!0);try{r()}finally{Ci(!1)}}return o.memoizedState=[d,l],d}function yf(r,l,o){return o===void 0||(ri&1073741824)!==0&&(Te&261930)===0?r.memoizedState=l:(r.memoizedState=o,r=Hb(),ye.lanes|=r,Ii|=r,o)}function Hy(r,l,o,d){return rn(o,l)?o:Ms.current!==null?(r=yf(r,o,d),rn(r,l)||(dt=!0),r):(ri&42)===0||(ri&1073741824)!==0&&(Te&261930)===0?(dt=!0,r.memoizedState=o):(r=Hb(),ye.lanes|=r,Ii|=r,l)}function Uy(r,l,o,d,m){var y=Q.p;Q.p=y!==0&&8>y?y:8;var S=U.T,N={};U.T=N,vf(r,!1,l,o);try{var O=m(),B=U.S;if(B!==null&&B(N,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var V=nN(O,d);Bl(r,l,V,un(r))}else Bl(r,l,d,un(r))}catch(Y){Bl(r,l,{then:function(){},status:"rejected",reason:Y},un())}finally{Q.p=y,S!==null&&N.types!==null&&(S.types=N.types),U.T=S}}function oN(){}function bf(r,l,o,d){if(r.tag!==5)throw Error(i(476));var m=qy(r).queue;Uy(r,m,l,re,o===null?oN:function(){return Iy(r),o(d)})}function qy(r){var l=r.memoizedState;if(l!==null)return l;l={memoizedState:re,baseState:re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:si,lastRenderedState:re},next:null};var o={};return l.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:si,lastRenderedState:o},next:null},r.memoizedState=l,r=r.alternate,r!==null&&(r.memoizedState=l),l}function Iy(r){var l=qy(r);l.next===null&&(l=r.alternate.memoizedState),Bl(r,l.next.queue,{},un())}function xf(){return Ct(ea)}function Py(){return at().memoizedState}function Vy(){return at().memoizedState}function cN(r){for(var l=r.return;l!==null;){switch(l.tag){case 24:case 3:var o=un();r=Li(o);var d=_i(l,r,o);d!==null&&(Jt(d,l,o),jl(d,l,o)),l={cache:Gd()},r.payload=l;return}l=l.return}}function uN(r,l,o){var d=un();o={lane:d,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Ho(r)?Fy(l,o):(o=_d(r,l,o,d),o!==null&&(Jt(o,r,d),Ky(o,l,d)))}function $y(r,l,o){var d=un();Bl(r,l,o,d)}function Bl(r,l,o,d){var m={lane:d,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Ho(r))Fy(l,m);else{var y=r.alternate;if(r.lanes===0&&(y===null||y.lanes===0)&&(y=l.lastRenderedReducer,y!==null))try{var S=l.lastRenderedState,N=y(S,o);if(m.hasEagerState=!0,m.eagerState=N,rn(N,S))return bo(r,l,m,0),Ie===null&&yo(),!1}catch{}if(o=_d(r,l,m,d),o!==null)return Jt(o,r,d),Ky(o,l,d),!0}return!1}function vf(r,l,o,d){if(d={lane:2,revertLane:Qf(),gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},Ho(r)){if(l)throw Error(i(479))}else l=_d(r,o,d,2),l!==null&&Jt(l,r,2)}function Ho(r){var l=r.alternate;return r===ye||l!==null&&l===ye}function Fy(r,l){Os=Ro=!0;var o=r.pending;o===null?l.next=l:(l.next=o.next,o.next=l),r.pending=l}function Ky(r,l,o){if((o&4194048)!==0){var d=l.lanes;d&=r.pendingLanes,o|=d,l.lanes=o,Wm(r,o)}}var Hl={readContext:Ct,use:zo,useCallback:Ze,useContext:Ze,useEffect:Ze,useImperativeHandle:Ze,useLayoutEffect:Ze,useInsertionEffect:Ze,useMemo:Ze,useReducer:Ze,useRef:Ze,useState:Ze,useDebugValue:Ze,useDeferredValue:Ze,useTransition:Ze,useSyncExternalStore:Ze,useId:Ze,useHostTransitionStatus:Ze,useFormState:Ze,useActionState:Ze,useOptimistic:Ze,useMemoCache:Ze,useCacheRefresh:Ze};Hl.useEffectEvent=Ze;var Gy={readContext:Ct,use:zo,useCallback:function(r,l){return Ut().memoizedState=[r,l===void 0?null:l],r},useContext:Ct,useEffect:Oy,useImperativeHandle:function(r,l,o){o=o!=null?o.concat([r]):null,_o(4194308,4,zy.bind(null,l,r),o)},useLayoutEffect:function(r,l){return _o(4194308,4,r,l)},useInsertionEffect:function(r,l){_o(4,2,r,l)},useMemo:function(r,l){var o=Ut();l=l===void 0?null:l;var d=r();if(jr){Ci(!0);try{r()}finally{Ci(!1)}}return o.memoizedState=[d,l],d},useReducer:function(r,l,o){var d=Ut();if(o!==void 0){var m=o(l);if(jr){Ci(!0);try{o(l)}finally{Ci(!1)}}}else m=l;return d.memoizedState=d.baseState=m,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:m},d.queue=r,r=r.dispatch=uN.bind(null,ye,r),[d.memoizedState,r]},useRef:function(r){var l=Ut();return r={current:r},l.memoizedState=r},useState:function(r){r=hf(r);var l=r.queue,o=$y.bind(null,ye,l);return l.dispatch=o,[r.memoizedState,o]},useDebugValue:gf,useDeferredValue:function(r,l){var o=Ut();return yf(o,r,l)},useTransition:function(){var r=hf(!1);return r=Uy.bind(null,ye,r.queue,!0,!1),Ut().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,l,o){var d=ye,m=Ut();if(Ae){if(o===void 0)throw Error(i(407));o=o()}else{if(o=l(),Ie===null)throw Error(i(349));(Te&127)!==0||py(d,l,o)}m.memoizedState=o;var y={value:o,getSnapshot:l};return m.queue=y,Oy(gy.bind(null,d,y,r),[r]),d.flags|=2048,js(9,{destroy:void 0},my.bind(null,d,y,o,l),null),o},useId:function(){var r=Ut(),l=Ie.identifierPrefix;if(Ae){var o=In,d=qn;o=(d&~(1<<32-nn(d)-1)).toString(32)+o,l="_"+l+"R_"+o,o=jo++,0<o&&(l+="H"+o.toString(32)),l+="_"}else o=iN++,l="_"+l+"r_"+o.toString(32)+"_";return r.memoizedState=l},useHostTransitionStatus:xf,useFormState:Ny,useActionState:Ny,useOptimistic:function(r){var l=Ut();l.memoizedState=l.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=o,l=vf.bind(null,ye,!0,o),o.dispatch=l,[r,l]},useMemoCache:uf,useCacheRefresh:function(){return Ut().memoizedState=cN.bind(null,ye)},useEffectEvent:function(r){var l=Ut(),o={impl:r};return l.memoizedState=o,function(){if((De&2)!==0)throw Error(i(440));return o.impl.apply(void 0,arguments)}}},wf={readContext:Ct,use:zo,useCallback:_y,useContext:Ct,useEffect:mf,useImperativeHandle:Ly,useInsertionEffect:jy,useLayoutEffect:Dy,useMemo:By,useReducer:Lo,useRef:My,useState:function(){return Lo(si)},useDebugValue:gf,useDeferredValue:function(r,l){var o=at();return Hy(o,He.memoizedState,r,l)},useTransition:function(){var r=Lo(si)[0],l=at().memoizedState;return[typeof r=="boolean"?r:_l(r),l]},useSyncExternalStore:hy,useId:Py,useHostTransitionStatus:xf,useFormState:Ty,useActionState:Ty,useOptimistic:function(r,l){var o=at();return xy(o,He,r,l)},useMemoCache:uf,useCacheRefresh:Vy};wf.useEffectEvent=Ry;var Yy={readContext:Ct,use:zo,useCallback:_y,useContext:Ct,useEffect:mf,useImperativeHandle:Ly,useInsertionEffect:jy,useLayoutEffect:Dy,useMemo:By,useReducer:ff,useRef:My,useState:function(){return ff(si)},useDebugValue:gf,useDeferredValue:function(r,l){var o=at();return He===null?yf(o,r,l):Hy(o,He.memoizedState,r,l)},useTransition:function(){var r=ff(si)[0],l=at().memoizedState;return[typeof r=="boolean"?r:_l(r),l]},useSyncExternalStore:hy,useId:Py,useHostTransitionStatus:xf,useFormState:Ay,useActionState:Ay,useOptimistic:function(r,l){var o=at();return He!==null?xy(o,He,r,l):(o.baseState=r,[r,o.queue.dispatch])},useMemoCache:uf,useCacheRefresh:Vy};Yy.useEffectEvent=Ry;function Sf(r,l,o,d){l=r.memoizedState,o=o(d,l),o=o==null?l:g({},l,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var kf={enqueueSetState:function(r,l,o){r=r._reactInternals;var d=un(),m=Li(d);m.payload=l,o!=null&&(m.callback=o),l=_i(r,m,d),l!==null&&(Jt(l,r,d),jl(l,r,d))},enqueueReplaceState:function(r,l,o){r=r._reactInternals;var d=un(),m=Li(d);m.tag=1,m.payload=l,o!=null&&(m.callback=o),l=_i(r,m,d),l!==null&&(Jt(l,r,d),jl(l,r,d))},enqueueForceUpdate:function(r,l){r=r._reactInternals;var o=un(),d=Li(o);d.tag=2,l!=null&&(d.callback=l),l=_i(r,d,o),l!==null&&(Jt(l,r,o),jl(l,r,o))}};function Jy(r,l,o,d,m,y,S){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(d,y,S):l.prototype&&l.prototype.isPureReactComponent?!El(o,d)||!El(m,y):!0}function Xy(r,l,o,d){r=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(o,d),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(o,d),l.state!==r&&kf.enqueueReplaceState(l,l.state,null)}function Dr(r,l){var o=l;if("ref"in l){o={};for(var d in l)d!=="ref"&&(o[d]=l[d])}if(r=r.defaultProps){o===l&&(o=g({},o));for(var m in r)o[m]===void 0&&(o[m]=r[m])}return o}function Wy(r){go(r)}function Qy(r){console.error(r)}function Zy(r){go(r)}function Uo(r,l){try{var o=r.onUncaughtError;o(l.value,{componentStack:l.stack})}catch(d){setTimeout(function(){throw d})}}function eb(r,l,o){try{var d=r.onCaughtError;d(o.value,{componentStack:o.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Ef(r,l,o){return o=Li(o),o.tag=3,o.payload={element:null},o.callback=function(){Uo(r,l)},o}function tb(r){return r=Li(r),r.tag=3,r}function nb(r,l,o,d){var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var y=d.value;r.payload=function(){return m(y)},r.callback=function(){eb(l,o,d)}}var S=o.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(r.callback=function(){eb(l,o,d),typeof m!="function"&&(Pi===null?Pi=new Set([this]):Pi.add(this));var N=d.stack;this.componentDidCatch(d.value,{componentStack:N!==null?N:""})})}function dN(r,l,o,d,m){if(o.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(l=o.alternate,l!==null&&Es(l,o,m,!0),o=ln.current,o!==null){switch(o.tag){case 31:case 13:return vn===null?Wo():o.alternate===null&&et===0&&(et=3),o.flags&=-257,o.flags|=65536,o.lanes=m,d===To?o.flags|=16384:(l=o.updateQueue,l===null?o.updateQueue=new Set([d]):l.add(d),Jf(r,d,m)),!1;case 22:return o.flags|=65536,d===To?o.flags|=16384:(l=o.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([d])},o.updateQueue=l):(o=l.retryQueue,o===null?l.retryQueue=new Set([d]):o.add(d)),Jf(r,d,m)),!1}throw Error(i(435,o.tag))}return Jf(r,d,m),Wo(),!1}if(Ae)return l=ln.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=m,d!==Pd&&(r=Error(i(422),{cause:d}),Cl(gn(r,o)))):(d!==Pd&&(l=Error(i(423),{cause:d}),Cl(gn(l,o))),r=r.current.alternate,r.flags|=65536,m&=-m,r.lanes|=m,d=gn(d,o),m=Ef(r.stateNode,d,m),Zd(r,m),et!==4&&(et=2)),!1;var y=Error(i(520),{cause:d});if(y=gn(y,o),Kl===null?Kl=[y]:Kl.push(y),et!==4&&(et=2),l===null)return!0;d=gn(d,o),o=l;do{switch(o.tag){case 3:return o.flags|=65536,r=m&-m,o.lanes|=r,r=Ef(o.stateNode,d,r),Zd(o,r),!1;case 1:if(l=o.type,y=o.stateNode,(o.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Pi===null||!Pi.has(y))))return o.flags|=65536,m&=-m,o.lanes|=m,m=tb(m),nb(m,r,o,d),Zd(o,m),!1}o=o.return}while(o!==null);return!1}var Nf=Error(i(461)),dt=!1;function At(r,l,o,d){l.child=r===null?ly(l,null,o,d):Rr(l,r.child,o,d)}function ib(r,l,o,d,m){o=o.render;var y=l.ref;if("ref"in d){var S={};for(var N in d)N!=="ref"&&(S[N]=d[N])}else S=d;return Cr(l),d=lf(r,l,o,S,y,m),N=af(),r!==null&&!dt?(of(r,l,m),li(r,l,m)):(Ae&&N&&qd(l),l.flags|=1,At(r,l,d,m),l.child)}function rb(r,l,o,d,m){if(r===null){var y=o.type;return typeof y=="function"&&!Bd(y)&&y.defaultProps===void 0&&o.compare===null?(l.tag=15,l.type=y,sb(r,l,y,d,m)):(r=vo(o.type,null,d,l,l.mode,m),r.ref=l.ref,r.return=l,l.child=r)}if(y=r.child,!Df(r,m)){var S=y.memoizedProps;if(o=o.compare,o=o!==null?o:El,o(S,d)&&r.ref===l.ref)return li(r,l,m)}return l.flags|=1,r=ei(y,d),r.ref=l.ref,r.return=l,l.child=r}function sb(r,l,o,d,m){if(r!==null){var y=r.memoizedProps;if(El(y,d)&&r.ref===l.ref)if(dt=!1,l.pendingProps=d=y,Df(r,m))(r.flags&131072)!==0&&(dt=!0);else return l.lanes=r.lanes,li(r,l,m)}return Tf(r,l,o,d,m)}function lb(r,l,o,d){var m=d.children,y=r!==null?r.memoizedState:null;if(r===null&&l.stateNode===null&&(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),d.mode==="hidden"){if((l.flags&128)!==0){if(y=y!==null?y.baseLanes|o:o,r!==null){for(d=l.child=r.child,m=0;d!==null;)m=m|d.lanes|d.childLanes,d=d.sibling;d=m&~y}else d=0,l.child=null;return ab(r,l,y,o,d)}if((o&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},r!==null&&Eo(l,y!==null?y.cachePool:null),y!==null?cy(l,y):tf(),uy(l);else return d=l.lanes=536870912,ab(r,l,y!==null?y.baseLanes|o:o,o,d)}else y!==null?(Eo(l,y.cachePool),cy(l,y),Hi(),l.memoizedState=null):(r!==null&&Eo(l,null),tf(),Hi());return At(r,l,m,o),l.child}function Ul(r,l){return r!==null&&r.tag===22||l.stateNode!==null||(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.sibling}function ab(r,l,o,d,m){var y=Jd();return y=y===null?null:{parent:ct._currentValue,pool:y},l.memoizedState={baseLanes:o,cachePool:y},r!==null&&Eo(l,null),tf(),uy(l),r!==null&&Es(r,l,d,!0),l.childLanes=m,null}function qo(r,l){return l=Po({mode:l.mode,children:l.children},r.mode),l.ref=r.ref,r.child=l,l.return=r,l}function ob(r,l,o){return Rr(l,r.child,null,o),r=qo(l,l.pendingProps),r.flags|=2,an(l),l.memoizedState=null,r}function fN(r,l,o){var d=l.pendingProps,m=(l.flags&128)!==0;if(l.flags&=-129,r===null){if(Ae){if(d.mode==="hidden")return r=qo(l,d),l.lanes=536870912,Ul(null,r);if(rf(l),(r=Fe)?(r=v0(r,xn),r=r!==null&&r.data==="&"?r:null,r!==null&&(l.memoizedState={dehydrated:r,treeContext:Oi!==null?{id:qn,overflow:In}:null,retryLane:536870912,hydrationErrors:null},o=Fg(r),o.return=l,l.child=o,Tt=l,Fe=null)):r=null,r===null)throw ji(l);return l.lanes=536870912,null}return qo(l,d)}var y=r.memoizedState;if(y!==null){var S=y.dehydrated;if(rf(l),m)if(l.flags&256)l.flags&=-257,l=ob(r,l,o);else if(l.memoizedState!==null)l.child=r.child,l.flags|=128,l=null;else throw Error(i(558));else if(dt||Es(r,l,o,!1),m=(o&r.childLanes)!==0,dt||m){if(d=Ie,d!==null&&(S=Qm(d,o),S!==0&&S!==y.retryLane))throw y.retryLane=S,kr(r,S),Jt(d,r,S),Nf;Wo(),l=ob(r,l,o)}else r=y.treeContext,Fe=wn(S.nextSibling),Tt=l,Ae=!0,Ri=null,xn=!1,r!==null&&Yg(l,r),l=qo(l,d),l.flags|=4096;return l}return r=ei(r.child,{mode:d.mode,children:d.children}),r.ref=l.ref,l.child=r,r.return=l,r}function Io(r,l){var o=l.ref;if(o===null)r!==null&&r.ref!==null&&(l.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(r===null||r.ref!==o)&&(l.flags|=4194816)}}function Tf(r,l,o,d,m){return Cr(l),o=lf(r,l,o,d,void 0,m),d=af(),r!==null&&!dt?(of(r,l,m),li(r,l,m)):(Ae&&d&&qd(l),l.flags|=1,At(r,l,o,m),l.child)}function cb(r,l,o,d,m,y){return Cr(l),l.updateQueue=null,o=fy(l,d,o,m),dy(r),d=af(),r!==null&&!dt?(of(r,l,y),li(r,l,y)):(Ae&&d&&qd(l),l.flags|=1,At(r,l,o,y),l.child)}function ub(r,l,o,d,m){if(Cr(l),l.stateNode===null){var y=vs,S=o.contextType;typeof S=="object"&&S!==null&&(y=Ct(S)),y=new o(d,y),l.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=kf,l.stateNode=y,y._reactInternals=l,y=l.stateNode,y.props=d,y.state=l.memoizedState,y.refs={},Wd(l),S=o.contextType,y.context=typeof S=="object"&&S!==null?Ct(S):vs,y.state=l.memoizedState,S=o.getDerivedStateFromProps,typeof S=="function"&&(Sf(l,o,S,d),y.state=l.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(S=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),S!==y.state&&kf.enqueueReplaceState(y,y.state,null),zl(l,d,y,m),Dl(),y.state=l.memoizedState),typeof y.componentDidMount=="function"&&(l.flags|=4194308),d=!0}else if(r===null){y=l.stateNode;var N=l.memoizedProps,O=Dr(o,N);y.props=O;var B=y.context,V=o.contextType;S=vs,typeof V=="object"&&V!==null&&(S=Ct(V));var Y=o.getDerivedStateFromProps;V=typeof Y=="function"||typeof y.getSnapshotBeforeUpdate=="function",N=l.pendingProps!==N,V||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(N||B!==S)&&Xy(l,y,d,S),zi=!1;var H=l.memoizedState;y.state=H,zl(l,d,y,m),Dl(),B=l.memoizedState,N||H!==B||zi?(typeof Y=="function"&&(Sf(l,o,Y,d),B=l.memoizedState),(O=zi||Jy(l,o,O,d,H,B,S))?(V||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(l.flags|=4194308)):(typeof y.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=d,l.memoizedState=B),y.props=d,y.state=B,y.context=S,d=O):(typeof y.componentDidMount=="function"&&(l.flags|=4194308),d=!1)}else{y=l.stateNode,Qd(r,l),S=l.memoizedProps,V=Dr(o,S),y.props=V,Y=l.pendingProps,H=y.context,B=o.contextType,O=vs,typeof B=="object"&&B!==null&&(O=Ct(B)),N=o.getDerivedStateFromProps,(B=typeof N=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(S!==Y||H!==O)&&Xy(l,y,d,O),zi=!1,H=l.memoizedState,y.state=H,zl(l,d,y,m),Dl();var q=l.memoizedState;S!==Y||H!==q||zi||r!==null&&r.dependencies!==null&&So(r.dependencies)?(typeof N=="function"&&(Sf(l,o,N,d),q=l.memoizedState),(V=zi||Jy(l,o,V,d,H,q,O)||r!==null&&r.dependencies!==null&&So(r.dependencies))?(B||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(d,q,O),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(d,q,O)),typeof y.componentDidUpdate=="function"&&(l.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof y.componentDidUpdate!="function"||S===r.memoizedProps&&H===r.memoizedState||(l.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||S===r.memoizedProps&&H===r.memoizedState||(l.flags|=1024),l.memoizedProps=d,l.memoizedState=q),y.props=d,y.state=q,y.context=O,d=V):(typeof y.componentDidUpdate!="function"||S===r.memoizedProps&&H===r.memoizedState||(l.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||S===r.memoizedProps&&H===r.memoizedState||(l.flags|=1024),d=!1)}return y=d,Io(r,l),d=(l.flags&128)!==0,y||d?(y=l.stateNode,o=d&&typeof o.getDerivedStateFromError!="function"?null:y.render(),l.flags|=1,r!==null&&d?(l.child=Rr(l,r.child,null,m),l.child=Rr(l,null,o,m)):At(r,l,o,m),l.memoizedState=y.state,r=l.child):r=li(r,l,m),r}function db(r,l,o,d){return Nr(),l.flags|=256,At(r,l,o,d),l.child}var Cf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Af(r){return{baseLanes:r,cachePool:ey()}}function Mf(r,l,o){return r=r!==null?r.childLanes&~o:0,l&&(r|=cn),r}function fb(r,l,o){var d=l.pendingProps,m=!1,y=(l.flags&128)!==0,S;if((S=y)||(S=r!==null&&r.memoizedState===null?!1:(lt.current&2)!==0),S&&(m=!0,l.flags&=-129),S=(l.flags&32)!==0,l.flags&=-33,r===null){if(Ae){if(m?Bi(l):Hi(),(r=Fe)?(r=v0(r,xn),r=r!==null&&r.data!=="&"?r:null,r!==null&&(l.memoizedState={dehydrated:r,treeContext:Oi!==null?{id:qn,overflow:In}:null,retryLane:536870912,hydrationErrors:null},o=Fg(r),o.return=l,l.child=o,Tt=l,Fe=null)):r=null,r===null)throw ji(l);return dh(r)?l.lanes=32:l.lanes=536870912,null}var N=d.children;return d=d.fallback,m?(Hi(),m=l.mode,N=Po({mode:"hidden",children:N},m),d=Er(d,m,o,null),N.return=l,d.return=l,N.sibling=d,l.child=N,d=l.child,d.memoizedState=Af(o),d.childLanes=Mf(r,S,o),l.memoizedState=Cf,Ul(null,d)):(Bi(l),Of(l,N))}var O=r.memoizedState;if(O!==null&&(N=O.dehydrated,N!==null)){if(y)l.flags&256?(Bi(l),l.flags&=-257,l=Rf(r,l,o)):l.memoizedState!==null?(Hi(),l.child=r.child,l.flags|=128,l=null):(Hi(),N=d.fallback,m=l.mode,d=Po({mode:"visible",children:d.children},m),N=Er(N,m,o,null),N.flags|=2,d.return=l,N.return=l,d.sibling=N,l.child=d,Rr(l,r.child,null,o),d=l.child,d.memoizedState=Af(o),d.childLanes=Mf(r,S,o),l.memoizedState=Cf,l=Ul(null,d));else if(Bi(l),dh(N)){if(S=N.nextSibling&&N.nextSibling.dataset,S)var B=S.dgst;S=B,d=Error(i(419)),d.stack="",d.digest=S,Cl({value:d,source:null,stack:null}),l=Rf(r,l,o)}else if(dt||Es(r,l,o,!1),S=(o&r.childLanes)!==0,dt||S){if(S=Ie,S!==null&&(d=Qm(S,o),d!==0&&d!==O.retryLane))throw O.retryLane=d,kr(r,d),Jt(S,r,d),Nf;uh(N)||Wo(),l=Rf(r,l,o)}else uh(N)?(l.flags|=192,l.child=r.child,l=null):(r=O.treeContext,Fe=wn(N.nextSibling),Tt=l,Ae=!0,Ri=null,xn=!1,r!==null&&Yg(l,r),l=Of(l,d.children),l.flags|=4096);return l}return m?(Hi(),N=d.fallback,m=l.mode,O=r.child,B=O.sibling,d=ei(O,{mode:"hidden",children:d.children}),d.subtreeFlags=O.subtreeFlags&65011712,B!==null?N=ei(B,N):(N=Er(N,m,o,null),N.flags|=2),N.return=l,d.return=l,d.sibling=N,l.child=d,Ul(null,d),d=l.child,N=r.child.memoizedState,N===null?N=Af(o):(m=N.cachePool,m!==null?(O=ct._currentValue,m=m.parent!==O?{parent:O,pool:O}:m):m=ey(),N={baseLanes:N.baseLanes|o,cachePool:m}),d.memoizedState=N,d.childLanes=Mf(r,S,o),l.memoizedState=Cf,Ul(r.child,d)):(Bi(l),o=r.child,r=o.sibling,o=ei(o,{mode:"visible",children:d.children}),o.return=l,o.sibling=null,r!==null&&(S=l.deletions,S===null?(l.deletions=[r],l.flags|=16):S.push(r)),l.child=o,l.memoizedState=null,o)}function Of(r,l){return l=Po({mode:"visible",children:l},r.mode),l.return=r,r.child=l}function Po(r,l){return r=sn(22,r,null,l),r.lanes=0,r}function Rf(r,l,o){return Rr(l,r.child,null,o),r=Of(l,l.pendingProps.children),r.flags|=2,l.memoizedState=null,r}function hb(r,l,o){r.lanes|=l;var d=r.alternate;d!==null&&(d.lanes|=l),Fd(r.return,l,o)}function jf(r,l,o,d,m,y){var S=r.memoizedState;S===null?r.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:d,tail:o,tailMode:m,treeForkCount:y}:(S.isBackwards=l,S.rendering=null,S.renderingStartTime=0,S.last=d,S.tail=o,S.tailMode=m,S.treeForkCount=y)}function pb(r,l,o){var d=l.pendingProps,m=d.revealOrder,y=d.tail;d=d.children;var S=lt.current,N=(S&2)!==0;if(N?(S=S&1|2,l.flags|=128):S&=1,X(lt,S),At(r,l,d,o),d=Ae?Tl:0,!N&&r!==null&&(r.flags&128)!==0)e:for(r=l.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&hb(r,o,l);else if(r.tag===19)hb(r,o,l);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===l)break e;for(;r.sibling===null;){if(r.return===null||r.return===l)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}switch(m){case"forwards":for(o=l.child,m=null;o!==null;)r=o.alternate,r!==null&&Oo(r)===null&&(m=o),o=o.sibling;o=m,o===null?(m=l.child,l.child=null):(m=o.sibling,o.sibling=null),jf(l,!1,m,o,y,d);break;case"backwards":case"unstable_legacy-backwards":for(o=null,m=l.child,l.child=null;m!==null;){if(r=m.alternate,r!==null&&Oo(r)===null){l.child=m;break}r=m.sibling,m.sibling=o,o=m,m=r}jf(l,!0,o,null,y,d);break;case"together":jf(l,!1,null,null,void 0,d);break;default:l.memoizedState=null}return l.child}function li(r,l,o){if(r!==null&&(l.dependencies=r.dependencies),Ii|=l.lanes,(o&l.childLanes)===0)if(r!==null){if(Es(r,l,o,!1),(o&l.childLanes)===0)return null}else return null;if(r!==null&&l.child!==r.child)throw Error(i(153));if(l.child!==null){for(r=l.child,o=ei(r,r.pendingProps),l.child=o,o.return=l;r.sibling!==null;)r=r.sibling,o=o.sibling=ei(r,r.pendingProps),o.return=l;o.sibling=null}return l.child}function Df(r,l){return(r.lanes&l)!==0?!0:(r=r.dependencies,!!(r!==null&&So(r)))}function hN(r,l,o){switch(l.tag){case 3:Ht(l,l.stateNode.containerInfo),Di(l,ct,r.memoizedState.cache),Nr();break;case 27:case 5:dl(l);break;case 4:Ht(l,l.stateNode.containerInfo);break;case 10:Di(l,l.type,l.memoizedProps.value);break;case 31:if(l.memoizedState!==null)return l.flags|=128,rf(l),null;break;case 13:var d=l.memoizedState;if(d!==null)return d.dehydrated!==null?(Bi(l),l.flags|=128,null):(o&l.child.childLanes)!==0?fb(r,l,o):(Bi(l),r=li(r,l,o),r!==null?r.sibling:null);Bi(l);break;case 19:var m=(r.flags&128)!==0;if(d=(o&l.childLanes)!==0,d||(Es(r,l,o,!1),d=(o&l.childLanes)!==0),m){if(d)return pb(r,l,o);l.flags|=128}if(m=l.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),X(lt,lt.current),d)break;return null;case 22:return l.lanes=0,lb(r,l,o,l.pendingProps);case 24:Di(l,ct,r.memoizedState.cache)}return li(r,l,o)}function mb(r,l,o){if(r!==null)if(r.memoizedProps!==l.pendingProps)dt=!0;else{if(!Df(r,o)&&(l.flags&128)===0)return dt=!1,hN(r,l,o);dt=(r.flags&131072)!==0}else dt=!1,Ae&&(l.flags&1048576)!==0&&Gg(l,Tl,l.index);switch(l.lanes=0,l.tag){case 16:e:{var d=l.pendingProps;if(r=Mr(l.elementType),l.type=r,typeof r=="function")Bd(r)?(d=Dr(r,d),l.tag=1,l=ub(null,l,r,d,o)):(l.tag=0,l=Tf(null,l,r,d,o));else{if(r!=null){var m=r.$$typeof;if(m===P){l.tag=11,l=ib(null,l,r,d,o);break e}else if(m===L){l.tag=14,l=rb(null,l,r,d,o);break e}}throw l=Se(r)||r,Error(i(306,l,""))}}return l;case 0:return Tf(r,l,l.type,l.pendingProps,o);case 1:return d=l.type,m=Dr(d,l.pendingProps),ub(r,l,d,m,o);case 3:e:{if(Ht(l,l.stateNode.containerInfo),r===null)throw Error(i(387));d=l.pendingProps;var y=l.memoizedState;m=y.element,Qd(r,l),zl(l,d,null,o);var S=l.memoizedState;if(d=S.cache,Di(l,ct,d),d!==y.cache&&Kd(l,[ct],o,!0),Dl(),d=S.element,y.isDehydrated)if(y={element:d,isDehydrated:!1,cache:S.cache},l.updateQueue.baseState=y,l.memoizedState=y,l.flags&256){l=db(r,l,d,o);break e}else if(d!==m){m=gn(Error(i(424)),l),Cl(m),l=db(r,l,d,o);break e}else for(r=l.stateNode.containerInfo,r.nodeType===9?r=r.body:r=r.nodeName==="HTML"?r.ownerDocument.body:r,Fe=wn(r.firstChild),Tt=l,Ae=!0,Ri=null,xn=!0,o=ly(l,null,d,o),l.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Nr(),d===m){l=li(r,l,o);break e}At(r,l,d,o)}l=l.child}return l;case 26:return Io(r,l),r===null?(o=T0(l.type,null,l.pendingProps,null))?l.memoizedState=o:Ae||(o=l.type,r=l.pendingProps,d=rc(ke.current).createElement(o),d[Nt]=l,d[Vt]=r,Mt(d,o,r),bt(d),l.stateNode=d):l.memoizedState=T0(l.type,r.memoizedProps,l.pendingProps,r.memoizedState),null;case 27:return dl(l),r===null&&Ae&&(d=l.stateNode=k0(l.type,l.pendingProps,ke.current),Tt=l,xn=!0,m=Fe,Ki(l.type)?(fh=m,Fe=wn(d.firstChild)):Fe=m),At(r,l,l.pendingProps.children,o),Io(r,l),r===null&&(l.flags|=4194304),l.child;case 5:return r===null&&Ae&&((m=d=Fe)&&(d=VN(d,l.type,l.pendingProps,xn),d!==null?(l.stateNode=d,Tt=l,Fe=wn(d.firstChild),xn=!1,m=!0):m=!1),m||ji(l)),dl(l),m=l.type,y=l.pendingProps,S=r!==null?r.memoizedProps:null,d=y.children,ah(m,y)?d=null:S!==null&&ah(m,S)&&(l.flags|=32),l.memoizedState!==null&&(m=lf(r,l,rN,null,null,o),ea._currentValue=m),Io(r,l),At(r,l,d,o),l.child;case 6:return r===null&&Ae&&((r=o=Fe)&&(o=$N(o,l.pendingProps,xn),o!==null?(l.stateNode=o,Tt=l,Fe=null,r=!0):r=!1),r||ji(l)),null;case 13:return fb(r,l,o);case 4:return Ht(l,l.stateNode.containerInfo),d=l.pendingProps,r===null?l.child=Rr(l,null,d,o):At(r,l,d,o),l.child;case 11:return ib(r,l,l.type,l.pendingProps,o);case 7:return At(r,l,l.pendingProps,o),l.child;case 8:return At(r,l,l.pendingProps.children,o),l.child;case 12:return At(r,l,l.pendingProps.children,o),l.child;case 10:return d=l.pendingProps,Di(l,l.type,d.value),At(r,l,d.children,o),l.child;case 9:return m=l.type._context,d=l.pendingProps.children,Cr(l),m=Ct(m),d=d(m),l.flags|=1,At(r,l,d,o),l.child;case 14:return rb(r,l,l.type,l.pendingProps,o);case 15:return sb(r,l,l.type,l.pendingProps,o);case 19:return pb(r,l,o);case 31:return fN(r,l,o);case 22:return lb(r,l,o,l.pendingProps);case 24:return Cr(l),d=Ct(ct),r===null?(m=Jd(),m===null&&(m=Ie,y=Gd(),m.pooledCache=y,y.refCount++,y!==null&&(m.pooledCacheLanes|=o),m=y),l.memoizedState={parent:d,cache:m},Wd(l),Di(l,ct,m)):((r.lanes&o)!==0&&(Qd(r,l),zl(l,null,null,o),Dl()),m=r.memoizedState,y=l.memoizedState,m.parent!==d?(m={parent:d,cache:d},l.memoizedState=m,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=m),Di(l,ct,d)):(d=y.cache,Di(l,ct,d),d!==m.cache&&Kd(l,[ct],o,!0))),At(r,l,l.pendingProps.children,o),l.child;case 29:throw l.pendingProps}throw Error(i(156,l.tag))}function ai(r){r.flags|=4}function zf(r,l,o,d,m){if((l=(r.mode&32)!==0)&&(l=!1),l){if(r.flags|=16777216,(m&335544128)===m)if(r.stateNode.complete)r.flags|=8192;else if(Pb())r.flags|=8192;else throw Or=To,Xd}else r.flags&=-16777217}function gb(r,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!R0(l))if(Pb())r.flags|=8192;else throw Or=To,Xd}function Vo(r,l){l!==null&&(r.flags|=4),r.flags&16384&&(l=r.tag!==22?Jm():536870912,r.lanes|=l,_s|=l)}function ql(r,l){if(!Ae)switch(r.tailMode){case"hidden":l=r.tail;for(var o=null;l!==null;)l.alternate!==null&&(o=l),l=l.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var d=null;o!==null;)o.alternate!==null&&(d=o),o=o.sibling;d===null?l||r.tail===null?r.tail=null:r.tail.sibling=null:d.sibling=null}}function Ke(r){var l=r.alternate!==null&&r.alternate.child===r.child,o=0,d=0;if(l)for(var m=r.child;m!==null;)o|=m.lanes|m.childLanes,d|=m.subtreeFlags&65011712,d|=m.flags&65011712,m.return=r,m=m.sibling;else for(m=r.child;m!==null;)o|=m.lanes|m.childLanes,d|=m.subtreeFlags,d|=m.flags,m.return=r,m=m.sibling;return r.subtreeFlags|=d,r.childLanes=o,l}function pN(r,l,o){var d=l.pendingProps;switch(Id(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ke(l),null;case 1:return Ke(l),null;case 3:return o=l.stateNode,d=null,r!==null&&(d=r.memoizedState.cache),l.memoizedState.cache!==d&&(l.flags|=2048),ii(ct),st(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(ks(l)?ai(l):r===null||r.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Vd())),Ke(l),null;case 26:var m=l.type,y=l.memoizedState;return r===null?(ai(l),y!==null?(Ke(l),gb(l,y)):(Ke(l),zf(l,m,null,d,o))):y?y!==r.memoizedState?(ai(l),Ke(l),gb(l,y)):(Ke(l),l.flags&=-16777217):(r=r.memoizedProps,r!==d&&ai(l),Ke(l),zf(l,m,r,d,o)),null;case 27:if(Za(l),o=ke.current,m=l.type,r!==null&&l.stateNode!=null)r.memoizedProps!==d&&ai(l);else{if(!d){if(l.stateNode===null)throw Error(i(166));return Ke(l),null}r=ee.current,ks(l)?Jg(l):(r=k0(m,d,o),l.stateNode=r,ai(l))}return Ke(l),null;case 5:if(Za(l),m=l.type,r!==null&&l.stateNode!=null)r.memoizedProps!==d&&ai(l);else{if(!d){if(l.stateNode===null)throw Error(i(166));return Ke(l),null}if(y=ee.current,ks(l))Jg(l);else{var S=rc(ke.current);switch(y){case 1:y=S.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:y=S.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":y=S.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":y=S.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":y=S.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof d.is=="string"?S.createElement("select",{is:d.is}):S.createElement("select"),d.multiple?y.multiple=!0:d.size&&(y.size=d.size);break;default:y=typeof d.is=="string"?S.createElement(m,{is:d.is}):S.createElement(m)}}y[Nt]=l,y[Vt]=d;e:for(S=l.child;S!==null;){if(S.tag===5||S.tag===6)y.appendChild(S.stateNode);else if(S.tag!==4&&S.tag!==27&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===l)break e;for(;S.sibling===null;){if(S.return===null||S.return===l)break e;S=S.return}S.sibling.return=S.return,S=S.sibling}l.stateNode=y;e:switch(Mt(y,m,d),m){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}d&&ai(l)}}return Ke(l),zf(l,l.type,r===null?null:r.memoizedProps,l.pendingProps,o),null;case 6:if(r&&l.stateNode!=null)r.memoizedProps!==d&&ai(l);else{if(typeof d!="string"&&l.stateNode===null)throw Error(i(166));if(r=ke.current,ks(l)){if(r=l.stateNode,o=l.memoizedProps,d=null,m=Tt,m!==null)switch(m.tag){case 27:case 5:d=m.memoizedProps}r[Nt]=l,r=!!(r.nodeValue===o||d!==null&&d.suppressHydrationWarning===!0||f0(r.nodeValue,o)),r||ji(l,!0)}else r=rc(r).createTextNode(d),r[Nt]=l,l.stateNode=r}return Ke(l),null;case 31:if(o=l.memoizedState,r===null||r.memoizedState!==null){if(d=ks(l),o!==null){if(r===null){if(!d)throw Error(i(318));if(r=l.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(557));r[Nt]=l}else Nr(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Ke(l),r=!1}else o=Vd(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=o),r=!0;if(!r)return l.flags&256?(an(l),l):(an(l),null);if((l.flags&128)!==0)throw Error(i(558))}return Ke(l),null;case 13:if(d=l.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(m=ks(l),d!==null&&d.dehydrated!==null){if(r===null){if(!m)throw Error(i(318));if(m=l.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(i(317));m[Nt]=l}else Nr(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Ke(l),m=!1}else m=Vd(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=m),m=!0;if(!m)return l.flags&256?(an(l),l):(an(l),null)}return an(l),(l.flags&128)!==0?(l.lanes=o,l):(o=d!==null,r=r!==null&&r.memoizedState!==null,o&&(d=l.child,m=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(m=d.alternate.memoizedState.cachePool.pool),y=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(y=d.memoizedState.cachePool.pool),y!==m&&(d.flags|=2048)),o!==r&&o&&(l.child.flags|=8192),Vo(l,l.updateQueue),Ke(l),null);case 4:return st(),r===null&&nh(l.stateNode.containerInfo),Ke(l),null;case 10:return ii(l.type),Ke(l),null;case 19:if(F(lt),d=l.memoizedState,d===null)return Ke(l),null;if(m=(l.flags&128)!==0,y=d.rendering,y===null)if(m)ql(d,!1);else{if(et!==0||r!==null&&(r.flags&128)!==0)for(r=l.child;r!==null;){if(y=Oo(r),y!==null){for(l.flags|=128,ql(d,!1),r=y.updateQueue,l.updateQueue=r,Vo(l,r),l.subtreeFlags=0,r=o,o=l.child;o!==null;)$g(o,r),o=o.sibling;return X(lt,lt.current&1|2),Ae&&ti(l,d.treeForkCount),l.child}r=r.sibling}d.tail!==null&&en()>Yo&&(l.flags|=128,m=!0,ql(d,!1),l.lanes=4194304)}else{if(!m)if(r=Oo(y),r!==null){if(l.flags|=128,m=!0,r=r.updateQueue,l.updateQueue=r,Vo(l,r),ql(d,!0),d.tail===null&&d.tailMode==="hidden"&&!y.alternate&&!Ae)return Ke(l),null}else 2*en()-d.renderingStartTime>Yo&&o!==536870912&&(l.flags|=128,m=!0,ql(d,!1),l.lanes=4194304);d.isBackwards?(y.sibling=l.child,l.child=y):(r=d.last,r!==null?r.sibling=y:l.child=y,d.last=y)}return d.tail!==null?(r=d.tail,d.rendering=r,d.tail=r.sibling,d.renderingStartTime=en(),r.sibling=null,o=lt.current,X(lt,m?o&1|2:o&1),Ae&&ti(l,d.treeForkCount),r):(Ke(l),null);case 22:case 23:return an(l),nf(),d=l.memoizedState!==null,r!==null?r.memoizedState!==null!==d&&(l.flags|=8192):d&&(l.flags|=8192),d?(o&536870912)!==0&&(l.flags&128)===0&&(Ke(l),l.subtreeFlags&6&&(l.flags|=8192)):Ke(l),o=l.updateQueue,o!==null&&Vo(l,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==o&&(l.flags|=2048),r!==null&&F(Ar),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),l.memoizedState.cache!==o&&(l.flags|=2048),ii(ct),Ke(l),null;case 25:return null;case 30:return null}throw Error(i(156,l.tag))}function mN(r,l){switch(Id(l),l.tag){case 1:return r=l.flags,r&65536?(l.flags=r&-65537|128,l):null;case 3:return ii(ct),st(),r=l.flags,(r&65536)!==0&&(r&128)===0?(l.flags=r&-65537|128,l):null;case 26:case 27:case 5:return Za(l),null;case 31:if(l.memoizedState!==null){if(an(l),l.alternate===null)throw Error(i(340));Nr()}return r=l.flags,r&65536?(l.flags=r&-65537|128,l):null;case 13:if(an(l),r=l.memoizedState,r!==null&&r.dehydrated!==null){if(l.alternate===null)throw Error(i(340));Nr()}return r=l.flags,r&65536?(l.flags=r&-65537|128,l):null;case 19:return F(lt),null;case 4:return st(),null;case 10:return ii(l.type),null;case 22:case 23:return an(l),nf(),r!==null&&F(Ar),r=l.flags,r&65536?(l.flags=r&-65537|128,l):null;case 24:return ii(ct),null;case 25:return null;default:return null}}function yb(r,l){switch(Id(l),l.tag){case 3:ii(ct),st();break;case 26:case 27:case 5:Za(l);break;case 4:st();break;case 31:l.memoizedState!==null&&an(l);break;case 13:an(l);break;case 19:F(lt);break;case 10:ii(l.type);break;case 22:case 23:an(l),nf(),r!==null&&F(Ar);break;case 24:ii(ct)}}function Il(r,l){try{var o=l.updateQueue,d=o!==null?o.lastEffect:null;if(d!==null){var m=d.next;o=m;do{if((o.tag&r)===r){d=void 0;var y=o.create,S=o.inst;d=y(),S.destroy=d}o=o.next}while(o!==m)}}catch(N){Be(l,l.return,N)}}function Ui(r,l,o){try{var d=l.updateQueue,m=d!==null?d.lastEffect:null;if(m!==null){var y=m.next;d=y;do{if((d.tag&r)===r){var S=d.inst,N=S.destroy;if(N!==void 0){S.destroy=void 0,m=l;var O=o,B=N;try{B()}catch(V){Be(m,O,V)}}}d=d.next}while(d!==y)}}catch(V){Be(l,l.return,V)}}function bb(r){var l=r.updateQueue;if(l!==null){var o=r.stateNode;try{oy(l,o)}catch(d){Be(r,r.return,d)}}}function xb(r,l,o){o.props=Dr(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(d){Be(r,l,d)}}function Pl(r,l){try{var o=r.ref;if(o!==null){switch(r.tag){case 26:case 27:case 5:var d=r.stateNode;break;case 30:d=r.stateNode;break;default:d=r.stateNode}typeof o=="function"?r.refCleanup=o(d):o.current=d}}catch(m){Be(r,l,m)}}function Pn(r,l){var o=r.ref,d=r.refCleanup;if(o!==null)if(typeof d=="function")try{d()}catch(m){Be(r,l,m)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(m){Be(r,l,m)}else o.current=null}function vb(r){var l=r.type,o=r.memoizedProps,d=r.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":o.autoFocus&&d.focus();break e;case"img":o.src?d.src=o.src:o.srcSet&&(d.srcset=o.srcSet)}}catch(m){Be(r,r.return,m)}}function Lf(r,l,o){try{var d=r.stateNode;BN(d,r.type,o,l),d[Vt]=l}catch(m){Be(r,r.return,m)}}function wb(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&Ki(r.type)||r.tag===4}function _f(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||wb(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&Ki(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Bf(r,l,o){var d=r.tag;if(d===5||d===6)r=r.stateNode,l?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(r,l):(l=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,l.appendChild(r),o=o._reactRootContainer,o!=null||l.onclick!==null||(l.onclick=Qn));else if(d!==4&&(d===27&&Ki(r.type)&&(o=r.stateNode,l=null),r=r.child,r!==null))for(Bf(r,l,o),r=r.sibling;r!==null;)Bf(r,l,o),r=r.sibling}function $o(r,l,o){var d=r.tag;if(d===5||d===6)r=r.stateNode,l?o.insertBefore(r,l):o.appendChild(r);else if(d!==4&&(d===27&&Ki(r.type)&&(o=r.stateNode),r=r.child,r!==null))for($o(r,l,o),r=r.sibling;r!==null;)$o(r,l,o),r=r.sibling}function Sb(r){var l=r.stateNode,o=r.memoizedProps;try{for(var d=r.type,m=l.attributes;m.length;)l.removeAttributeNode(m[0]);Mt(l,d,o),l[Nt]=r,l[Vt]=o}catch(y){Be(r,r.return,y)}}var oi=!1,ft=!1,Hf=!1,kb=typeof WeakSet=="function"?WeakSet:Set,xt=null;function gN(r,l){if(r=r.containerInfo,sh=dc,r=Lg(r),Od(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var d=o.getSelection&&o.getSelection();if(d&&d.rangeCount!==0){o=d.anchorNode;var m=d.anchorOffset,y=d.focusNode;d=d.focusOffset;try{o.nodeType,y.nodeType}catch{o=null;break e}var S=0,N=-1,O=-1,B=0,V=0,Y=r,H=null;t:for(;;){for(var q;Y!==o||m!==0&&Y.nodeType!==3||(N=S+m),Y!==y||d!==0&&Y.nodeType!==3||(O=S+d),Y.nodeType===3&&(S+=Y.nodeValue.length),(q=Y.firstChild)!==null;)H=Y,Y=q;for(;;){if(Y===r)break t;if(H===o&&++B===m&&(N=S),H===y&&++V===d&&(O=S),(q=Y.nextSibling)!==null)break;Y=H,H=Y.parentNode}Y=q}o=N===-1||O===-1?null:{start:N,end:O}}else o=null}o=o||{start:0,end:0}}else o=null;for(lh={focusedElem:r,selectionRange:o},dc=!1,xt=l;xt!==null;)if(l=xt,r=l.child,(l.subtreeFlags&1028)!==0&&r!==null)r.return=l,xt=r;else for(;xt!==null;){switch(l=xt,y=l.alternate,r=l.flags,l.tag){case 0:if((r&4)!==0&&(r=l.updateQueue,r=r!==null?r.events:null,r!==null))for(o=0;o<r.length;o++)m=r[o],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((r&1024)!==0&&y!==null){r=void 0,o=l,m=y.memoizedProps,y=y.memoizedState,d=o.stateNode;try{var ne=Dr(o.type,m);r=d.getSnapshotBeforeUpdate(ne,y),d.__reactInternalSnapshotBeforeUpdate=r}catch(de){Be(o,o.return,de)}}break;case 3:if((r&1024)!==0){if(r=l.stateNode.containerInfo,o=r.nodeType,o===9)ch(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":ch(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=l.sibling,r!==null){r.return=l.return,xt=r;break}xt=l.return}}function Eb(r,l,o){var d=o.flags;switch(o.tag){case 0:case 11:case 15:ui(r,o),d&4&&Il(5,o);break;case 1:if(ui(r,o),d&4)if(r=o.stateNode,l===null)try{r.componentDidMount()}catch(S){Be(o,o.return,S)}else{var m=Dr(o.type,l.memoizedProps);l=l.memoizedState;try{r.componentDidUpdate(m,l,r.__reactInternalSnapshotBeforeUpdate)}catch(S){Be(o,o.return,S)}}d&64&&bb(o),d&512&&Pl(o,o.return);break;case 3:if(ui(r,o),d&64&&(r=o.updateQueue,r!==null)){if(l=null,o.child!==null)switch(o.child.tag){case 27:case 5:l=o.child.stateNode;break;case 1:l=o.child.stateNode}try{oy(r,l)}catch(S){Be(o,o.return,S)}}break;case 27:l===null&&d&4&&Sb(o);case 26:case 5:ui(r,o),l===null&&d&4&&vb(o),d&512&&Pl(o,o.return);break;case 12:ui(r,o);break;case 31:ui(r,o),d&4&&Cb(r,o);break;case 13:ui(r,o),d&4&&Ab(r,o),d&64&&(r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(o=NN.bind(null,o),FN(r,o))));break;case 22:if(d=o.memoizedState!==null||oi,!d){l=l!==null&&l.memoizedState!==null||ft,m=oi;var y=ft;oi=d,(ft=l)&&!y?di(r,o,(o.subtreeFlags&8772)!==0):ui(r,o),oi=m,ft=y}break;case 30:break;default:ui(r,o)}}function Nb(r){var l=r.alternate;l!==null&&(r.alternate=null,Nb(l)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(l=r.stateNode,l!==null&&hd(l)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Ye=null,Ft=!1;function ci(r,l,o){for(o=o.child;o!==null;)Tb(r,l,o),o=o.sibling}function Tb(r,l,o){if(tn&&typeof tn.onCommitFiberUnmount=="function")try{tn.onCommitFiberUnmount(fl,o)}catch{}switch(o.tag){case 26:ft||Pn(o,l),ci(r,l,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:ft||Pn(o,l);var d=Ye,m=Ft;Ki(o.type)&&(Ye=o.stateNode,Ft=!1),ci(r,l,o),Wl(o.stateNode),Ye=d,Ft=m;break;case 5:ft||Pn(o,l);case 6:if(d=Ye,m=Ft,Ye=null,ci(r,l,o),Ye=d,Ft=m,Ye!==null)if(Ft)try{(Ye.nodeType===9?Ye.body:Ye.nodeName==="HTML"?Ye.ownerDocument.body:Ye).removeChild(o.stateNode)}catch(y){Be(o,l,y)}else try{Ye.removeChild(o.stateNode)}catch(y){Be(o,l,y)}break;case 18:Ye!==null&&(Ft?(r=Ye,b0(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,o.stateNode),$s(r)):b0(Ye,o.stateNode));break;case 4:d=Ye,m=Ft,Ye=o.stateNode.containerInfo,Ft=!0,ci(r,l,o),Ye=d,Ft=m;break;case 0:case 11:case 14:case 15:Ui(2,o,l),ft||Ui(4,o,l),ci(r,l,o);break;case 1:ft||(Pn(o,l),d=o.stateNode,typeof d.componentWillUnmount=="function"&&xb(o,l,d)),ci(r,l,o);break;case 21:ci(r,l,o);break;case 22:ft=(d=ft)||o.memoizedState!==null,ci(r,l,o),ft=d;break;default:ci(r,l,o)}}function Cb(r,l){if(l.memoizedState===null&&(r=l.alternate,r!==null&&(r=r.memoizedState,r!==null))){r=r.dehydrated;try{$s(r)}catch(o){Be(l,l.return,o)}}}function Ab(r,l){if(l.memoizedState===null&&(r=l.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{$s(r)}catch(o){Be(l,l.return,o)}}function yN(r){switch(r.tag){case 31:case 13:case 19:var l=r.stateNode;return l===null&&(l=r.stateNode=new kb),l;case 22:return r=r.stateNode,l=r._retryCache,l===null&&(l=r._retryCache=new kb),l;default:throw Error(i(435,r.tag))}}function Fo(r,l){var o=yN(r);l.forEach(function(d){if(!o.has(d)){o.add(d);var m=TN.bind(null,r,d);d.then(m,m)}})}function Kt(r,l){var o=l.deletions;if(o!==null)for(var d=0;d<o.length;d++){var m=o[d],y=r,S=l,N=S;e:for(;N!==null;){switch(N.tag){case 27:if(Ki(N.type)){Ye=N.stateNode,Ft=!1;break e}break;case 5:Ye=N.stateNode,Ft=!1;break e;case 3:case 4:Ye=N.stateNode.containerInfo,Ft=!0;break e}N=N.return}if(Ye===null)throw Error(i(160));Tb(y,S,m),Ye=null,Ft=!1,y=m.alternate,y!==null&&(y.return=null),m.return=null}if(l.subtreeFlags&13886)for(l=l.child;l!==null;)Mb(l,r),l=l.sibling}var Rn=null;function Mb(r,l){var o=r.alternate,d=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Kt(l,r),Gt(r),d&4&&(Ui(3,r,r.return),Il(3,r),Ui(5,r,r.return));break;case 1:Kt(l,r),Gt(r),d&512&&(ft||o===null||Pn(o,o.return)),d&64&&oi&&(r=r.updateQueue,r!==null&&(d=r.callbacks,d!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?d:o.concat(d))));break;case 26:var m=Rn;if(Kt(l,r),Gt(r),d&512&&(ft||o===null||Pn(o,o.return)),d&4){var y=o!==null?o.memoizedState:null;if(d=r.memoizedState,o===null)if(d===null)if(r.stateNode===null){e:{d=r.type,o=r.memoizedProps,m=m.ownerDocument||m;t:switch(d){case"title":y=m.getElementsByTagName("title")[0],(!y||y[ml]||y[Nt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=m.createElement(d),m.head.insertBefore(y,m.querySelector("head > title"))),Mt(y,d,o),y[Nt]=r,bt(y),d=y;break e;case"link":var S=M0("link","href",m).get(d+(o.href||""));if(S){for(var N=0;N<S.length;N++)if(y=S[N],y.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&y.getAttribute("rel")===(o.rel==null?null:o.rel)&&y.getAttribute("title")===(o.title==null?null:o.title)&&y.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){S.splice(N,1);break t}}y=m.createElement(d),Mt(y,d,o),m.head.appendChild(y);break;case"meta":if(S=M0("meta","content",m).get(d+(o.content||""))){for(N=0;N<S.length;N++)if(y=S[N],y.getAttribute("content")===(o.content==null?null:""+o.content)&&y.getAttribute("name")===(o.name==null?null:o.name)&&y.getAttribute("property")===(o.property==null?null:o.property)&&y.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&y.getAttribute("charset")===(o.charSet==null?null:o.charSet)){S.splice(N,1);break t}}y=m.createElement(d),Mt(y,d,o),m.head.appendChild(y);break;default:throw Error(i(468,d))}y[Nt]=r,bt(y),d=y}r.stateNode=d}else O0(m,r.type,r.stateNode);else r.stateNode=A0(m,d,r.memoizedProps);else y!==d?(y===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):y.count--,d===null?O0(m,r.type,r.stateNode):A0(m,d,r.memoizedProps)):d===null&&r.stateNode!==null&&Lf(r,r.memoizedProps,o.memoizedProps)}break;case 27:Kt(l,r),Gt(r),d&512&&(ft||o===null||Pn(o,o.return)),o!==null&&d&4&&Lf(r,r.memoizedProps,o.memoizedProps);break;case 5:if(Kt(l,r),Gt(r),d&512&&(ft||o===null||Pn(o,o.return)),r.flags&32){m=r.stateNode;try{hs(m,"")}catch(ne){Be(r,r.return,ne)}}d&4&&r.stateNode!=null&&(m=r.memoizedProps,Lf(r,m,o!==null?o.memoizedProps:m)),d&1024&&(Hf=!0);break;case 6:if(Kt(l,r),Gt(r),d&4){if(r.stateNode===null)throw Error(i(162));d=r.memoizedProps,o=r.stateNode;try{o.nodeValue=d}catch(ne){Be(r,r.return,ne)}}break;case 3:if(ac=null,m=Rn,Rn=sc(l.containerInfo),Kt(l,r),Rn=m,Gt(r),d&4&&o!==null&&o.memoizedState.isDehydrated)try{$s(l.containerInfo)}catch(ne){Be(r,r.return,ne)}Hf&&(Hf=!1,Ob(r));break;case 4:d=Rn,Rn=sc(r.stateNode.containerInfo),Kt(l,r),Gt(r),Rn=d;break;case 12:Kt(l,r),Gt(r);break;case 31:Kt(l,r),Gt(r),d&4&&(d=r.updateQueue,d!==null&&(r.updateQueue=null,Fo(r,d)));break;case 13:Kt(l,r),Gt(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Go=en()),d&4&&(d=r.updateQueue,d!==null&&(r.updateQueue=null,Fo(r,d)));break;case 22:m=r.memoizedState!==null;var O=o!==null&&o.memoizedState!==null,B=oi,V=ft;if(oi=B||m,ft=V||O,Kt(l,r),ft=V,oi=B,Gt(r),d&8192)e:for(l=r.stateNode,l._visibility=m?l._visibility&-2:l._visibility|1,m&&(o===null||O||oi||ft||zr(r)),o=null,l=r;;){if(l.tag===5||l.tag===26){if(o===null){O=o=l;try{if(y=O.stateNode,m)S=y.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{N=O.stateNode;var Y=O.memoizedProps.style,H=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;N.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(ne){Be(O,O.return,ne)}}}else if(l.tag===6){if(o===null){O=l;try{O.stateNode.nodeValue=m?"":O.memoizedProps}catch(ne){Be(O,O.return,ne)}}}else if(l.tag===18){if(o===null){O=l;try{var q=O.stateNode;m?x0(q,!0):x0(O.stateNode,!1)}catch(ne){Be(O,O.return,ne)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===r)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===r)break e;for(;l.sibling===null;){if(l.return===null||l.return===r)break e;o===l&&(o=null),l=l.return}o===l&&(o=null),l.sibling.return=l.return,l=l.sibling}d&4&&(d=r.updateQueue,d!==null&&(o=d.retryQueue,o!==null&&(d.retryQueue=null,Fo(r,o))));break;case 19:Kt(l,r),Gt(r),d&4&&(d=r.updateQueue,d!==null&&(r.updateQueue=null,Fo(r,d)));break;case 30:break;case 21:break;default:Kt(l,r),Gt(r)}}function Gt(r){var l=r.flags;if(l&2){try{for(var o,d=r.return;d!==null;){if(wb(d)){o=d;break}d=d.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var m=o.stateNode,y=_f(r);$o(r,y,m);break;case 5:var S=o.stateNode;o.flags&32&&(hs(S,""),o.flags&=-33);var N=_f(r);$o(r,N,S);break;case 3:case 4:var O=o.stateNode.containerInfo,B=_f(r);Bf(r,B,O);break;default:throw Error(i(161))}}catch(V){Be(r,r.return,V)}r.flags&=-3}l&4096&&(r.flags&=-4097)}function Ob(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var l=r;Ob(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),r=r.sibling}}function ui(r,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)Eb(r,l.alternate,l),l=l.sibling}function zr(r){for(r=r.child;r!==null;){var l=r;switch(l.tag){case 0:case 11:case 14:case 15:Ui(4,l,l.return),zr(l);break;case 1:Pn(l,l.return);var o=l.stateNode;typeof o.componentWillUnmount=="function"&&xb(l,l.return,o),zr(l);break;case 27:Wl(l.stateNode);case 26:case 5:Pn(l,l.return),zr(l);break;case 22:l.memoizedState===null&&zr(l);break;case 30:zr(l);break;default:zr(l)}r=r.sibling}}function di(r,l,o){for(o=o&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var d=l.alternate,m=r,y=l,S=y.flags;switch(y.tag){case 0:case 11:case 15:di(m,y,o),Il(4,y);break;case 1:if(di(m,y,o),d=y,m=d.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(B){Be(d,d.return,B)}if(d=y,m=d.updateQueue,m!==null){var N=d.stateNode;try{var O=m.shared.hiddenCallbacks;if(O!==null)for(m.shared.hiddenCallbacks=null,m=0;m<O.length;m++)ay(O[m],N)}catch(B){Be(d,d.return,B)}}o&&S&64&&bb(y),Pl(y,y.return);break;case 27:Sb(y);case 26:case 5:di(m,y,o),o&&d===null&&S&4&&vb(y),Pl(y,y.return);break;case 12:di(m,y,o);break;case 31:di(m,y,o),o&&S&4&&Cb(m,y);break;case 13:di(m,y,o),o&&S&4&&Ab(m,y);break;case 22:y.memoizedState===null&&di(m,y,o),Pl(y,y.return);break;case 30:break;default:di(m,y,o)}l=l.sibling}}function Uf(r,l){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(r=l.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&Al(o))}function qf(r,l){r=null,l.alternate!==null&&(r=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==r&&(l.refCount++,r!=null&&Al(r))}function jn(r,l,o,d){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)Rb(r,l,o,d),l=l.sibling}function Rb(r,l,o,d){var m=l.flags;switch(l.tag){case 0:case 11:case 15:jn(r,l,o,d),m&2048&&Il(9,l);break;case 1:jn(r,l,o,d);break;case 3:jn(r,l,o,d),m&2048&&(r=null,l.alternate!==null&&(r=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==r&&(l.refCount++,r!=null&&Al(r)));break;case 12:if(m&2048){jn(r,l,o,d),r=l.stateNode;try{var y=l.memoizedProps,S=y.id,N=y.onPostCommit;typeof N=="function"&&N(S,l.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(O){Be(l,l.return,O)}}else jn(r,l,o,d);break;case 31:jn(r,l,o,d);break;case 13:jn(r,l,o,d);break;case 23:break;case 22:y=l.stateNode,S=l.alternate,l.memoizedState!==null?y._visibility&2?jn(r,l,o,d):Vl(r,l):y._visibility&2?jn(r,l,o,d):(y._visibility|=2,Ds(r,l,o,d,(l.subtreeFlags&10256)!==0||!1)),m&2048&&Uf(S,l);break;case 24:jn(r,l,o,d),m&2048&&qf(l.alternate,l);break;default:jn(r,l,o,d)}}function Ds(r,l,o,d,m){for(m=m&&((l.subtreeFlags&10256)!==0||!1),l=l.child;l!==null;){var y=r,S=l,N=o,O=d,B=S.flags;switch(S.tag){case 0:case 11:case 15:Ds(y,S,N,O,m),Il(8,S);break;case 23:break;case 22:var V=S.stateNode;S.memoizedState!==null?V._visibility&2?Ds(y,S,N,O,m):Vl(y,S):(V._visibility|=2,Ds(y,S,N,O,m)),m&&B&2048&&Uf(S.alternate,S);break;case 24:Ds(y,S,N,O,m),m&&B&2048&&qf(S.alternate,S);break;default:Ds(y,S,N,O,m)}l=l.sibling}}function Vl(r,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var o=r,d=l,m=d.flags;switch(d.tag){case 22:Vl(o,d),m&2048&&Uf(d.alternate,d);break;case 24:Vl(o,d),m&2048&&qf(d.alternate,d);break;default:Vl(o,d)}l=l.sibling}}var $l=8192;function zs(r,l,o){if(r.subtreeFlags&$l)for(r=r.child;r!==null;)jb(r,l,o),r=r.sibling}function jb(r,l,o){switch(r.tag){case 26:zs(r,l,o),r.flags&$l&&r.memoizedState!==null&&iT(o,Rn,r.memoizedState,r.memoizedProps);break;case 5:zs(r,l,o);break;case 3:case 4:var d=Rn;Rn=sc(r.stateNode.containerInfo),zs(r,l,o),Rn=d;break;case 22:r.memoizedState===null&&(d=r.alternate,d!==null&&d.memoizedState!==null?(d=$l,$l=16777216,zs(r,l,o),$l=d):zs(r,l,o));break;default:zs(r,l,o)}}function Db(r){var l=r.alternate;if(l!==null&&(r=l.child,r!==null)){l.child=null;do l=r.sibling,r.sibling=null,r=l;while(r!==null)}}function Fl(r){var l=r.deletions;if((r.flags&16)!==0){if(l!==null)for(var o=0;o<l.length;o++){var d=l[o];xt=d,Lb(d,r)}Db(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)zb(r),r=r.sibling}function zb(r){switch(r.tag){case 0:case 11:case 15:Fl(r),r.flags&2048&&Ui(9,r,r.return);break;case 3:Fl(r);break;case 12:Fl(r);break;case 22:var l=r.stateNode;r.memoizedState!==null&&l._visibility&2&&(r.return===null||r.return.tag!==13)?(l._visibility&=-3,Ko(r)):Fl(r);break;default:Fl(r)}}function Ko(r){var l=r.deletions;if((r.flags&16)!==0){if(l!==null)for(var o=0;o<l.length;o++){var d=l[o];xt=d,Lb(d,r)}Db(r)}for(r=r.child;r!==null;){switch(l=r,l.tag){case 0:case 11:case 15:Ui(8,l,l.return),Ko(l);break;case 22:o=l.stateNode,o._visibility&2&&(o._visibility&=-3,Ko(l));break;default:Ko(l)}r=r.sibling}}function Lb(r,l){for(;xt!==null;){var o=xt;switch(o.tag){case 0:case 11:case 15:Ui(8,o,l);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var d=o.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:Al(o.memoizedState.cache)}if(d=o.child,d!==null)d.return=o,xt=d;else e:for(o=r;xt!==null;){d=xt;var m=d.sibling,y=d.return;if(Nb(d),d===o){xt=null;break e}if(m!==null){m.return=y,xt=m;break e}xt=y}}}var bN={getCacheForType:function(r){var l=Ct(ct),o=l.data.get(r);return o===void 0&&(o=r(),l.data.set(r,o)),o},cacheSignal:function(){return Ct(ct).controller.signal}},xN=typeof WeakMap=="function"?WeakMap:Map,De=0,Ie=null,Ee=null,Te=0,_e=0,on=null,qi=!1,Ls=!1,If=!1,fi=0,et=0,Ii=0,Lr=0,Pf=0,cn=0,_s=0,Kl=null,Yt=null,Vf=!1,Go=0,_b=0,Yo=1/0,Jo=null,Pi=null,mt=0,Vi=null,Bs=null,hi=0,$f=0,Ff=null,Bb=null,Gl=0,Kf=null;function un(){return(De&2)!==0&&Te!==0?Te&-Te:U.T!==null?Qf():Zm()}function Hb(){if(cn===0)if((Te&536870912)===0||Ae){var r=no;no<<=1,(no&3932160)===0&&(no=262144),cn=r}else cn=536870912;return r=ln.current,r!==null&&(r.flags|=32),cn}function Jt(r,l,o){(r===Ie&&(_e===2||_e===9)||r.cancelPendingCommit!==null)&&(Hs(r,0),$i(r,Te,cn,!1)),pl(r,o),((De&2)===0||r!==Ie)&&(r===Ie&&((De&2)===0&&(Lr|=o),et===4&&$i(r,Te,cn,!1)),Vn(r))}function Ub(r,l,o){if((De&6)!==0)throw Error(i(327));var d=!o&&(l&127)===0&&(l&r.expiredLanes)===0||hl(r,l),m=d?SN(r,l):Yf(r,l,!0),y=d;do{if(m===0){Ls&&!d&&$i(r,l,0,!1);break}else{if(o=r.current.alternate,y&&!vN(o)){m=Yf(r,l,!1),y=!1;continue}if(m===2){if(y=l,r.errorRecoveryDisabledLanes&y)var S=0;else S=r.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){l=S;e:{var N=r;m=Kl;var O=N.current.memoizedState.isDehydrated;if(O&&(Hs(N,S).flags|=256),S=Yf(N,S,!1),S!==2){if(If&&!O){N.errorRecoveryDisabledLanes|=y,Lr|=y,m=4;break e}y=Yt,Yt=m,y!==null&&(Yt===null?Yt=y:Yt.push.apply(Yt,y))}m=S}if(y=!1,m!==2)continue}}if(m===1){Hs(r,0),$i(r,l,0,!0);break}e:{switch(d=r,y=m,y){case 0:case 1:throw Error(i(345));case 4:if((l&4194048)!==l)break;case 6:$i(d,l,cn,!qi);break e;case 2:Yt=null;break;case 3:case 5:break;default:throw Error(i(329))}if((l&62914560)===l&&(m=Go+300-en(),10<m)){if($i(d,l,cn,!qi),ro(d,0,!0)!==0)break e;hi=l,d.timeoutHandle=g0(qb.bind(null,d,o,Yt,Jo,Vf,l,cn,Lr,_s,qi,y,"Throttled",-0,0),m);break e}qb(d,o,Yt,Jo,Vf,l,cn,Lr,_s,qi,y,null,-0,0)}}break}while(!0);Vn(r)}function qb(r,l,o,d,m,y,S,N,O,B,V,Y,H,q){if(r.timeoutHandle=-1,Y=l.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Qn},jb(l,y,Y);var ne=(y&62914560)===y?Go-en():(y&4194048)===y?_b-en():0;if(ne=rT(Y,ne),ne!==null){hi=y,r.cancelPendingCommit=ne(Yb.bind(null,r,l,y,o,d,m,S,N,O,V,Y,null,H,q)),$i(r,y,S,!B);return}}Yb(r,l,y,o,d,m,S,N,O)}function vN(r){for(var l=r;;){var o=l.tag;if((o===0||o===11||o===15)&&l.flags&16384&&(o=l.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var d=0;d<o.length;d++){var m=o[d],y=m.getSnapshot;m=m.value;try{if(!rn(y(),m))return!1}catch{return!1}}if(o=l.child,l.subtreeFlags&16384&&o!==null)o.return=l,l=o;else{if(l===r)break;for(;l.sibling===null;){if(l.return===null||l.return===r)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function $i(r,l,o,d){l&=~Pf,l&=~Lr,r.suspendedLanes|=l,r.pingedLanes&=~l,d&&(r.warmLanes|=l),d=r.expirationTimes;for(var m=l;0<m;){var y=31-nn(m),S=1<<y;d[y]=-1,m&=~S}o!==0&&Xm(r,o,l)}function Xo(){return(De&6)===0?(Yl(0),!1):!0}function Gf(){if(Ee!==null){if(_e===0)var r=Ee.return;else r=Ee,ni=Tr=null,cf(r),As=null,Ol=0,r=Ee;for(;r!==null;)yb(r.alternate,r),r=r.return;Ee=null}}function Hs(r,l){var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,qN(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),hi=0,Gf(),Ie=r,Ee=o=ei(r.current,null),Te=l,_e=0,on=null,qi=!1,Ls=hl(r,l),If=!1,_s=cn=Pf=Lr=Ii=et=0,Yt=Kl=null,Vf=!1,(l&8)!==0&&(l|=l&32);var d=r.entangledLanes;if(d!==0)for(r=r.entanglements,d&=l;0<d;){var m=31-nn(d),y=1<<m;l|=r[m],d&=~y}return fi=l,yo(),o}function Ib(r,l){ye=null,U.H=Hl,l===Cs||l===No?(l=iy(),_e=3):l===Xd?(l=iy(),_e=4):_e=l===Nf?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,on=l,Ee===null&&(et=1,Uo(r,gn(l,r.current)))}function Pb(){var r=ln.current;return r===null?!0:(Te&4194048)===Te?vn===null:(Te&62914560)===Te||(Te&536870912)!==0?r===vn:!1}function Vb(){var r=U.H;return U.H=Hl,r===null?Hl:r}function $b(){var r=U.A;return U.A=bN,r}function Wo(){et=4,qi||(Te&4194048)!==Te&&ln.current!==null||(Ls=!0),(Ii&134217727)===0&&(Lr&134217727)===0||Ie===null||$i(Ie,Te,cn,!1)}function Yf(r,l,o){var d=De;De|=2;var m=Vb(),y=$b();(Ie!==r||Te!==l)&&(Jo=null,Hs(r,l)),l=!1;var S=et;e:do try{if(_e!==0&&Ee!==null){var N=Ee,O=on;switch(_e){case 8:Gf(),S=6;break e;case 3:case 2:case 9:case 6:ln.current===null&&(l=!0);var B=_e;if(_e=0,on=null,Us(r,N,O,B),o&&Ls){S=0;break e}break;default:B=_e,_e=0,on=null,Us(r,N,O,B)}}wN(),S=et;break}catch(V){Ib(r,V)}while(!0);return l&&r.shellSuspendCounter++,ni=Tr=null,De=d,U.H=m,U.A=y,Ee===null&&(Ie=null,Te=0,yo()),S}function wN(){for(;Ee!==null;)Fb(Ee)}function SN(r,l){var o=De;De|=2;var d=Vb(),m=$b();Ie!==r||Te!==l?(Jo=null,Yo=en()+500,Hs(r,l)):Ls=hl(r,l);e:do try{if(_e!==0&&Ee!==null){l=Ee;var y=on;t:switch(_e){case 1:_e=0,on=null,Us(r,l,y,1);break;case 2:case 9:if(ty(y)){_e=0,on=null,Kb(l);break}l=function(){_e!==2&&_e!==9||Ie!==r||(_e=7),Vn(r)},y.then(l,l);break e;case 3:_e=7;break e;case 4:_e=5;break e;case 7:ty(y)?(_e=0,on=null,Kb(l)):(_e=0,on=null,Us(r,l,y,7));break;case 5:var S=null;switch(Ee.tag){case 26:S=Ee.memoizedState;case 5:case 27:var N=Ee;if(S?R0(S):N.stateNode.complete){_e=0,on=null;var O=N.sibling;if(O!==null)Ee=O;else{var B=N.return;B!==null?(Ee=B,Qo(B)):Ee=null}break t}}_e=0,on=null,Us(r,l,y,5);break;case 6:_e=0,on=null,Us(r,l,y,6);break;case 8:Gf(),et=6;break e;default:throw Error(i(462))}}kN();break}catch(V){Ib(r,V)}while(!0);return ni=Tr=null,U.H=d,U.A=m,De=o,Ee!==null?0:(Ie=null,Te=0,yo(),et)}function kN(){for(;Ee!==null&&!Kk();)Fb(Ee)}function Fb(r){var l=mb(r.alternate,r,fi);r.memoizedProps=r.pendingProps,l===null?Qo(r):Ee=l}function Kb(r){var l=r,o=l.alternate;switch(l.tag){case 15:case 0:l=cb(o,l,l.pendingProps,l.type,void 0,Te);break;case 11:l=cb(o,l,l.pendingProps,l.type.render,l.ref,Te);break;case 5:cf(l);default:yb(o,l),l=Ee=$g(l,fi),l=mb(o,l,fi)}r.memoizedProps=r.pendingProps,l===null?Qo(r):Ee=l}function Us(r,l,o,d){ni=Tr=null,cf(l),As=null,Ol=0;var m=l.return;try{if(dN(r,m,l,o,Te)){et=1,Uo(r,gn(o,r.current)),Ee=null;return}}catch(y){if(m!==null)throw Ee=m,y;et=1,Uo(r,gn(o,r.current)),Ee=null;return}l.flags&32768?(Ae||d===1?r=!0:Ls||(Te&536870912)!==0?r=!1:(qi=r=!0,(d===2||d===9||d===3||d===6)&&(d=ln.current,d!==null&&d.tag===13&&(d.flags|=16384))),Gb(l,r)):Qo(l)}function Qo(r){var l=r;do{if((l.flags&32768)!==0){Gb(l,qi);return}r=l.return;var o=pN(l.alternate,l,fi);if(o!==null){Ee=o;return}if(l=l.sibling,l!==null){Ee=l;return}Ee=l=r}while(l!==null);et===0&&(et=5)}function Gb(r,l){do{var o=mN(r.alternate,r);if(o!==null){o.flags&=32767,Ee=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!l&&(r=r.sibling,r!==null)){Ee=r;return}Ee=r=o}while(r!==null);et=6,Ee=null}function Yb(r,l,o,d,m,y,S,N,O){r.cancelPendingCommit=null;do Zo();while(mt!==0);if((De&6)!==0)throw Error(i(327));if(l!==null){if(l===r.current)throw Error(i(177));if(y=l.lanes|l.childLanes,y|=Ld,nE(r,o,y,S,N,O),r===Ie&&(Ee=Ie=null,Te=0),Bs=l,Vi=r,hi=o,$f=y,Ff=m,Bb=d,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,CN(eo,function(){return Zb(),null})):(r.callbackNode=null,r.callbackPriority=0),d=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||d){d=U.T,U.T=null,m=Q.p,Q.p=2,S=De,De|=4;try{gN(r,l,o)}finally{De=S,Q.p=m,U.T=d}}mt=1,Jb(),Xb(),Wb()}}function Jb(){if(mt===1){mt=0;var r=Vi,l=Bs,o=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||o){o=U.T,U.T=null;var d=Q.p;Q.p=2;var m=De;De|=4;try{Mb(l,r);var y=lh,S=Lg(r.containerInfo),N=y.focusedElem,O=y.selectionRange;if(S!==N&&N&&N.ownerDocument&&zg(N.ownerDocument.documentElement,N)){if(O!==null&&Od(N)){var B=O.start,V=O.end;if(V===void 0&&(V=B),"selectionStart"in N)N.selectionStart=B,N.selectionEnd=Math.min(V,N.value.length);else{var Y=N.ownerDocument||document,H=Y&&Y.defaultView||window;if(H.getSelection){var q=H.getSelection(),ne=N.textContent.length,de=Math.min(O.start,ne),qe=O.end===void 0?de:Math.min(O.end,ne);!q.extend&&de>qe&&(S=qe,qe=de,de=S);var j=Dg(N,de),R=Dg(N,qe);if(j&&R&&(q.rangeCount!==1||q.anchorNode!==j.node||q.anchorOffset!==j.offset||q.focusNode!==R.node||q.focusOffset!==R.offset)){var _=Y.createRange();_.setStart(j.node,j.offset),q.removeAllRanges(),de>qe?(q.addRange(_),q.extend(R.node,R.offset)):(_.setEnd(R.node,R.offset),q.addRange(_))}}}}for(Y=[],q=N;q=q.parentNode;)q.nodeType===1&&Y.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof N.focus=="function"&&N.focus(),N=0;N<Y.length;N++){var K=Y[N];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}dc=!!sh,lh=sh=null}finally{De=m,Q.p=d,U.T=o}}r.current=l,mt=2}}function Xb(){if(mt===2){mt=0;var r=Vi,l=Bs,o=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||o){o=U.T,U.T=null;var d=Q.p;Q.p=2;var m=De;De|=4;try{Eb(r,l.alternate,l)}finally{De=m,Q.p=d,U.T=o}}mt=3}}function Wb(){if(mt===4||mt===3){mt=0,Gk();var r=Vi,l=Bs,o=hi,d=Bb;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?mt=5:(mt=0,Bs=Vi=null,Qb(r,r.pendingLanes));var m=r.pendingLanes;if(m===0&&(Pi=null),dd(o),l=l.stateNode,tn&&typeof tn.onCommitFiberRoot=="function")try{tn.onCommitFiberRoot(fl,l,void 0,(l.current.flags&128)===128)}catch{}if(d!==null){l=U.T,m=Q.p,Q.p=2,U.T=null;try{for(var y=r.onRecoverableError,S=0;S<d.length;S++){var N=d[S];y(N.value,{componentStack:N.stack})}}finally{U.T=l,Q.p=m}}(hi&3)!==0&&Zo(),Vn(r),m=r.pendingLanes,(o&261930)!==0&&(m&42)!==0?r===Kf?Gl++:(Gl=0,Kf=r):Gl=0,Yl(0)}}function Qb(r,l){(r.pooledCacheLanes&=l)===0&&(l=r.pooledCache,l!=null&&(r.pooledCache=null,Al(l)))}function Zo(){return Jb(),Xb(),Wb(),Zb()}function Zb(){if(mt!==5)return!1;var r=Vi,l=$f;$f=0;var o=dd(hi),d=U.T,m=Q.p;try{Q.p=32>o?32:o,U.T=null,o=Ff,Ff=null;var y=Vi,S=hi;if(mt=0,Bs=Vi=null,hi=0,(De&6)!==0)throw Error(i(331));var N=De;if(De|=4,zb(y.current),Rb(y,y.current,S,o),De=N,Yl(0,!1),tn&&typeof tn.onPostCommitFiberRoot=="function")try{tn.onPostCommitFiberRoot(fl,y)}catch{}return!0}finally{Q.p=m,U.T=d,Qb(r,l)}}function e0(r,l,o){l=gn(o,l),l=Ef(r.stateNode,l,2),r=_i(r,l,2),r!==null&&(pl(r,2),Vn(r))}function Be(r,l,o){if(r.tag===3)e0(r,r,o);else for(;l!==null;){if(l.tag===3){e0(l,r,o);break}else if(l.tag===1){var d=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Pi===null||!Pi.has(d))){r=gn(o,r),o=tb(2),d=_i(l,o,2),d!==null&&(nb(o,d,l,r),pl(d,2),Vn(d));break}}l=l.return}}function Jf(r,l,o){var d=r.pingCache;if(d===null){d=r.pingCache=new xN;var m=new Set;d.set(l,m)}else m=d.get(l),m===void 0&&(m=new Set,d.set(l,m));m.has(o)||(If=!0,m.add(o),r=EN.bind(null,r,l,o),l.then(r,r))}function EN(r,l,o){var d=r.pingCache;d!==null&&d.delete(l),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,Ie===r&&(Te&o)===o&&(et===4||et===3&&(Te&62914560)===Te&&300>en()-Go?(De&2)===0&&Hs(r,0):Pf|=o,_s===Te&&(_s=0)),Vn(r)}function t0(r,l){l===0&&(l=Jm()),r=kr(r,l),r!==null&&(pl(r,l),Vn(r))}function NN(r){var l=r.memoizedState,o=0;l!==null&&(o=l.retryLane),t0(r,o)}function TN(r,l){var o=0;switch(r.tag){case 31:case 13:var d=r.stateNode,m=r.memoizedState;m!==null&&(o=m.retryLane);break;case 19:d=r.stateNode;break;case 22:d=r.stateNode._retryCache;break;default:throw Error(i(314))}d!==null&&d.delete(l),t0(r,o)}function CN(r,l){return ad(r,l)}var ec=null,qs=null,Xf=!1,tc=!1,Wf=!1,Fi=0;function Vn(r){r!==qs&&r.next===null&&(qs===null?ec=qs=r:qs=qs.next=r),tc=!0,Xf||(Xf=!0,MN())}function Yl(r,l){if(!Wf&&tc){Wf=!0;do for(var o=!1,d=ec;d!==null;){if(r!==0){var m=d.pendingLanes;if(m===0)var y=0;else{var S=d.suspendedLanes,N=d.pingedLanes;y=(1<<31-nn(42|r)+1)-1,y&=m&~(S&~N),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(o=!0,s0(d,y))}else y=Te,y=ro(d,d===Ie?y:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(y&3)===0||hl(d,y)||(o=!0,s0(d,y));d=d.next}while(o);Wf=!1}}function AN(){n0()}function n0(){tc=Xf=!1;var r=0;Fi!==0&&UN()&&(r=Fi);for(var l=en(),o=null,d=ec;d!==null;){var m=d.next,y=i0(d,l);y===0?(d.next=null,o===null?ec=m:o.next=m,m===null&&(qs=o)):(o=d,(r!==0||(y&3)!==0)&&(tc=!0)),d=m}mt!==0&&mt!==5||Yl(r),Fi!==0&&(Fi=0)}function i0(r,l){for(var o=r.suspendedLanes,d=r.pingedLanes,m=r.expirationTimes,y=r.pendingLanes&-62914561;0<y;){var S=31-nn(y),N=1<<S,O=m[S];O===-1?((N&o)===0||(N&d)!==0)&&(m[S]=tE(N,l)):O<=l&&(r.expiredLanes|=N),y&=~N}if(l=Ie,o=Te,o=ro(r,r===l?o:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),d=r.callbackNode,o===0||r===l&&(_e===2||_e===9)||r.cancelPendingCommit!==null)return d!==null&&d!==null&&od(d),r.callbackNode=null,r.callbackPriority=0;if((o&3)===0||hl(r,o)){if(l=o&-o,l===r.callbackPriority)return l;switch(d!==null&&od(d),dd(o)){case 2:case 8:o=Gm;break;case 32:o=eo;break;case 268435456:o=Ym;break;default:o=eo}return d=r0.bind(null,r),o=ad(o,d),r.callbackPriority=l,r.callbackNode=o,l}return d!==null&&d!==null&&od(d),r.callbackPriority=2,r.callbackNode=null,2}function r0(r,l){if(mt!==0&&mt!==5)return r.callbackNode=null,r.callbackPriority=0,null;var o=r.callbackNode;if(Zo()&&r.callbackNode!==o)return null;var d=Te;return d=ro(r,r===Ie?d:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),d===0?null:(Ub(r,d,l),i0(r,en()),r.callbackNode!=null&&r.callbackNode===o?r0.bind(null,r):null)}function s0(r,l){if(Zo())return null;Ub(r,l,!0)}function MN(){IN(function(){(De&6)!==0?ad(Km,AN):n0()})}function Qf(){if(Fi===0){var r=Ns;r===0&&(r=to,to<<=1,(to&261888)===0&&(to=256)),Fi=r}return Fi}function l0(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:oo(""+r)}function a0(r,l){var o=l.ownerDocument.createElement("input");return o.name=l.name,o.value=l.value,r.id&&o.setAttribute("form",r.id),l.parentNode.insertBefore(o,l),r=new FormData(r),o.parentNode.removeChild(o),r}function ON(r,l,o,d,m){if(l==="submit"&&o&&o.stateNode===m){var y=l0((m[Vt]||null).action),S=d.submitter;S&&(l=(l=S[Vt]||null)?l0(l.formAction):S.getAttribute("formAction"),l!==null&&(y=l,S=null));var N=new ho("action","action",null,d,m);r.push({event:N,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(Fi!==0){var O=S?a0(m,S):new FormData(m);bf(o,{pending:!0,data:O,method:m.method,action:y},null,O)}}else typeof y=="function"&&(N.preventDefault(),O=S?a0(m,S):new FormData(m),bf(o,{pending:!0,data:O,method:m.method,action:y},y,O))},currentTarget:m}]})}}for(var Zf=0;Zf<zd.length;Zf++){var eh=zd[Zf],RN=eh.toLowerCase(),jN=eh[0].toUpperCase()+eh.slice(1);On(RN,"on"+jN)}On(Hg,"onAnimationEnd"),On(Ug,"onAnimationIteration"),On(qg,"onAnimationStart"),On("dblclick","onDoubleClick"),On("focusin","onFocus"),On("focusout","onBlur"),On(YE,"onTransitionRun"),On(JE,"onTransitionStart"),On(XE,"onTransitionCancel"),On(Ig,"onTransitionEnd"),ds("onMouseEnter",["mouseout","mouseover"]),ds("onMouseLeave",["mouseout","mouseover"]),ds("onPointerEnter",["pointerout","pointerover"]),ds("onPointerLeave",["pointerout","pointerover"]),xr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),xr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),xr("onBeforeInput",["compositionend","keypress","textInput","paste"]),xr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),xr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),xr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),DN=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Jl));function o0(r,l){l=(l&4)!==0;for(var o=0;o<r.length;o++){var d=r[o],m=d.event;d=d.listeners;e:{var y=void 0;if(l)for(var S=d.length-1;0<=S;S--){var N=d[S],O=N.instance,B=N.currentTarget;if(N=N.listener,O!==y&&m.isPropagationStopped())break e;y=N,m.currentTarget=B;try{y(m)}catch(V){go(V)}m.currentTarget=null,y=O}else for(S=0;S<d.length;S++){if(N=d[S],O=N.instance,B=N.currentTarget,N=N.listener,O!==y&&m.isPropagationStopped())break e;y=N,m.currentTarget=B;try{y(m)}catch(V){go(V)}m.currentTarget=null,y=O}}}}function Ne(r,l){var o=l[fd];o===void 0&&(o=l[fd]=new Set);var d=r+"__bubble";o.has(d)||(c0(l,r,2,!1),o.add(d))}function th(r,l,o){var d=0;l&&(d|=4),c0(o,r,d,l)}var nc="_reactListening"+Math.random().toString(36).slice(2);function nh(r){if(!r[nc]){r[nc]=!0,ng.forEach(function(o){o!=="selectionchange"&&(DN.has(o)||th(o,!1,r),th(o,!0,r))});var l=r.nodeType===9?r:r.ownerDocument;l===null||l[nc]||(l[nc]=!0,th("selectionchange",!1,l))}}function c0(r,l,o,d){switch(H0(l)){case 2:var m=aT;break;case 8:m=oT;break;default:m=yh}o=m.bind(null,l,o,r),m=void 0,!wd||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(m=!0),d?m!==void 0?r.addEventListener(l,o,{capture:!0,passive:m}):r.addEventListener(l,o,!0):m!==void 0?r.addEventListener(l,o,{passive:m}):r.addEventListener(l,o,!1)}function ih(r,l,o,d,m){var y=d;if((l&1)===0&&(l&2)===0&&d!==null)e:for(;;){if(d===null)return;var S=d.tag;if(S===3||S===4){var N=d.stateNode.containerInfo;if(N===m)break;if(S===4)for(S=d.return;S!==null;){var O=S.tag;if((O===3||O===4)&&S.stateNode.containerInfo===m)return;S=S.return}for(;N!==null;){if(S=as(N),S===null)return;if(O=S.tag,O===5||O===6||O===26||O===27){d=y=S;continue e}N=N.parentNode}}d=d.return}pg(function(){var B=y,V=xd(o),Y=[];e:{var H=Pg.get(r);if(H!==void 0){var q=ho,ne=r;switch(r){case"keypress":if(uo(o)===0)break e;case"keydown":case"keyup":q=TE;break;case"focusin":ne="focus",q=Nd;break;case"focusout":ne="blur",q=Nd;break;case"beforeblur":case"afterblur":q=Nd;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=yg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=pE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=ME;break;case Hg:case Ug:case qg:q=yE;break;case Ig:q=RE;break;case"scroll":case"scrollend":q=fE;break;case"wheel":q=DE;break;case"copy":case"cut":case"paste":q=xE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=xg;break;case"toggle":case"beforetoggle":q=LE}var de=(l&4)!==0,qe=!de&&(r==="scroll"||r==="scrollend"),j=de?H!==null?H+"Capture":null:H;de=[];for(var R=B,_;R!==null;){var K=R;if(_=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||_===null||j===null||(K=yl(R,j),K!=null&&de.push(Xl(R,K,_))),qe)break;R=R.return}0<de.length&&(H=new q(H,ne,null,o,V),Y.push({event:H,listeners:de}))}}if((l&7)===0){e:{if(H=r==="mouseover"||r==="pointerover",q=r==="mouseout"||r==="pointerout",H&&o!==bd&&(ne=o.relatedTarget||o.fromElement)&&(as(ne)||ne[ls]))break e;if((q||H)&&(H=V.window===V?V:(H=V.ownerDocument)?H.defaultView||H.parentWindow:window,q?(ne=o.relatedTarget||o.toElement,q=B,ne=ne?as(ne):null,ne!==null&&(qe=a(ne),de=ne.tag,ne!==qe||de!==5&&de!==27&&de!==6)&&(ne=null)):(q=null,ne=B),q!==ne)){if(de=yg,K="onMouseLeave",j="onMouseEnter",R="mouse",(r==="pointerout"||r==="pointerover")&&(de=xg,K="onPointerLeave",j="onPointerEnter",R="pointer"),qe=q==null?H:gl(q),_=ne==null?H:gl(ne),H=new de(K,R+"leave",q,o,V),H.target=qe,H.relatedTarget=_,K=null,as(V)===B&&(de=new de(j,R+"enter",ne,o,V),de.target=_,de.relatedTarget=qe,K=de),qe=K,q&&ne)t:{for(de=zN,j=q,R=ne,_=0,K=j;K;K=de(K))_++;K=0;for(var oe=R;oe;oe=de(oe))K++;for(;0<_-K;)j=de(j),_--;for(;0<K-_;)R=de(R),K--;for(;_--;){if(j===R||R!==null&&j===R.alternate){de=j;break t}j=de(j),R=de(R)}de=null}else de=null;q!==null&&u0(Y,H,q,de,!1),ne!==null&&qe!==null&&u0(Y,qe,ne,de,!0)}}e:{if(H=B?gl(B):window,q=H.nodeName&&H.nodeName.toLowerCase(),q==="select"||q==="input"&&H.type==="file")var Oe=Cg;else if(Ng(H))if(Ag)Oe=FE;else{Oe=VE;var se=PE}else q=H.nodeName,!q||q.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?B&&yd(B.elementType)&&(Oe=Cg):Oe=$E;if(Oe&&(Oe=Oe(r,B))){Tg(Y,Oe,o,V);break e}se&&se(r,H,B),r==="focusout"&&B&&H.type==="number"&&B.memoizedProps.value!=null&&gd(H,"number",H.value)}switch(se=B?gl(B):window,r){case"focusin":(Ng(se)||se.contentEditable==="true")&&(ys=se,Rd=B,Nl=null);break;case"focusout":Nl=Rd=ys=null;break;case"mousedown":jd=!0;break;case"contextmenu":case"mouseup":case"dragend":jd=!1,_g(Y,o,V);break;case"selectionchange":if(GE)break;case"keydown":case"keyup":_g(Y,o,V)}var be;if(Cd)e:{switch(r){case"compositionstart":var Ce="onCompositionStart";break e;case"compositionend":Ce="onCompositionEnd";break e;case"compositionupdate":Ce="onCompositionUpdate";break e}Ce=void 0}else gs?kg(r,o)&&(Ce="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(Ce="onCompositionStart");Ce&&(vg&&o.locale!=="ko"&&(gs||Ce!=="onCompositionStart"?Ce==="onCompositionEnd"&&gs&&(be=mg()):(Mi=V,Sd="value"in Mi?Mi.value:Mi.textContent,gs=!0)),se=ic(B,Ce),0<se.length&&(Ce=new bg(Ce,r,null,o,V),Y.push({event:Ce,listeners:se}),be?Ce.data=be:(be=Eg(o),be!==null&&(Ce.data=be)))),(be=BE?HE(r,o):UE(r,o))&&(Ce=ic(B,"onBeforeInput"),0<Ce.length&&(se=new bg("onBeforeInput","beforeinput",null,o,V),Y.push({event:se,listeners:Ce}),se.data=be)),ON(Y,r,B,o,V)}o0(Y,l)})}function Xl(r,l,o){return{instance:r,listener:l,currentTarget:o}}function ic(r,l){for(var o=l+"Capture",d=[];r!==null;){var m=r,y=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||y===null||(m=yl(r,o),m!=null&&d.unshift(Xl(r,m,y)),m=yl(r,l),m!=null&&d.push(Xl(r,m,y))),r.tag===3)return d;r=r.return}return[]}function zN(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function u0(r,l,o,d,m){for(var y=l._reactName,S=[];o!==null&&o!==d;){var N=o,O=N.alternate,B=N.stateNode;if(N=N.tag,O!==null&&O===d)break;N!==5&&N!==26&&N!==27||B===null||(O=B,m?(B=yl(o,y),B!=null&&S.unshift(Xl(o,B,O))):m||(B=yl(o,y),B!=null&&S.push(Xl(o,B,O)))),o=o.return}S.length!==0&&r.push({event:l,listeners:S})}var LN=/\r\n?/g,_N=/\u0000|\uFFFD/g;function d0(r){return(typeof r=="string"?r:""+r).replace(LN,`
`).replace(_N,"")}function f0(r,l){return l=d0(l),d0(r)===l}function Ue(r,l,o,d,m,y){switch(o){case"children":typeof d=="string"?l==="body"||l==="textarea"&&d===""||hs(r,d):(typeof d=="number"||typeof d=="bigint")&&l!=="body"&&hs(r,""+d);break;case"className":lo(r,"class",d);break;case"tabIndex":lo(r,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":lo(r,o,d);break;case"style":fg(r,d,y);break;case"data":if(l!=="object"){lo(r,"data",d);break}case"src":case"href":if(d===""&&(l!=="a"||o!=="href")){r.removeAttribute(o);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){r.removeAttribute(o);break}d=oo(""+d),r.setAttribute(o,d);break;case"action":case"formAction":if(typeof d=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(o==="formAction"?(l!=="input"&&Ue(r,l,"name",m.name,m,null),Ue(r,l,"formEncType",m.formEncType,m,null),Ue(r,l,"formMethod",m.formMethod,m,null),Ue(r,l,"formTarget",m.formTarget,m,null)):(Ue(r,l,"encType",m.encType,m,null),Ue(r,l,"method",m.method,m,null),Ue(r,l,"target",m.target,m,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){r.removeAttribute(o);break}d=oo(""+d),r.setAttribute(o,d);break;case"onClick":d!=null&&(r.onclick=Qn);break;case"onScroll":d!=null&&Ne("scroll",r);break;case"onScrollEnd":d!=null&&Ne("scrollend",r);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(o=d.__html,o!=null){if(m.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"multiple":r.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":r.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){r.removeAttribute("xlink:href");break}o=oo(""+d),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?r.setAttribute(o,""+d):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":d===!0?r.setAttribute(o,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?r.setAttribute(o,d):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?r.setAttribute(o,d):r.removeAttribute(o);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?r.removeAttribute(o):r.setAttribute(o,d);break;case"popover":Ne("beforetoggle",r),Ne("toggle",r),so(r,"popover",d);break;case"xlinkActuate":Wn(r,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":Wn(r,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":Wn(r,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":Wn(r,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":Wn(r,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":Wn(r,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":Wn(r,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":Wn(r,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":Wn(r,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":so(r,"is",d);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=uE.get(o)||o,so(r,o,d))}}function rh(r,l,o,d,m,y){switch(o){case"style":fg(r,d,y);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(o=d.__html,o!=null){if(m.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"children":typeof d=="string"?hs(r,d):(typeof d=="number"||typeof d=="bigint")&&hs(r,""+d);break;case"onScroll":d!=null&&Ne("scroll",r);break;case"onScrollEnd":d!=null&&Ne("scrollend",r);break;case"onClick":d!=null&&(r.onclick=Qn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ig.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(m=o.endsWith("Capture"),l=o.slice(2,m?o.length-7:void 0),y=r[Vt]||null,y=y!=null?y[o]:null,typeof y=="function"&&r.removeEventListener(l,y,m),typeof d=="function")){typeof y!="function"&&y!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(l,d,m);break e}o in r?r[o]=d:d===!0?r.setAttribute(o,""):so(r,o,d)}}}function Mt(r,l,o){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ne("error",r),Ne("load",r);var d=!1,m=!1,y;for(y in o)if(o.hasOwnProperty(y)){var S=o[y];if(S!=null)switch(y){case"src":d=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,l));default:Ue(r,l,y,S,o,null)}}m&&Ue(r,l,"srcSet",o.srcSet,o,null),d&&Ue(r,l,"src",o.src,o,null);return;case"input":Ne("invalid",r);var N=y=S=m=null,O=null,B=null;for(d in o)if(o.hasOwnProperty(d)){var V=o[d];if(V!=null)switch(d){case"name":m=V;break;case"type":S=V;break;case"checked":O=V;break;case"defaultChecked":B=V;break;case"value":y=V;break;case"defaultValue":N=V;break;case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(i(137,l));break;default:Ue(r,l,d,V,o,null)}}og(r,y,N,O,B,S,m,!1);return;case"select":Ne("invalid",r),d=S=y=null;for(m in o)if(o.hasOwnProperty(m)&&(N=o[m],N!=null))switch(m){case"value":y=N;break;case"defaultValue":S=N;break;case"multiple":d=N;default:Ue(r,l,m,N,o,null)}l=y,o=S,r.multiple=!!d,l!=null?fs(r,!!d,l,!1):o!=null&&fs(r,!!d,o,!0);return;case"textarea":Ne("invalid",r),y=m=d=null;for(S in o)if(o.hasOwnProperty(S)&&(N=o[S],N!=null))switch(S){case"value":d=N;break;case"defaultValue":m=N;break;case"children":y=N;break;case"dangerouslySetInnerHTML":if(N!=null)throw Error(i(91));break;default:Ue(r,l,S,N,o,null)}ug(r,d,m,y);return;case"option":for(O in o)o.hasOwnProperty(O)&&(d=o[O],d!=null)&&(O==="selected"?r.selected=d&&typeof d!="function"&&typeof d!="symbol":Ue(r,l,O,d,o,null));return;case"dialog":Ne("beforetoggle",r),Ne("toggle",r),Ne("cancel",r),Ne("close",r);break;case"iframe":case"object":Ne("load",r);break;case"video":case"audio":for(d=0;d<Jl.length;d++)Ne(Jl[d],r);break;case"image":Ne("error",r),Ne("load",r);break;case"details":Ne("toggle",r);break;case"embed":case"source":case"link":Ne("error",r),Ne("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in o)if(o.hasOwnProperty(B)&&(d=o[B],d!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,l));default:Ue(r,l,B,d,o,null)}return;default:if(yd(l)){for(V in o)o.hasOwnProperty(V)&&(d=o[V],d!==void 0&&rh(r,l,V,d,o,void 0));return}}for(N in o)o.hasOwnProperty(N)&&(d=o[N],d!=null&&Ue(r,l,N,d,o,null))}function BN(r,l,o,d){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,y=null,S=null,N=null,O=null,B=null,V=null;for(q in o){var Y=o[q];if(o.hasOwnProperty(q)&&Y!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":O=Y;default:d.hasOwnProperty(q)||Ue(r,l,q,null,d,Y)}}for(var H in d){var q=d[H];if(Y=o[H],d.hasOwnProperty(H)&&(q!=null||Y!=null))switch(H){case"type":y=q;break;case"name":m=q;break;case"checked":B=q;break;case"defaultChecked":V=q;break;case"value":S=q;break;case"defaultValue":N=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(i(137,l));break;default:q!==Y&&Ue(r,l,H,q,d,Y)}}md(r,S,N,O,B,V,y,m);return;case"select":q=S=N=H=null;for(y in o)if(O=o[y],o.hasOwnProperty(y)&&O!=null)switch(y){case"value":break;case"multiple":q=O;default:d.hasOwnProperty(y)||Ue(r,l,y,null,d,O)}for(m in d)if(y=d[m],O=o[m],d.hasOwnProperty(m)&&(y!=null||O!=null))switch(m){case"value":H=y;break;case"defaultValue":N=y;break;case"multiple":S=y;default:y!==O&&Ue(r,l,m,y,d,O)}l=N,o=S,d=q,H!=null?fs(r,!!o,H,!1):!!d!=!!o&&(l!=null?fs(r,!!o,l,!0):fs(r,!!o,o?[]:"",!1));return;case"textarea":q=H=null;for(N in o)if(m=o[N],o.hasOwnProperty(N)&&m!=null&&!d.hasOwnProperty(N))switch(N){case"value":break;case"children":break;default:Ue(r,l,N,null,d,m)}for(S in d)if(m=d[S],y=o[S],d.hasOwnProperty(S)&&(m!=null||y!=null))switch(S){case"value":H=m;break;case"defaultValue":q=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(i(91));break;default:m!==y&&Ue(r,l,S,m,d,y)}cg(r,H,q);return;case"option":for(var ne in o)H=o[ne],o.hasOwnProperty(ne)&&H!=null&&!d.hasOwnProperty(ne)&&(ne==="selected"?r.selected=!1:Ue(r,l,ne,null,d,H));for(O in d)H=d[O],q=o[O],d.hasOwnProperty(O)&&H!==q&&(H!=null||q!=null)&&(O==="selected"?r.selected=H&&typeof H!="function"&&typeof H!="symbol":Ue(r,l,O,H,d,q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var de in o)H=o[de],o.hasOwnProperty(de)&&H!=null&&!d.hasOwnProperty(de)&&Ue(r,l,de,null,d,H);for(B in d)if(H=d[B],q=o[B],d.hasOwnProperty(B)&&H!==q&&(H!=null||q!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(i(137,l));break;default:Ue(r,l,B,H,d,q)}return;default:if(yd(l)){for(var qe in o)H=o[qe],o.hasOwnProperty(qe)&&H!==void 0&&!d.hasOwnProperty(qe)&&rh(r,l,qe,void 0,d,H);for(V in d)H=d[V],q=o[V],!d.hasOwnProperty(V)||H===q||H===void 0&&q===void 0||rh(r,l,V,H,d,q);return}}for(var j in o)H=o[j],o.hasOwnProperty(j)&&H!=null&&!d.hasOwnProperty(j)&&Ue(r,l,j,null,d,H);for(Y in d)H=d[Y],q=o[Y],!d.hasOwnProperty(Y)||H===q||H==null&&q==null||Ue(r,l,Y,H,d,q)}function h0(r){switch(r){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function HN(){if(typeof performance.getEntriesByType=="function"){for(var r=0,l=0,o=performance.getEntriesByType("resource"),d=0;d<o.length;d++){var m=o[d],y=m.transferSize,S=m.initiatorType,N=m.duration;if(y&&N&&h0(S)){for(S=0,N=m.responseEnd,d+=1;d<o.length;d++){var O=o[d],B=O.startTime;if(B>N)break;var V=O.transferSize,Y=O.initiatorType;V&&h0(Y)&&(O=O.responseEnd,S+=V*(O<N?1:(N-B)/(O-B)))}if(--d,l+=8*(y+S)/(m.duration/1e3),r++,10<r)break}}if(0<r)return l/r/1e6}return navigator.connection&&(r=navigator.connection.downlink,typeof r=="number")?r:5}var sh=null,lh=null;function rc(r){return r.nodeType===9?r:r.ownerDocument}function p0(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function m0(r,l){if(r===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&l==="foreignObject"?0:r}function ah(r,l){return r==="textarea"||r==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var oh=null;function UN(){var r=window.event;return r&&r.type==="popstate"?r===oh?!1:(oh=r,!0):(oh=null,!1)}var g0=typeof setTimeout=="function"?setTimeout:void 0,qN=typeof clearTimeout=="function"?clearTimeout:void 0,y0=typeof Promise=="function"?Promise:void 0,IN=typeof queueMicrotask=="function"?queueMicrotask:typeof y0<"u"?function(r){return y0.resolve(null).then(r).catch(PN)}:g0;function PN(r){setTimeout(function(){throw r})}function Ki(r){return r==="head"}function b0(r,l){var o=l,d=0;do{var m=o.nextSibling;if(r.removeChild(o),m&&m.nodeType===8)if(o=m.data,o==="/$"||o==="/&"){if(d===0){r.removeChild(m),$s(l);return}d--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")d++;else if(o==="html")Wl(r.ownerDocument.documentElement);else if(o==="head"){o=r.ownerDocument.head,Wl(o);for(var y=o.firstChild;y;){var S=y.nextSibling,N=y.nodeName;y[ml]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&y.rel.toLowerCase()==="stylesheet"||o.removeChild(y),y=S}}else o==="body"&&Wl(r.ownerDocument.body);o=m}while(o);$s(l)}function x0(r,l){var o=r;r=0;do{var d=o.nextSibling;if(o.nodeType===1?l?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(l?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),d&&d.nodeType===8)if(o=d.data,o==="/$"){if(r===0)break;r--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||r++;o=d}while(o)}function ch(r){var l=r.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var o=l;switch(l=l.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":ch(o),hd(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function VN(r,l,o,d){for(;r.nodeType===1;){var m=o;if(r.nodeName.toLowerCase()!==l.toLowerCase()){if(!d&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(d){if(!r[ml])switch(l){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(y=r.getAttribute("rel"),y==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(y!==m.rel||r.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||r.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||r.getAttribute("title")!==(m.title==null?null:m.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(y=r.getAttribute("src"),(y!==(m.src==null?null:m.src)||r.getAttribute("type")!==(m.type==null?null:m.type)||r.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&y&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(l==="input"&&r.type==="hidden"){var y=m.name==null?null:""+m.name;if(m.type==="hidden"&&r.getAttribute("name")===y)return r}else return r;if(r=wn(r.nextSibling),r===null)break}return null}function $N(r,l,o){if(l==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=wn(r.nextSibling),r===null))return null;return r}function v0(r,l){for(;r.nodeType!==8;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!l||(r=wn(r.nextSibling),r===null))return null;return r}function uh(r){return r.data==="$?"||r.data==="$~"}function dh(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState!=="loading"}function FN(r,l){var o=r.ownerDocument;if(r.data==="$~")r._reactRetry=l;else if(r.data!=="$?"||o.readyState!=="loading")l();else{var d=function(){l(),o.removeEventListener("DOMContentLoaded",d)};o.addEventListener("DOMContentLoaded",d),r._reactRetry=d}}function wn(r){for(;r!=null;r=r.nextSibling){var l=r.nodeType;if(l===1||l===3)break;if(l===8){if(l=r.data,l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"||l==="F!"||l==="F")break;if(l==="/$"||l==="/&")return null}}return r}var fh=null;function w0(r){r=r.nextSibling;for(var l=0;r;){if(r.nodeType===8){var o=r.data;if(o==="/$"||o==="/&"){if(l===0)return wn(r.nextSibling);l--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||l++}r=r.nextSibling}return null}function S0(r){r=r.previousSibling;for(var l=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(l===0)return r;l--}else o!=="/$"&&o!=="/&"||l++}r=r.previousSibling}return null}function k0(r,l,o){switch(l=rc(o),r){case"html":if(r=l.documentElement,!r)throw Error(i(452));return r;case"head":if(r=l.head,!r)throw Error(i(453));return r;case"body":if(r=l.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function Wl(r){for(var l=r.attributes;l.length;)r.removeAttributeNode(l[0]);hd(r)}var Sn=new Map,E0=new Set;function sc(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var pi=Q.d;Q.d={f:KN,r:GN,D:YN,C:JN,L:XN,m:WN,X:ZN,S:QN,M:eT};function KN(){var r=pi.f(),l=Xo();return r||l}function GN(r){var l=cs(r);l!==null&&l.tag===5&&l.type==="form"?Iy(l):pi.r(r)}var Is=typeof document>"u"?null:document;function N0(r,l,o){var d=Is;if(d&&typeof l=="string"&&l){var m=pn(l);m='link[rel="'+r+'"][href="'+m+'"]',typeof o=="string"&&(m+='[crossorigin="'+o+'"]'),E0.has(m)||(E0.add(m),r={rel:r,crossOrigin:o,href:l},d.querySelector(m)===null&&(l=d.createElement("link"),Mt(l,"link",r),bt(l),d.head.appendChild(l)))}}function YN(r){pi.D(r),N0("dns-prefetch",r,null)}function JN(r,l){pi.C(r,l),N0("preconnect",r,l)}function XN(r,l,o){pi.L(r,l,o);var d=Is;if(d&&r&&l){var m='link[rel="preload"][as="'+pn(l)+'"]';l==="image"&&o&&o.imageSrcSet?(m+='[imagesrcset="'+pn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(m+='[imagesizes="'+pn(o.imageSizes)+'"]')):m+='[href="'+pn(r)+'"]';var y=m;switch(l){case"style":y=Ps(r);break;case"script":y=Vs(r)}Sn.has(y)||(r=g({rel:"preload",href:l==="image"&&o&&o.imageSrcSet?void 0:r,as:l},o),Sn.set(y,r),d.querySelector(m)!==null||l==="style"&&d.querySelector(Ql(y))||l==="script"&&d.querySelector(Zl(y))||(l=d.createElement("link"),Mt(l,"link",r),bt(l),d.head.appendChild(l)))}}function WN(r,l){pi.m(r,l);var o=Is;if(o&&r){var d=l&&typeof l.as=="string"?l.as:"script",m='link[rel="modulepreload"][as="'+pn(d)+'"][href="'+pn(r)+'"]',y=m;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Vs(r)}if(!Sn.has(y)&&(r=g({rel:"modulepreload",href:r},l),Sn.set(y,r),o.querySelector(m)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Zl(y)))return}d=o.createElement("link"),Mt(d,"link",r),bt(d),o.head.appendChild(d)}}}function QN(r,l,o){pi.S(r,l,o);var d=Is;if(d&&r){var m=us(d).hoistableStyles,y=Ps(r);l=l||"default";var S=m.get(y);if(!S){var N={loading:0,preload:null};if(S=d.querySelector(Ql(y)))N.loading=5;else{r=g({rel:"stylesheet",href:r,"data-precedence":l},o),(o=Sn.get(y))&&hh(r,o);var O=S=d.createElement("link");bt(O),Mt(O,"link",r),O._p=new Promise(function(B,V){O.onload=B,O.onerror=V}),O.addEventListener("load",function(){N.loading|=1}),O.addEventListener("error",function(){N.loading|=2}),N.loading|=4,lc(S,l,d)}S={type:"stylesheet",instance:S,count:1,state:N},m.set(y,S)}}}function ZN(r,l){pi.X(r,l);var o=Is;if(o&&r){var d=us(o).hoistableScripts,m=Vs(r),y=d.get(m);y||(y=o.querySelector(Zl(m)),y||(r=g({src:r,async:!0},l),(l=Sn.get(m))&&ph(r,l),y=o.createElement("script"),bt(y),Mt(y,"link",r),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},d.set(m,y))}}function eT(r,l){pi.M(r,l);var o=Is;if(o&&r){var d=us(o).hoistableScripts,m=Vs(r),y=d.get(m);y||(y=o.querySelector(Zl(m)),y||(r=g({src:r,async:!0,type:"module"},l),(l=Sn.get(m))&&ph(r,l),y=o.createElement("script"),bt(y),Mt(y,"link",r),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},d.set(m,y))}}function T0(r,l,o,d){var m=(m=ke.current)?sc(m):null;if(!m)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(l=Ps(o.href),o=us(m).hoistableStyles,d=o.get(l),d||(d={type:"style",instance:null,count:0,state:null},o.set(l,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=Ps(o.href);var y=us(m).hoistableStyles,S=y.get(r);if(S||(m=m.ownerDocument||m,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(r,S),(y=m.querySelector(Ql(r)))&&!y._p&&(S.instance=y,S.state.loading=5),Sn.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Sn.set(r,o),y||tT(m,r,o,S.state))),l&&d===null)throw Error(i(528,""));return S}if(l&&d!==null)throw Error(i(529,""));return null;case"script":return l=o.async,o=o.src,typeof o=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=Vs(o),o=us(m).hoistableScripts,d=o.get(l),d||(d={type:"script",instance:null,count:0,state:null},o.set(l,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function Ps(r){return'href="'+pn(r)+'"'}function Ql(r){return'link[rel="stylesheet"]['+r+"]"}function C0(r){return g({},r,{"data-precedence":r.precedence,precedence:null})}function tT(r,l,o,d){r.querySelector('link[rel="preload"][as="style"]['+l+"]")?d.loading=1:(l=r.createElement("link"),d.preload=l,l.addEventListener("load",function(){return d.loading|=1}),l.addEventListener("error",function(){return d.loading|=2}),Mt(l,"link",o),bt(l),r.head.appendChild(l))}function Vs(r){return'[src="'+pn(r)+'"]'}function Zl(r){return"script[async]"+r}function A0(r,l,o){if(l.count++,l.instance===null)switch(l.type){case"style":var d=r.querySelector('style[data-href~="'+pn(o.href)+'"]');if(d)return l.instance=d,bt(d),d;var m=g({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return d=(r.ownerDocument||r).createElement("style"),bt(d),Mt(d,"style",m),lc(d,o.precedence,r),l.instance=d;case"stylesheet":m=Ps(o.href);var y=r.querySelector(Ql(m));if(y)return l.state.loading|=4,l.instance=y,bt(y),y;d=C0(o),(m=Sn.get(m))&&hh(d,m),y=(r.ownerDocument||r).createElement("link"),bt(y);var S=y;return S._p=new Promise(function(N,O){S.onload=N,S.onerror=O}),Mt(y,"link",d),l.state.loading|=4,lc(y,o.precedence,r),l.instance=y;case"script":return y=Vs(o.src),(m=r.querySelector(Zl(y)))?(l.instance=m,bt(m),m):(d=o,(m=Sn.get(y))&&(d=g({},o),ph(d,m)),r=r.ownerDocument||r,m=r.createElement("script"),bt(m),Mt(m,"link",d),r.head.appendChild(m),l.instance=m);case"void":return null;default:throw Error(i(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(d=l.instance,l.state.loading|=4,lc(d,o.precedence,r));return l.instance}function lc(r,l,o){for(var d=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=d.length?d[d.length-1]:null,y=m,S=0;S<d.length;S++){var N=d[S];if(N.dataset.precedence===l)y=N;else if(y!==m)break}y?y.parentNode.insertBefore(r,y.nextSibling):(l=o.nodeType===9?o.head:o,l.insertBefore(r,l.firstChild))}function hh(r,l){r.crossOrigin==null&&(r.crossOrigin=l.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=l.referrerPolicy),r.title==null&&(r.title=l.title)}function ph(r,l){r.crossOrigin==null&&(r.crossOrigin=l.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=l.referrerPolicy),r.integrity==null&&(r.integrity=l.integrity)}var ac=null;function M0(r,l,o){if(ac===null){var d=new Map,m=ac=new Map;m.set(o,d)}else m=ac,d=m.get(o),d||(d=new Map,m.set(o,d));if(d.has(r))return d;for(d.set(r,null),o=o.getElementsByTagName(r),m=0;m<o.length;m++){var y=o[m];if(!(y[ml]||y[Nt]||r==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var S=y.getAttribute(l)||"";S=r+S;var N=d.get(S);N?N.push(y):d.set(S,[y])}}return d}function O0(r,l,o){r=r.ownerDocument||r,r.head.insertBefore(o,l==="title"?r.querySelector("head > title"):null)}function nT(r,l,o){if(o===1||l.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;return l.rel==="stylesheet"?(r=l.disabled,typeof l.precedence=="string"&&r==null):!0;case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function R0(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}function iT(r,l,o,d){if(o.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var m=Ps(d.href),y=l.querySelector(Ql(m));if(y){l=y._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(r.count++,r=oc.bind(r),l.then(r,r)),o.state.loading|=4,o.instance=y,bt(y);return}y=l.ownerDocument||l,d=C0(d),(m=Sn.get(m))&&hh(d,m),y=y.createElement("link"),bt(y);var S=y;S._p=new Promise(function(N,O){S.onload=N,S.onerror=O}),Mt(y,"link",d),o.instance=y}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(o,l),(l=o.state.preload)&&(o.state.loading&3)===0&&(r.count++,o=oc.bind(r),l.addEventListener("load",o),l.addEventListener("error",o))}}var mh=0;function rT(r,l){return r.stylesheets&&r.count===0&&uc(r,r.stylesheets),0<r.count||0<r.imgCount?function(o){var d=setTimeout(function(){if(r.stylesheets&&uc(r,r.stylesheets),r.unsuspend){var y=r.unsuspend;r.unsuspend=null,y()}},6e4+l);0<r.imgBytes&&mh===0&&(mh=62500*HN());var m=setTimeout(function(){if(r.waitingForImages=!1,r.count===0&&(r.stylesheets&&uc(r,r.stylesheets),r.unsuspend)){var y=r.unsuspend;r.unsuspend=null,y()}},(r.imgBytes>mh?50:800)+l);return r.unsuspend=o,function(){r.unsuspend=null,clearTimeout(d),clearTimeout(m)}}:null}function oc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)uc(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var cc=null;function uc(r,l){r.stylesheets=null,r.unsuspend!==null&&(r.count++,cc=new Map,l.forEach(sT,r),cc=null,oc.call(r))}function sT(r,l){if(!(l.state.loading&4)){var o=cc.get(r);if(o)var d=o.get(null);else{o=new Map,cc.set(r,o);for(var m=r.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<m.length;y++){var S=m[y];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(o.set(S.dataset.precedence,S),d=S)}d&&o.set(null,d)}m=l.instance,S=m.getAttribute("data-precedence"),y=o.get(S)||d,y===d&&o.set(null,m),o.set(S,m),this.count++,d=oc.bind(this),m.addEventListener("load",d),m.addEventListener("error",d),y?y.parentNode.insertBefore(m,y.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(m,r.firstChild)),l.state.loading|=4}}var ea={$$typeof:z,Provider:null,Consumer:null,_currentValue:re,_currentValue2:re,_threadCount:0};function lT(r,l,o,d,m,y,S,N,O){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=cd(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=cd(0),this.hiddenUpdates=cd(null),this.identifierPrefix=d,this.onUncaughtError=m,this.onCaughtError=y,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function j0(r,l,o,d,m,y,S,N,O,B,V,Y){return r=new lT(r,l,o,S,O,B,V,Y,N),l=1,y===!0&&(l|=24),y=sn(3,null,null,l),r.current=y,y.stateNode=r,l=Gd(),l.refCount++,r.pooledCache=l,l.refCount++,y.memoizedState={element:d,isDehydrated:o,cache:l},Wd(y),r}function D0(r){return r?(r=vs,r):vs}function z0(r,l,o,d,m,y){m=D0(m),d.context===null?d.context=m:d.pendingContext=m,d=Li(l),d.payload={element:o},y=y===void 0?null:y,y!==null&&(d.callback=y),o=_i(r,d,l),o!==null&&(Jt(o,r,l),jl(o,r,l))}function L0(r,l){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<l?o:l}}function gh(r,l){L0(r,l),(r=r.alternate)&&L0(r,l)}function _0(r){if(r.tag===13||r.tag===31){var l=kr(r,67108864);l!==null&&Jt(l,r,67108864),gh(r,67108864)}}function B0(r){if(r.tag===13||r.tag===31){var l=un();l=ud(l);var o=kr(r,l);o!==null&&Jt(o,r,l),gh(r,l)}}var dc=!0;function aT(r,l,o,d){var m=U.T;U.T=null;var y=Q.p;try{Q.p=2,yh(r,l,o,d)}finally{Q.p=y,U.T=m}}function oT(r,l,o,d){var m=U.T;U.T=null;var y=Q.p;try{Q.p=8,yh(r,l,o,d)}finally{Q.p=y,U.T=m}}function yh(r,l,o,d){if(dc){var m=bh(d);if(m===null)ih(r,l,d,fc,o),U0(r,d);else if(uT(m,r,l,o,d))d.stopPropagation();else if(U0(r,d),l&4&&-1<cT.indexOf(r)){for(;m!==null;){var y=cs(m);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var S=br(y.pendingLanes);if(S!==0){var N=y;for(N.pendingLanes|=2,N.entangledLanes|=2;S;){var O=1<<31-nn(S);N.entanglements[1]|=O,S&=~O}Vn(y),(De&6)===0&&(Yo=en()+500,Yl(0))}}break;case 31:case 13:N=kr(y,2),N!==null&&Jt(N,y,2),Xo(),gh(y,2)}if(y=bh(d),y===null&&ih(r,l,d,fc,o),y===m)break;m=y}m!==null&&d.stopPropagation()}else ih(r,l,d,null,o)}}function bh(r){return r=xd(r),xh(r)}var fc=null;function xh(r){if(fc=null,r=as(r),r!==null){var l=a(r);if(l===null)r=null;else{var o=l.tag;if(o===13){if(r=c(l),r!==null)return r;r=null}else if(o===31){if(r=u(l),r!==null)return r;r=null}else if(o===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;r=null}else l!==r&&(r=null)}}return fc=r,null}function H0(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Yk()){case Km:return 2;case Gm:return 8;case eo:case Jk:return 32;case Ym:return 268435456;default:return 32}default:return 32}}var vh=!1,Gi=null,Yi=null,Ji=null,ta=new Map,na=new Map,Xi=[],cT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function U0(r,l){switch(r){case"focusin":case"focusout":Gi=null;break;case"dragenter":case"dragleave":Yi=null;break;case"mouseover":case"mouseout":Ji=null;break;case"pointerover":case"pointerout":ta.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":na.delete(l.pointerId)}}function ia(r,l,o,d,m,y){return r===null||r.nativeEvent!==y?(r={blockedOn:l,domEventName:o,eventSystemFlags:d,nativeEvent:y,targetContainers:[m]},l!==null&&(l=cs(l),l!==null&&_0(l)),r):(r.eventSystemFlags|=d,l=r.targetContainers,m!==null&&l.indexOf(m)===-1&&l.push(m),r)}function uT(r,l,o,d,m){switch(l){case"focusin":return Gi=ia(Gi,r,l,o,d,m),!0;case"dragenter":return Yi=ia(Yi,r,l,o,d,m),!0;case"mouseover":return Ji=ia(Ji,r,l,o,d,m),!0;case"pointerover":var y=m.pointerId;return ta.set(y,ia(ta.get(y)||null,r,l,o,d,m)),!0;case"gotpointercapture":return y=m.pointerId,na.set(y,ia(na.get(y)||null,r,l,o,d,m)),!0}return!1}function q0(r){var l=as(r.target);if(l!==null){var o=a(l);if(o!==null){if(l=o.tag,l===13){if(l=c(o),l!==null){r.blockedOn=l,eg(r.priority,function(){B0(o)});return}}else if(l===31){if(l=u(o),l!==null){r.blockedOn=l,eg(r.priority,function(){B0(o)});return}}else if(l===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function hc(r){if(r.blockedOn!==null)return!1;for(var l=r.targetContainers;0<l.length;){var o=bh(r.nativeEvent);if(o===null){o=r.nativeEvent;var d=new o.constructor(o.type,o);bd=d,o.target.dispatchEvent(d),bd=null}else return l=cs(o),l!==null&&_0(l),r.blockedOn=o,!1;l.shift()}return!0}function I0(r,l,o){hc(r)&&o.delete(l)}function dT(){vh=!1,Gi!==null&&hc(Gi)&&(Gi=null),Yi!==null&&hc(Yi)&&(Yi=null),Ji!==null&&hc(Ji)&&(Ji=null),ta.forEach(I0),na.forEach(I0)}function pc(r,l){r.blockedOn===l&&(r.blockedOn=null,vh||(vh=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,dT)))}var mc=null;function P0(r){mc!==r&&(mc=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){mc===r&&(mc=null);for(var l=0;l<r.length;l+=3){var o=r[l],d=r[l+1],m=r[l+2];if(typeof d!="function"){if(xh(d||o)===null)continue;break}var y=cs(o);y!==null&&(r.splice(l,3),l-=3,bf(y,{pending:!0,data:m,method:o.method,action:d},d,m))}}))}function $s(r){function l(O){return pc(O,r)}Gi!==null&&pc(Gi,r),Yi!==null&&pc(Yi,r),Ji!==null&&pc(Ji,r),ta.forEach(l),na.forEach(l);for(var o=0;o<Xi.length;o++){var d=Xi[o];d.blockedOn===r&&(d.blockedOn=null)}for(;0<Xi.length&&(o=Xi[0],o.blockedOn===null);)q0(o),o.blockedOn===null&&Xi.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(d=0;d<o.length;d+=3){var m=o[d],y=o[d+1],S=m[Vt]||null;if(typeof y=="function")S||P0(o);else if(S){var N=null;if(y&&y.hasAttribute("formAction")){if(m=y,S=y[Vt]||null)N=S.formAction;else if(xh(m)!==null)continue}else N=S.action;typeof N=="function"?o[d+1]=N:(o.splice(d,3),d-=3),P0(o)}}}function V0(){function r(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(S){return m=S})},focusReset:"manual",scroll:"manual"})}function l(){m!==null&&(m(),m=null),d||setTimeout(o,20)}function o(){if(!d&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var d=!1,m=null;return navigation.addEventListener("navigate",r),navigation.addEventListener("navigatesuccess",l),navigation.addEventListener("navigateerror",l),setTimeout(o,100),function(){d=!0,navigation.removeEventListener("navigate",r),navigation.removeEventListener("navigatesuccess",l),navigation.removeEventListener("navigateerror",l),m!==null&&(m(),m=null)}}}function wh(r){this._internalRoot=r}gc.prototype.render=wh.prototype.render=function(r){var l=this._internalRoot;if(l===null)throw Error(i(409));var o=l.current,d=un();z0(o,d,r,l,null,null)},gc.prototype.unmount=wh.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var l=r.containerInfo;z0(r.current,2,null,r,null,null),Xo(),l[ls]=null}};function gc(r){this._internalRoot=r}gc.prototype.unstable_scheduleHydration=function(r){if(r){var l=Zm();r={blockedOn:null,target:r,priority:l};for(var o=0;o<Xi.length&&l!==0&&l<Xi[o].priority;o++);Xi.splice(o,0,r),o===0&&q0(r)}};var $0=e.version;if($0!=="19.2.4")throw Error(i(527,$0,"19.2.4"));Q.findDOMNode=function(r){var l=r._reactInternals;if(l===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=h(l),r=r!==null?p(r):null,r=r===null?null:r.stateNode,r};var fT={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yc.isDisabled&&yc.supportsFiber)try{fl=yc.inject(fT),tn=yc}catch{}}return sa.createRoot=function(r,l){if(!s(r))throw Error(i(299));var o=!1,d="",m=Wy,y=Qy,S=Zy;return l!=null&&(l.unstable_strictMode===!0&&(o=!0),l.identifierPrefix!==void 0&&(d=l.identifierPrefix),l.onUncaughtError!==void 0&&(m=l.onUncaughtError),l.onCaughtError!==void 0&&(y=l.onCaughtError),l.onRecoverableError!==void 0&&(S=l.onRecoverableError)),l=j0(r,1,!1,null,null,o,d,null,m,y,S,V0),r[ls]=l.current,nh(r),new wh(l)},sa.hydrateRoot=function(r,l,o){if(!s(r))throw Error(i(299));var d=!1,m="",y=Wy,S=Qy,N=Zy,O=null;return o!=null&&(o.unstable_strictMode===!0&&(d=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(S=o.onCaughtError),o.onRecoverableError!==void 0&&(N=o.onRecoverableError),o.formState!==void 0&&(O=o.formState)),l=j0(r,1,!0,l,o??null,d,m,O,y,S,N,V0),l.context=D0(null),o=l.current,d=un(),d=ud(d),m=Li(d),m.callback=null,_i(o,m,d),o=d,l.current.lanes=o,pl(l,o),Vn(l),r[ls]=l.current,nh(r),new gc(l)},sa.version="19.2.4",sa}var ex;function wT(){if(ex)return Eh.exports;ex=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Eh.exports=vT(),Eh.exports}var ST=wT();var tx="popstate";function kT(t={}){function e(i,s){let{pathname:a,search:c,hash:u}=i.location;return dp("",{pathname:a,search:c,hash:u},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){return typeof s=="string"?s:Ca(s)}return NT(e,n,null,t)}function We(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Bn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function ET(){return Math.random().toString(36).substring(2,10)}function nx(t,e){return{usr:t.state,key:t.key,idx:e}}function dp(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?al(e):e,state:n,key:e&&e.key||i||ET()}}function Ca({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function al(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function NT(t,e,n,i={}){let{window:s=document.defaultView,v5Compat:a=!1}=i,c=s.history,u="POP",f=null,h=p();h==null&&(h=0,c.replaceState({...c.state,idx:h},""));function p(){return(c.state||{idx:null}).idx}function g(){u="POP";let E=p(),T=E==null?null:E-h;h=E,f&&f({action:u,location:k.location,delta:T})}function x(E,T){u="PUSH";let M=dp(k.location,E,T);h=p()+1;let z=nx(M,h),P=k.createHref(M);try{c.pushState(z,"",P)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;s.location.assign(P)}a&&f&&f({action:u,location:k.location,delta:1})}function v(E,T){u="REPLACE";let M=dp(k.location,E,T);h=p();let z=nx(M,h),P=k.createHref(M);c.replaceState(z,"",P),a&&f&&f({action:u,location:k.location,delta:0})}function w(E){return TT(E)}let k={get action(){return u},get location(){return t(s,c)},listen(E){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(tx,g),f=E,()=>{s.removeEventListener(tx,g),f=null}},createHref(E){return e(s,E)},createURL:w,encodeLocation(E){let T=w(E);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:x,replace:v,go(E){return c.go(E)}};return k}function TT(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),We(n,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:Ca(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function o1(t,e,n="/"){return CT(t,e,n,!1)}function CT(t,e,n,i){let s=typeof e=="string"?al(e):e,a=Ei(s.pathname||"/",n);if(a==null)return null;let c=c1(t);AT(c);let u=null;for(let f=0;u==null&&f<c.length;++f){let h=UT(a);u=BT(c[f],h,i)}return u}function c1(t,e=[],n=[],i="",s=!1){let a=(c,u,f=s,h)=>{let p={relativePath:h===void 0?c.path||"":h,caseSensitive:c.caseSensitive===!0,childrenIndex:u,route:c};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(i)&&f)return;We(p.relativePath.startsWith(i),`Absolute route path "${p.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(i.length)}let g=wi([i,p.relativePath]),x=n.concat(p);c.children&&c.children.length>0&&(We(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),c1(c.children,e,x,g,f)),!(c.path==null&&!c.index)&&e.push({path:g,score:LT(g,c.index),routesMeta:x})};return t.forEach((c,u)=>{if(c.path===""||!c.path?.includes("?"))a(c,u);else for(let f of u1(c.path))a(c,u,!0,f)}),e}function u1(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(i.length===0)return s?[a,""]:[a];let c=u1(i.join("/")),u=[];return u.push(...c.map(f=>f===""?a:[a,f].join("/"))),s&&u.push(...c),u.map(f=>t.startsWith("/")&&f===""?"/":f)}function AT(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:_T(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var MT=/^:[\w-]+$/,OT=3,RT=2,jT=1,DT=10,zT=-2,ix=t=>t==="*";function LT(t,e){let n=t.split("/"),i=n.length;return n.some(ix)&&(i+=zT),e&&(i+=RT),n.filter(s=>!ix(s)).reduce((s,a)=>s+(MT.test(a)?OT:a===""?jT:DT),i)}function _T(t,e){return t.length===e.length&&t.slice(0,-1).every((i,s)=>i===e[s])?t[t.length-1]-e[e.length-1]:0}function BT(t,e,n=!1){let{routesMeta:i}=t,s={},a="/",c=[];for(let u=0;u<i.length;++u){let f=i[u],h=u===i.length-1,p=a==="/"?e:e.slice(a.length)||"/",g=Vc({path:f.relativePath,caseSensitive:f.caseSensitive,end:h},p),x=f.route;if(!g&&h&&n&&!i[i.length-1].route.index&&(g=Vc({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},p)),!g)return null;Object.assign(s,g.params),c.push({params:s,pathname:wi([a,g.pathname]),pathnameBase:VT(wi([a,g.pathnameBase])),route:x}),g.pathnameBase!=="/"&&(a=wi([a,g.pathnameBase]))}return c}function Vc(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=HT(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let a=s[0],c=a.replace(/(.)\/+$/,"$1"),u=s.slice(1);return{params:i.reduce((h,{paramName:p,isOptional:g},x)=>{if(p==="*"){let w=u[x]||"";c=a.slice(0,a.length-w.length).replace(/(.)\/+$/,"$1")}const v=u[x];return g&&!v?h[p]=void 0:h[p]=(v||"").replace(/%2F/g,"/"),h},{}),pathname:a,pathnameBase:c,pattern:t}}function HT(t,e=!1,n=!0){Bn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,u,f)=>(i.push({paramName:u,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(i.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),i]}function UT(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Bn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Ei(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}var qT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function IT(t,e="/"){let{pathname:n,search:i="",hash:s=""}=typeof t=="string"?al(t):t,a;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?a=rx(n.substring(1),"/"):a=rx(n,e)):a=e,{pathname:a,search:$T(i),hash:FT(s)}}function rx(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Ah(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function PT(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function d1(t){let e=PT(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function f1(t,e,n,i=!1){let s;typeof t=="string"?s=al(t):(s={...t},We(!s.pathname||!s.pathname.includes("?"),Ah("?","pathname","search",s)),We(!s.pathname||!s.pathname.includes("#"),Ah("#","pathname","hash",s)),We(!s.search||!s.search.includes("#"),Ah("#","search","hash",s)));let a=t===""||s.pathname==="",c=a?"/":s.pathname,u;if(c==null)u=n;else{let g=e.length-1;if(!i&&c.startsWith("..")){let x=c.split("/");for(;x[0]==="..";)x.shift(),g-=1;s.pathname=x.join("/")}u=g>=0?e[g]:"/"}let f=IT(s,u),h=c&&c!=="/"&&c.endsWith("/"),p=(a||c===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(h||p)&&(f.pathname+="/"),f}var wi=t=>t.join("/").replace(/\/\/+/g,"/"),VT=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),$T=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,FT=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,KT=class{constructor(t,e,n,i=!1){this.status=t,this.statusText=e||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function GT(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function YT(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var h1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function p1(t,e){let n=t;if(typeof n!="string"||!qT.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let i=n,s=!1;if(h1)try{let a=new URL(window.location.href),c=n.startsWith("//")?new URL(a.protocol+n):new URL(n),u=Ei(c.pathname,e);c.origin===a.origin&&u!=null?n=u+c.search+c.hash:s=!0}catch{Bn(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:s,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var m1=["POST","PUT","PATCH","DELETE"];new Set(m1);var JT=["GET",...m1];new Set(JT);var ol=C.createContext(null);ol.displayName="DataRouter";var Lu=C.createContext(null);Lu.displayName="DataRouterState";var XT=C.createContext(!1),g1=C.createContext({isTransitioning:!1});g1.displayName="ViewTransition";var WT=C.createContext(new Map);WT.displayName="Fetchers";var QT=C.createContext(null);QT.displayName="Await";var Mn=C.createContext(null);Mn.displayName="Navigation";var qa=C.createContext(null);qa.displayName="Location";var Hn=C.createContext({outlet:null,matches:[],isDataRoute:!1});Hn.displayName="Route";var Yp=C.createContext(null);Yp.displayName="RouteError";var y1="REACT_ROUTER_ERROR",ZT="REDIRECT",eC="ROUTE_ERROR_RESPONSE";function tC(t){if(t.startsWith(`${y1}:${ZT}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function nC(t){if(t.startsWith(`${y1}:${eC}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new KT(e.status,e.statusText,e.data)}catch{}}function iC(t,{relative:e}={}){We(Ia(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=C.useContext(Mn),{hash:s,pathname:a,search:c}=Pa(t,{relative:e}),u=a;return n!=="/"&&(u=a==="/"?n:wi([n,a])),i.createHref({pathname:u,search:c,hash:s})}function Ia(){return C.useContext(qa)!=null}function Xn(){return We(Ia(),"useLocation() may be used only in the context of a <Router> component."),C.useContext(qa).location}var b1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function x1(t){C.useContext(Mn).static||C.useLayoutEffect(t)}function ns(){let{isDataRoute:t}=C.useContext(Hn);return t?bC():rC()}function rC(){We(Ia(),"useNavigate() may be used only in the context of a <Router> component.");let t=C.useContext(ol),{basename:e,navigator:n}=C.useContext(Mn),{matches:i}=C.useContext(Hn),{pathname:s}=Xn(),a=JSON.stringify(d1(i)),c=C.useRef(!1);return x1(()=>{c.current=!0}),C.useCallback((f,h={})=>{if(Bn(c.current,b1),!c.current)return;if(typeof f=="number"){n.go(f);return}let p=f1(f,JSON.parse(a),s,h.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:wi([e,p.pathname])),(h.replace?n.replace:n.push)(p,h.state,h)},[e,n,a,s,t])}var sC=C.createContext(null);function lC(t){let e=C.useContext(Hn).outlet;return C.useMemo(()=>e&&C.createElement(sC.Provider,{value:t},e),[e,t])}function v1(){let{matches:t}=C.useContext(Hn),e=t[t.length-1];return e?e.params:{}}function Pa(t,{relative:e}={}){let{matches:n}=C.useContext(Hn),{pathname:i}=Xn(),s=JSON.stringify(d1(n));return C.useMemo(()=>f1(t,JSON.parse(s),i,e==="path"),[t,s,i,e])}function aC(t,e){return w1(t,e)}function w1(t,e,n,i,s){We(Ia(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=C.useContext(Mn),{matches:c}=C.useContext(Hn),u=c[c.length-1],f=u?u.params:{},h=u?u.pathname:"/",p=u?u.pathnameBase:"/",g=u&&u.route;{let M=g&&g.path||"";k1(h,!g||M.endsWith("*")||M.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${M}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${M}"> to <Route path="${M==="/"?"*":`${M}/*`}">.`)}let x=Xn(),v;if(e){let M=typeof e=="string"?al(e):e;We(p==="/"||M.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${M.pathname}" was given in the \`location\` prop.`),v=M}else v=x;let w=v.pathname||"/",k=w;if(p!=="/"){let M=p.replace(/^\//,"").split("/");k="/"+w.replace(/^\//,"").split("/").slice(M.length).join("/")}let E=o1(t,{pathname:k});Bn(g||E!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),Bn(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let T=fC(E&&E.map(M=>Object.assign({},M,{params:Object.assign({},f,M.params),pathname:wi([p,a.encodeLocation?a.encodeLocation(M.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?p:wi([p,a.encodeLocation?a.encodeLocation(M.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:M.pathnameBase])})),c,n,i,s);return e&&T?C.createElement(qa.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},T):T}function oC(){let t=yC(),e=GT(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=C.createElement(C.Fragment,null,C.createElement("p",null," Hey developer "),C.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",C.createElement("code",{style:a},"ErrorBoundary")," or"," ",C.createElement("code",{style:a},"errorElement")," prop on your route.")),C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},e),n?C.createElement("pre",{style:s},n):null,c)}var cC=C.createElement(oC,null),S1=class extends C.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=nC(t.digest);n&&(t=n)}let e=t!==void 0?C.createElement(Hn.Provider,{value:this.props.routeContext},C.createElement(Yp.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?C.createElement(uC,{error:t},e):e}};S1.contextType=XT;var Mh=new WeakMap;function uC({children:t,error:e}){let{basename:n}=C.useContext(Mn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let i=tC(e.digest);if(i){let s=Mh.get(e);if(s)throw s;let a=p1(i.location,n);if(h1&&!Mh.get(e))if(a.isExternal||i.reloadDocument)window.location.href=a.absoluteURL||a.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(a.to,{replace:i.replace}));throw Mh.set(e,c),c}return C.createElement("meta",{httpEquiv:"refresh",content:`0;url=${a.absoluteURL||a.to}`})}}return t}function dC({routeContext:t,match:e,children:n}){let i=C.useContext(ol);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),C.createElement(Hn.Provider,{value:t},n)}function fC(t,e=[],n=null,i=null,s=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,c=n?.errors;if(c!=null){let p=a.findIndex(g=>g.route.id&&c?.[g.route.id]!==void 0);We(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),a=a.slice(0,Math.min(a.length,p+1))}let u=!1,f=-1;if(n)for(let p=0;p<a.length;p++){let g=a[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(f=p),g.route.id){let{loaderData:x,errors:v}=n,w=g.route.loader&&!x.hasOwnProperty(g.route.id)&&(!v||v[g.route.id]===void 0);if(g.route.lazy||w){u=!0,f>=0?a=a.slice(0,f+1):a=[a[0]];break}}}let h=n&&i?(p,g)=>{i(p,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:YT(n.matches),errorInfo:g})}:void 0;return a.reduceRight((p,g,x)=>{let v,w=!1,k=null,E=null;n&&(v=c&&g.route.id?c[g.route.id]:void 0,k=g.route.errorElement||cC,u&&(f<0&&x===0?(k1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,E=null):f===x&&(w=!0,E=g.route.hydrateFallbackElement||null)));let T=e.concat(a.slice(0,x+1)),M=()=>{let z;return v?z=k:w?z=E:g.route.Component?z=C.createElement(g.route.Component,null):g.route.element?z=g.route.element:z=p,C.createElement(dC,{match:g,routeContext:{outlet:p,matches:T,isDataRoute:n!=null},children:z})};return n&&(g.route.ErrorBoundary||g.route.errorElement||x===0)?C.createElement(S1,{location:n.location,revalidation:n.revalidation,component:k,error:v,children:M(),routeContext:{outlet:null,matches:T,isDataRoute:!0},onError:h}):M()},null)}function Jp(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function hC(t){let e=C.useContext(ol);return We(e,Jp(t)),e}function pC(t){let e=C.useContext(Lu);return We(e,Jp(t)),e}function mC(t){let e=C.useContext(Hn);return We(e,Jp(t)),e}function Xp(t){let e=mC(t),n=e.matches[e.matches.length-1];return We(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function gC(){return Xp("useRouteId")}function yC(){let t=C.useContext(Yp),e=pC("useRouteError"),n=Xp("useRouteError");return t!==void 0?t:e.errors?.[n]}function bC(){let{router:t}=hC("useNavigate"),e=Xp("useNavigate"),n=C.useRef(!1);return x1(()=>{n.current=!0}),C.useCallback(async(s,a={})=>{Bn(n.current,b1),n.current&&(typeof s=="number"?await t.navigate(s):await t.navigate(s,{fromRouteId:e,...a}))},[t,e])}var sx={};function k1(t,e,n){!e&&!sx[t]&&(sx[t]=!0,Bn(!1,n))}C.memo(xC);function xC({routes:t,future:e,state:n,onError:i}){return w1(t,void 0,n,i,e)}function Wp(t){return lC(t.context)}function nt(t){We(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function vC({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:s,static:a=!1,unstable_useTransitions:c}){We(!Ia(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),f=C.useMemo(()=>({basename:u,navigator:s,static:a,unstable_useTransitions:c,future:{}}),[u,s,a,c]);typeof n=="string"&&(n=al(n));let{pathname:h="/",search:p="",hash:g="",state:x=null,key:v="default"}=n,w=C.useMemo(()=>{let k=Ei(h,u);return k==null?null:{location:{pathname:k,search:p,hash:g,state:x,key:v},navigationType:i}},[u,h,p,g,x,v,i]);return Bn(w!=null,`<Router basename="${u}"> is not able to match the URL "${h}${p}${g}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:C.createElement(Mn.Provider,{value:f},C.createElement(qa.Provider,{children:e,value:w}))}function wC({children:t,location:e}){return aC(fp(t),e)}function fp(t,e=[]){let n=[];return C.Children.forEach(t,(i,s)=>{if(!C.isValidElement(i))return;let a=[...e,s];if(i.type===C.Fragment){n.push.apply(n,fp(i.props.children,a));return}We(i.type===nt,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),We(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=fp(i.props.children,a)),n.push(c)}),n}var Dc="get",zc="application/x-www-form-urlencoded";function _u(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function SC(t){return _u(t)&&t.tagName.toLowerCase()==="button"}function kC(t){return _u(t)&&t.tagName.toLowerCase()==="form"}function EC(t){return _u(t)&&t.tagName.toLowerCase()==="input"}function NC(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function TC(t,e){return t.button===0&&(!e||e==="_self")&&!NC(t)}function hp(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let i=t[n];return e.concat(Array.isArray(i)?i.map(s=>[n,s]):[[n,i]])},[]))}function CC(t,e){let n=hp(t);return e&&e.forEach((i,s)=>{n.has(s)||e.getAll(s).forEach(a=>{n.append(s,a)})}),n}var bc=null;function AC(){if(bc===null)try{new FormData(document.createElement("form"),0),bc=!1}catch{bc=!0}return bc}var MC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Oh(t){return t!=null&&!MC.has(t)?(Bn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${zc}"`),null):t}function OC(t,e){let n,i,s,a,c;if(kC(t)){let u=t.getAttribute("action");i=u?Ei(u,e):null,n=t.getAttribute("method")||Dc,s=Oh(t.getAttribute("enctype"))||zc,a=new FormData(t)}else if(SC(t)||EC(t)&&(t.type==="submit"||t.type==="image")){let u=t.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||u.getAttribute("action");if(i=f?Ei(f,e):null,n=t.getAttribute("formmethod")||u.getAttribute("method")||Dc,s=Oh(t.getAttribute("formenctype"))||Oh(u.getAttribute("enctype"))||zc,a=new FormData(u,t),!AC()){let{name:h,type:p,value:g}=t;if(p==="image"){let x=h?`${h}.`:"";a.append(`${x}x`,"0"),a.append(`${x}y`,"0")}else h&&a.append(h,g)}}else{if(_u(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Dc,i=null,s=zc,c=t}return a&&s==="text/plain"&&(c=a,a=void 0),{action:i,method:n.toLowerCase(),encType:s,formData:a,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Qp(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function RC(t,e,n,i){let s=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?s.pathname.endsWith("/")?s.pathname=`${s.pathname}_.${i}`:s.pathname=`${s.pathname}.${i}`:s.pathname==="/"?s.pathname=`_root.${i}`:e&&Ei(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${i}`,s}async function jC(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function DC(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function zC(t,e,n){let i=await Promise.all(t.map(async s=>{let a=e.routes[s.route.id];if(a){let c=await jC(a,n);return c.links?c.links():[]}return[]}));return HC(i.flat(1).filter(DC).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function lx(t,e,n,i,s,a){let c=(f,h)=>n[h]?f.route.id!==n[h].route.id:!0,u=(f,h)=>n[h].pathname!==f.pathname||n[h].route.path?.endsWith("*")&&n[h].params["*"]!==f.params["*"];return a==="assets"?e.filter((f,h)=>c(f,h)||u(f,h)):a==="data"?e.filter((f,h)=>{let p=i.routes[f.route.id];if(!p||!p.hasLoader)return!1;if(c(f,h)||u(f,h))return!0;if(f.route.shouldRevalidate){let g=f.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function LC(t,e,{includeHydrateFallback:n}={}){return _C(t.map(i=>{let s=e.routes[i.route.id];if(!s)return[];let a=[s.module];return s.clientActionModule&&(a=a.concat(s.clientActionModule)),s.clientLoaderModule&&(a=a.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(a=a.concat(s.hydrateFallbackModule)),s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function _C(t){return[...new Set(t)]}function BC(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function HC(t,e){let n=new Set;return new Set(e),t.reduce((i,s)=>{let a=JSON.stringify(BC(s));return n.has(a)||(n.add(a),i.push({key:a,link:s})),i},[])}function E1(){let t=C.useContext(ol);return Qp(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function UC(){let t=C.useContext(Lu);return Qp(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Zp=C.createContext(void 0);Zp.displayName="FrameworkContext";function N1(){let t=C.useContext(Zp);return Qp(t,"You must render this element inside a <HydratedRouter> element"),t}function qC(t,e){let n=C.useContext(Zp),[i,s]=C.useState(!1),[a,c]=C.useState(!1),{onFocus:u,onBlur:f,onMouseEnter:h,onMouseLeave:p,onTouchStart:g}=e,x=C.useRef(null);C.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let k=T=>{T.forEach(M=>{c(M.isIntersecting)})},E=new IntersectionObserver(k,{threshold:.5});return x.current&&E.observe(x.current),()=>{E.disconnect()}}},[t]),C.useEffect(()=>{if(i){let k=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(k)}}},[i]);let v=()=>{s(!0)},w=()=>{s(!1),c(!1)};return n?t!=="intent"?[a,x,{}]:[a,x,{onFocus:la(u,v),onBlur:la(f,w),onMouseEnter:la(h,v),onMouseLeave:la(p,w),onTouchStart:la(g,v)}]:[!1,x,{}]}function la(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function IC({page:t,...e}){let{router:n}=E1(),i=C.useMemo(()=>o1(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?C.createElement(VC,{page:t,matches:i,...e}):null}function PC(t){let{manifest:e,routeModules:n}=N1(),[i,s]=C.useState([]);return C.useEffect(()=>{let a=!1;return zC(t,e,n).then(c=>{a||s(c)}),()=>{a=!0}},[t,e,n]),i}function VC({page:t,matches:e,...n}){let i=Xn(),{future:s,manifest:a,routeModules:c}=N1(),{basename:u}=E1(),{loaderData:f,matches:h}=UC(),p=C.useMemo(()=>lx(t,e,h,a,i,"data"),[t,e,h,a,i]),g=C.useMemo(()=>lx(t,e,h,a,i,"assets"),[t,e,h,a,i]),x=C.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let k=new Set,E=!1;if(e.forEach(M=>{let z=a.routes[M.route.id];!z||!z.hasLoader||(!p.some(P=>P.route.id===M.route.id)&&M.route.id in f&&c[M.route.id]?.shouldRevalidate||z.hasClientLoader?E=!0:k.add(M.route.id))}),k.size===0)return[];let T=RC(t,u,s.unstable_trailingSlashAwareDataRequests,"data");return E&&k.size>0&&T.searchParams.set("_routes",e.filter(M=>k.has(M.route.id)).map(M=>M.route.id).join(",")),[T.pathname+T.search]},[u,s.unstable_trailingSlashAwareDataRequests,f,i,a,p,e,t,c]),v=C.useMemo(()=>LC(g,a),[g,a]),w=PC(g);return C.createElement(C.Fragment,null,x.map(k=>C.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...n})),v.map(k=>C.createElement("link",{key:k,rel:"modulepreload",href:k,...n})),w.map(({key:k,link:E})=>C.createElement("link",{key:k,nonce:n.nonce,...E,crossOrigin:E.crossOrigin??n.crossOrigin})))}function $C(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var FC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{FC&&(window.__reactRouterVersion="7.13.0")}catch{}function KC({basename:t,children:e,unstable_useTransitions:n,window:i}){let s=C.useRef();s.current==null&&(s.current=kT({window:i,v5Compat:!0}));let a=s.current,[c,u]=C.useState({action:a.action,location:a.location}),f=C.useCallback(h=>{n===!1?u(h):C.startTransition(()=>u(h))},[n]);return C.useLayoutEffect(()=>a.listen(f),[a,f]),C.createElement(vC,{basename:t,children:e,location:c.location,navigationType:c.action,navigator:a,unstable_useTransitions:n})}var T1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,je=C.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:s,reloadDocument:a,replace:c,state:u,target:f,to:h,preventScrollReset:p,viewTransition:g,unstable_defaultShouldRevalidate:x,...v},w){let{basename:k,unstable_useTransitions:E}=C.useContext(Mn),T=typeof h=="string"&&T1.test(h),M=p1(h,k);h=M.to;let z=iC(h,{relative:s}),[P,D,$]=qC(i,v),L=JC(h,{replace:c,state:u,target:f,preventScrollReset:p,relative:s,viewTransition:g,unstable_defaultShouldRevalidate:x,unstable_useTransitions:E});function G(ue){e&&e(ue),ue.defaultPrevented||L(ue)}let Z=C.createElement("a",{...v,...$,href:M.absoluteURL||z,onClick:M.isExternal||a?e:G,ref:$C(w,D),target:f,"data-discover":!T&&n==="render"?"true":void 0});return P&&!T?C.createElement(C.Fragment,null,Z,C.createElement(IC,{page:z})):Z});je.displayName="Link";var C1=C.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:s=!1,style:a,to:c,viewTransition:u,children:f,...h},p){let g=Pa(c,{relative:h.relative}),x=Xn(),v=C.useContext(Lu),{navigator:w,basename:k}=C.useContext(Mn),E=v!=null&&t2(g)&&u===!0,T=w.encodeLocation?w.encodeLocation(g).pathname:g.pathname,M=x.pathname,z=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;n||(M=M.toLowerCase(),z=z?z.toLowerCase():null,T=T.toLowerCase()),z&&k&&(z=Ei(z,k)||z);const P=T!=="/"&&T.endsWith("/")?T.length-1:T.length;let D=M===T||!s&&M.startsWith(T)&&M.charAt(P)==="/",$=z!=null&&(z===T||!s&&z.startsWith(T)&&z.charAt(T.length)==="/"),L={isActive:D,isPending:$,isTransitioning:E},G=D?e:void 0,Z;typeof i=="function"?Z=i(L):Z=[i,D?"active":null,$?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let ue=typeof a=="function"?a(L):a;return C.createElement(je,{...h,"aria-current":G,className:Z,ref:p,style:ue,to:c,viewTransition:u},typeof f=="function"?f(L):f)});C1.displayName="NavLink";var GC=C.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:s,state:a,method:c=Dc,action:u,onSubmit:f,relative:h,preventScrollReset:p,viewTransition:g,unstable_defaultShouldRevalidate:x,...v},w)=>{let{unstable_useTransitions:k}=C.useContext(Mn),E=ZC(),T=e2(u,{relative:h}),M=c.toLowerCase()==="get"?"get":"post",z=typeof u=="string"&&T1.test(u),P=D=>{if(f&&f(D),D.defaultPrevented)return;D.preventDefault();let $=D.nativeEvent.submitter,L=$?.getAttribute("formmethod")||c,G=()=>E($||D.currentTarget,{fetcherKey:e,method:L,navigate:n,replace:s,state:a,relative:h,preventScrollReset:p,viewTransition:g,unstable_defaultShouldRevalidate:x});k&&n!==!1?C.startTransition(()=>G()):G()};return C.createElement("form",{ref:w,method:M,action:T,onSubmit:i?f:P,...v,"data-discover":!z&&t==="render"?"true":void 0})});GC.displayName="Form";function YC(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function A1(t){let e=C.useContext(ol);return We(e,YC(t)),e}function JC(t,{target:e,replace:n,state:i,preventScrollReset:s,relative:a,viewTransition:c,unstable_defaultShouldRevalidate:u,unstable_useTransitions:f}={}){let h=ns(),p=Xn(),g=Pa(t,{relative:a});return C.useCallback(x=>{if(TC(x,e)){x.preventDefault();let v=n!==void 0?n:Ca(p)===Ca(g),w=()=>h(t,{replace:v,state:i,preventScrollReset:s,relative:a,viewTransition:c,unstable_defaultShouldRevalidate:u});f?C.startTransition(()=>w()):w()}},[p,h,g,n,i,e,t,s,a,c,u,f])}function XC(t){Bn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=C.useRef(hp(t)),n=C.useRef(!1),i=Xn(),s=C.useMemo(()=>CC(i.search,n.current?null:e.current),[i.search]),a=ns(),c=C.useCallback((u,f)=>{const h=hp(typeof u=="function"?u(new URLSearchParams(s)):u);n.current=!0,a("?"+h,f)},[a,s]);return[s,c]}var WC=0,QC=()=>`__${String(++WC)}__`;function ZC(){let{router:t}=A1("useSubmit"),{basename:e}=C.useContext(Mn),n=gC(),i=t.fetch,s=t.navigate;return C.useCallback(async(a,c={})=>{let{action:u,method:f,encType:h,formData:p,body:g}=OC(a,e);if(c.navigate===!1){let x=c.fetcherKey||QC();await i(x,n,c.action||u,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:p,body:g,formMethod:c.method||f,formEncType:c.encType||h,flushSync:c.flushSync})}else await s(c.action||u,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:p,body:g,formMethod:c.method||f,formEncType:c.encType||h,replace:c.replace,state:c.state,fromRouteId:n,flushSync:c.flushSync,viewTransition:c.viewTransition})},[i,s,e,n])}function e2(t,{relative:e}={}){let{basename:n}=C.useContext(Mn),i=C.useContext(Hn);We(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),a={...Pa(t||".",{relative:e})},c=Xn();if(t==null){a.search=c.search;let u=new URLSearchParams(a.search),f=u.getAll("index");if(f.some(p=>p==="")){u.delete("index"),f.filter(g=>g).forEach(g=>u.append("index",g));let p=u.toString();a.search=p?`?${p}`:""}}return(!t||t===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:wi([n,a.pathname])),Ca(a)}function t2(t,{relative:e}={}){let n=C.useContext(g1);We(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=A1("useViewTransitionState"),s=Pa(t,{relative:e});if(!n.isTransitioning)return!1;let a=Ei(n.currentLocation.pathname,i)||n.currentLocation.pathname,c=Ei(n.nextLocation.pathname,i)||n.nextLocation.pathname;return Vc(s.pathname,c)!=null||Vc(s.pathname,a)!=null}var n2=a1();const i2=l1(n2),ax=[{to:"/",label:"Home"},{to:"/articles",label:"Articles"},{to:"/courses",label:"Courses"},{to:"/for-law-firms",label:"For Law Firms"},{to:"/private-work",label:"Private Work"},{to:"/about",label:"About"},{to:"/contact",label:"Contact"}];function r2(){const[t,e]=C.useState(!1),n=Xn();return b.jsxs("nav",{className:"fixed top-0 left-0 right-0 z-50 bg-white border-b border-black",children:[b.jsx("div",{className:"max-w-6xl mx-auto px-6 lg:px-8",children:b.jsxs("div",{className:"flex items-center justify-between h-14 md:h-16",children:[b.jsx(je,{to:"/",className:"text-sm font-medium text-black tracking-wide uppercase hover:opacity-70 transition-opacity",children:"The MacAdam Company"}),b.jsx("div",{className:"hidden md:flex items-center gap-10",children:ax.map(({to:i,label:s})=>{const a=i==="/"?n.pathname==="/":n.pathname===i||i==="/articles"&&n.pathname.startsWith("/articles/");return b.jsx(je,{to:i,className:`text-xs font-medium tracking-widest uppercase transition-opacity ${a?"opacity-100":"opacity-60 hover:opacity-100"}`,children:s},i)})}),b.jsx("button",{type:"button",onClick:()=>e(!t),className:"md:hidden p-2 -mr-2 text-black","aria-label":"Toggle menu",children:b.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t?b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M6 18L18 6M6 6l12 12"}):b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M4 6h16M4 12h16M4 18h16"})})})]})}),t&&b.jsx("div",{className:"md:hidden border-t border-black bg-white py-4 px-6",children:b.jsx("div",{className:"flex flex-col gap-4",children:ax.map(({to:i,label:s})=>{const a=i==="/"?n.pathname==="/":n.pathname===i||i==="/articles"&&n.pathname.startsWith("/articles/");return b.jsx(je,{to:i,onClick:()=>e(!1),className:`text-xs font-medium tracking-widest uppercase ${a?"opacity-100":"opacity-60"}`,children:s},i)})})})]})}function s2(){return b.jsxs("div",{className:"min-h-screen bg-white text-black",children:[b.jsx(r2,{}),b.jsx("main",{children:b.jsx(Wp,{})})]})}const l2={"/":"The MacAdam Company | Regulation-Based Consulting & Courses","/regulation-reset":"Regulation Reset | The MacAdam Company","/courses":"Courses & Programs | The MacAdam Company","/private-work":"Private Regulation Sessions | The MacAdam Company","/for-law-firms":"For Law Firms & Organizations | The MacAdam Company","/about":"About Patricia MacAdam | The MacAdam Company","/contact":"Contact | The MacAdam Company","/admin/signup":"Admin Signup | The MacAdam Company","/mac-/adam/admin/69846d7f374584e675d7fa28":"Admin Sign In | The MacAdam Company","/admin":"Admin Dashboard | The MacAdam Company","/admin/settings":"Settings | The MacAdam Company"};function a2(){const{pathname:t}=Xn();return C.useEffect(()=>{window.scrollTo(0,0)},[t]),C.useEffect(()=>{document.title=l2[t]??"The MacAdam Company"},[t]),null}const ox="The MacAdam Company";function gt(t){C.useEffect(()=>(document.title=t?`${t} | The MacAdam Company`:ox,()=>{document.title=ox}),[t])}function Dn({path:t,alt:e,aspect:n="4/5",className:i=""}){const s=t.replace("/images/","");return b.jsxs("div",{className:`relative overflow-hidden bg-white border border-black/10 flex items-center justify-center ${i}`,style:{aspectRatio:n},children:[b.jsx("img",{src:t,alt:e,className:"absolute inset-0 w-full h-full object-cover",onError:a=>a.currentTarget.remove()}),b.jsxs("p",{className:"text-xs tracking-widest uppercase text-black/40 text-center px-4",children:["Add image: ",s]})]})}function M1(t,e){return function(){return t.apply(e,arguments)}}const{toString:o2}=Object.prototype,{getPrototypeOf:em}=Object,{iterator:Bu,toStringTag:O1}=Symbol,Hu=(t=>e=>{const n=o2.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Un=t=>(t=t.toLowerCase(),e=>Hu(e)===t),Uu=t=>e=>typeof e===t,{isArray:cl}=Array,Zs=Uu("undefined");function Va(t){return t!==null&&!Zs(t)&&t.constructor!==null&&!Zs(t.constructor)&&Wt(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const R1=Un("ArrayBuffer");function c2(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&R1(t.buffer),e}const u2=Uu("string"),Wt=Uu("function"),j1=Uu("number"),$a=t=>t!==null&&typeof t=="object",d2=t=>t===!0||t===!1,Lc=t=>{if(Hu(t)!=="object")return!1;const e=em(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(O1 in t)&&!(Bu in t)},f2=t=>{if(!$a(t)||Va(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},h2=Un("Date"),p2=Un("File"),m2=Un("Blob"),g2=Un("FileList"),y2=t=>$a(t)&&Wt(t.pipe),b2=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Wt(t.append)&&((e=Hu(t))==="formdata"||e==="object"&&Wt(t.toString)&&t.toString()==="[object FormData]"))},x2=Un("URLSearchParams"),[v2,w2,S2,k2]=["ReadableStream","Request","Response","Headers"].map(Un),E2=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Fa(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let i,s;if(typeof t!="object"&&(t=[t]),cl(t))for(i=0,s=t.length;i<s;i++)e.call(null,t[i],i,t);else{if(Va(t))return;const a=n?Object.getOwnPropertyNames(t):Object.keys(t),c=a.length;let u;for(i=0;i<c;i++)u=a[i],e.call(null,t[u],u,t)}}function D1(t,e){if(Va(t))return null;e=e.toLowerCase();const n=Object.keys(t);let i=n.length,s;for(;i-- >0;)if(s=n[i],e===s.toLowerCase())return s;return null}const Hr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,z1=t=>!Zs(t)&&t!==Hr;function pp(){const{caseless:t,skipUndefined:e}=z1(this)&&this||{},n={},i=(s,a)=>{const c=t&&D1(n,a)||a;Lc(n[c])&&Lc(s)?n[c]=pp(n[c],s):Lc(s)?n[c]=pp({},s):cl(s)?n[c]=s.slice():(!e||!Zs(s))&&(n[c]=s)};for(let s=0,a=arguments.length;s<a;s++)arguments[s]&&Fa(arguments[s],i);return n}const N2=(t,e,n,{allOwnKeys:i}={})=>(Fa(e,(s,a)=>{n&&Wt(s)?Object.defineProperty(t,a,{value:M1(s,n),writable:!0,enumerable:!0,configurable:!0}):Object.defineProperty(t,a,{value:s,writable:!0,enumerable:!0,configurable:!0})},{allOwnKeys:i}),t),T2=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),C2=(t,e,n,i)=>{t.prototype=Object.create(e.prototype,i),Object.defineProperty(t.prototype,"constructor",{value:t,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},A2=(t,e,n,i)=>{let s,a,c;const u={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),a=s.length;a-- >0;)c=s[a],(!i||i(c,t,e))&&!u[c]&&(e[c]=t[c],u[c]=!0);t=n!==!1&&em(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},M2=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const i=t.indexOf(e,n);return i!==-1&&i===n},O2=t=>{if(!t)return null;if(cl(t))return t;let e=t.length;if(!j1(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},R2=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&em(Uint8Array)),j2=(t,e)=>{const i=(t&&t[Bu]).call(t);let s;for(;(s=i.next())&&!s.done;){const a=s.value;e.call(t,a[0],a[1])}},D2=(t,e)=>{let n;const i=[];for(;(n=t.exec(e))!==null;)i.push(n);return i},z2=Un("HTMLFormElement"),L2=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,i,s){return i.toUpperCase()+s}),cx=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),_2=Un("RegExp"),L1=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),i={};Fa(n,(s,a)=>{let c;(c=e(s,a,t))!==!1&&(i[a]=c||s)}),Object.defineProperties(t,i)},B2=t=>{L1(t,(e,n)=>{if(Wt(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const i=t[n];if(Wt(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},H2=(t,e)=>{const n={},i=s=>{s.forEach(a=>{n[a]=!0})};return cl(t)?i(t):i(String(t).split(e)),n},U2=()=>{},q2=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function I2(t){return!!(t&&Wt(t.append)&&t[O1]==="FormData"&&t[Bu])}const P2=t=>{const e=new Array(10),n=(i,s)=>{if($a(i)){if(e.indexOf(i)>=0)return;if(Va(i))return i;if(!("toJSON"in i)){e[s]=i;const a=cl(i)?[]:{};return Fa(i,(c,u)=>{const f=n(c,s+1);!Zs(f)&&(a[u]=f)}),e[s]=void 0,a}}return i};return n(t,0)},V2=Un("AsyncFunction"),$2=t=>t&&($a(t)||Wt(t))&&Wt(t.then)&&Wt(t.catch),_1=((t,e)=>t?setImmediate:e?((n,i)=>(Hr.addEventListener("message",({source:s,data:a})=>{s===Hr&&a===n&&i.length&&i.shift()()},!1),s=>{i.push(s),Hr.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Wt(Hr.postMessage)),F2=typeof queueMicrotask<"u"?queueMicrotask.bind(Hr):typeof process<"u"&&process.nextTick||_1,K2=t=>t!=null&&Wt(t[Bu]),I={isArray:cl,isArrayBuffer:R1,isBuffer:Va,isFormData:b2,isArrayBufferView:c2,isString:u2,isNumber:j1,isBoolean:d2,isObject:$a,isPlainObject:Lc,isEmptyObject:f2,isReadableStream:v2,isRequest:w2,isResponse:S2,isHeaders:k2,isUndefined:Zs,isDate:h2,isFile:p2,isBlob:m2,isRegExp:_2,isFunction:Wt,isStream:y2,isURLSearchParams:x2,isTypedArray:R2,isFileList:g2,forEach:Fa,merge:pp,extend:N2,trim:E2,stripBOM:T2,inherits:C2,toFlatObject:A2,kindOf:Hu,kindOfTest:Un,endsWith:M2,toArray:O2,forEachEntry:j2,matchAll:D2,isHTMLForm:z2,hasOwnProperty:cx,hasOwnProp:cx,reduceDescriptors:L1,freezeMethods:B2,toObjectSet:H2,toCamelCase:L2,noop:U2,toFiniteNumber:q2,findKey:D1,global:Hr,isContextDefined:z1,isSpecCompliantForm:I2,toJSONObject:P2,isAsyncFn:V2,isThenable:$2,setImmediate:_1,asap:F2,isIterable:K2};let fe=class B1 extends Error{static from(e,n,i,s,a,c){const u=new B1(e.message,n||e.code,i,s,a);return u.cause=e,u.name=e.name,c&&Object.assign(u,c),u}constructor(e,n,i,s,a){super(e),this.name="AxiosError",this.isAxiosError=!0,n&&(this.code=n),i&&(this.config=i),s&&(this.request=s),a&&(this.response=a,this.status=a.status)}toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:I.toJSONObject(this.config),code:this.code,status:this.status}}};fe.ERR_BAD_OPTION_VALUE="ERR_BAD_OPTION_VALUE";fe.ERR_BAD_OPTION="ERR_BAD_OPTION";fe.ECONNABORTED="ECONNABORTED";fe.ETIMEDOUT="ETIMEDOUT";fe.ERR_NETWORK="ERR_NETWORK";fe.ERR_FR_TOO_MANY_REDIRECTS="ERR_FR_TOO_MANY_REDIRECTS";fe.ERR_DEPRECATED="ERR_DEPRECATED";fe.ERR_BAD_RESPONSE="ERR_BAD_RESPONSE";fe.ERR_BAD_REQUEST="ERR_BAD_REQUEST";fe.ERR_CANCELED="ERR_CANCELED";fe.ERR_NOT_SUPPORT="ERR_NOT_SUPPORT";fe.ERR_INVALID_URL="ERR_INVALID_URL";const G2=null;function mp(t){return I.isPlainObject(t)||I.isArray(t)}function H1(t){return I.endsWith(t,"[]")?t.slice(0,-2):t}function ux(t,e,n){return t?t.concat(e).map(function(s,a){return s=H1(s),!n&&a?"["+s+"]":s}).join(n?".":""):e}function Y2(t){return I.isArray(t)&&!t.some(mp)}const J2=I.toFlatObject(I,{},null,function(e){return/^is[A-Z]/.test(e)});function qu(t,e,n){if(!I.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=I.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(k,E){return!I.isUndefined(E[k])});const i=n.metaTokens,s=n.visitor||p,a=n.dots,c=n.indexes,f=(n.Blob||typeof Blob<"u"&&Blob)&&I.isSpecCompliantForm(e);if(!I.isFunction(s))throw new TypeError("visitor must be a function");function h(w){if(w===null)return"";if(I.isDate(w))return w.toISOString();if(I.isBoolean(w))return w.toString();if(!f&&I.isBlob(w))throw new fe("Blob is not supported. Use a Buffer instead.");return I.isArrayBuffer(w)||I.isTypedArray(w)?f&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function p(w,k,E){let T=w;if(w&&!E&&typeof w=="object"){if(I.endsWith(k,"{}"))k=i?k:k.slice(0,-2),w=JSON.stringify(w);else if(I.isArray(w)&&Y2(w)||(I.isFileList(w)||I.endsWith(k,"[]"))&&(T=I.toArray(w)))return k=H1(k),T.forEach(function(z,P){!(I.isUndefined(z)||z===null)&&e.append(c===!0?ux([k],P,a):c===null?k:k+"[]",h(z))}),!1}return mp(w)?!0:(e.append(ux(E,k,a),h(w)),!1)}const g=[],x=Object.assign(J2,{defaultVisitor:p,convertValue:h,isVisitable:mp});function v(w,k){if(!I.isUndefined(w)){if(g.indexOf(w)!==-1)throw Error("Circular reference detected in "+k.join("."));g.push(w),I.forEach(w,function(T,M){(!(I.isUndefined(T)||T===null)&&s.call(e,T,I.isString(M)?M.trim():M,k,x))===!0&&v(T,k?k.concat(M):[M])}),g.pop()}}if(!I.isObject(t))throw new TypeError("data must be an object");return v(t),e}function dx(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function tm(t,e){this._pairs=[],t&&qu(t,this,e)}const U1=tm.prototype;U1.append=function(e,n){this._pairs.push([e,n])};U1.toString=function(e){const n=e?function(i){return e.call(this,i,dx)}:dx;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function X2(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function q1(t,e,n){if(!e)return t;const i=n&&n.encode||X2,s=I.isFunction(n)?{serialize:n}:n,a=s&&s.serialize;let c;if(a?c=a(e,s):c=I.isURLSearchParams(e)?e.toString():new tm(e,s).toString(i),c){const u=t.indexOf("#");u!==-1&&(t=t.slice(0,u)),t+=(t.indexOf("?")===-1?"?":"&")+c}return t}class fx{constructor(){this.handlers=[]}use(e,n,i){return this.handlers.push({fulfilled:e,rejected:n,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){I.forEach(this.handlers,function(i){i!==null&&e(i)})}}const I1={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},W2=typeof URLSearchParams<"u"?URLSearchParams:tm,Q2=typeof FormData<"u"?FormData:null,Z2=typeof Blob<"u"?Blob:null,eA={isBrowser:!0,classes:{URLSearchParams:W2,FormData:Q2,Blob:Z2},protocols:["http","https","file","blob","url","data"]},nm=typeof window<"u"&&typeof document<"u",gp=typeof navigator=="object"&&navigator||void 0,tA=nm&&(!gp||["ReactNative","NativeScript","NS"].indexOf(gp.product)<0),nA=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",iA=nm&&window.location.href||"http://localhost",rA=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:nm,hasStandardBrowserEnv:tA,hasStandardBrowserWebWorkerEnv:nA,navigator:gp,origin:iA},Symbol.toStringTag,{value:"Module"})),_t={...rA,...eA};function sA(t,e){return qu(t,new _t.classes.URLSearchParams,{visitor:function(n,i,s,a){return _t.isNode&&I.isBuffer(n)?(this.append(i,n.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...e})}function lA(t){return I.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function aA(t){const e={},n=Object.keys(t);let i;const s=n.length;let a;for(i=0;i<s;i++)a=n[i],e[a]=t[a];return e}function P1(t){function e(n,i,s,a){let c=n[a++];if(c==="__proto__")return!0;const u=Number.isFinite(+c),f=a>=n.length;return c=!c&&I.isArray(s)?s.length:c,f?(I.hasOwnProp(s,c)?s[c]=[s[c],i]:s[c]=i,!u):((!s[c]||!I.isObject(s[c]))&&(s[c]=[]),e(n,i,s[c],a)&&I.isArray(s[c])&&(s[c]=aA(s[c])),!u)}if(I.isFormData(t)&&I.isFunction(t.entries)){const n={};return I.forEachEntry(t,(i,s)=>{e(lA(i),s,n,0)}),n}return null}function oA(t,e,n){if(I.isString(t))try{return(e||JSON.parse)(t),I.trim(t)}catch(i){if(i.name!=="SyntaxError")throw i}return(n||JSON.stringify)(t)}const Ka={transitional:I1,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const i=n.getContentType()||"",s=i.indexOf("application/json")>-1,a=I.isObject(e);if(a&&I.isHTMLForm(e)&&(e=new FormData(e)),I.isFormData(e))return s?JSON.stringify(P1(e)):e;if(I.isArrayBuffer(e)||I.isBuffer(e)||I.isStream(e)||I.isFile(e)||I.isBlob(e)||I.isReadableStream(e))return e;if(I.isArrayBufferView(e))return e.buffer;if(I.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let u;if(a){if(i.indexOf("application/x-www-form-urlencoded")>-1)return sA(e,this.formSerializer).toString();if((u=I.isFileList(e))||i.indexOf("multipart/form-data")>-1){const f=this.env&&this.env.FormData;return qu(u?{"files[]":e}:e,f&&new f,this.formSerializer)}}return a||s?(n.setContentType("application/json",!1),oA(e)):e}],transformResponse:[function(e){const n=this.transitional||Ka.transitional,i=n&&n.forcedJSONParsing,s=this.responseType==="json";if(I.isResponse(e)||I.isReadableStream(e))return e;if(e&&I.isString(e)&&(i&&!this.responseType||s)){const c=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(e,this.parseReviver)}catch(u){if(c)throw u.name==="SyntaxError"?fe.from(u,fe.ERR_BAD_RESPONSE,this,null,this.response):u}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:_t.classes.FormData,Blob:_t.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};I.forEach(["delete","get","head","post","put","patch"],t=>{Ka.headers[t]={}});const cA=I.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),uA=t=>{const e={};let n,i,s;return t&&t.split(`
`).forEach(function(c){s=c.indexOf(":"),n=c.substring(0,s).trim().toLowerCase(),i=c.substring(s+1).trim(),!(!n||e[n]&&cA[n])&&(n==="set-cookie"?e[n]?e[n].push(i):e[n]=[i]:e[n]=e[n]?e[n]+", "+i:i)}),e},hx=Symbol("internals");function aa(t){return t&&String(t).trim().toLowerCase()}function _c(t){return t===!1||t==null?t:I.isArray(t)?t.map(_c):String(t)}function dA(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(t);)e[i[1]]=i[2];return e}const fA=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Rh(t,e,n,i,s){if(I.isFunction(i))return i.call(this,e,n);if(s&&(e=n),!!I.isString(e)){if(I.isString(i))return e.indexOf(i)!==-1;if(I.isRegExp(i))return i.test(e)}}function hA(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,i)=>n.toUpperCase()+i)}function pA(t,e){const n=I.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(t,i+n,{value:function(s,a,c){return this[i].call(this,e,s,a,c)},configurable:!0})})}let Qt=class{constructor(e){e&&this.set(e)}set(e,n,i){const s=this;function a(u,f,h){const p=aa(f);if(!p)throw new Error("header name must be a non-empty string");const g=I.findKey(s,p);(!g||s[g]===void 0||h===!0||h===void 0&&s[g]!==!1)&&(s[g||f]=_c(u))}const c=(u,f)=>I.forEach(u,(h,p)=>a(h,p,f));if(I.isPlainObject(e)||e instanceof this.constructor)c(e,n);else if(I.isString(e)&&(e=e.trim())&&!fA(e))c(uA(e),n);else if(I.isObject(e)&&I.isIterable(e)){let u={},f,h;for(const p of e){if(!I.isArray(p))throw TypeError("Object iterator must return a key-value pair");u[h=p[0]]=(f=u[h])?I.isArray(f)?[...f,p[1]]:[f,p[1]]:p[1]}c(u,n)}else e!=null&&a(n,e,i);return this}get(e,n){if(e=aa(e),e){const i=I.findKey(this,e);if(i){const s=this[i];if(!n)return s;if(n===!0)return dA(s);if(I.isFunction(n))return n.call(this,s,i);if(I.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=aa(e),e){const i=I.findKey(this,e);return!!(i&&this[i]!==void 0&&(!n||Rh(this,this[i],i,n)))}return!1}delete(e,n){const i=this;let s=!1;function a(c){if(c=aa(c),c){const u=I.findKey(i,c);u&&(!n||Rh(i,i[u],u,n))&&(delete i[u],s=!0)}}return I.isArray(e)?e.forEach(a):a(e),s}clear(e){const n=Object.keys(this);let i=n.length,s=!1;for(;i--;){const a=n[i];(!e||Rh(this,this[a],a,e,!0))&&(delete this[a],s=!0)}return s}normalize(e){const n=this,i={};return I.forEach(this,(s,a)=>{const c=I.findKey(i,a);if(c){n[c]=_c(s),delete n[a];return}const u=e?hA(a):String(a).trim();u!==a&&delete n[a],n[u]=_c(s),i[u]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return I.forEach(this,(i,s)=>{i!=null&&i!==!1&&(n[s]=e&&I.isArray(i)?i.join(", "):i)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const i=new this(e);return n.forEach(s=>i.set(s)),i}static accessor(e){const i=(this[hx]=this[hx]={accessors:{}}).accessors,s=this.prototype;function a(c){const u=aa(c);i[u]||(pA(s,c),i[u]=!0)}return I.isArray(e)?e.forEach(a):a(e),this}};Qt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);I.reduceDescriptors(Qt.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(i){this[n]=i}}});I.freezeMethods(Qt);function jh(t,e){const n=this||Ka,i=e||n,s=Qt.from(i.headers);let a=i.data;return I.forEach(t,function(u){a=u.call(n,a,s.normalize(),e?e.status:void 0)}),s.normalize(),a}function V1(t){return!!(t&&t.__CANCEL__)}let Ga=class extends fe{constructor(e,n,i){super(e??"canceled",fe.ERR_CANCELED,n,i),this.name="CanceledError",this.__CANCEL__=!0}};function $1(t,e,n){const i=n.config.validateStatus;!n.status||!i||i(n.status)?t(n):e(new fe("Request failed with status code "+n.status,[fe.ERR_BAD_REQUEST,fe.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function mA(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function gA(t,e){t=t||10;const n=new Array(t),i=new Array(t);let s=0,a=0,c;return e=e!==void 0?e:1e3,function(f){const h=Date.now(),p=i[a];c||(c=h),n[s]=f,i[s]=h;let g=a,x=0;for(;g!==s;)x+=n[g++],g=g%t;if(s=(s+1)%t,s===a&&(a=(a+1)%t),h-c<e)return;const v=p&&h-p;return v?Math.round(x*1e3/v):void 0}}function yA(t,e){let n=0,i=1e3/e,s,a;const c=(h,p=Date.now())=>{n=p,s=null,a&&(clearTimeout(a),a=null),t(...h)};return[(...h)=>{const p=Date.now(),g=p-n;g>=i?c(h,p):(s=h,a||(a=setTimeout(()=>{a=null,c(s)},i-g)))},()=>s&&c(s)]}const $c=(t,e,n=3)=>{let i=0;const s=gA(50,250);return yA(a=>{const c=a.loaded,u=a.lengthComputable?a.total:void 0,f=c-i,h=s(f),p=c<=u;i=c;const g={loaded:c,total:u,progress:u?c/u:void 0,bytes:f,rate:h||void 0,estimated:h&&u&&p?(u-c)/h:void 0,event:a,lengthComputable:u!=null,[e?"download":"upload"]:!0};t(g)},n)},px=(t,e)=>{const n=t!=null;return[i=>e[0]({lengthComputable:n,total:t,loaded:i}),e[1]]},mx=t=>(...e)=>I.asap(()=>t(...e)),bA=_t.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,_t.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(_t.origin),_t.navigator&&/(msie|trident)/i.test(_t.navigator.userAgent)):()=>!0,xA=_t.hasStandardBrowserEnv?{write(t,e,n,i,s,a,c){if(typeof document>"u")return;const u=[`${t}=${encodeURIComponent(e)}`];I.isNumber(n)&&u.push(`expires=${new Date(n).toUTCString()}`),I.isString(i)&&u.push(`path=${i}`),I.isString(s)&&u.push(`domain=${s}`),a===!0&&u.push("secure"),I.isString(c)&&u.push(`SameSite=${c}`),document.cookie=u.join("; ")},read(t){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function vA(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function wA(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function F1(t,e,n){let i=!vA(e);return t&&(i||n==!1)?wA(t,e):e}const gx=t=>t instanceof Qt?{...t}:t;function Xr(t,e){e=e||{};const n={};function i(h,p,g,x){return I.isPlainObject(h)&&I.isPlainObject(p)?I.merge.call({caseless:x},h,p):I.isPlainObject(p)?I.merge({},p):I.isArray(p)?p.slice():p}function s(h,p,g,x){if(I.isUndefined(p)){if(!I.isUndefined(h))return i(void 0,h,g,x)}else return i(h,p,g,x)}function a(h,p){if(!I.isUndefined(p))return i(void 0,p)}function c(h,p){if(I.isUndefined(p)){if(!I.isUndefined(h))return i(void 0,h)}else return i(void 0,p)}function u(h,p,g){if(g in e)return i(h,p);if(g in t)return i(void 0,h)}const f={url:a,method:a,data:a,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:u,headers:(h,p,g)=>s(gx(h),gx(p),g,!0)};return I.forEach(Object.keys({...t,...e}),function(p){const g=f[p]||s,x=g(t[p],e[p],p);I.isUndefined(x)&&g!==u||(n[p]=x)}),n}const K1=t=>{const e=Xr({},t);let{data:n,withXSRFToken:i,xsrfHeaderName:s,xsrfCookieName:a,headers:c,auth:u}=e;if(e.headers=c=Qt.from(c),e.url=q1(F1(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),u&&c.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):""))),I.isFormData(n)){if(_t.hasStandardBrowserEnv||_t.hasStandardBrowserWebWorkerEnv)c.setContentType(void 0);else if(I.isFunction(n.getHeaders)){const f=n.getHeaders(),h=["content-type","content-length"];Object.entries(f).forEach(([p,g])=>{h.includes(p.toLowerCase())&&c.set(p,g)})}}if(_t.hasStandardBrowserEnv&&(i&&I.isFunction(i)&&(i=i(e)),i||i!==!1&&bA(e.url))){const f=s&&a&&xA.read(a);f&&c.set(s,f)}return e},SA=typeof XMLHttpRequest<"u",kA=SA&&function(t){return new Promise(function(n,i){const s=K1(t);let a=s.data;const c=Qt.from(s.headers).normalize();let{responseType:u,onUploadProgress:f,onDownloadProgress:h}=s,p,g,x,v,w;function k(){v&&v(),w&&w(),s.cancelToken&&s.cancelToken.unsubscribe(p),s.signal&&s.signal.removeEventListener("abort",p)}let E=new XMLHttpRequest;E.open(s.method.toUpperCase(),s.url,!0),E.timeout=s.timeout;function T(){if(!E)return;const z=Qt.from("getAllResponseHeaders"in E&&E.getAllResponseHeaders()),D={data:!u||u==="text"||u==="json"?E.responseText:E.response,status:E.status,statusText:E.statusText,headers:z,config:t,request:E};$1(function(L){n(L),k()},function(L){i(L),k()},D),E=null}"onloadend"in E?E.onloadend=T:E.onreadystatechange=function(){!E||E.readyState!==4||E.status===0&&!(E.responseURL&&E.responseURL.indexOf("file:")===0)||setTimeout(T)},E.onabort=function(){E&&(i(new fe("Request aborted",fe.ECONNABORTED,t,E)),E=null)},E.onerror=function(P){const D=P&&P.message?P.message:"Network Error",$=new fe(D,fe.ERR_NETWORK,t,E);$.event=P||null,i($),E=null},E.ontimeout=function(){let P=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const D=s.transitional||I1;s.timeoutErrorMessage&&(P=s.timeoutErrorMessage),i(new fe(P,D.clarifyTimeoutError?fe.ETIMEDOUT:fe.ECONNABORTED,t,E)),E=null},a===void 0&&c.setContentType(null),"setRequestHeader"in E&&I.forEach(c.toJSON(),function(P,D){E.setRequestHeader(D,P)}),I.isUndefined(s.withCredentials)||(E.withCredentials=!!s.withCredentials),u&&u!=="json"&&(E.responseType=s.responseType),h&&([x,w]=$c(h,!0),E.addEventListener("progress",x)),f&&E.upload&&([g,v]=$c(f),E.upload.addEventListener("progress",g),E.upload.addEventListener("loadend",v)),(s.cancelToken||s.signal)&&(p=z=>{E&&(i(!z||z.type?new Ga(null,t,E):z),E.abort(),E=null)},s.cancelToken&&s.cancelToken.subscribe(p),s.signal&&(s.signal.aborted?p():s.signal.addEventListener("abort",p)));const M=mA(s.url);if(M&&_t.protocols.indexOf(M)===-1){i(new fe("Unsupported protocol "+M+":",fe.ERR_BAD_REQUEST,t));return}E.send(a||null)})},EA=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let i=new AbortController,s;const a=function(h){if(!s){s=!0,u();const p=h instanceof Error?h:this.reason;i.abort(p instanceof fe?p:new Ga(p instanceof Error?p.message:p))}};let c=e&&setTimeout(()=>{c=null,a(new fe(`timeout of ${e}ms exceeded`,fe.ETIMEDOUT))},e);const u=()=>{t&&(c&&clearTimeout(c),c=null,t.forEach(h=>{h.unsubscribe?h.unsubscribe(a):h.removeEventListener("abort",a)}),t=null)};t.forEach(h=>h.addEventListener("abort",a));const{signal:f}=i;return f.unsubscribe=()=>I.asap(u),f}},NA=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let i=0,s;for(;i<n;)s=i+e,yield t.slice(i,s),i=s},TA=async function*(t,e){for await(const n of CA(t))yield*NA(n,e)},CA=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:i}=await e.read();if(n)break;yield i}}finally{await e.cancel()}},yx=(t,e,n,i)=>{const s=TA(t,e);let a=0,c,u=f=>{c||(c=!0,i&&i(f))};return new ReadableStream({async pull(f){try{const{done:h,value:p}=await s.next();if(h){u(),f.close();return}let g=p.byteLength;if(n){let x=a+=g;n(x)}f.enqueue(new Uint8Array(p))}catch(h){throw u(h),h}},cancel(f){return u(f),s.return()}},{highWaterMark:2})},bx=64*1024,{isFunction:xc}=I,AA=(({Request:t,Response:e})=>({Request:t,Response:e}))(I.global),{ReadableStream:xx,TextEncoder:vx}=I.global,wx=(t,...e)=>{try{return!!t(...e)}catch{return!1}},MA=t=>{t=I.merge.call({skipUndefined:!0},AA,t);const{fetch:e,Request:n,Response:i}=t,s=e?xc(e):typeof fetch=="function",a=xc(n),c=xc(i);if(!s)return!1;const u=s&&xc(xx),f=s&&(typeof vx=="function"?(w=>k=>w.encode(k))(new vx):async w=>new Uint8Array(await new n(w).arrayBuffer())),h=a&&u&&wx(()=>{let w=!1;const k=new n(_t.origin,{body:new xx,method:"POST",get duplex(){return w=!0,"half"}}).headers.has("Content-Type");return w&&!k}),p=c&&u&&wx(()=>I.isReadableStream(new i("").body)),g={stream:p&&(w=>w.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(w=>{!g[w]&&(g[w]=(k,E)=>{let T=k&&k[w];if(T)return T.call(k);throw new fe(`Response type '${w}' is not supported`,fe.ERR_NOT_SUPPORT,E)})});const x=async w=>{if(w==null)return 0;if(I.isBlob(w))return w.size;if(I.isSpecCompliantForm(w))return(await new n(_t.origin,{method:"POST",body:w}).arrayBuffer()).byteLength;if(I.isArrayBufferView(w)||I.isArrayBuffer(w))return w.byteLength;if(I.isURLSearchParams(w)&&(w=w+""),I.isString(w))return(await f(w)).byteLength},v=async(w,k)=>{const E=I.toFiniteNumber(w.getContentLength());return E??x(k)};return async w=>{let{url:k,method:E,data:T,signal:M,cancelToken:z,timeout:P,onDownloadProgress:D,onUploadProgress:$,responseType:L,headers:G,withCredentials:Z="same-origin",fetchOptions:ue}=K1(w),Ve=e||fetch;L=L?(L+"").toLowerCase():"text";let ie=EA([M,z&&z.toAbortSignal()],P),Me=null;const Se=ie&&ie.unsubscribe&&(()=>{ie.unsubscribe()});let ae;try{if($&&h&&E!=="get"&&E!=="head"&&(ae=await v(G,T))!==0){let A=new n(k,{method:"POST",body:T,duplex:"half"}),F;if(I.isFormData(T)&&(F=A.headers.get("content-type"))&&G.setContentType(F),A.body){const[X,ee]=px(ae,$c(mx($)));T=yx(A.body,bx,X,ee)}}I.isString(Z)||(Z=Z?"include":"omit");const U=a&&"credentials"in n.prototype,Q={...ue,signal:ie,method:E.toUpperCase(),headers:G.normalize().toJSON(),body:T,duplex:"half",credentials:U?Z:void 0};Me=a&&new n(k,Q);let re=await(a?Ve(Me,ue):Ve(k,Q));const he=p&&(L==="stream"||L==="response");if(p&&(D||he&&Se)){const A={};["status","statusText","headers"].forEach(pe=>{A[pe]=re[pe]});const F=I.toFiniteNumber(re.headers.get("content-length")),[X,ee]=D&&px(F,$c(mx(D),!0))||[];re=new i(yx(re.body,bx,X,()=>{ee&&ee(),Se&&Se()}),A)}L=L||"text";let xe=await g[I.findKey(g,L)||"text"](re,w);return!he&&Se&&Se(),await new Promise((A,F)=>{$1(A,F,{data:xe,headers:Qt.from(re.headers),status:re.status,statusText:re.statusText,config:w,request:Me})})}catch(U){throw Se&&Se(),U&&U.name==="TypeError"&&/Load failed|fetch/i.test(U.message)?Object.assign(new fe("Network Error",fe.ERR_NETWORK,w,Me),{cause:U.cause||U}):fe.from(U,U&&U.code,w,Me)}}},OA=new Map,G1=t=>{let e=t&&t.env||{};const{fetch:n,Request:i,Response:s}=e,a=[i,s,n];let c=a.length,u=c,f,h,p=OA;for(;u--;)f=a[u],h=p.get(f),h===void 0&&p.set(f,h=u?new Map:MA(e)),p=h;return h};G1();const im={http:G2,xhr:kA,fetch:{get:G1}};I.forEach(im,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Sx=t=>`- ${t}`,RA=t=>I.isFunction(t)||t===null||t===!1;function jA(t,e){t=I.isArray(t)?t:[t];const{length:n}=t;let i,s;const a={};for(let c=0;c<n;c++){i=t[c];let u;if(s=i,!RA(i)&&(s=im[(u=String(i)).toLowerCase()],s===void 0))throw new fe(`Unknown adapter '${u}'`);if(s&&(I.isFunction(s)||(s=s.get(e))))break;a[u||"#"+c]=s}if(!s){const c=Object.entries(a).map(([f,h])=>`adapter ${f} `+(h===!1?"is not supported by the environment":"is not available in the build"));let u=n?c.length>1?`since :
`+c.map(Sx).join(`
`):" "+Sx(c[0]):"as no adapter specified";throw new fe("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return s}const Y1={getAdapter:jA,adapters:im};function Dh(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Ga(null,t)}function kx(t){return Dh(t),t.headers=Qt.from(t.headers),t.data=jh.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Y1.getAdapter(t.adapter||Ka.adapter,t)(t).then(function(i){return Dh(t),i.data=jh.call(t,t.transformResponse,i),i.headers=Qt.from(i.headers),i},function(i){return V1(i)||(Dh(t),i&&i.response&&(i.response.data=jh.call(t,t.transformResponse,i.response),i.response.headers=Qt.from(i.response.headers))),Promise.reject(i)})}const J1="1.13.4",Iu={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Iu[t]=function(i){return typeof i===t||"a"+(e<1?"n ":" ")+t}});const Ex={};Iu.transitional=function(e,n,i){function s(a,c){return"[Axios v"+J1+"] Transitional option '"+a+"'"+c+(i?". "+i:"")}return(a,c,u)=>{if(e===!1)throw new fe(s(c," has been removed"+(n?" in "+n:"")),fe.ERR_DEPRECATED);return n&&!Ex[c]&&(Ex[c]=!0,console.warn(s(c," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(a,c,u):!0}};Iu.spelling=function(e){return(n,i)=>(console.warn(`${i} is likely a misspelling of ${e}`),!0)};function DA(t,e,n){if(typeof t!="object")throw new fe("options must be an object",fe.ERR_BAD_OPTION_VALUE);const i=Object.keys(t);let s=i.length;for(;s-- >0;){const a=i[s],c=e[a];if(c){const u=t[a],f=u===void 0||c(u,a,t);if(f!==!0)throw new fe("option "+a+" must be "+f,fe.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new fe("Unknown option "+a,fe.ERR_BAD_OPTION)}}const Bc={assertOptions:DA,validators:Iu},$n=Bc.validators;let Vr=class{constructor(e){this.defaults=e||{},this.interceptors={request:new fx,response:new fx}}async request(e,n){try{return await this._request(e,n)}catch(i){if(i instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const a=s.stack?s.stack.replace(/^.+\n/,""):"";try{i.stack?a&&!String(i.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+a):i.stack=a}catch{}}throw i}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Xr(this.defaults,n);const{transitional:i,paramsSerializer:s,headers:a}=n;i!==void 0&&Bc.assertOptions(i,{silentJSONParsing:$n.transitional($n.boolean),forcedJSONParsing:$n.transitional($n.boolean),clarifyTimeoutError:$n.transitional($n.boolean)},!1),s!=null&&(I.isFunction(s)?n.paramsSerializer={serialize:s}:Bc.assertOptions(s,{encode:$n.function,serialize:$n.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Bc.assertOptions(n,{baseUrl:$n.spelling("baseURL"),withXsrfToken:$n.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let c=a&&I.merge(a.common,a[n.method]);a&&I.forEach(["delete","get","head","post","put","patch","common"],w=>{delete a[w]}),n.headers=Qt.concat(c,a);const u=[];let f=!0;this.interceptors.request.forEach(function(k){typeof k.runWhen=="function"&&k.runWhen(n)===!1||(f=f&&k.synchronous,u.unshift(k.fulfilled,k.rejected))});const h=[];this.interceptors.response.forEach(function(k){h.push(k.fulfilled,k.rejected)});let p,g=0,x;if(!f){const w=[kx.bind(this),void 0];for(w.unshift(...u),w.push(...h),x=w.length,p=Promise.resolve(n);g<x;)p=p.then(w[g++],w[g++]);return p}x=u.length;let v=n;for(;g<x;){const w=u[g++],k=u[g++];try{v=w(v)}catch(E){k.call(this,E);break}}try{p=kx.call(this,v)}catch(w){return Promise.reject(w)}for(g=0,x=h.length;g<x;)p=p.then(h[g++],h[g++]);return p}getUri(e){e=Xr(this.defaults,e);const n=F1(e.baseURL,e.url,e.allowAbsoluteUrls);return q1(n,e.params,e.paramsSerializer)}};I.forEach(["delete","get","head","options"],function(e){Vr.prototype[e]=function(n,i){return this.request(Xr(i||{},{method:e,url:n,data:(i||{}).data}))}});I.forEach(["post","put","patch"],function(e){function n(i){return function(a,c,u){return this.request(Xr(u||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:a,data:c}))}}Vr.prototype[e]=n(),Vr.prototype[e+"Form"]=n(!0)});let zA=class X1{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(a){n=a});const i=this;this.promise.then(s=>{if(!i._listeners)return;let a=i._listeners.length;for(;a-- >0;)i._listeners[a](s);i._listeners=null}),this.promise.then=s=>{let a;const c=new Promise(u=>{i.subscribe(u),a=u}).then(s);return c.cancel=function(){i.unsubscribe(a)},c},e(function(a,c,u){i.reason||(i.reason=new Ga(a,c,u),n(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=i=>{e.abort(i)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new X1(function(s){e=s}),cancel:e}}};function LA(t){return function(n){return t.apply(null,n)}}function _A(t){return I.isObject(t)&&t.isAxiosError===!0}const yp={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(yp).forEach(([t,e])=>{yp[e]=t});function W1(t){const e=new Vr(t),n=M1(Vr.prototype.request,e);return I.extend(n,Vr.prototype,e,{allOwnKeys:!0}),I.extend(n,e,null,{allOwnKeys:!0}),n.create=function(s){return W1(Xr(t,s))},n}const rt=W1(Ka);rt.Axios=Vr;rt.CanceledError=Ga;rt.CancelToken=zA;rt.isCancel=V1;rt.VERSION=J1;rt.toFormData=qu;rt.AxiosError=fe;rt.Cancel=rt.CanceledError;rt.all=function(e){return Promise.all(e)};rt.spread=LA;rt.isAxiosError=_A;rt.mergeConfig=Xr;rt.AxiosHeaders=Qt;rt.formToJSON=t=>P1(I.isHTMLForm(t)?new FormData(t):t);rt.getAdapter=Y1.getAdapter;rt.HttpStatusCode=yp;rt.default=rt;const{Axios:jL,AxiosError:DL,CanceledError:zL,isCancel:LL,CancelToken:_L,VERSION:BL,all:HL,Cancel:UL,isAxiosError:qL,spread:IL,toFormData:PL,AxiosHeaders:VL,HttpStatusCode:$L,formToJSON:FL,getAdapter:KL,mergeConfig:GL}=rt,BA="https://macadam-method.onrender.com/api",Ni=rt.create({baseURL:BA,timeout:1e4,headers:{"Content-Type":"application/json"}});Ni.interceptors.request.use(t=>t,t=>Promise.reject(t));Ni.interceptors.response.use(t=>t,t=>Promise.reject(t));const HA=[{title:"Attorneys",desc:"High-stakes litigation, billable hours, constant pressure. Regulation work built for the pace of lawnot generic wellness advice."},{title:"Executives",desc:"Board meetings, stakeholder demands, little margin for error. Learn to reset without disappearing from the room."},{title:"Medical Professionals",desc:"Shift work, life-or-death decisions, emotional load. Tools designed for people who hold lives in their hands."},{title:"Founders",desc:"Company on your shoulders, investors, team, product. Regulation that fits the founder realitynot a 9-to-5 schedule."},{title:"High-Functioning Parents",desc:`Career + family + self, with no pause button. Integration work for people who can't "just meditate more."`}],UA=[{title:"Regulation Reset",desc:"A guided nervous system reset. Video + framework + PDF. Do it in one sitting or spread it out. Lifetime access.",price:"$199",href:"/regulation-reset"},{title:"Mini Courses",desc:"Focused skill-building modules for busy professionals. Deep dives on specific regulation skills, 2040 min each.",status:"Coming soon",href:"/courses"},{title:"Private Sessions",desc:"One-on-one regulation work. Customized to your contexttransitions, relationships, sustained overload. Starting at $500+",href:"/private-work"}],qA=[{value:"500+",label:"Professionals served"},{value:"15+",label:"Years clinical expertise"}],IA=["Guided video session (~45 min)","Practical framework you can reuse","Repeatable reset tool","Downloadable PDF reference"],PA=["Regulation workshops for teams","Burnout prevention programs","Leadership stabilization sessions","CLE-compliant education options"];function VA(){gt("Home");const[t,e]=C.useState([]),[n,i]=C.useState(!0),[s,a]=C.useState([]),[c,u]=C.useState(!0);return C.useEffect(()=>{Ni.get("/articles?limit=6").then(({data:f})=>e(f.articles||[])).catch(()=>e([])).finally(()=>i(!1))},[]),C.useEffect(()=>{Ni.get("/testimonials").then(({data:f})=>a(f.testimonials||[])).catch(()=>a([])).finally(()=>u(!1))},[]),b.jsxs("div",{className:"pt-14 md:pt-16",children:[b.jsxs("section",{className:"relative min-h-[90vh] flex flex-col md:flex-row md:items-center md:gap-12 lg:gap-20 px-6 overflow-hidden",children:[b.jsx("div",{className:"absolute inset-0 opacity-[0.03]",style:{backgroundImage:"linear-gradient(to right, #000 1px, transparent 1px), linear-gradient(to bottom, #000 1px, transparent 1px)",backgroundSize:"60px 60px"}}),b.jsxs("div",{className:"relative z-10 flex-1 flex flex-col items-center md:items-start text-center md:text-left min-h-[60vh] md:min-h-0 justify-center py-16 md:py-0",children:[b.jsx("p",{className:"text-xs font-medium tracking-[0.3em] uppercase text-black/50 mb-6 animate-fade-in opacity-0 md:mx-0",style:{animationDelay:"0.1s",animationFillMode:"forwards"},children:"The MacAdam Company"}),b.jsx("h1",{className:"font-serif text-4xl sm:text-5xl md:text-6xl lg:text-7xl font-normal text-black tracking-tight leading-[1.1] max-w-3xl mx-auto md:mx-0 animate-fade-up opacity-0",style:{animationDelay:"0.2s",animationFillMode:"forwards"},children:"Regulation for high-performing leaders."}),b.jsx("p",{className:"mt-8 text-lg md:text-xl text-black/70 max-w-xl mx-auto md:mx-0 leading-relaxed animate-fade-up opacity-0",style:{animationDelay:"0.4s",animationFillMode:"forwards"},children:"Practical nervous system regulation for professionals under pressure."}),b.jsxs("div",{className:"mt-12 flex flex-col sm:flex-row gap-4 justify-center md:justify-start animate-fade-up opacity-0",style:{animationDelay:"0.6s",animationFillMode:"forwards"},children:[b.jsx(je,{to:"/regulation-reset",className:"inline-block px-8 py-4 bg-black text-white text-sm font-medium tracking-widest uppercase hover:bg-black/90 transition-all duration-300 hover:scale-[1.02]",children:"Start Regulation Reset"}),b.jsx(je,{to:"/private-work",className:"inline-block px-8 py-4 border border-black text-black text-sm font-medium tracking-widest uppercase hover:bg-black hover:text-white transition-all duration-300",children:"Book Private Session"})]})]}),b.jsx("div",{className:"relative z-10 hidden md:block flex-1 max-w-lg lg:max-w-xl w-full",children:b.jsx(Dn,{path:"/images/p1.jpg",alt:"Patricia MacAdam",aspect:"4/5",className:"w-full"})}),b.jsx("div",{className:"absolute bottom-8 left-1/2 -translate-x-1/2 animate-float md:hidden",children:b.jsx("div",{className:"w-px h-12 bg-black/30"})})]}),b.jsxs("section",{className:"py-20 md:py-28 px-6 border-t border-black/10",children:[b.jsx("p",{className:"max-w-2xl mx-auto text-center text-lg md:text-xl text-black/70 leading-relaxed mb-8",children:"Regulation-based consulting, courses, and private work for people who carry real responsibility."}),b.jsx("p",{className:"max-w-xl mx-auto text-center text-black/60 text-sm leading-relaxed mb-16",children:"We don't do generic wellness. We teach practical nervous system regulationthe kind you can use in the middle of a board meeting, before a difficult conversation, or when the inbox won't stop."}),b.jsx("div",{className:"flex flex-wrap justify-center gap-16 md:gap-24",children:qA.map(({value:f,label:h})=>b.jsxs("div",{className:"text-center",children:[b.jsx("p",{className:"font-serif text-4xl md:text-5xl font-normal text-black",children:f}),b.jsx("p",{className:"text-xs font-medium tracking-widest uppercase text-black/50 mt-2",children:h})]},h))})]}),b.jsx("section",{className:"py-20 md:py-28 px-6 bg-macadam-offwhite",children:b.jsxs("div",{className:"max-w-3xl mx-auto",children:[b.jsx("p",{className:"text-xs font-medium tracking-widest uppercase text-black/50 mb-8 text-center",children:"The MacAdam Method"}),b.jsx("p",{className:"text-black/80 leading-relaxed text-center mb-6",children:"The MacAdam Method was developed through years of direct clinical work, graduate-level training, and real-world application with families, professionals, and high-functioning adults under sustained stress."}),b.jsx("p",{className:"text-black/80 leading-relaxed text-center mb-6",children:"Capable people weren't failing from lack of insightthey were operating from chronically dysregulated nervous systems. Traditional approaches focused on coping and performance. What was missing was regulation: the ability to stabilize before stress spilled into relationships, decisions, and health."}),b.jsx("p",{className:"text-black font-medium text-center",children:"Regulation is not weakness. It is the foundation of sustainable leadership."}),b.jsx(je,{to:"/regulation-reset",className:"block mt-10 text-center text-sm font-medium tracking-wide text-black/60 hover:text-black",children:"Learn the method "})]})}),b.jsx("section",{className:"py-20 md:py-28 px-6",children:b.jsxs("div",{className:"max-w-6xl mx-auto",children:[b.jsxs("div",{className:"grid lg:grid-cols-12 gap-12 lg:gap-16 items-start mb-16",children:[b.jsxs("div",{className:"lg:col-span-7",children:[b.jsx("h2",{className:"text-xs font-medium tracking-widest uppercase text-black/60 mb-4",children:"Who we serve"}),b.jsx("p",{className:"text-2xl md:text-3xl font-serif font-normal text-black mb-6 max-w-2xl",children:"Professionals who can't afford to shut down  but know they can't keep going like this."}),b.jsx("p",{className:"text-black/60 leading-relaxed",children:"Attorneys, executives, founders, medical professionals, and high-functioning parentspeople who carry real responsibility and need regulation tools that fit their reality, not a retreat schedule."})]}),b.jsx("div",{className:"lg:col-span-5",children:b.jsx(Dn,{path:"/images/jkl.jpeg",alt:"Professionals at work",aspect:"4/5",className:"w-full bg-transparent"})})]}),b.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-px bg-black/10",children:HA.map(({title:f,desc:h},p)=>b.jsxs("div",{className:"bg-white p-8 md:p-10 group hover:bg-black transition-colors duration-300",children:[b.jsx("span",{className:"text-[10px] font-medium tracking-widest text-black/40 group-hover:text-white/60",children:String(p+1).padStart(2,"0")}),b.jsx("p",{className:"text-sm font-medium text-black group-hover:text-white mt-4 transition-colors",children:f}),b.jsx("p",{className:"text-sm text-black/60 group-hover:text-white/80 mt-2 leading-relaxed transition-colors",children:h})]},f))})]})}),b.jsx("section",{className:"py-20 md:py-28 px-6 bg-macadam-offwhite",children:b.jsxs("div",{className:"max-w-5xl mx-auto",children:[b.jsx("h2",{className:"text-xs font-medium tracking-widest uppercase text-black/60 mb-4",children:"What people say"}),b.jsx("p",{className:"text-2xl font-serif font-normal text-black mb-4",children:"Professionals who've done the work."}),b.jsx("p",{className:"text-black/60 mb-12 max-w-2xl",children:"Real feedback from high-performing leaders who use regulation in their practice."}),c?b.jsx("div",{className:"space-y-8",children:[1,2].map(f=>b.jsxs("div",{className:"flex gap-6 p-8 border border-black/5 bg-white rounded animate-pulse",children:[b.jsx("div",{className:"shrink-0 w-20 h-20 rounded-full bg-black/10"}),b.jsxs("div",{className:"flex-1 space-y-3",children:[b.jsx("div",{className:"h-6 w-full max-w-2xl bg-black/10 rounded"}),b.jsx("div",{className:"h-6 w-3/4 bg-black/10 rounded"}),b.jsx("div",{className:"h-4 w-32 bg-black/10 rounded mt-4"})]})]},f))}):s.length===0?b.jsx("p",{className:"text-black/60",children:"Testimonials coming soon."}):b.jsx("div",{className:"grid md:grid-cols-2 gap-8 lg:gap-10",children:s.map(({_id:f,quote:h,name:p,image:g})=>b.jsxs("div",{className:"group flex flex-col md:flex-row gap-6 p-8 md:p-10 bg-white border border-black/5 hover:border-black/10 hover:shadow-lg transition-all duration-300",children:[b.jsx("div",{className:"shrink-0 w-16 h-16 md:w-20 md:h-20 overflow-hidden rounded-full bg-white border border-black/10 flex items-center justify-center ring-2 ring-white ring-offset-2",children:g?b.jsx("img",{src:g,alt:p,className:"w-full h-full object-cover"}):b.jsx("span",{className:"text-black/30 text-xs font-medium",children:"Photo"})}),b.jsxs("blockquote",{className:"flex-1 min-w-0",children:[b.jsxs("p",{className:"font-serif text-lg md:text-xl font-normal text-black leading-relaxed italic",children:["",h,""]}),b.jsxs("cite",{className:"mt-4 block text-sm font-medium text-black/60 not-italic",children:[" ",p]})]})]},f))})]})}),b.jsx("section",{className:"py-20 md:py-28 px-6 bg-macadam-offwhite",children:b.jsxs("div",{className:"max-w-6xl mx-auto",children:[b.jsx("h2",{className:"text-xs font-medium tracking-widest uppercase text-black/60 mb-4",children:"Articles & Insights"}),b.jsx("p",{className:"text-2xl font-serif font-normal text-black mb-4",children:"Ideas and frameworks for regulated leadership."}),b.jsx("p",{className:"text-black/60 mb-12 max-w-2xl",children:"Short reads on nervous system regulation, applied to real-world pressure: boardrooms, courtrooms, operating rooms, and everywhere in between."}),n?b.jsx("div",{className:"grid md:grid-cols-3 gap-8 md:gap-12",children:[1,2,3].map(f=>b.jsxs("div",{className:"bg-white p-6 md:p-8 border border-black/5 animate-pulse",children:[b.jsx("div",{className:"h-4 w-16 bg-black/10 rounded"}),b.jsx("div",{className:"h-6 mt-4 w-3/4 bg-black/10 rounded"}),b.jsx("div",{className:"h-4 mt-2 w-full bg-black/10 rounded"}),b.jsx("div",{className:"h-4 mt-2 w-2/3 bg-black/10 rounded"})]},f))}):t.length===0?b.jsx("p",{className:"text-black/60",children:"New articles coming soon."}):b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"grid md:grid-cols-3 gap-8 md:gap-12",children:t.map(f=>b.jsxs(je,{to:`/articles/${f._id}`,className:"group block bg-white p-6 md:p-8 hover:shadow-lg transition-all duration-300 border border-transparent hover:border-black/10",children:[f.thumbnail?b.jsx("div",{className:"aspect-video rounded overflow-hidden mb-4 -mx-6 -mt-6 md:-mx-8 md:-mt-8",children:b.jsx("img",{src:f.thumbnail,alt:"",className:"w-full h-full object-cover group-hover:scale-[1.02] transition-transform duration-300"})}):b.jsx("span",{className:"text-xs font-medium tracking-widest text-black/40",children:"Read"}),b.jsx("p",{className:"text-black font-medium mt-4 group-hover:underline decoration-black/30",children:f.title}),b.jsx("p",{className:"mt-2 text-sm text-black/60 line-clamp-2",children:f.shortDescription||f.excerpt||""}),b.jsx("span",{className:"mt-6 inline-block text-xs font-medium tracking-widest uppercase text-black/50 group-hover:text-black transition-colors",children:"Read More "})]},f._id))}),b.jsx("div",{className:"mt-12",children:b.jsx(je,{to:"/articles",className:"inline-block text-sm font-medium tracking-widest uppercase text-black/60 hover:text-black transition-colors",children:"View all articles "})})]})]})}),b.jsx("section",{className:"py-20 md:py-28 px-6",children:b.jsxs("div",{className:"max-w-6xl mx-auto",children:[b.jsx("h2",{className:"text-xs font-medium tracking-widest uppercase text-black/60 mb-4",children:"Courses & Programs"}),b.jsx("p",{className:"text-2xl font-serif font-normal text-black mb-4",children:"Learn at your pace. Apply immediately."}),b.jsx("p",{className:"text-black/60 mb-12 max-w-2xl",children:"Self-paced courses and one-on-one work. No multi-week commitments requiredget what you need and use it."}),b.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:UA.map(({title:f,desc:h,price:p,status:g,href:x})=>b.jsxs(je,{to:x,className:"group block p-8 border border-black/10 hover:border-black transition-colors duration-300",children:[p&&b.jsx("span",{className:"text-xs font-medium tracking-widest text-black/50",children:p}),g&&b.jsx("span",{className:"text-xs font-medium tracking-widest text-black/40",children:g}),b.jsx("p",{className:"text-xl font-medium text-black mt-4 group-hover:underline",children:f}),b.jsx("p",{className:"mt-2 text-sm text-black/60",children:h}),b.jsx("span",{className:"mt-6 inline-block text-xs font-medium tracking-widest uppercase text-black/50 group-hover:text-black transition-colors",children:g?"Notify me":"Learn more "})]},f))})]})}),b.jsxs("section",{className:"py-24 md:py-32 px-6 bg-black text-white relative overflow-hidden",children:[b.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 rounded-full border border-white/5 -translate-y-1/2 translate-x-1/2"}),b.jsx("div",{className:"absolute bottom-0 left-0 w-64 h-64 rounded-full border border-white/5 translate-y-1/2 -translate-x-1/2"}),b.jsx("div",{className:"relative max-w-6xl mx-auto",children:b.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 lg:gap-20 items-center",children:[b.jsxs("div",{children:[b.jsx("p",{className:"text-xs font-medium tracking-[0.3em] uppercase text-white/50 mb-4",children:"The MacAdam Method  Self-paced  One-time"}),b.jsx("h2",{className:"font-serif text-4xl md:text-5xl font-normal",children:"Regulation Reset"}),b.jsx("p",{className:"mt-6 text-white/80 text-lg leading-relaxed",children:"A guided nervous system reset built on The MacAdam Method. One sitting or spread over time. Use it whenever you need to come back to baseline."}),b.jsx("ul",{className:"mt-8 space-y-3 text-white/80",children:IA.map(f=>b.jsxs("li",{className:"flex items-center gap-3",children:[b.jsx("span",{className:"w-1 h-1 rounded-full bg-white/60 shrink-0"}),f]},f))}),b.jsxs("div",{className:"mt-8 flex flex-wrap gap-6 text-sm text-white/70",children:[b.jsx("span",{children:"~45 min"}),b.jsx("span",{children:"Lifetime access"}),b.jsx("span",{children:"$199"})]}),b.jsx(je,{to:"/regulation-reset",className:"inline-block mt-12 px-10 py-4 border border-white text-white text-sm font-medium tracking-widest uppercase hover:bg-white hover:text-black transition-all duration-300",children:"Start Regulation Reset"})]}),b.jsx("div",{children:b.jsx(Dn,{path:"/images/regulation-reset-session.jpg",alt:"Regulation Reset session",aspect:"4/5",className:"w-full border-white/20"})})]})})]}),b.jsx("section",{className:"py-24 md:py-32 px-6",children:b.jsx("div",{className:"max-w-6xl mx-auto",children:b.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 lg:gap-20 items-center",children:[b.jsx("div",{className:"order-2 lg:order-1",children:b.jsx(Dn,{path:"/images/private-session.jpeg",alt:"Private regulation session",aspect:"4/5",className:"w-full"})}),b.jsxs("div",{className:"order-1 lg:order-2",children:[b.jsx("p",{className:"text-xs font-medium tracking-[0.3em] uppercase text-black/50 mb-4",children:"One-on-one"}),b.jsx("h2",{className:"font-serif text-4xl md:text-5xl font-normal text-black",children:"Private Regulation Sessions"}),b.jsx("p",{className:"mt-6 text-black/70 text-lg leading-relaxed",children:"Not therapy. Strategic nervous system regulation for high-pressure professionals navigating transitions, relationship strain, or sustained overload."}),b.jsx("p",{className:"mt-4 text-black/60",children:"Customized to your context. Sessions are 6090 minutes. In-person or virtual."}),b.jsx("p",{className:"mt-2 text-sm text-black/50",children:"Starting at $500+  Request a session"}),b.jsx(je,{to:"/private-work",className:"inline-block mt-10 px-8 py-4 border border-black text-black text-sm font-medium tracking-widest uppercase hover:bg-black hover:text-white transition-colors duration-300",children:"Request Session"})]})]})})}),b.jsx("section",{className:"py-24 md:py-32 px-6 bg-macadam-offwhite",children:b.jsx("div",{className:"max-w-6xl mx-auto",children:b.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 lg:gap-20 items-center",children:[b.jsxs("div",{children:[b.jsx("p",{className:"text-xs font-medium tracking-[0.3em] uppercase text-black/50 mb-4",children:"Organizations"}),b.jsx("h2",{className:"font-serif text-4xl md:text-5xl font-normal text-black",children:"For Law Firms & Organizations"}),b.jsx("p",{className:"mt-6 text-black/70 text-lg leading-relaxed",children:"We partner with professional organizations to deliver regulation-based training that stabilizes performance and reduces burnout."}),b.jsx("ul",{className:"mt-8 space-y-3 text-black/70",children:PA.map(f=>b.jsxs("li",{className:"flex items-center gap-3",children:[b.jsx("span",{className:"w-1 h-1 rounded-full bg-black/40 shrink-0"}),f]},f))}),b.jsx("p",{className:"mt-6 text-sm text-black/60",children:"CLE-compliant education options available for legal professionals."}),b.jsx(je,{to:"/for-law-firms",className:"inline-block mt-10 px-8 py-4 bg-black text-white text-sm font-medium tracking-widest uppercase hover:bg-black/90 transition-colors",children:"Contact for Partnership"})]}),b.jsx("div",{children:b.jsx(Dn,{path:"/images/law-firm.jpg",alt:"Regulation workshop for law firms",aspect:"4/5",className:"w-full"})})]})})}),b.jsx("section",{className:"py-24 md:py-32 px-6",children:b.jsx("div",{className:"max-w-6xl mx-auto",children:b.jsxs("div",{className:"grid lg:grid-cols-12 gap-12 lg:gap-20 items-start",children:[b.jsx("div",{className:"lg:col-span-5",children:b.jsx(Dn,{path:"/images/p2.jpeg",alt:"Patricia MacAdam",aspect:"4/5",className:"w-full"})}),b.jsxs("div",{className:"lg:col-span-7",children:[b.jsx("p",{className:"text-xs font-medium tracking-[0.3em] uppercase text-black/50 mb-4",children:"Founder"}),b.jsx("h2",{className:"font-serif text-4xl md:text-5xl font-normal text-black",children:"Patricia MacAdam"}),b.jsx("p",{className:"mt-6 text-black/70 text-lg leading-relaxed",children:"Regulation-focused consultant and clinician with advanced training in mental health, program evaluation, and applied nervous system work."}),b.jsx("p",{className:"mt-4 text-black/70 leading-relaxed",children:"She teaches integration, not theory. Her work blends clinical expertise, lived experience, and practical frameworks designed for people who carry real responsibility."}),b.jsx("p",{className:"mt-4 text-black/60",children:"Years of work with attorneys, executives, founders, and professionals under sustained pressure."}),b.jsx(je,{to:"/about",className:"inline-block mt-10 px-8 py-4 border border-black text-black text-sm font-medium tracking-widest uppercase hover:bg-black hover:text-white transition-colors",children:"About Patricia"})]})]})})}),b.jsxs("section",{className:"py-28 md:py-36 px-6 bg-black text-white text-center relative overflow-hidden",children:[b.jsx("div",{className:"absolute inset-0 opacity-[0.03]",style:{backgroundImage:"linear-gradient(to right, #fff 1px, transparent 1px), linear-gradient(to bottom, #fff 1px, transparent 1px)",backgroundSize:"60px 60px"}}),b.jsxs("div",{className:"relative",children:[b.jsxs("h2",{className:"font-serif text-4xl md:text-5xl lg:text-6xl font-normal leading-tight max-w-2xl mx-auto",children:["You don't need fixing.",b.jsx("br",{}),"You need regulation."]}),b.jsx("p",{className:"mt-6 text-white/60 max-w-md mx-auto",children:"Stop pushing through. Start regulating."}),b.jsxs("div",{className:"mt-12 flex flex-col sm:flex-row gap-4 justify-center",children:[b.jsx(je,{to:"/regulation-reset",className:"inline-block px-8 py-4 bg-white text-black text-sm font-medium tracking-widest uppercase hover:bg-white/90 transition-colors",children:"Start Regulation Reset"}),b.jsx(je,{to:"/private-work",className:"inline-block px-8 py-4 border border-white text-white text-sm font-medium tracking-widest uppercase hover:bg-white hover:text-black transition-colors",children:"Book Private Session"})]})]})]})]})}function $A(){gt("Regulation Reset");const t=["Guided regulation session (video)","Practical framework","Repeatable reset tool","Downloadable PDF"],e=["Purchase ","Email confirmation ","Gated page ","Watch ","Apply repeatedly"],n=[{q:"Who is this for?",a:"Professionals under sustained pressureattorneys, executives, founders, medical professionalswho need a practical reset tool they can use on their own schedule."},{q:"How long does it take?",a:"The core session runs ~45 minutes. You can do it in one sitting or break it up. Lifetime access means you return to it whenever you need."},{q:"What will I learn?",a:"A clear framework for understanding your nervous system state and a repeatable reset process you can use before high-stakes moments, after overload, or as a regular practice."}],i=["The MacAdam Method was developed through years of direct clinical work, graduate-level training, and real-world application with families, professionals, and high-functioning adults under sustained stress.","While working in schools, family systems, and professional settings, I repeatedly observed the same pattern: capable, intelligent people weren't failing because they lacked insight or motivationthey were operating from chronically dysregulated nervous systems.","Traditional approaches focused on coping, insight, or performance optimization. What was missing was regulationthe ability to stabilize the nervous system before stress spilled into relationships, decision-making, health, and identity.","The MacAdam Method emerged from that gap. It is a field-developed regulation framework designed to help high-functioning adults restore internal stability, reduce emotional fallout, and regain clarity under pressure.","This method is not theory alone. It reflects lived integration, pattern recognition, and applied nervous system recalibrationbuilt in real environments where the cost of burnout, emotional reactivity, and collapse is high.","Regulation is not weakness. It is the foundation of sustainable leadership."];return b.jsx("div",{className:"pt-24 md:pt-32 pb-24 px-6",children:b.jsxs("div",{className:"max-w-4xl mx-auto",children:[b.jsxs("div",{className:"mb-20 pb-20 border-b border-black/10",children:[b.jsx("p",{className:"text-xs font-medium tracking-widest uppercase text-black/50 mb-6",children:"The MacAdam Method"}),b.jsx("div",{className:"space-y-6 text-black/80 leading-relaxed",children:i.map((s,a)=>b.jsx("p",{className:a===i.length-1?"font-medium text-black":"",children:s},a))})]}),b.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 lg:gap-20 items-start",children:[b.jsxs("div",{children:[b.jsx("h1",{className:"font-serif text-4xl md:text-5xl font-normal text-black mb-6",children:"Regulation Reset"}),b.jsx("p",{className:"text-lg text-black/70 leading-relaxed mb-8",children:"A guided nervous system reset designed for professionals under sustained pressurebuilt on The MacAdam Method."}),b.jsx("p",{className:"text-black/60 leading-relaxed mb-12",children:"Not another meditation app. A practical, one-time session that gives you the framework and tool you can use again and againbefore board meetings, after difficult conversations, or whenever you need to come back to baseline."}),b.jsxs("section",{className:"mb-12",children:[b.jsx("h2",{className:"text-xs font-medium tracking-widest uppercase text-black/60 mb-4",children:"Includes"}),b.jsx("ul",{className:"space-y-3",children:t.map(s=>b.jsxs("li",{className:"text-black/80 flex items-start gap-3",children:[b.jsx("span",{className:"w-1 h-1 rounded-full bg-black/60 shrink-0 mt-2"}),s]},s))})]}),b.jsxs("section",{className:"mb-12",children:[b.jsx("h2",{className:"text-xs font-medium tracking-widest uppercase text-black/60 mb-4",children:"How it works"}),b.jsx("p",{className:"text-black/80 mb-4",children:"Simple flow:"}),b.jsx("p",{className:"text-black/70",children:e.join(" ")}),b.jsx("p",{className:"text-sm text-black/60 mt-4",children:"Secure checkout via Stripe. Instant access via email."})]}),b.jsxs("section",{className:"py-8 border-t border-b border-black/10",children:[b.jsx("p",{className:"text-3xl font-medium text-black",children:"$199"}),b.jsx("p",{className:"text-black/60 mt-1",children:"One-time purchase  Lifetime access"}),b.jsx("a",{href:"#",className:"inline-block mt-6 px-8 py-4 bg-black text-white text-sm font-medium tracking-widest uppercase hover:bg-black/90 transition-colors",children:"Start Regulation Reset"}),b.jsx("p",{className:"text-sm text-black/50 mt-4",children:"Email capture required. Stripe checkout."})]})]}),b.jsxs("div",{className:"space-y-8",children:[b.jsx(Dn,{path:"/images/regulation-reset-detail.jpg",alt:"Regulation Reset session",aspect:"4/5",className:"w-full"}),b.jsxs("div",{className:"space-y-6",children:[b.jsx("h2",{className:"text-xs font-medium tracking-widest uppercase text-black/60",children:"FAQ"}),n.map(({q:s,a})=>b.jsxs("div",{className:"border-b border-black/10 pb-6 last:border-0",children:[b.jsx("p",{className:"font-medium text-black",children:s}),b.jsx("p",{className:"mt-2 text-sm text-black/70 leading-relaxed",children:a})]},s))]})]})]}),b.jsx(je,{to:"/courses",className:"inline-block mt-16 text-sm font-medium tracking-wide text-black/60 hover:text-black",children:" View all courses"})]})})}const FA=[{title:"Regulation Reset",desc:"A guided nervous system reset designed for professionals under sustained pressure.",details:"Video-based session (~45 min), practical framework, repeatable reset tool, downloadable PDF. One-time purchase, lifetime access. Perfect for busy professionals who need a standalone resource.",price:"$199",image:"regulation-reset-detail.jpg",href:"/regulation-reset",available:!0},{title:"Mini Courses",desc:"Focused skill-building modules for busy professionals.",details:"2040 minute deep dives on specific regulation skills: managing activation before high-stakes moments, building a sustainable reset practice, integrating regulation into your leadership style. Bite-sized, practical, no fluff.",image:"course-mini-courses.jpg",href:"/courses",available:!1}];function KA(){return gt("Courses"),b.jsx("div",{className:"pt-24 md:pt-32 pb-24 px-6",children:b.jsxs("div",{className:"max-w-4xl mx-auto",children:[b.jsx("h1",{className:"font-serif text-4xl md:text-5xl font-normal text-black mb-6",children:"Courses & Programs"}),b.jsx("p",{className:"text-lg text-black/70 leading-relaxed mb-8 max-w-2xl",children:"Self-paced learning for professionals who can't commit to multi-week programs. Get what you need and use it."}),b.jsxs("div",{className:"mb-16 py-8 border-y border-black/10",children:[b.jsx("p",{className:"text-xs font-medium tracking-widest uppercase text-black/50 mb-4",children:"The MacAdam Method"}),b.jsx("p",{className:"text-black/80 leading-relaxed mb-4",children:"All courses are built on The MacAdam Methoda field-developed regulation framework designed to help high-functioning adults restore internal stability, reduce emotional fallout, and regain clarity under pressure."}),b.jsx("p",{className:"text-black/70 text-sm leading-relaxed",children:"Not theory alone. Lived integration, pattern recognition, and applied nervous system recalibrationbuilt in real environments where the cost of burnout and emotional reactivity is high."})]}),b.jsx("div",{className:"space-y-16",children:FA.map(({title:t,desc:e,details:n,price:i,image:s,href:a,available:c})=>b.jsxs("div",{className:"grid lg:grid-cols-12 gap-8 lg:gap-12 items-start border-b border-black/10 pb-16 last:border-0 last:pb-0",children:[b.jsx("div",{className:"lg:col-span-5",children:b.jsx(Dn,{path:`/images/${s}`,alt:t,aspect:"4/5",className:"w-full"})}),b.jsxs("div",{className:"lg:col-span-7",children:[i&&b.jsx("span",{className:"text-xs font-medium tracking-widest uppercase text-black/50",children:i}),!c&&b.jsx("span",{className:"text-xs font-medium tracking-widest uppercase text-black/40 ml-4",children:"Coming Soon"}),b.jsx("h2",{className:"text-2xl font-medium text-black mt-4",children:t}),b.jsx("p",{className:"text-black/70 mt-2",children:e}),b.jsx("p",{className:"text-black/60 mt-4 leading-relaxed text-sm",children:n}),c?b.jsx(je,{to:a,className:"inline-block mt-6 text-sm font-medium tracking-wide text-black hover:underline",children:"Learn more "}):b.jsx("span",{className:"inline-block mt-6 text-sm text-black/50",children:"Notify me when available"})]})]},t))}),b.jsxs("div",{className:"mt-20 p-8 bg-black/5 border border-black/10",children:[b.jsx("h2",{className:"text-xs font-medium tracking-widest uppercase text-black/60 mb-4",children:"Private Sessions"}),b.jsx("p",{className:"text-black/80 leading-relaxed",children:"Prefer one-on-one work? Private regulation sessions are customized to your contexttransitions, relationship strain, sustained overload. Starting at $500+."}),b.jsx(je,{to:"/private-work",className:"inline-block mt-6 text-sm font-medium tracking-wide text-black hover:underline",children:"Request a session "})]})]})})}function GA(){gt("Private Work");const[t,e]=C.useState(""),[n,i]=C.useState(""),[s,a]=C.useState(""),[c,u]=C.useState(!1),[f,h]=C.useState(!1),[p,g]=C.useState(""),x=async k=>{k.preventDefault(),g(""),u(!0);try{await Ni.post("/inquiries",{source:"private-work",name:t,email:n,message:s}),h(!0),e(""),i(""),a("")}catch{g("Failed to send. Please try again.")}finally{u(!1)}},v=["6090 minute sessions, in-person or virtual","Customized to your context: transitions, relationship strain, sustained overload","Practical frameworks you can apply immediately","Not therapystrategic nervous system regulation"],w=["Executives navigating board pressure or stakeholder conflicts","Attorneys in high-stakes litigation or partnership transitions","Founders managing investor relations or team dynamics","Professionals in major life transitions","Anyone who needs regulation work that fits a demanding schedule"];return b.jsx("div",{className:"pt-24 md:pt-32 pb-24 px-6",children:b.jsx("div",{className:"max-w-4xl mx-auto",children:b.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 lg:gap-20 items-start",children:[b.jsxs("div",{children:[b.jsx("h1",{className:"font-serif text-4xl md:text-5xl font-normal text-black mb-6",children:"Private Regulation Sessions"}),b.jsx("p",{className:"text-lg text-black/70 leading-relaxed mb-6",children:"One-on-one regulation work for professionals navigating high-pressure roles, relationship strain, or major transitions."}),b.jsx("p",{className:"text-black/60 leading-relaxed mb-8",children:"These sessions are tailored to your specific context. Whether you're in the middle of a leadership transition, managing relationship strain at work or home, or simply carrying sustained overload without a clear off-rampwe work with where you are."}),b.jsxs("div",{className:"mb-12 py-6 border-y border-black/20",children:[b.jsx("p",{className:"text-black font-medium",children:"This is not therapy."}),b.jsx("p",{className:"text-black font-medium mt-1",children:"This is strategic nervous system regulation."})]}),b.jsxs("section",{className:"mb-12",children:[b.jsx("h2",{className:"text-xs font-medium tracking-widest uppercase text-black/60 mb-4",children:"What to expect"}),b.jsx("ul",{className:"space-y-3",children:v.map(k=>b.jsxs("li",{className:"text-black/80 flex items-start gap-3",children:[b.jsx("span",{className:"w-1 h-1 rounded-full bg-black/60 shrink-0 mt-2"}),k]},k))})]}),b.jsxs("section",{className:"mb-12",children:[b.jsx("h2",{className:"text-xs font-medium tracking-widest uppercase text-black/60 mb-4",children:"Who it's for"}),b.jsx("ul",{className:"space-y-2",children:w.map(k=>b.jsxs("li",{className:"text-black/70 text-sm",children:[" ",k]},k))})]}),b.jsx("p",{className:"text-black/70 mb-10",children:"Starting at $500+  Pricing discussed after initial request"}),b.jsxs("form",{onSubmit:x,className:"space-y-6",children:[f&&b.jsx("p",{className:"text-green-700 text-sm",children:"Request received. We'll be in touch soon."}),p&&b.jsx("p",{className:"text-red-600 text-sm",children:p}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"name",className:"block text-xs font-medium tracking-widest uppercase text-black/60 mb-2",children:"Name"}),b.jsx("input",{id:"name",type:"text",value:t,onChange:k=>e(k.target.value),required:!0,className:"w-full px-0 py-3 border-0 border-b border-black/20 bg-transparent focus:outline-none focus:border-black",placeholder:"Your name"})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"email",className:"block text-xs font-medium tracking-widest uppercase text-black/60 mb-2",children:"Email"}),b.jsx("input",{id:"email",type:"email",value:n,onChange:k=>i(k.target.value),required:!0,className:"w-full px-0 py-3 border-0 border-b border-black/20 bg-transparent focus:outline-none focus:border-black",placeholder:"your@email.com"})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"description",className:"block text-xs font-medium tracking-widest uppercase text-black/60 mb-2",children:"Brief description"}),b.jsx("textarea",{id:"description",value:s,onChange:k=>a(k.target.value),rows:4,className:"w-full px-0 py-3 border-0 border-b border-black/20 bg-transparent focus:outline-none focus:border-black resize-none",placeholder:"Tell us a bit about what you're looking foryour role, what you're navigating, what you hope to gain."})]}),b.jsx("button",{type:"submit",disabled:c,className:"px-8 py-4 bg-black text-white text-sm font-medium tracking-widest uppercase hover:bg-black/90 transition-colors disabled:opacity-50",children:c?"Sending":"Request Private Session"})]})]}),b.jsx("div",{children:b.jsx(Dn,{path:"/images/macadam.jpg",alt:"Private regulation session",aspect:"4/5",className:"w-full"})})]})})})}const YA=[{title:"Regulation workshops",desc:"Half-day or full-day sessions for teams. Practical tools for managing pressure, building sustainable performance, and reducing burnout at the organizational level."},{title:"Burnout prevention programs",desc:"Multi-session programs that address the systemic and individual factors in burnout. Designed for high-pressure environments where turnover and exhaustion are real concerns."},{title:"Leadership stabilization sessions",desc:"Regulation-focused support for leaders under sustained pressure. Customized to your leadership team's contexttransitions, mergers, rapid growth, or organizational crisis."},{title:"CLE-compliant education",desc:"Regulation training that meets continuing legal education requirements. Relevant for attorneys managing stress, ethical decision-making under pressure, and professional sustainability."}];function JA(){gt("For Law Firms");const[t,e]=C.useState(""),[n,i]=C.useState(""),[s,a]=C.useState(""),[c,u]=C.useState(""),[f,h]=C.useState(!1),[p,g]=C.useState(!1),[x,v]=C.useState(""),w=async k=>{k.preventDefault(),v(""),h(!0);try{await Ni.post("/inquiries",{source:"for-law-firms",name:t,email:n,message:[s&&`Organization: ${s}`,c].filter(Boolean).join(`

`)}),g(!0),e(""),i(""),a(""),u("")}catch{v("Failed to send. Please try again.")}finally{h(!1)}};return b.jsx("div",{className:"pt-24 md:pt-32 pb-24 px-6",children:b.jsx("div",{className:"max-w-4xl mx-auto",children:b.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 lg:gap-20 items-start",children:[b.jsxs("div",{children:[b.jsx("h1",{className:"font-serif text-4xl md:text-5xl font-normal text-black mb-6",children:"For Law Firms & Organizations"}),b.jsx("p",{className:"text-lg text-black/70 leading-relaxed mb-8",children:"We partner with professional organizations to deliver regulation-based training that stabilizes performance and reduces burnout."}),b.jsx("p",{className:"text-black/60 leading-relaxed mb-12",children:"High-pressure environmentslaw firms, medical practices, financial services, startupscreate sustained activation that leads to burnout, turnover, and diminished performance. We deliver practical regulation training that fits your context and your people."}),b.jsxs("section",{className:"mb-12",children:[b.jsx("h2",{className:"text-xs font-medium tracking-widest uppercase text-black/60 mb-6",children:"Offerings"}),b.jsx("ul",{className:"space-y-8",children:YA.map(({title:k,desc:E})=>b.jsxs("li",{children:[b.jsx("p",{className:"font-medium text-black",children:k}),b.jsx("p",{className:"mt-2 text-sm text-black/70 leading-relaxed",children:E})]},k))})]}),b.jsx("p",{className:"text-sm text-black/60 mb-8",children:"Programs can be tailored to team size, format (in-person or virtual), and specific outcomes. CLE credit available for legal professionals."}),b.jsxs("form",{onSubmit:w,className:"space-y-6",children:[p&&b.jsx("p",{className:"text-green-700 text-sm",children:"Inquiry sent. We'll be in touch soon."}),x&&b.jsx("p",{className:"text-red-600 text-sm",children:x}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"name",className:"block text-xs font-medium tracking-widest uppercase text-black/60 mb-2",children:"Name"}),b.jsx("input",{id:"name",type:"text",value:t,onChange:k=>e(k.target.value),required:!0,className:"w-full px-0 py-3 border-0 border-b border-black/20 bg-transparent focus:outline-none focus:border-black",placeholder:"Your name"})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"email",className:"block text-xs font-medium tracking-widest uppercase text-black/60 mb-2",children:"Email"}),b.jsx("input",{id:"email",type:"email",value:n,onChange:k=>i(k.target.value),required:!0,className:"w-full px-0 py-3 border-0 border-b border-black/20 bg-transparent focus:outline-none focus:border-black",placeholder:"your@email.com"})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"organization",className:"block text-xs font-medium tracking-widest uppercase text-black/60 mb-2",children:"Organization"}),b.jsx("input",{id:"organization",type:"text",value:s,onChange:k=>a(k.target.value),className:"w-full px-0 py-3 border-0 border-b border-black/20 bg-transparent focus:outline-none focus:border-black",placeholder:"Firm or organization name"})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"message",className:"block text-xs font-medium tracking-widest uppercase text-black/60 mb-2",children:"Message"}),b.jsx("textarea",{id:"message",value:c,onChange:k=>u(k.target.value),rows:4,className:"w-full px-0 py-3 border-0 border-b border-black/20 bg-transparent focus:outline-none focus:border-black resize-none",placeholder:"Tell us about your organization and what you're looking for."})]}),b.jsx("button",{type:"submit",disabled:f,className:"px-8 py-4 bg-black text-white text-sm font-medium tracking-widest uppercase hover:bg-black/90 transition-colors disabled:opacity-50",children:f?"Sending":"Contact for Partnership"})]})]}),b.jsxs("div",{className:"space-y-8",children:[b.jsx(Dn,{path:"/images/law-firmpage.jpeg",alt:"Regulation workshop",aspect:"4/5",className:"w-full"}),b.jsxs("div",{className:"p-6 bg-black/5 border border-black/10",children:[b.jsx("h2",{className:"text-xs font-medium tracking-widest uppercase text-black/60 mb-4",children:"Typical partners"}),b.jsx("p",{className:"text-black/70 text-sm leading-relaxed",children:"Law firms (partnerships, practice groups, firm-wide), medical groups, executive teams, financial services firms, and mission-driven organizations with high-stakes work."})]})]})]})})})}function XA(){return gt("About"),b.jsx("div",{className:"pt-24 md:pt-32 pb-24 px-6",children:b.jsx("div",{className:"max-w-4xl mx-auto",children:b.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 lg:gap-20 items-start",children:[b.jsx("div",{children:b.jsx(Dn,{path:"/images/pwork.jpeg",alt:"Patricia MacAdam",aspect:"4/5",className:"w-full"})}),b.jsxs("div",{children:[b.jsx("h1",{className:"font-serif text-4xl md:text-5xl font-normal text-black mb-8",children:"About Patricia MacAdam"}),b.jsx("p",{className:"text-xs font-medium tracking-widest uppercase text-black/50 mb-6",children:"The MacAdam Method"}),b.jsxs("div",{className:"space-y-6 text-black/80 leading-relaxed",children:[b.jsx("p",{children:"The MacAdam Method was developed through years of direct clinical work, graduate-level training, and real-world leadership in mental health settings."}),b.jsx("p",{children:"As a co-founder and operator of a mental health clinic, I work alongside licensed clinicians, including LCSWs, supporting clinical delivery, overseeing systems, and observing patient outcomes across a wide range of presenting concerns. This role places me at the intersection of clinical theory, applied practice, and operational reality."}),b.jsx("p",{children:"Through this work  in clinics, schools, and professional environments  I repeatedly observed the same pattern: high-functioning adults were not breaking down due to lack of insight, intelligence, or motivation. They were operating from chronically dysregulated nervous systems."}),b.jsx("p",{children:"Traditional approaches often focused on coping strategies, insight, or performance optimization. What was consistently missing was regulation  the ability to stabilize the nervous system before stress spilled into relationships, decision-making, health, and professional functioning."}),b.jsx("p",{children:"The MacAdam Method emerged from this gap. It is a field-developed regulation framework informed by clinical collaboration, systems-level observation, and lived integration. The method reflects patterns seen not only in individual work, but across populations  where nervous system overload, emotional fallout, and burnout follow predictable trajectories when regulation is absent."}),b.jsx("p",{children:"This work is not theoretical. It is grounded in clinical environments where outcomes matter, ethical boundaries are maintained, and the cost of dysregulation is tangible."}),b.jsxs("p",{className:"font-medium text-black",children:["Regulation is not weakness.",b.jsx("br",{}),"It is the foundation of sustainable leadership."]})]})]})]})})})}function WA(){gt("Contact");const[t,e]=C.useState(""),[n,i]=C.useState(""),[s,a]=C.useState(""),[c,u]=C.useState(!1),[f,h]=C.useState(!1),[p,g]=C.useState(""),x=async v=>{v.preventDefault(),g(""),u(!0);try{await Ni.post("/inquiries",{source:"contact",name:t,email:n,message:s}),h(!0),e(""),i(""),a("")}catch{g("Failed to send. Please try again.")}finally{u(!1)}};return b.jsx("div",{className:"pt-24 md:pt-32 pb-24 px-6",children:b.jsx("div",{className:"max-w-4xl mx-auto",children:b.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 lg:gap-20 items-start",children:[b.jsxs("div",{children:[b.jsx("h1",{className:"font-serif text-4xl md:text-5xl font-normal text-black mb-6",children:"Contact"}),b.jsx("p",{className:"text-lg text-black/70 leading-relaxed mb-6",children:"General inquiries, partnership discussions, or questions about Regulation Reset and private sessions."}),b.jsxs("p",{className:"text-black/60 text-sm leading-relaxed mb-8",children:["For private session requests, use the ",b.jsx(je,{to:"/private-work",className:"text-black underline hover:no-underline",children:"Private Work"})," page. For law firm or organizational partnerships, use the ",b.jsx(je,{to:"/for-law-firms",className:"text-black underline hover:no-underline",children:"For Law Firms"})," page."]}),b.jsx("p",{className:"text-sm text-black/50",children:"Response typically within 12 business days."})]}),b.jsxs("form",{onSubmit:x,className:"space-y-6",children:[f&&b.jsx("p",{className:"text-green-700 text-sm",children:"Message sent. We'll respond within 12 business days."}),p&&b.jsx("p",{className:"text-red-600 text-sm",children:p}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"name",className:"block text-xs font-medium tracking-widest uppercase text-black/60 mb-2",children:"Name"}),b.jsx("input",{id:"name",type:"text",value:t,onChange:v=>e(v.target.value),required:!0,className:"w-full px-0 py-3 border-0 border-b border-black/20 bg-transparent focus:outline-none focus:border-black",placeholder:"Your name"})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"email",className:"block text-xs font-medium tracking-widest uppercase text-black/60 mb-2",children:"Email"}),b.jsx("input",{id:"email",type:"email",value:n,onChange:v=>i(v.target.value),required:!0,className:"w-full px-0 py-3 border-0 border-b border-black/20 bg-transparent focus:outline-none focus:border-black",placeholder:"your@email.com"})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"message",className:"block text-xs font-medium tracking-widest uppercase text-black/60 mb-2",children:"Message"}),b.jsx("textarea",{id:"message",value:s,onChange:v=>a(v.target.value),rows:5,required:!0,className:"w-full px-0 py-3 border-0 border-b border-black/20 bg-transparent focus:outline-none focus:border-black resize-none",placeholder:"What's on your mind?"})]}),b.jsx("button",{type:"submit",disabled:c,className:"px-8 py-4 bg-black text-white text-sm font-medium tracking-widest uppercase hover:bg-black/90 transition-colors disabled:opacity-50",children:c?"Sending":"Send"})]})]})})})}function QA(){gt("Articles & Insights");const[t,e]=C.useState([]),[n,i]=C.useState({page:1,limit:12,total:0,totalPages:1}),[s,a]=C.useState(!0),c=(f=1)=>{a(!0),Ni.get(`/articles?limit=12&page=${f}`).then(({data:h})=>{e(h.articles),i(h.pagination)}).catch(()=>e([])).finally(()=>a(!1))};C.useEffect(()=>{c(1)},[]);const u=f=>new Date(f).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"});return b.jsxs("div",{className:"pt-14 md:pt-16 pb-24 md:pb-32",children:[b.jsx("section",{className:"py-16 md:py-24 px-6",children:b.jsxs("div",{className:"max-w-6xl mx-auto",children:[b.jsx("h1",{className:"text-xs font-medium tracking-widest uppercase text-black/60 mb-4",children:"Articles & Insights"}),b.jsx("p",{className:"text-2xl md:text-3xl font-serif font-normal text-black mb-4",children:"Ideas and frameworks for regulated leadership."}),b.jsx("p",{className:"text-black/60 max-w-2xl",children:"Short reads on nervous system regulation, applied to real-world pressure: boardrooms, courtrooms, operating rooms, and everywhere in between."})]})}),b.jsx("section",{className:"px-6 pb-16 md:pb-24",children:b.jsx("div",{className:"max-w-6xl mx-auto",children:s?b.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8 md:gap-12",children:[1,2,3,4,5,6].map(f=>b.jsxs("div",{className:"bg-white p-6 md:p-8 border border-black/5 animate-pulse",children:[b.jsx("div",{className:"aspect-video bg-black/10 rounded mb-4"}),b.jsx("div",{className:"h-6 w-3/4 bg-black/10 rounded"}),b.jsx("div",{className:"h-4 mt-2 w-full bg-black/10 rounded"}),b.jsx("div",{className:"h-4 mt-2 w-2/3 bg-black/10 rounded"})]},f))}):t.length===0?b.jsx("p",{className:"text-black/60",children:"No articles yet. Check back soon."}):b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8 md:gap-12",children:t.map(f=>b.jsxs(je,{to:`/articles/${f._id}`,className:"group block bg-white p-6 md:p-8 border border-black/5 hover:shadow-lg hover:border-black/10 transition-all duration-300",children:[f.thumbnail?b.jsx("div",{className:"aspect-video rounded overflow-hidden mb-4 -mx-6 -mt-6 md:-mx-8 md:-mt-8",children:b.jsx("img",{src:f.thumbnail,alt:"",className:"w-full h-full object-cover group-hover:scale-[1.02] transition-transform duration-300"})}):b.jsx("div",{className:"aspect-video rounded bg-black/5 mb-4 -mx-6 -mt-6 md:-mx-8 md:-mt-8 flex items-center justify-center",children:b.jsx("span",{className:"text-black/20 text-xs uppercase tracking-widest",children:"Article"})}),b.jsx("p",{className:"text-xs font-medium tracking-widest text-black/40",children:u(f.updatedAt)}),b.jsx("p",{className:"text-black font-medium mt-2 group-hover:underline decoration-black/30",children:f.title}),b.jsx("p",{className:"mt-2 text-sm text-black/60 line-clamp-2",children:f.shortDescription||f.excerpt||""}),b.jsx("span",{className:"mt-6 inline-block text-xs font-medium tracking-widest uppercase text-black/50 group-hover:text-black transition-colors",children:"Read More "})]},f._id))}),n.totalPages>1&&b.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-4 mt-16 pt-8 border-t border-black/10",children:[b.jsx("button",{type:"button",onClick:()=>c(n.page-1),disabled:n.page<=1,className:"px-5 py-2.5 border border-black/20 text-black text-sm disabled:opacity-40 disabled:cursor-not-allowed hover:border-black transition-colors",children:"Previous"}),b.jsxs("span",{className:"text-black/60 text-sm",children:["Page ",n.page," of ",n.totalPages]}),b.jsx("button",{type:"button",onClick:()=>c(n.page+1),disabled:n.page>=n.totalPages,className:"px-5 py-2.5 border border-black/20 text-black text-sm disabled:opacity-40 disabled:cursor-not-allowed hover:border-black transition-colors",children:"Next"})]})]})})})]})}function ZA(t){const n=t.replace(/<[^>]*>/g," ").replace(/\s+/g," ").trim().split(/\s+/).filter(Boolean).length;return Math.max(1,Math.ceil(n/200))}function eM(){const{id:t}=v1(),[e,n]=C.useState(null),[i,s]=C.useState(!0),[a,c]=C.useState("");gt(a?"Article not found":e?.title);const u=C.useRef(null);if(C.useEffect(()=>{if(!e?.content||!u.current||!e.content.includes("substack-post-embed")||document.querySelector('script[src*="substack.com/embedjs"]'))return;const p=document.createElement("script");p.src="https://substack.com/embedjs/embed.js",p.async=!0,document.body.appendChild(p)},[e?.content]),C.useEffect(()=>{t&&Ni.get(`/articles/${t}`).then(({data:p})=>n(p)).catch(()=>c("Article not found")).finally(()=>s(!1))},[t]),i)return b.jsx("div",{className:"py-20 px-6",children:b.jsx("div",{className:"max-w-2xl mx-auto",children:b.jsx("p",{className:"text-black/60",children:"Loading"})})});if(a||!e)return b.jsx("div",{className:"py-20 px-6",children:b.jsxs("div",{className:"max-w-2xl mx-auto text-center",children:[b.jsx("p",{className:"text-black/60 mb-4",children:a||"Article not found."}),b.jsx(je,{to:"/",className:"text-black font-medium hover:underline",children:" Back to home"})]})});const f=ZA(e.content),h=new Date(e.updatedAt).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"});return b.jsx("article",{className:"py-16 md:py-24 px-6",children:b.jsxs("div",{className:"max-w-2xl mx-auto",children:[b.jsx(je,{to:"/",className:"text-black/60 hover:text-black text-sm mb-8 inline-block",children:" Back to home"}),e.thumbnail&&b.jsx("div",{className:"aspect-video rounded overflow-hidden mb-8 bg-black/5",children:b.jsx("img",{src:e.thumbnail,alt:"",className:"w-full h-full object-cover"})}),b.jsxs("header",{className:"mb-10",children:[b.jsxs("p",{className:"text-xs font-medium tracking-widest uppercase text-black/50 mb-2",children:[h,"  ",f," min read"]}),b.jsx("h1",{className:"font-serif text-3xl md:text-4xl font-normal text-black leading-tight",children:e.title}),(e.shortDescription||e.excerpt)&&b.jsx("p",{className:"mt-4 text-lg text-black/70 leading-relaxed",children:e.shortDescription||e.excerpt})]}),b.jsx("div",{ref:u,className:"prose prose-black max-w-none text-black/80 leading-relaxed [&_h2]:text-xl [&_h2]:font-semibold [&_h2]:mt-10 [&_h2]:mb-4 [&_h3]:text-lg [&_h3]:font-medium [&_h3]:mt-8 [&_h3]:mb-3 [&_p]:my-4 [&_ul]:my-4 [&_ul]:pl-6 [&_ol]:my-4 [&_ol]:pl-6 [&_blockquote]:border-l-2 [&_blockquote]:border-black/20 [&_blockquote]:pl-6 [&_blockquote]:italic [&_blockquote]:my-6 [&_a]:text-black [&_a]:underline [&_img]:rounded [&_img]:my-6 [&_iframe]:max-w-full [&_iframe]:my-6 [&_.substack-post-embed]:my-6",dangerouslySetInnerHTML:{__html:e.content}})]})})}const tM="https://macadam-method.onrender.com/api",$e=rt.create({baseURL:`${tM}/admin`,timeout:15e3,headers:{"Content-Type":"application/json"},withCredentials:!0});$e.interceptors.response.use(t=>t,t=>(t.response?.status===401&&(window.location.href="/mac-/adam/admin/69846d7f374584e675d7fa28"),Promise.reject(t)));function nM(){gt("Admin - Sign up");const t=ns(),[e,n]=C.useState("signup"),[i,s]=C.useState(null),[a,c]=C.useState("");C.useEffect(()=>{fetch("http://localhost:3000/api/admin/signup-allowed").then(P=>P.json()).then(P=>s(P.allowed)).catch(()=>s(!1))},[]);const[u,f]=C.useState(""),[h,p]=C.useState(""),[g,x]=C.useState(""),[v,w]=C.useState(""),[k,E]=C.useState(!1),T=async P=>{P.preventDefault(),w(""),E(!0);try{const{data:D}=await $e.post("/signup",{email:a,password:u});p(D.secretKey),x(""),n("confirm")}catch(D){const $=D&&typeof D=="object"&&"response"in D?D.response:null,L=$?.data?.error??($?.status===403?"New admin signup is currently disabled.":"Signup failed");w(L)}finally{E(!1)}},M=async P=>{if(P.preventDefault(),w(""),g!==h){w("Secret key does not match. Please copy it exactly.");return}E(!0);try{await $e.post("/confirm-secret",{email:a,secretKey:g}),t("/admin")}catch(D){const $=D&&typeof D=="object"&&"response"in D?D.response?.data?.error:"Confirmation failed";w($||"Confirmation failed")}finally{E(!1)}},z=()=>{navigator.clipboard.writeText(h)};return e==="confirm"?b.jsx("div",{className:"min-h-screen flex items-center justify-center bg-black px-6 py-12",children:b.jsxs("div",{className:"max-w-md w-full",children:[b.jsx("h1",{className:"font-serif text-2xl text-white mb-2",children:"Save your secret key"}),b.jsx("p",{className:"text-white/70 text-sm mb-6",children:"Copy this key and store it securely. You will need it to complete setup. It cannot be recovered."}),b.jsx("div",{className:"bg-white/5 border border-white/20 p-4 rounded mb-6",children:b.jsx("code",{className:"text-white text-sm break-all select-all",children:h})}),b.jsx("button",{type:"button",onClick:z,className:"w-full py-3 border border-white/40 text-white text-sm font-medium tracking-wide uppercase mb-6 hover:bg-white/10 transition-colors",children:"Copy to clipboard"}),b.jsxs("form",{onSubmit:M,children:[b.jsx("label",{htmlFor:"confirmKey",className:"block text-xs font-medium tracking-widest uppercase text-white/60 mb-2",children:"Paste secret key to confirm you've saved it"}),b.jsx("input",{id:"confirmKey",type:"text",value:g,onChange:P=>x(P.target.value),required:!0,className:"w-full px-4 py-3 bg-transparent border border-white/20 text-white placeholder-white/40 focus:outline-none focus:border-white mb-4",placeholder:"Paste your secret key"}),v&&b.jsx("p",{className:"text-red-400 text-sm mb-4",children:v}),b.jsx("button",{type:"submit",disabled:k,className:"w-full py-4 bg-white text-black text-sm font-medium tracking-widest uppercase hover:bg-white/90 transition-colors disabled:opacity-50",children:k?"Confirming...":"I've saved my secret key  continue"})]})]})}):i===!1?b.jsx("div",{className:"min-h-screen flex items-center justify-center bg-black px-6 py-12",children:b.jsxs("div",{className:"max-w-md w-full text-center",children:[b.jsx("h1",{className:"font-serif text-2xl text-white mb-2",children:"Admin signup"}),b.jsx("p",{className:"text-red-400 mb-6",children:"New admin signup is currently disabled."}),b.jsx(je,{to:"/mac-/adam/admin/69846d7f374584e675d7fa28",className:"text-white/80 hover:text-white underline text-sm",children:"Sign in to existing account"})]})}):b.jsx("div",{className:"min-h-screen flex items-center justify-center bg-black px-6 py-12",children:b.jsxs("div",{className:"max-w-md w-full",children:[b.jsx("h1",{className:"font-serif text-2xl text-white mb-2",children:"Admin signup"}),b.jsx("p",{className:"text-white/70 text-sm mb-8",children:"Create an admin account. You will receive a secret key  save it securely."}),b.jsxs("form",{onSubmit:T,className:"space-y-6",children:[b.jsxs("div",{children:[b.jsx("label",{htmlFor:"email",className:"block text-xs font-medium tracking-widest uppercase text-white/60 mb-2",children:"Email"}),b.jsx("input",{id:"email",type:"email",value:a,onChange:P=>c(P.target.value),required:!0,className:"w-full px-4 py-3 bg-transparent border border-white/20 text-white placeholder-white/40 focus:outline-none focus:border-white",placeholder:"admin@example.com"})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"password",className:"block text-xs font-medium tracking-widest uppercase text-white/60 mb-2",children:"Password (min 8 characters)"}),b.jsx("input",{id:"password",type:"password",value:u,onChange:P=>f(P.target.value),required:!0,minLength:8,className:"w-full px-4 py-3 bg-transparent border border-white/20 text-white placeholder-white/40 focus:outline-none focus:border-white",placeholder:""})]}),v&&b.jsx("p",{className:"text-red-400 text-sm",children:v}),b.jsx("button",{type:"submit",disabled:k,className:"w-full py-4 bg-white text-black text-sm font-medium tracking-widest uppercase hover:bg-white/90 transition-colors disabled:opacity-50",children:k?"Creating...":"Create admin account"})]}),b.jsxs("p",{className:"mt-8 text-center text-white/50 text-sm",children:["Already have an account?"," ",b.jsx(je,{to:"/mac-/adam/admin/69846d7f374584e675d7fa28",className:"text-white/80 hover:text-white underline",children:"Sign in"})]})]})})}function iM(){gt("Admin - Sign in");const t=ns(),[e,n]=C.useState(""),[i,s]=C.useState(""),[a,c]=C.useState(""),[u,f]=C.useState(!1),h=async p=>{p.preventDefault(),c(""),f(!0);try{await $e.post("/login",{email:e,password:i}),t("/admin")}catch(g){const x=g&&typeof g=="object"&&"response"in g?g.response?.data?.error:"Sign in failed";c(x||"Sign in failed")}finally{f(!1)}};return b.jsx("div",{className:"min-h-screen flex items-center justify-center bg-black px-6 py-12",children:b.jsxs("div",{className:"max-w-md w-full",children:[b.jsx("h1",{className:"font-serif text-2xl text-white mb-2",children:"Admin sign in"}),b.jsx("p",{className:"text-white/70 text-sm mb-8",children:"Sign in to access the admin dashboard."}),b.jsxs("form",{onSubmit:h,className:"space-y-6",children:[b.jsxs("div",{children:[b.jsx("label",{htmlFor:"email",className:"block text-xs font-medium tracking-widest uppercase text-white/60 mb-2",children:"Email"}),b.jsx("input",{id:"email",type:"email",value:e,onChange:p=>n(p.target.value),required:!0,className:"w-full px-4 py-3 bg-transparent border border-white/20 text-white placeholder-white/40 focus:outline-none focus:border-white",placeholder:"admin@example.com"})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"password",className:"block text-xs font-medium tracking-widest uppercase text-white/60 mb-2",children:"Password"}),b.jsx("input",{id:"password",type:"password",value:i,onChange:p=>s(p.target.value),required:!0,className:"w-full px-4 py-3 bg-transparent border border-white/20 text-white placeholder-white/40 focus:outline-none focus:border-white",placeholder:""})]}),a&&b.jsx("p",{className:"text-red-400 text-sm",children:a}),b.jsx("button",{type:"submit",disabled:u,className:"w-full py-4 bg-white text-black text-sm font-medium tracking-widest uppercase hover:bg-white/90 transition-colors disabled:opacity-50",children:u?"Signing in...":"Sign in"})]}),b.jsxs("p",{className:"mt-8 text-center text-white/50 text-sm",children:["New admin?"," ",b.jsx(je,{to:"/admin/signup",className:"text-white/80 hover:text-white underline",children:"Sign up"})]})]})})}function rM(){return gt("Admin - Dashboard"),b.jsxs("div",{className:"p-8 md:p-12",children:[b.jsx("h1",{className:"font-serif text-3xl md:text-4xl font-normal text-white mb-4",children:"Dashboard"}),b.jsx("p",{className:"text-white/70",children:"Welcome. You are authenticated."})]})}function sM(){gt("Admin - Settings");const[t,e]=C.useState(!0),[n,i]=C.useState(!0),[s,a]=C.useState(!1);C.useEffect(()=>{$e.get("/settings").then(({data:u})=>e(u.allowAdminSignup)).catch(()=>{}).finally(()=>i(!1))},[]);const c=async()=>{a(!0);try{const{data:u}=await $e.patch("/settings",{allowAdminSignup:!t});e(u.allowAdminSignup)}catch{}finally{a(!1)}};return n?b.jsx("div",{className:"p-8 md:p-12",children:b.jsx("div",{className:"w-px h-12 bg-white/30 animate-pulse"})}):b.jsxs("div",{className:"p-8 md:p-12",children:[b.jsx("h1",{className:"font-serif text-3xl md:text-4xl font-normal text-white mb-8",children:"Settings"}),b.jsx("div",{className:"max-w-lg",children:b.jsxs("div",{className:"flex items-center justify-between py-4 border-b border-white/10",children:[b.jsxs("div",{children:[b.jsx("p",{className:"text-white font-medium",children:"Allow new admin signup"}),b.jsx("p",{className:"text-white/50 text-sm mt-1",children:"When off, the admin signup page will show an error."})]}),b.jsx("button",{type:"button",onClick:c,disabled:s,className:`relative w-12 h-7 rounded-full transition-colors ${t?"bg-white":"bg-white/30"}`,children:b.jsx("span",{className:`absolute top-1 w-5 h-5 rounded-full bg-black transition-transform ${t?"left-6":"left-1"}`})})]})})]})}const lM=()=>b.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-4 h-4",children:[b.jsx("path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z"}),b.jsx("path",{d:"m15 5 4 4"})]}),aM=()=>b.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-4 h-4",children:[b.jsx("path",{d:"M3 6h18"}),b.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),b.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}),b.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),b.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]}),oM=()=>b.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-4 h-4",children:[b.jsx("path",{d:"M12 19V5"}),b.jsx("path",{d:"m5 12 7-7 7 7"})]}),cM=()=>b.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-4 h-4",children:[b.jsx("path",{d:"M12 5v14"}),b.jsx("path",{d:"m19 12-7 7-7-7"})]});function uM(){gt("Admin - Articles");const[t,e]=XC(),[n,i]=C.useState([]),[s,a]=C.useState({page:1,limit:20,total:0,totalPages:1}),[c,u]=C.useState(!1),[f,h]=C.useState(""),p=Math.max(1,parseInt(t.get("page")||"1",10)),g=t.get("status")||"all",x=t.get("sort")||"newest",v=t.get("search")||"",[w,k]=C.useState(v);C.useEffect(()=>{k(v)},[v]),C.useEffect(()=>{const G=setTimeout(()=>{const Z=w.trim();if(Z===v)return;const ue=new URLSearchParams(t);Z?ue.set("search",Z):ue.delete("search"),ue.set("page","1"),e(ue,{replace:!0})},400);return()=>clearTimeout(G)},[w]);const E=C.useCallback(async()=>{u(!0);try{const G=new URLSearchParams({page:String(p),status:g,sort:x});v&&G.set("search",v);const{data:Z}=await $e.get(`/articles?${G}`);i(Z.articles),a(Z.pagination)}catch{h("Failed to load articles")}finally{u(!1)}},[p,g,x,v]);C.useEffect(()=>{E()},[E]);const T=(G,Z)=>{const ue=new URLSearchParams(t);Z==="all"&&G==="status"?ue.delete("status"):G==="status"&&ue.set("status",Z),G==="sort"&&ue.set("sort",Z),ue.set("page","1"),e(ue)},M=G=>{const Z=new URLSearchParams(t);Z.set("page",String(G)),e(Z)},z=async G=>{if(confirm("Delete this article?"))try{await $e.delete(`/articles/${G}`),E()}catch{h("Failed to delete article")}},P=async G=>{try{await $e.patch(`/articles/${G}/publish`),E()}catch{h("Failed to publish")}},D=async G=>{try{await $e.patch(`/articles/${G}/unpublish`),E()}catch{h("Failed to unpublish")}},$=G=>new Date(G).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),L=v||g!=="all";return b.jsxs("div",{className:"p-8 md:p-12 lg:p-16 max-w-6xl mx-auto",children:[b.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-6 mb-10",children:[b.jsx("h1",{className:"font-serif text-3xl md:text-4xl font-normal text-white",children:"Articles"}),b.jsxs(je,{to:"/admin/articles/new",className:"inline-flex items-center justify-center gap-2 px-6 py-3 bg-white text-black text-sm font-medium tracking-widest uppercase hover:bg-white/90 rounded transition-colors w-fit",children:[b.jsx("span",{className:"w-4 h-4","aria-hidden":!0,children:b.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[b.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),b.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})}),"New Article"]})]}),b.jsxs("section",{className:"mb-8 p-5 rounded-lg border border-white/10 bg-white/5",children:[b.jsx("h2",{className:"text-xs font-medium tracking-[0.2em] uppercase text-white/40 mb-4",children:"Filters & Sort"}),b.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[b.jsxs("div",{className:"flex-1 relative",children:[b.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-white/40 w-4 h-4 pointer-events-none","aria-hidden":!0,children:b.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[b.jsx("circle",{cx:"11",cy:"11",r:"8"}),b.jsx("path",{d:"m21 21-4.35-4.35"})]})}),b.jsx("input",{type:"search",value:w,onChange:G=>k(G.target.value),placeholder:"Search by title, description, or content",className:"w-full pl-11 pr-5 py-3 bg-white/5 border border-white/20 rounded text-white placeholder-white/40 focus:outline-none focus:border-white/50 focus:ring-1 focus:ring-white/20"})]}),b.jsxs("div",{className:"flex flex-wrap gap-3",children:[b.jsxs("div",{children:[b.jsx("label",{className:"sr-only",children:"Status"}),b.jsxs("select",{value:g,onChange:G=>T("status",G.target.value),className:"px-4 py-3 bg-black border border-white/20 rounded text-white focus:outline-none focus:border-white/50 focus:ring-1 focus:ring-white/20 appearance-none cursor-pointer pr-10",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='%23ffffff80'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'/%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 0.75rem center",backgroundSize:"1rem"},children:[b.jsx("option",{value:"all",className:"bg-black text-white",children:"All statuses"}),b.jsx("option",{value:"draft",className:"bg-black text-white",children:"Draft"}),b.jsx("option",{value:"published",className:"bg-black text-white",children:"Published"})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"sr-only",children:"Sort by"}),b.jsxs("select",{value:x,onChange:G=>T("sort",G.target.value),className:"px-4 py-3 bg-black border border-white/20 rounded text-white focus:outline-none focus:border-white/50 focus:ring-1 focus:ring-white/20 appearance-none cursor-pointer pr-10",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='%23ffffff80'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'/%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 0.75rem center",backgroundSize:"1rem"},children:[b.jsx("option",{value:"newest",className:"bg-black text-white",children:"Newest first"}),b.jsx("option",{value:"oldest",className:"bg-black text-white",children:"Oldest first"})]})]}),L&&b.jsx("button",{type:"button",onClick:()=>{k(""),e({})},className:"px-4 py-3 text-white/60 hover:text-white text-sm",children:"Clear filters"})]})]}),L&&b.jsxs("p",{className:"text-white/50 text-sm mt-3",children:["Showing results for ",v&&`"${v}"`," ",v&&g!=="all"&&""," ",g!=="all"&&`Status: ${g}`]})]}),f&&b.jsx("div",{className:"mb-6 px-5 py-4 bg-red-500/10 border border-red-500/30 rounded text-red-400 text-sm",children:f}),c?b.jsx("div",{className:"py-16 text-center text-white/60",children:"Loading"}):n.length===0?b.jsxs("div",{className:"py-16 text-center rounded-lg border border-white/10 bg-white/5",children:[b.jsx("p",{className:"text-white/60 mb-4",children:L?"No articles match your filters.":"No articles yet."}),L?b.jsx("button",{type:"button",onClick:()=>{k(""),e({})},className:"text-white underline hover:no-underline",children:"Clear filters"}):b.jsx(je,{to:"/admin/articles/new",className:"text-white underline hover:no-underline",children:"Create one"})]}):b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"space-y-3",children:n.map(G=>b.jsxs("article",{className:"flex flex-col sm:flex-row sm:items-center gap-4 p-5 rounded-lg border border-white/10 bg-white/5 hover:border-white/20 transition-colors",children:[b.jsxs("div",{className:"flex-1 min-w-0 flex gap-4",children:[G.thumbnail&&b.jsx("div",{className:"shrink-0 w-20 h-14 rounded overflow-hidden bg-white/5",children:b.jsx("img",{src:G.thumbnail,alt:"",className:"w-full h-full object-cover"})}),b.jsxs("div",{className:"min-w-0",children:[b.jsx("p",{className:"text-white font-medium truncate",children:G.title}),b.jsx("p",{className:"text-white/50 text-sm mt-0.5",children:$(G.updatedAt)})]})]}),b.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[b.jsx("span",{className:`px-2.5 py-1 text-xs font-medium uppercase rounded ${G.status==="published"?"bg-emerald-500/20 text-emerald-400":"bg-white/10 text-white/70"}`,children:G.status}),b.jsxs("div",{className:"flex items-center gap-1 ml-2",children:[b.jsx(je,{to:`/admin/articles/${G._id}/edit`,title:"Edit",className:"p-2 text-white/60 hover:text-white hover:bg-white/10 rounded transition-colors",children:b.jsx(lM,{})}),b.jsx("button",{type:"button",onClick:()=>z(G._id),title:"Delete",className:"p-2 text-red-400/60 hover:text-red-400 hover:bg-red-500/10 rounded transition-colors",children:b.jsx(aM,{})}),G.status==="draft"?b.jsx("button",{type:"button",onClick:()=>P(G._id),title:"Publish",className:"p-2 text-emerald-400/60 hover:text-emerald-400 hover:bg-emerald-500/10 rounded transition-colors",children:b.jsx(oM,{})}):b.jsx("button",{type:"button",onClick:()=>D(G._id),title:"Unpublish",className:"p-2 text-amber-400/60 hover:text-amber-400 hover:bg-amber-500/10 rounded transition-colors",children:b.jsx(cM,{})})]})]})]},G._id))}),s.totalPages>1&&b.jsxs("div",{className:"flex flex-wrap items-center gap-4 mt-8 pt-6 border-t border-white/10",children:[b.jsx("button",{type:"button",onClick:()=>M(s.page-1),disabled:s.page<=1,className:"px-5 py-2.5 border border-white/20 rounded text-white text-sm disabled:opacity-40 disabled:cursor-not-allowed hover:border-white/40 hover:bg-white/5 transition-colors",children:"Previous"}),b.jsxs("span",{className:"text-white/60 text-sm",children:["Page ",s.page," of ",s.totalPages," ",b.jsxs("span",{className:"text-white/40",children:["(",s.total," total)"]})]}),b.jsx("button",{type:"button",onClick:()=>M(s.page+1),disabled:s.page>=s.totalPages,className:"px-5 py-2.5 border border-white/20 rounded text-white text-sm disabled:opacity-40 disabled:cursor-not-allowed hover:border-white/40 hover:bg-white/5 transition-colors",children:"Next"})]})]})]})}var zh={exports:{}},Lh={};var Nx;function dM(){if(Nx)return Lh;Nx=1;var t=Ua();function e(g,x){return g===x&&(g!==0||1/g===1/x)||g!==g&&x!==x}var n=typeof Object.is=="function"?Object.is:e,i=t.useState,s=t.useEffect,a=t.useLayoutEffect,c=t.useDebugValue;function u(g,x){var v=x(),w=i({inst:{value:v,getSnapshot:x}}),k=w[0].inst,E=w[1];return a(function(){k.value=v,k.getSnapshot=x,f(k)&&E({inst:k})},[g,v,x]),s(function(){return f(k)&&E({inst:k}),g(function(){f(k)&&E({inst:k})})},[g]),c(v),v}function f(g){var x=g.getSnapshot;g=g.value;try{var v=x();return!n(g,v)}catch{return!0}}function h(g,x){return x()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:u;return Lh.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:p,Lh}var Tx;function Q1(){return Tx||(Tx=1,zh.exports=dM()),zh.exports}var Z1=Q1();function Ot(t){this.content=t}Ot.prototype={constructor:Ot,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var i=n&&n!=t?this.remove(n):this,s=i.find(t),a=i.content.slice();return s==-1?a.push(n||t,e):(a[s+1]=e,n&&(a[s]=n)),new Ot(a)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new Ot(n)},addToStart:function(t,e){return new Ot([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new Ot(n)},addBefore:function(t,e,n){var i=this.remove(e),s=i.content.slice(),a=i.find(t);return s.splice(a==-1?s.length:a,0,e,n),new Ot(s)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=Ot.from(t),t.size?new Ot(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=Ot.from(t),t.size?new Ot(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=Ot.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};Ot.from=function(t){if(t instanceof Ot)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new Ot(e)};function ew(t,e,n){for(let i=0;;i++){if(i==t.childCount||i==e.childCount)return t.childCount==e.childCount?null:n;let s=t.child(i),a=e.child(i);if(s==a){n+=s.nodeSize;continue}if(!s.sameMarkup(a))return n;if(s.isText&&s.text!=a.text){for(let c=0;s.text[c]==a.text[c];c++)n++;return n}if(s.content.size||a.content.size){let c=ew(s.content,a.content,n+1);if(c!=null)return c}n+=s.nodeSize}}function tw(t,e,n,i){for(let s=t.childCount,a=e.childCount;;){if(s==0||a==0)return s==a?null:{a:n,b:i};let c=t.child(--s),u=e.child(--a),f=c.nodeSize;if(c==u){n-=f,i-=f;continue}if(!c.sameMarkup(u))return{a:n,b:i};if(c.isText&&c.text!=u.text){let h=0,p=Math.min(c.text.length,u.text.length);for(;h<p&&c.text[c.text.length-h-1]==u.text[u.text.length-h-1];)h++,n--,i--;return{a:n,b:i}}if(c.content.size||u.content.size){let h=tw(c.content,u.content,n-1,i-1);if(h)return h}n-=f,i-=f}}class J{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let i=0;i<e.length;i++)this.size+=e[i].nodeSize}nodesBetween(e,n,i,s=0,a){for(let c=0,u=0;u<n;c++){let f=this.content[c],h=u+f.nodeSize;if(h>e&&i(f,s+u,a||null,c)!==!1&&f.content.size){let p=u+1;f.nodesBetween(Math.max(0,e-p),Math.min(f.content.size,n-p),i,s+p)}u=h}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,i,s){let a="",c=!0;return this.nodesBetween(e,n,(u,f)=>{let h=u.isText?u.text.slice(Math.max(e,f)-f,n-f):u.isLeaf?s?typeof s=="function"?s(u):s:u.type.spec.leafText?u.type.spec.leafText(u):"":"";u.isBlock&&(u.isLeaf&&h||u.isTextblock)&&i&&(c?c=!1:a+=i),a+=h},0),a}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,i=e.firstChild,s=this.content.slice(),a=0;for(n.isText&&n.sameMarkup(i)&&(s[s.length-1]=n.withText(n.text+i.text),a=1);a<e.content.length;a++)s.push(e.content[a]);return new J(s,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let i=[],s=0;if(n>e)for(let a=0,c=0;c<n;a++){let u=this.content[a],f=c+u.nodeSize;f>e&&((c<e||f>n)&&(u.isText?u=u.cut(Math.max(0,e-c),Math.min(u.text.length,n-c)):u=u.cut(Math.max(0,e-c-1),Math.min(u.content.size,n-c-1))),i.push(u),s+=u.nodeSize),c=f}return new J(i,s)}cutByIndex(e,n){return e==n?J.empty:e==0&&n==this.content.length?this:new J(this.content.slice(e,n))}replaceChild(e,n){let i=this.content[e];if(i==n)return this;let s=this.content.slice(),a=this.size+n.nodeSize-i.nodeSize;return s[e]=n,new J(s,a)}addToStart(e){return new J([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new J(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,i=0;n<this.content.length;n++){let s=this.content[n];e(s,i,n),i+=s.nodeSize}}findDiffStart(e,n=0){return ew(this,e,n)}findDiffEnd(e,n=this.size,i=e.size){return tw(this,e,n,i)}findIndex(e){if(e==0)return vc(0,e);if(e==this.size)return vc(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let n=0,i=0;;n++){let s=this.child(n),a=i+s.nodeSize;if(a>=e)return a==e?vc(n+1,a):vc(n,i);i=a}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return J.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new J(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return J.empty;let n,i=0;for(let s=0;s<e.length;s++){let a=e[s];i+=a.nodeSize,s&&a.isText&&e[s-1].sameMarkup(a)?(n||(n=e.slice(0,s)),n[n.length-1]=a.withText(n[n.length-1].text+a.text)):n&&n.push(a)}return new J(n||e,i)}static from(e){if(!e)return J.empty;if(e instanceof J)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new J([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}J.empty=new J([],0);const _h={index:0,offset:0};function vc(t,e){return _h.index=t,_h.offset=e,_h}function Fc(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let i=0;i<t.length;i++)if(!Fc(t[i],e[i]))return!1}else{for(let i in t)if(!(i in e)||!Fc(t[i],e[i]))return!1;for(let i in e)if(!(i in t))return!1}return!0}let Pe=class bp{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,i=!1;for(let s=0;s<e.length;s++){let a=e[s];if(this.eq(a))return e;if(this.type.excludes(a.type))n||(n=e.slice(0,s));else{if(a.type.excludes(this.type))return e;!i&&a.type.rank>this.type.rank&&(n||(n=e.slice(0,s)),n.push(this),i=!0),n&&n.push(a)}}return n||(n=e.slice()),i||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&Fc(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let i=e.marks[n.type];if(!i)throw new RangeError(`There is no mark type ${n.type} in this schema`);let s=i.create(n.attrs);return i.checkAttrs(s.attrs),s}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let i=0;i<e.length;i++)if(!e[i].eq(n[i]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return bp.none;if(e instanceof bp)return[e];let n=e.slice();return n.sort((i,s)=>i.type.rank-s.type.rank),n}};Pe.none=[];class Kc extends Error{}class te{constructor(e,n,i){this.content=e,this.openStart=n,this.openEnd=i}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let i=iw(this.content,e+this.openStart,n);return i&&new te(i,this.openStart,this.openEnd)}removeBetween(e,n){return new te(nw(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return te.empty;let i=n.openStart||0,s=n.openEnd||0;if(typeof i!="number"||typeof s!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new te(J.fromJSON(e,n.content),i,s)}static maxOpen(e,n=!0){let i=0,s=0;for(let a=e.firstChild;a&&!a.isLeaf&&(n||!a.type.spec.isolating);a=a.firstChild)i++;for(let a=e.lastChild;a&&!a.isLeaf&&(n||!a.type.spec.isolating);a=a.lastChild)s++;return new te(e,i,s)}}te.empty=new te(J.empty,0,0);function nw(t,e,n){let{index:i,offset:s}=t.findIndex(e),a=t.maybeChild(i),{index:c,offset:u}=t.findIndex(n);if(s==e||a.isText){if(u!=n&&!t.child(c).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(i!=c)throw new RangeError("Removing non-flat range");return t.replaceChild(i,a.copy(nw(a.content,e-s-1,n-s-1)))}function iw(t,e,n,i){let{index:s,offset:a}=t.findIndex(e),c=t.maybeChild(s);if(a==e||c.isText)return i&&!i.canReplace(s,s,n)?null:t.cut(0,e).append(n).append(t.cut(e));let u=iw(c.content,e-a-1,n,c);return u&&t.replaceChild(s,c.copy(u))}function fM(t,e,n){if(n.openStart>t.depth)throw new Kc("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new Kc("Inconsistent open depths");return rw(t,e,n,0)}function rw(t,e,n,i){let s=t.index(i),a=t.node(i);if(s==e.index(i)&&i<t.depth-n.openStart){let c=rw(t,e,n,i+1);return a.copy(a.content.replaceChild(s,c))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==i&&e.depth==i){let c=t.parent,u=c.content;return Fr(c,u.cut(0,t.parentOffset).append(n.content).append(u.cut(e.parentOffset)))}else{let{start:c,end:u}=hM(n,t);return Fr(a,lw(t,c,u,e,i))}else return Fr(a,Gc(t,e,i))}function sw(t,e){if(!e.type.compatibleContent(t.type))throw new Kc("Cannot join "+e.type.name+" onto "+t.type.name)}function xp(t,e,n){let i=t.node(n);return sw(i,e.node(n)),i}function $r(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function ya(t,e,n,i){let s=(e||t).node(n),a=0,c=e?e.index(n):s.childCount;t&&(a=t.index(n),t.depth>n?a++:t.textOffset&&($r(t.nodeAfter,i),a++));for(let u=a;u<c;u++)$r(s.child(u),i);e&&e.depth==n&&e.textOffset&&$r(e.nodeBefore,i)}function Fr(t,e){return t.type.checkContent(e),t.copy(e)}function lw(t,e,n,i,s){let a=t.depth>s&&xp(t,e,s+1),c=i.depth>s&&xp(n,i,s+1),u=[];return ya(null,t,s,u),a&&c&&e.index(s)==n.index(s)?(sw(a,c),$r(Fr(a,lw(t,e,n,i,s+1)),u)):(a&&$r(Fr(a,Gc(t,e,s+1)),u),ya(e,n,s,u),c&&$r(Fr(c,Gc(n,i,s+1)),u)),ya(i,null,s,u),new J(u)}function Gc(t,e,n){let i=[];if(ya(null,t,n,i),t.depth>n){let s=xp(t,e,n+1);$r(Fr(s,Gc(t,e,n+1)),i)}return ya(e,null,n,i),new J(i)}function hM(t,e){let n=e.depth-t.openStart,s=e.node(n).copy(t.content);for(let a=n-1;a>=0;a--)s=e.node(a).copy(J.from(s));return{start:s.resolveNoCache(t.openStart+n),end:s.resolveNoCache(s.content.size-t.openEnd-n)}}class Aa{constructor(e,n,i){this.pos=e,this.path=n,this.parentOffset=i,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let i=this.pos-this.path[this.path.length-1],s=e.child(n);return i?e.child(n).cut(i):s}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let i=this.path[n*3],s=n==0?0:this.path[n*3-1]+1;for(let a=0;a<e;a++)s+=i.child(a).nodeSize;return s}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return Pe.none;if(this.textOffset)return e.child(n).marks;let i=e.maybeChild(n-1),s=e.maybeChild(n);if(!i){let u=i;i=s,s=u}let a=i.marks;for(var c=0;c<a.length;c++)a[c].type.spec.inclusive===!1&&(!s||!a[c].isInSet(s.marks))&&(a=a[c--].removeFromSet(a));return a}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let i=n.marks,s=e.parent.maybeChild(e.index());for(var a=0;a<i.length;a++)i[a].type.spec.inclusive===!1&&(!s||!i[a].isInSet(s.marks))&&(i=i[a--].removeFromSet(i));return i}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let i=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);i>=0;i--)if(e.pos<=this.end(i)&&(!n||n(this.node(i))))return new Yc(this,e,i);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let i=[],s=0,a=n;for(let c=e;;){let{index:u,offset:f}=c.content.findIndex(a),h=a-f;if(i.push(c,u,s+f),!h||(c=c.child(u),c.isText))break;a=h-1,s+=f+1}return new Aa(n,i,a)}static resolveCached(e,n){let i=Cx.get(e);if(i)for(let a=0;a<i.elts.length;a++){let c=i.elts[a];if(c.pos==n)return c}else Cx.set(e,i=new pM);let s=i.elts[i.i]=Aa.resolve(e,n);return i.i=(i.i+1)%mM,s}}class pM{constructor(){this.elts=[],this.i=0}}const mM=12,Cx=new WeakMap;class Yc{constructor(e,n,i){this.$from=e,this.$to=n,this.depth=i}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const gM=Object.create(null);class _n{constructor(e,n,i,s=Pe.none){this.type=e,this.attrs=n,this.marks=s,this.content=i||J.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,i,s=0){this.content.nodesBetween(e,n,i,s,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,i,s){return this.content.textBetween(e,n,i,s)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,i){return this.type==e&&Fc(this.attrs,n||e.defaultAttrs||gM)&&Pe.sameSet(this.marks,i||Pe.none)}copy(e=null){return e==this.content?this:new _n(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new _n(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,i=!1){if(e==n)return te.empty;let s=this.resolve(e),a=this.resolve(n),c=i?0:s.sharedDepth(n),u=s.start(c),h=s.node(c).content.cut(s.pos-u,a.pos-u);return new te(h,s.depth-c,a.depth-c)}replace(e,n,i){return fM(this.resolve(e),this.resolve(n),i)}nodeAt(e){for(let n=this;;){let{index:i,offset:s}=n.content.findIndex(e);if(n=n.maybeChild(i),!n)return null;if(s==e||n.isText)return n;e-=s+1}}childAfter(e){let{index:n,offset:i}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:i}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:i}=this.content.findIndex(e);if(i<e)return{node:this.content.child(n),index:n,offset:i};let s=this.content.child(n-1);return{node:s,index:n-1,offset:i-s.nodeSize}}resolve(e){return Aa.resolveCached(this,e)}resolveNoCache(e){return Aa.resolve(this,e)}rangeHasMark(e,n,i){let s=!1;return n>e&&this.nodesBetween(e,n,a=>(i.isInSet(a.marks)&&(s=!0),!s)),s}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),aw(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,i=J.empty,s=0,a=i.childCount){let c=this.contentMatchAt(e).matchFragment(i,s,a),u=c&&c.matchFragment(this.content,n);if(!u||!u.validEnd)return!1;for(let f=s;f<a;f++)if(!this.type.allowsMarks(i.child(f).marks))return!1;return!0}canReplaceWith(e,n,i,s){if(s&&!this.type.allowsMarks(s))return!1;let a=this.contentMatchAt(e).matchType(i),c=a&&a.matchFragment(this.content,n);return c?c.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=Pe.none;for(let n=0;n<this.marks.length;n++){let i=this.marks[n];i.type.checkAttrs(i.attrs),e=i.addToSet(e)}if(!Pe.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let i;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");i=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,i)}let s=J.fromJSON(e,n.content),a=e.nodeType(n.type).create(n.attrs,s,i);return a.type.checkAttrs(a.attrs),a}}_n.prototype.text=void 0;class Jc extends _n{constructor(e,n,i,s){if(super(e,n,null,s),!i)throw new RangeError("Empty text nodes are not allowed");this.text=i}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):aw(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new Jc(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new Jc(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function aw(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class Wr{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let i=new yM(e,n);if(i.next==null)return Wr.empty;let s=ow(i);i.next&&i.err("Unexpected trailing text");let a=EM(kM(s));return NM(a,i),a}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,i=e.childCount){let s=this;for(let a=n;s&&a<i;a++)s=s.matchType(e.child(a).type);return s}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let i=0;i<e.next.length;i++)if(this.next[n].type==e.next[i].type)return!0;return!1}fillBefore(e,n=!1,i=0){let s=[this];function a(c,u){let f=c.matchFragment(e,i);if(f&&(!n||f.validEnd))return J.from(u.map(h=>h.createAndFill()));for(let h=0;h<c.next.length;h++){let{type:p,next:g}=c.next[h];if(!(p.isText||p.hasRequiredAttrs())&&s.indexOf(g)==-1){s.push(g);let x=a(g,u.concat(p));if(x)return x}}return null}return a(this,[])}findWrapping(e){for(let i=0;i<this.wrapCache.length;i+=2)if(this.wrapCache[i]==e)return this.wrapCache[i+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),i=[{match:this,type:null,via:null}];for(;i.length;){let s=i.shift(),a=s.match;if(a.matchType(e)){let c=[];for(let u=s;u.type;u=u.via)c.push(u.type);return c.reverse()}for(let c=0;c<a.next.length;c++){let{type:u,next:f}=a.next[c];!u.isLeaf&&!u.hasRequiredAttrs()&&!(u.name in n)&&(!s.type||f.validEnd)&&(i.push({match:u.contentMatch,type:u,via:s}),n[u.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(i){e.push(i);for(let s=0;s<i.next.length;s++)e.indexOf(i.next[s].next)==-1&&n(i.next[s].next)}return n(this),e.map((i,s)=>{let a=s+(i.validEnd?"*":" ")+" ";for(let c=0;c<i.next.length;c++)a+=(c?", ":"")+i.next[c].type.name+"->"+e.indexOf(i.next[c].next);return a}).join(`
`)}}Wr.empty=new Wr(!0);class yM{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function ow(t){let e=[];do e.push(bM(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function bM(t){let e=[];do e.push(xM(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function xM(t){let e=SM(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=vM(t,e);else break;return e}function Ax(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function vM(t,e){let n=Ax(t),i=n;return t.eat(",")&&(t.next!="}"?i=Ax(t):i=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:i,expr:e}}function wM(t,e){let n=t.nodeTypes,i=n[e];if(i)return[i];let s=[];for(let a in n){let c=n[a];c.isInGroup(e)&&s.push(c)}return s.length==0&&t.err("No node type or group '"+e+"' found"),s}function SM(t){if(t.eat("(")){let e=ow(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=wM(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function kM(t){let e=[[]];return s(a(t,0),n()),e;function n(){return e.push([])-1}function i(c,u,f){let h={term:f,to:u};return e[c].push(h),h}function s(c,u){c.forEach(f=>f.to=u)}function a(c,u){if(c.type=="choice")return c.exprs.reduce((f,h)=>f.concat(a(h,u)),[]);if(c.type=="seq")for(let f=0;;f++){let h=a(c.exprs[f],u);if(f==c.exprs.length-1)return h;s(h,u=n())}else if(c.type=="star"){let f=n();return i(u,f),s(a(c.expr,f),f),[i(f)]}else if(c.type=="plus"){let f=n();return s(a(c.expr,u),f),s(a(c.expr,f),f),[i(f)]}else{if(c.type=="opt")return[i(u)].concat(a(c.expr,u));if(c.type=="range"){let f=u;for(let h=0;h<c.min;h++){let p=n();s(a(c.expr,f),p),f=p}if(c.max==-1)s(a(c.expr,f),f);else for(let h=c.min;h<c.max;h++){let p=n();i(f,p),s(a(c.expr,f),p),f=p}return[i(f)]}else{if(c.type=="name")return[i(u,void 0,c.value)];throw new Error("Unknown expr type")}}}}function cw(t,e){return e-t}function Mx(t,e){let n=[];return i(e),n.sort(cw);function i(s){let a=t[s];if(a.length==1&&!a[0].term)return i(a[0].to);n.push(s);for(let c=0;c<a.length;c++){let{term:u,to:f}=a[c];!u&&n.indexOf(f)==-1&&i(f)}}}function EM(t){let e=Object.create(null);return n(Mx(t,0));function n(i){let s=[];i.forEach(c=>{t[c].forEach(({term:u,to:f})=>{if(!u)return;let h;for(let p=0;p<s.length;p++)s[p][0]==u&&(h=s[p][1]);Mx(t,f).forEach(p=>{h||s.push([u,h=[]]),h.indexOf(p)==-1&&h.push(p)})})});let a=e[i.join(",")]=new Wr(i.indexOf(t.length-1)>-1);for(let c=0;c<s.length;c++){let u=s[c][1].sort(cw);a.next.push({type:s[c][0],next:e[u.join(",")]||n(u)})}return a}}function NM(t,e){for(let n=0,i=[t];n<i.length;n++){let s=i[n],a=!s.validEnd,c=[];for(let u=0;u<s.next.length;u++){let{type:f,next:h}=s.next[u];c.push(f.name),a&&!(f.isText||f.hasRequiredAttrs())&&(a=!1),i.indexOf(h)==-1&&i.push(h)}a&&e.err("Only non-generatable nodes ("+c.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function uw(t){let e=Object.create(null);for(let n in t){let i=t[n];if(!i.hasDefault)return null;e[n]=i.default}return e}function dw(t,e){let n=Object.create(null);for(let i in t){let s=e&&e[i];if(s===void 0){let a=t[i];if(a.hasDefault)s=a.default;else throw new RangeError("No value supplied for attribute "+i)}n[i]=s}return n}function fw(t,e,n,i){for(let s in e)if(!(s in t))throw new RangeError(`Unsupported attribute ${s} for ${n} of type ${s}`);for(let s in t){let a=t[s];a.validate&&a.validate(e[s])}}function hw(t,e){let n=Object.create(null);if(e)for(let i in e)n[i]=new CM(t,i,e[i]);return n}let Ox=class pw{constructor(e,n,i){this.name=e,this.schema=n,this.spec=i,this.markSet=null,this.groups=i.group?i.group.split(" "):[],this.attrs=hw(e,i.attrs),this.defaultAttrs=uw(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(i.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Wr.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:dw(this.attrs,e)}create(e=null,n,i){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new _n(this,this.computeAttrs(e),J.from(n),Pe.setFrom(i))}createChecked(e=null,n,i){return n=J.from(n),this.checkContent(n),new _n(this,this.computeAttrs(e),n,Pe.setFrom(i))}createAndFill(e=null,n,i){if(e=this.computeAttrs(e),n=J.from(n),n.size){let c=this.contentMatch.fillBefore(n);if(!c)return null;n=c.append(n)}let s=this.contentMatch.matchFragment(n),a=s&&s.fillBefore(J.empty,!0);return a?new _n(this,e,n.append(a),Pe.setFrom(i)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let i=0;i<e.childCount;i++)if(!this.allowsMarks(e.child(i).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){fw(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let i=0;i<e.length;i++)this.allowsMarkType(e[i].type)?n&&n.push(e[i]):n||(n=e.slice(0,i));return n?n.length?n:Pe.none:e}static compile(e,n){let i=Object.create(null);e.forEach((a,c)=>i[a]=new pw(a,n,c));let s=n.spec.topNode||"doc";if(!i[s])throw new RangeError("Schema is missing its top node type ('"+s+"')");if(!i.text)throw new RangeError("Every schema needs a 'text' type");for(let a in i.text.attrs)throw new RangeError("The text node type should not have attributes");return i}};function TM(t,e,n){let i=n.split("|");return s=>{let a=s===null?"null":typeof s;if(i.indexOf(a)<0)throw new RangeError(`Expected value of type ${i} for attribute ${e} on type ${t}, got ${a}`)}}class CM{constructor(e,n,i){this.hasDefault=Object.prototype.hasOwnProperty.call(i,"default"),this.default=i.default,this.validate=typeof i.validate=="string"?TM(e,n,i.validate):i.validate}get isRequired(){return!this.hasDefault}}class Pu{constructor(e,n,i,s){this.name=e,this.rank=n,this.schema=i,this.spec=s,this.attrs=hw(e,s.attrs),this.excluded=null;let a=uw(this.attrs);this.instance=a?new Pe(this,a):null}create(e=null){return!e&&this.instance?this.instance:new Pe(this,dw(this.attrs,e))}static compile(e,n){let i=Object.create(null),s=0;return e.forEach((a,c)=>i[a]=new Pu(a,s++,n,c)),i}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}checkAttrs(e){fw(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class mw{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let s in e)n[s]=e[s];n.nodes=Ot.from(e.nodes),n.marks=Ot.from(e.marks||{}),this.nodes=Ox.compile(this.spec.nodes,this),this.marks=Pu.compile(this.spec.marks,this);let i=Object.create(null);for(let s in this.nodes){if(s in this.marks)throw new RangeError(s+" can not be both a node and a mark");let a=this.nodes[s],c=a.spec.content||"",u=a.spec.marks;if(a.contentMatch=i[c]||(i[c]=Wr.parse(c,this.nodes)),a.inlineContent=a.contentMatch.inlineContent,a.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!a.isInline||!a.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=a}a.markSet=u=="_"?null:u?Rx(this,u.split(" ")):u==""||!a.inlineContent?[]:null}for(let s in this.marks){let a=this.marks[s],c=a.spec.excludes;a.excluded=c==null?[a]:c==""?[]:Rx(this,c.split(" "))}this.nodeFromJSON=s=>_n.fromJSON(this,s),this.markFromJSON=s=>Pe.fromJSON(this,s),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,i,s){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof Ox){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,i,s)}text(e,n){let i=this.nodes.text;return new Jc(i,i.defaultAttrs,e,Pe.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function Rx(t,e){let n=[];for(let i=0;i<e.length;i++){let s=e[i],a=t.marks[s],c=a;if(a)n.push(a);else for(let u in t.marks){let f=t.marks[u];(s=="_"||f.spec.group&&f.spec.group.split(" ").indexOf(s)>-1)&&n.push(c=f)}if(!c)throw new SyntaxError("Unknown mark type: '"+e[i]+"'")}return n}function AM(t){return t.tag!=null}function MM(t){return t.style!=null}class or{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[];let i=this.matchedStyles=[];n.forEach(s=>{if(AM(s))this.tags.push(s);else if(MM(s)){let a=/[^=]*/.exec(s.style)[0];i.indexOf(a)<0&&i.push(a),this.styles.push(s)}}),this.normalizeLists=!this.tags.some(s=>{if(!/^(ul|ol)\b/.test(s.tag)||!s.node)return!1;let a=e.nodes[s.node];return a.contentMatch.matchType(a)})}parse(e,n={}){let i=new Dx(this,n,!1);return i.addAll(e,Pe.none,n.from,n.to),i.finish()}parseSlice(e,n={}){let i=new Dx(this,n,!0);return i.addAll(e,Pe.none,n.from,n.to),te.maxOpen(i.finish())}matchTag(e,n,i){for(let s=i?this.tags.indexOf(i)+1:0;s<this.tags.length;s++){let a=this.tags[s];if(jM(e,a.tag)&&(a.namespace===void 0||e.namespaceURI==a.namespace)&&(!a.context||n.matchesContext(a.context))){if(a.getAttrs){let c=a.getAttrs(e);if(c===!1)continue;a.attrs=c||void 0}return a}}}matchStyle(e,n,i,s){for(let a=s?this.styles.indexOf(s)+1:0;a<this.styles.length;a++){let c=this.styles[a],u=c.style;if(!(u.indexOf(e)!=0||c.context&&!i.matchesContext(c.context)||u.length>e.length&&(u.charCodeAt(e.length)!=61||u.slice(e.length+1)!=n))){if(c.getAttrs){let f=c.getAttrs(n);if(f===!1)continue;c.attrs=f||void 0}return c}}}static schemaRules(e){let n=[];function i(s){let a=s.priority==null?50:s.priority,c=0;for(;c<n.length;c++){let u=n[c];if((u.priority==null?50:u.priority)<a)break}n.splice(c,0,s)}for(let s in e.marks){let a=e.marks[s].spec.parseDOM;a&&a.forEach(c=>{i(c=zx(c)),c.mark||c.ignore||c.clearMark||(c.mark=s)})}for(let s in e.nodes){let a=e.nodes[s].spec.parseDOM;a&&a.forEach(c=>{i(c=zx(c)),c.node||c.ignore||c.mark||(c.node=s)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new or(e,or.schemaRules(e)))}}const gw={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},OM={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},yw={ol:!0,ul:!0},Ma=1,vp=2,ba=4;function jx(t,e,n){return e!=null?(e?Ma:0)|(e==="full"?vp:0):t&&t.whitespace=="pre"?Ma|vp:n&~ba}class wc{constructor(e,n,i,s,a,c){this.type=e,this.attrs=n,this.marks=i,this.solid=s,this.options=c,this.content=[],this.activeMarks=Pe.none,this.match=a||(c&ba?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(J.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let i=this.type.contentMatch,s;return(s=i.findWrapping(e.type))?(this.match=i,s):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&Ma)){let i=this.content[this.content.length-1],s;if(i&&i.isText&&(s=/[ \t\r\n\u000c]+$/.exec(i.text))){let a=i;i.text.length==s[0].length?this.content.pop():this.content[this.content.length-1]=a.withText(a.text.slice(0,a.text.length-s[0].length))}}let n=J.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(J.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!gw.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class Dx{constructor(e,n,i){this.parser=e,this.options=n,this.isOpen=i,this.open=0,this.localPreserveWS=!1;let s=n.topNode,a,c=jx(null,n.preserveWhitespace,0)|(i?ba:0);s?a=new wc(s.type,s.attrs,Pe.none,!0,n.topMatch||s.type.contentMatch,c):i?a=new wc(null,null,Pe.none,!0,null,c):a=new wc(e.schema.topNodeType,null,Pe.none,!0,null,c),this.nodes=[a],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,n){e.nodeType==3?this.addTextNode(e,n):e.nodeType==1&&this.addElement(e,n)}addTextNode(e,n){let i=e.nodeValue,s=this.top,a=s.options&vp?"full":this.localPreserveWS||(s.options&Ma)>0,{schema:c}=this.parser;if(a==="full"||s.inlineContext(e)||/[^ \t\r\n\u000c]/.test(i)){if(a)if(a==="full")i=i.replace(/\r\n?/g,`
`);else if(c.linebreakReplacement&&/[\r\n]/.test(i)&&this.top.findWrapping(c.linebreakReplacement.create())){let u=i.split(/\r?\n|\r/);for(let f=0;f<u.length;f++)f&&this.insertNode(c.linebreakReplacement.create(),n,!0),u[f]&&this.insertNode(c.text(u[f]),n,!/\S/.test(u[f]));i=""}else i=i.replace(/\r?\n|\r/g," ");else if(i=i.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(i)&&this.open==this.nodes.length-1){let u=s.content[s.content.length-1],f=e.previousSibling;(!u||f&&f.nodeName=="BR"||u.isText&&/[ \t\r\n\u000c]$/.test(u.text))&&(i=i.slice(1))}i&&this.insertNode(c.text(i),n,!/\S/.test(i)),this.findInText(e)}else this.findInside(e)}addElement(e,n,i){let s=this.localPreserveWS,a=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let c=e.nodeName.toLowerCase(),u;yw.hasOwnProperty(c)&&this.parser.normalizeLists&&RM(e);let f=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(u=this.parser.matchTag(e,this,i));e:if(f?f.ignore:OM.hasOwnProperty(c))this.findInside(e),this.ignoreFallback(e,n);else if(!f||f.skip||f.closeParent){f&&f.closeParent?this.open=Math.max(0,this.open-1):f&&f.skip.nodeType&&(e=f.skip);let h,p=this.needsBlock;if(gw.hasOwnProperty(c))a.content.length&&a.content[0].isInline&&this.open&&(this.open--,a=this.top),h=!0,a.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,n);break e}let g=f&&f.skip?n:this.readStyles(e,n);g&&this.addAll(e,g),h&&this.sync(a),this.needsBlock=p}else{let h=this.readStyles(e,n);h&&this.addElementByRule(e,f,h,f.consuming===!1?u:void 0)}this.localPreserveWS=s}leafFallback(e,n){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),n)}ignoreFallback(e,n){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n,!0)}readStyles(e,n){let i=e.style;if(i&&i.length)for(let s=0;s<this.parser.matchedStyles.length;s++){let a=this.parser.matchedStyles[s],c=i.getPropertyValue(a);if(c)for(let u=void 0;;){let f=this.parser.matchStyle(a,c,this,u);if(!f)break;if(f.ignore)return null;if(f.clearMark?n=n.filter(h=>!f.clearMark(h)):n=n.concat(this.parser.schema.marks[f.mark].create(f.attrs)),f.consuming===!1)u=f;else break}}return n}addElementByRule(e,n,i,s){let a,c;if(n.node)if(c=this.parser.schema.nodes[n.node],c.isLeaf)this.insertNode(c.create(n.attrs),i,e.nodeName=="BR")||this.leafFallback(e,i);else{let f=this.enter(c,n.attrs||null,i,n.preserveWhitespace);f&&(a=!0,i=f)}else{let f=this.parser.schema.marks[n.mark];i=i.concat(f.create(n.attrs))}let u=this.top;if(c&&c.isLeaf)this.findInside(e);else if(s)this.addElement(e,i,s);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(f=>this.insertNode(f,i,!1));else{let f=e;typeof n.contentElement=="string"?f=e.querySelector(n.contentElement):typeof n.contentElement=="function"?f=n.contentElement(e):n.contentElement&&(f=n.contentElement),this.findAround(e,f,!0),this.addAll(f,i),this.findAround(e,f,!1)}a&&this.sync(u)&&this.open--}addAll(e,n,i,s){let a=i||0;for(let c=i?e.childNodes[i]:e.firstChild,u=s==null?null:e.childNodes[s];c!=u;c=c.nextSibling,++a)this.findAtPoint(e,a),this.addDOM(c,n);this.findAtPoint(e,a)}findPlace(e,n,i){let s,a;for(let c=this.open,u=0;c>=0;c--){let f=this.nodes[c],h=f.findWrapping(e);if(h&&(!s||s.length>h.length+u)&&(s=h,a=f,!h.length))break;if(f.solid){if(i)break;u+=2}}if(!s)return null;this.sync(a);for(let c=0;c<s.length;c++)n=this.enterInner(s[c],null,n,!1);return n}insertNode(e,n,i){if(e.isInline&&this.needsBlock&&!this.top.type){let a=this.textblockFromContext();a&&(n=this.enterInner(a,null,n))}let s=this.findPlace(e,n,i);if(s){this.closeExtra();let a=this.top;a.match&&(a.match=a.match.matchType(e.type));let c=Pe.none;for(let u of s.concat(e.marks))(a.type?a.type.allowsMarkType(u.type):Lx(u.type,e.type))&&(c=u.addToSet(c));return a.content.push(e.mark(c)),!0}return!1}enter(e,n,i,s){let a=this.findPlace(e.create(n),i,!1);return a&&(a=this.enterInner(e,n,i,!0,s)),a}enterInner(e,n,i,s=!1,a){this.closeExtra();let c=this.top;c.match=c.match&&c.match.matchType(e);let u=jx(e,a,c.options);c.options&ba&&c.content.length==0&&(u|=ba);let f=Pe.none;return i=i.filter(h=>(c.type?c.type.allowsMarkType(h.type):Lx(h.type,e))?(f=h.addToSet(f),!1):!0),this.nodes.push(new wc(e,n,f,s,null,u)),this.open++,i}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let n=this.open;n>=0;n--){if(this.nodes[n]==e)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=Ma)}return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let i=this.nodes[n].content;for(let s=i.length-1;s>=0;s--)e+=i[s].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let i=0;i<this.find.length;i++)this.find[i].node==e&&this.find[i].offset==n&&(this.find[i].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,i){if(e!=n&&this.find)for(let s=0;s<this.find.length;s++)this.find[s].pos==null&&e.nodeType==1&&e.contains(this.find[s].node)&&n.compareDocumentPosition(this.find[s].node)&(i?2:4)&&(this.find[s].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),i=this.options.context,s=!this.isOpen&&(!i||i.parent.type==this.nodes[0].type),a=-(i?i.depth+1:0)+(s?0:1),c=(u,f)=>{for(;u>=0;u--){let h=n[u];if(h==""){if(u==n.length-1||u==0)continue;for(;f>=a;f--)if(c(u-1,f))return!0;return!1}else{let p=f>0||f==0&&s?this.nodes[f].type:i&&f>=a?i.node(f-a).type:null;if(!p||p.name!=h&&!p.isInGroup(h))return!1;f--}}return!0};return c(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let i=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(i&&i.isTextblock&&i.defaultAttrs)return i}for(let n in this.parser.schema.nodes){let i=this.parser.schema.nodes[n];if(i.isTextblock&&i.defaultAttrs)return i}}}function RM(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let i=e.nodeType==1?e.nodeName.toLowerCase():null;i&&yw.hasOwnProperty(i)&&n?(n.appendChild(e),e=n):i=="li"?n=e:i&&(n=null)}}function jM(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function zx(t){let e={};for(let n in t)e[n]=t[n];return e}function Lx(t,e){let n=e.schema.nodes;for(let i in n){let s=n[i];if(!s.allowsMarkType(t))continue;let a=[],c=u=>{a.push(u);for(let f=0;f<u.edgeCount;f++){let{type:h,next:p}=u.edge(f);if(h==e||a.indexOf(p)<0&&c(p))return!0}};if(c(s.contentMatch))return!0}}class is{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},i){i||(i=Bh(n).createDocumentFragment());let s=i,a=[];return e.forEach(c=>{if(a.length||c.marks.length){let u=0,f=0;for(;u<a.length&&f<c.marks.length;){let h=c.marks[f];if(!this.marks[h.type.name]){f++;continue}if(!h.eq(a[u][0])||h.type.spec.spanning===!1)break;u++,f++}for(;u<a.length;)s=a.pop()[1];for(;f<c.marks.length;){let h=c.marks[f++],p=this.serializeMark(h,c.isInline,n);p&&(a.push([h,s]),s.appendChild(p.dom),s=p.contentDOM||p.dom)}}s.appendChild(this.serializeNodeInner(c,n))}),i}serializeNodeInner(e,n){let{dom:i,contentDOM:s}=Hc(Bh(n),this.nodes[e.type.name](e),null,e.attrs);if(s){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,s)}return i}serializeNode(e,n={}){let i=this.serializeNodeInner(e,n);for(let s=e.marks.length-1;s>=0;s--){let a=this.serializeMark(e.marks[s],e.isInline,n);a&&((a.contentDOM||a.dom).appendChild(i),i=a.dom)}return i}serializeMark(e,n,i={}){let s=this.marks[e.type.name];return s&&Hc(Bh(i),s(e,n),null,e.attrs)}static renderSpec(e,n,i=null,s){return Hc(e,n,i,s)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new is(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=_x(e.nodes);return n.text||(n.text=i=>i.text),n}static marksFromSchema(e){return _x(e.marks)}}function _x(t){let e={};for(let n in t){let i=t[n].spec.toDOM;i&&(e[n]=i)}return e}function Bh(t){return t.document||window.document}const Bx=new WeakMap;function DM(t){let e=Bx.get(t);return e===void 0&&Bx.set(t,e=zM(t)),e}function zM(t){let e=null;function n(i){if(i&&typeof i=="object")if(Array.isArray(i))if(typeof i[0]=="string")e||(e=[]),e.push(i);else for(let s=0;s<i.length;s++)n(i[s]);else for(let s in i)n(i[s])}return n(t),e}function Hc(t,e,n,i){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let s=e[0],a;if(typeof s!="string")throw new RangeError("Invalid array passed to renderSpec");if(i&&(a=DM(i))&&a.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let c=s.indexOf(" ");c>0&&(n=s.slice(0,c),s=s.slice(c+1));let u,f=n?t.createElementNS(n,s):t.createElement(s),h=e[1],p=1;if(h&&typeof h=="object"&&h.nodeType==null&&!Array.isArray(h)){p=2;for(let g in h)if(h[g]!=null){let x=g.indexOf(" ");x>0?f.setAttributeNS(g.slice(0,x),g.slice(x+1),h[g]):g=="style"&&f.style?f.style.cssText=h[g]:f.setAttribute(g,h[g])}}for(let g=p;g<e.length;g++){let x=e[g];if(x===0){if(g<e.length-1||g>p)throw new RangeError("Content hole must be the only child of its parent node");return{dom:f,contentDOM:f}}else{let{dom:v,contentDOM:w}=Hc(t,x,n,i);if(f.appendChild(v),w){if(u)throw new RangeError("Multiple content holes");u=w}}}return{dom:f,contentDOM:u}}const bw=65535,xw=Math.pow(2,16);function LM(t,e){return t+e*xw}function Hx(t){return t&bw}function _M(t){return(t-(t&bw))/xw}const vw=1,ww=2,Uc=4,Sw=8;class wp{constructor(e,n,i){this.pos=e,this.delInfo=n,this.recover=i}get deleted(){return(this.delInfo&Sw)>0}get deletedBefore(){return(this.delInfo&(vw|Uc))>0}get deletedAfter(){return(this.delInfo&(ww|Uc))>0}get deletedAcross(){return(this.delInfo&Uc)>0}}class dn{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&dn.empty)return dn.empty}recover(e){let n=0,i=Hx(e);if(!this.inverted)for(let s=0;s<i;s++)n+=this.ranges[s*3+2]-this.ranges[s*3+1];return this.ranges[i*3]+n+_M(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,i){let s=0,a=this.inverted?2:1,c=this.inverted?1:2;for(let u=0;u<this.ranges.length;u+=3){let f=this.ranges[u]-(this.inverted?s:0);if(f>e)break;let h=this.ranges[u+a],p=this.ranges[u+c],g=f+h;if(e<=g){let x=h?e==f?-1:e==g?1:n:n,v=f+s+(x<0?0:p);if(i)return v;let w=e==(n<0?f:g)?null:LM(u/3,e-f),k=e==f?ww:e==g?vw:Uc;return(n<0?e!=f:e!=g)&&(k|=Sw),new wp(v,k,w)}s+=p-h}return i?e+s:new wp(e+s,0,null)}touches(e,n){let i=0,s=Hx(n),a=this.inverted?2:1,c=this.inverted?1:2;for(let u=0;u<this.ranges.length;u+=3){let f=this.ranges[u]-(this.inverted?i:0);if(f>e)break;let h=this.ranges[u+a],p=f+h;if(e<=p&&u==s*3)return!0;i+=this.ranges[u+c]-h}return!1}forEach(e){let n=this.inverted?2:1,i=this.inverted?1:2;for(let s=0,a=0;s<this.ranges.length;s+=3){let c=this.ranges[s],u=c-(this.inverted?a:0),f=c+(this.inverted?0:a),h=this.ranges[s+n],p=this.ranges[s+i];e(u,u+h,f,f+p),a+=p-h}}invert(){return new dn(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?dn.empty:new dn(e<0?[0,-e,0]:[0,0,e])}}dn.empty=new dn([]);class Oa{constructor(e,n,i=0,s=e?e.length:0){this.mirror=n,this.from=i,this.to=s,this._maps=e||[],this.ownData=!(e||n)}get maps(){return this._maps}slice(e=0,n=this.maps.length){return new Oa(this._maps,this.mirror,e,n)}appendMap(e,n){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),n!=null&&this.setMirror(this._maps.length-1,n)}appendMapping(e){for(let n=0,i=this._maps.length;n<e._maps.length;n++){let s=e.getMirror(n);this.appendMap(e._maps[n],s!=null&&s<n?i+s:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,i=this._maps.length+e._maps.length;n>=0;n--){let s=e.getMirror(n);this.appendMap(e._maps[n].invert(),s!=null&&s>n?i-s-1:void 0)}}invert(){let e=new Oa;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let i=this.from;i<this.to;i++)e=this._maps[i].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,i){let s=0;for(let a=this.from;a<this.to;a++){let c=this._maps[a],u=c.mapResult(e,n);if(u.recover!=null){let f=this.getMirror(a);if(f!=null&&f>a&&f<this.to){a=f,e=this._maps[f].recover(u.recover);continue}}s|=u.delInfo,e=u.pos}return i?e:new wp(e,s,null)}}const Hh=Object.create(null);class Bt{getMap(){return dn.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let i=Hh[n.stepType];if(!i)throw new RangeError(`No step type ${n.stepType} defined`);return i.fromJSON(e,n)}static jsonID(e,n){if(e in Hh)throw new RangeError("Duplicate use of step JSON ID "+e);return Hh[e]=n,n.prototype.jsonID=e,n}}class ht{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new ht(e,null)}static fail(e){return new ht(null,e)}static fromReplace(e,n,i,s){try{return ht.ok(e.replace(n,i,s))}catch(a){if(a instanceof Kc)return ht.fail(a.message);throw a}}}function rm(t,e,n){let i=[];for(let s=0;s<t.childCount;s++){let a=t.child(s);a.content.size&&(a=a.copy(rm(a.content,e,a))),a.isInline&&(a=e(a,n,s)),i.push(a)}return J.fromArray(i)}class sr extends Bt{constructor(e,n,i){super(),this.from=e,this.to=n,this.mark=i}apply(e){let n=e.slice(this.from,this.to),i=e.resolve(this.from),s=i.node(i.sharedDepth(this.to)),a=new te(rm(n.content,(c,u)=>!c.isAtom||!u.type.allowsMarkType(this.mark.type)?c:c.mark(this.mark.addToSet(c.marks)),s),n.openStart,n.openEnd);return ht.fromReplace(e,this.from,this.to,a)}invert(){return new Ln(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),i=e.mapResult(this.to,-1);return n.deleted&&i.deleted||n.pos>=i.pos?null:new sr(n.pos,i.pos,this.mark)}merge(e){return e instanceof sr&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new sr(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new sr(n.from,n.to,e.markFromJSON(n.mark))}}Bt.jsonID("addMark",sr);class Ln extends Bt{constructor(e,n,i){super(),this.from=e,this.to=n,this.mark=i}apply(e){let n=e.slice(this.from,this.to),i=new te(rm(n.content,s=>s.mark(this.mark.removeFromSet(s.marks)),e),n.openStart,n.openEnd);return ht.fromReplace(e,this.from,this.to,i)}invert(){return new sr(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),i=e.mapResult(this.to,-1);return n.deleted&&i.deleted||n.pos>=i.pos?null:new Ln(n.pos,i.pos,this.mark)}merge(e){return e instanceof Ln&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Ln(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Ln(n.from,n.to,e.markFromJSON(n.mark))}}Bt.jsonID("removeMark",Ln);class lr extends Bt{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return ht.fail("No node at mark step's position");let i=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return ht.fromReplace(e,this.pos,this.pos+1,new te(J.from(i),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let i=this.mark.addToSet(n.marks);if(i.length==n.marks.length){for(let s=0;s<n.marks.length;s++)if(!n.marks[s].isInSet(i))return new lr(this.pos,n.marks[s]);return new lr(this.pos,this.mark)}}return new Qr(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new lr(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new lr(n.pos,e.markFromJSON(n.mark))}}Bt.jsonID("addNodeMark",lr);class Qr extends Bt{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return ht.fail("No node at mark step's position");let i=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return ht.fromReplace(e,this.pos,this.pos+1,new te(J.from(i),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new lr(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Qr(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Qr(n.pos,e.markFromJSON(n.mark))}}Bt.jsonID("removeNodeMark",Qr);class vt extends Bt{constructor(e,n,i,s=!1){super(),this.from=e,this.to=n,this.slice=i,this.structure=s}apply(e){return this.structure&&Sp(e,this.from,this.to)?ht.fail("Structure replace would overwrite content"):ht.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new dn([this.from,this.to-this.from,this.slice.size])}invert(e){return new vt(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),i=e.mapResult(this.to,-1);return n.deletedAcross&&i.deletedAcross?null:new vt(n.pos,Math.max(n.pos,i.pos),this.slice,this.structure)}merge(e){if(!(e instanceof vt)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?te.empty:new te(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new vt(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?te.empty:new te(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new vt(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new vt(n.from,n.to,te.fromJSON(e,n.slice),!!n.structure)}}Bt.jsonID("replace",vt);class St extends Bt{constructor(e,n,i,s,a,c,u=!1){super(),this.from=e,this.to=n,this.gapFrom=i,this.gapTo=s,this.slice=a,this.insert=c,this.structure=u}apply(e){if(this.structure&&(Sp(e,this.from,this.gapFrom)||Sp(e,this.gapTo,this.to)))return ht.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return ht.fail("Gap is not a flat range");let i=this.slice.insertAt(this.insert,n.content);return i?ht.fromReplace(e,this.from,this.to,i):ht.fail("Content does not fit in gap")}getMap(){return new dn([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new St(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),i=e.mapResult(this.to,-1),s=this.from==this.gapFrom?n.pos:e.map(this.gapFrom,-1),a=this.to==this.gapTo?i.pos:e.map(this.gapTo,1);return n.deletedAcross&&i.deletedAcross||s<n.pos||a>i.pos?null:new St(n.pos,i.pos,s,a,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new St(n.from,n.to,n.gapFrom,n.gapTo,te.fromJSON(e,n.slice),n.insert,!!n.structure)}}Bt.jsonID("replaceAround",St);function Sp(t,e,n){let i=t.resolve(e),s=n-e,a=i.depth;for(;s>0&&a>0&&i.indexAfter(a)==i.node(a).childCount;)a--,s--;if(s>0){let c=i.node(a).maybeChild(i.indexAfter(a));for(;s>0;){if(!c||c.isLeaf)return!0;c=c.firstChild,s--}}return!1}function BM(t,e,n,i){let s=[],a=[],c,u;t.doc.nodesBetween(e,n,(f,h,p)=>{if(!f.isInline)return;let g=f.marks;if(!i.isInSet(g)&&p.type.allowsMarkType(i.type)){let x=Math.max(h,e),v=Math.min(h+f.nodeSize,n),w=i.addToSet(g);for(let k=0;k<g.length;k++)g[k].isInSet(w)||(c&&c.to==x&&c.mark.eq(g[k])?c.to=v:s.push(c=new Ln(x,v,g[k])));u&&u.to==x?u.to=v:a.push(u=new sr(x,v,i))}}),s.forEach(f=>t.step(f)),a.forEach(f=>t.step(f))}function HM(t,e,n,i){let s=[],a=0;t.doc.nodesBetween(e,n,(c,u)=>{if(!c.isInline)return;a++;let f=null;if(i instanceof Pu){let h=c.marks,p;for(;p=i.isInSet(h);)(f||(f=[])).push(p),h=p.removeFromSet(h)}else i?i.isInSet(c.marks)&&(f=[i]):f=c.marks;if(f&&f.length){let h=Math.min(u+c.nodeSize,n);for(let p=0;p<f.length;p++){let g=f[p],x;for(let v=0;v<s.length;v++){let w=s[v];w.step==a-1&&g.eq(s[v].style)&&(x=w)}x?(x.to=h,x.step=a):s.push({style:g,from:Math.max(u,e),to:h,step:a})}}}),s.forEach(c=>t.step(new Ln(c.from,c.to,c.style)))}function sm(t,e,n,i=n.contentMatch,s=!0){let a=t.doc.nodeAt(e),c=[],u=e+1;for(let f=0;f<a.childCount;f++){let h=a.child(f),p=u+h.nodeSize,g=i.matchType(h.type);if(!g)c.push(new vt(u,p,te.empty));else{i=g;for(let x=0;x<h.marks.length;x++)n.allowsMarkType(h.marks[x].type)||t.step(new Ln(u,p,h.marks[x]));if(s&&h.isText&&n.whitespace!="pre"){let x,v=/\r?\n|\r/g,w;for(;x=v.exec(h.text);)w||(w=new te(J.from(n.schema.text(" ",n.allowedMarks(h.marks))),0,0)),c.push(new vt(u+x.index,u+x.index+x[0].length,w))}}u=p}if(!i.validEnd){let f=i.fillBefore(J.empty,!0);t.replace(u,u,new te(f,0,0))}for(let f=c.length-1;f>=0;f--)t.step(c[f])}function UM(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function ul(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let i=t.depth,s=0,a=0;;--i){let c=t.$from.node(i),u=t.$from.index(i)+s,f=t.$to.indexAfter(i)-a;if(i<t.depth&&c.canReplace(u,f,n))return i;if(i==0||c.type.spec.isolating||!UM(c,u,f))break;u&&(s=1),f<c.childCount&&(a=1)}return null}function qM(t,e,n){let{$from:i,$to:s,depth:a}=e,c=i.before(a+1),u=s.after(a+1),f=c,h=u,p=J.empty,g=0;for(let w=a,k=!1;w>n;w--)k||i.index(w)>0?(k=!0,p=J.from(i.node(w).copy(p)),g++):f--;let x=J.empty,v=0;for(let w=a,k=!1;w>n;w--)k||s.after(w+1)<s.end(w)?(k=!0,x=J.from(s.node(w).copy(x)),v++):h++;t.step(new St(f,h,c,u,new te(p.append(x),g,v),p.size-g,!0))}function lm(t,e,n=null,i=t){let s=IM(t,e),a=s&&PM(i,e);return a?s.map(Ux).concat({type:e,attrs:n}).concat(a.map(Ux)):null}function Ux(t){return{type:t,attrs:null}}function IM(t,e){let{parent:n,startIndex:i,endIndex:s}=t,a=n.contentMatchAt(i).findWrapping(e);if(!a)return null;let c=a.length?a[0]:e;return n.canReplaceWith(i,s,c)?a:null}function PM(t,e){let{parent:n,startIndex:i,endIndex:s}=t,a=n.child(i),c=e.contentMatch.findWrapping(a.type);if(!c)return null;let f=(c.length?c[c.length-1]:e).contentMatch;for(let h=i;f&&h<s;h++)f=f.matchType(n.child(h).type);return!f||!f.validEnd?null:c}function VM(t,e,n){let i=J.empty;for(let c=n.length-1;c>=0;c--){if(i.size){let u=n[c].type.contentMatch.matchFragment(i);if(!u||!u.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}i=J.from(n[c].type.create(n[c].attrs,i))}let s=e.start,a=e.end;t.step(new St(s,a,s,a,new te(i,0,0),n.length,!0))}function $M(t,e,n,i,s){if(!i.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let a=t.steps.length;t.doc.nodesBetween(e,n,(c,u)=>{let f=typeof s=="function"?s(c):s;if(c.isTextblock&&!c.hasMarkup(i,f)&&FM(t.doc,t.mapping.slice(a).map(u),i)){let h=null;if(i.schema.linebreakReplacement){let v=i.whitespace=="pre",w=!!i.contentMatch.matchType(i.schema.linebreakReplacement);v&&!w?h=!1:!v&&w&&(h=!0)}h===!1&&Ew(t,c,u,a),sm(t,t.mapping.slice(a).map(u,1),i,void 0,h===null);let p=t.mapping.slice(a),g=p.map(u,1),x=p.map(u+c.nodeSize,1);return t.step(new St(g,x,g+1,x-1,new te(J.from(i.create(f,null,c.marks)),0,0),1,!0)),h===!0&&kw(t,c,u,a),!1}})}function kw(t,e,n,i){e.forEach((s,a)=>{if(s.isText){let c,u=/\r?\n|\r/g;for(;c=u.exec(s.text);){let f=t.mapping.slice(i).map(n+1+a+c.index);t.replaceWith(f,f+1,e.type.schema.linebreakReplacement.create())}}})}function Ew(t,e,n,i){e.forEach((s,a)=>{if(s.type==s.type.schema.linebreakReplacement){let c=t.mapping.slice(i).map(n+1+a);t.replaceWith(c,c+1,e.type.schema.text(`
`))}})}function FM(t,e,n){let i=t.resolve(e),s=i.index();return i.parent.canReplaceWith(s,s+1,n)}function KM(t,e,n,i,s){let a=t.doc.nodeAt(e);if(!a)throw new RangeError("No node at given position");n||(n=a.type);let c=n.create(i,null,s||a.marks);if(a.isLeaf)return t.replaceWith(e,e+a.nodeSize,c);if(!n.validContent(a.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new St(e,e+a.nodeSize,e+1,e+a.nodeSize-1,new te(J.from(c),0,0),1,!0))}function Si(t,e,n=1,i){let s=t.resolve(e),a=s.depth-n,c=i&&i[i.length-1]||s.parent;if(a<0||s.parent.type.spec.isolating||!s.parent.canReplace(s.index(),s.parent.childCount)||!c.type.validContent(s.parent.content.cutByIndex(s.index(),s.parent.childCount)))return!1;for(let h=s.depth-1,p=n-2;h>a;h--,p--){let g=s.node(h),x=s.index(h);if(g.type.spec.isolating)return!1;let v=g.content.cutByIndex(x,g.childCount),w=i&&i[p+1];w&&(v=v.replaceChild(0,w.type.create(w.attrs)));let k=i&&i[p]||g;if(!g.canReplace(x+1,g.childCount)||!k.type.validContent(v))return!1}let u=s.indexAfter(a),f=i&&i[0];return s.node(a).canReplaceWith(u,u,f?f.type:s.node(a+1).type)}function GM(t,e,n=1,i){let s=t.doc.resolve(e),a=J.empty,c=J.empty;for(let u=s.depth,f=s.depth-n,h=n-1;u>f;u--,h--){a=J.from(s.node(u).copy(a));let p=i&&i[h];c=J.from(p?p.type.create(p.attrs,c):s.node(u).copy(c))}t.step(new vt(e,e,new te(a.append(c),n,n),!0))}function pr(t,e){let n=t.resolve(e),i=n.index();return Nw(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(i,i+1)}function YM(t,e){e.content.size||t.type.compatibleContent(e.type);let n=t.contentMatchAt(t.childCount),{linebreakReplacement:i}=t.type.schema;for(let s=0;s<e.childCount;s++){let a=e.child(s),c=a.type==i?t.type.schema.nodes.text:a.type;if(n=n.matchType(c),!n||!t.type.allowsMarks(a.marks))return!1}return n.validEnd}function Nw(t,e){return!!(t&&e&&!t.isLeaf&&YM(t,e))}function Vu(t,e,n=-1){let i=t.resolve(e);for(let s=i.depth;;s--){let a,c,u=i.index(s);if(s==i.depth?(a=i.nodeBefore,c=i.nodeAfter):n>0?(a=i.node(s+1),u++,c=i.node(s).maybeChild(u)):(a=i.node(s).maybeChild(u-1),c=i.node(s+1)),a&&!a.isTextblock&&Nw(a,c)&&i.node(s).canReplace(u,u+1))return e;if(s==0)break;e=n<0?i.before(s):i.after(s)}}function JM(t,e,n){let i=null,{linebreakReplacement:s}=t.doc.type.schema,a=t.doc.resolve(e-n),c=a.node().type;if(s&&c.inlineContent){let p=c.whitespace=="pre",g=!!c.contentMatch.matchType(s);p&&!g?i=!1:!p&&g&&(i=!0)}let u=t.steps.length;if(i===!1){let p=t.doc.resolve(e+n);Ew(t,p.node(),p.before(),u)}c.inlineContent&&sm(t,e+n-1,c,a.node().contentMatchAt(a.index()),i==null);let f=t.mapping.slice(u),h=f.map(e-n);if(t.step(new vt(h,f.map(e+n,-1),te.empty,!0)),i===!0){let p=t.doc.resolve(h);kw(t,p.node(),p.before(),t.steps.length)}return t}function XM(t,e,n){let i=t.resolve(e);if(i.parent.canReplaceWith(i.index(),i.index(),n))return e;if(i.parentOffset==0)for(let s=i.depth-1;s>=0;s--){let a=i.index(s);if(i.node(s).canReplaceWith(a,a,n))return i.before(s+1);if(a>0)return null}if(i.parentOffset==i.parent.content.size)for(let s=i.depth-1;s>=0;s--){let a=i.indexAfter(s);if(i.node(s).canReplaceWith(a,a,n))return i.after(s+1);if(a<i.node(s).childCount)return null}return null}function Tw(t,e,n){let i=t.resolve(e);if(!n.content.size)return e;let s=n.content;for(let a=0;a<n.openStart;a++)s=s.firstChild.content;for(let a=1;a<=(n.openStart==0&&n.size?2:1);a++)for(let c=i.depth;c>=0;c--){let u=c==i.depth?0:i.pos<=(i.start(c+1)+i.end(c+1))/2?-1:1,f=i.index(c)+(u>0?1:0),h=i.node(c),p=!1;if(a==1)p=h.canReplace(f,f,s);else{let g=h.contentMatchAt(f).findWrapping(s.firstChild.type);p=g&&h.canReplaceWith(f,f,g[0])}if(p)return u==0?i.pos:u<0?i.before(c+1):i.after(c+1)}return null}function $u(t,e,n=e,i=te.empty){if(e==n&&!i.size)return null;let s=t.resolve(e),a=t.resolve(n);return Cw(s,a,i)?new vt(e,n,i):new WM(s,a,i).fit()}function Cw(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class WM{constructor(e,n,i){this.$from=e,this.$to=n,this.unplaced=i,this.frontier=[],this.placed=J.empty;for(let s=0;s<=e.depth;s++){let a=e.node(s);this.frontier.push({type:a.type,match:a.contentMatchAt(e.indexAfter(s))})}for(let s=e.depth;s>0;s--)this.placed=J.from(e.node(s).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let h=this.findFittable();h?this.placeNodes(h):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,i=this.$from,s=this.close(e<0?this.$to:i.doc.resolve(e));if(!s)return null;let a=this.placed,c=i.depth,u=s.depth;for(;c&&u&&a.childCount==1;)a=a.firstChild.content,c--,u--;let f=new te(a,c,u);return e>-1?new St(i.pos,e,this.$to.pos,this.$to.end(),f,n):f.size||i.pos!=this.$to.pos?new vt(i.pos,s.pos,f):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,i=0,s=this.unplaced.openEnd;i<e;i++){let a=n.firstChild;if(n.childCount>1&&(s=0),a.type.spec.isolating&&s<=i){e=i;break}n=a.content}for(let n=1;n<=2;n++)for(let i=n==1?e:this.unplaced.openStart;i>=0;i--){let s,a=null;i?(a=Uh(this.unplaced.content,i-1).firstChild,s=a.content):s=this.unplaced.content;let c=s.firstChild;for(let u=this.depth;u>=0;u--){let{type:f,match:h}=this.frontier[u],p,g=null;if(n==1&&(c?h.matchType(c.type)||(g=h.fillBefore(J.from(c),!1)):a&&f.compatibleContent(a.type)))return{sliceDepth:i,frontierDepth:u,parent:a,inject:g};if(n==2&&c&&(p=h.findWrapping(c.type)))return{sliceDepth:i,frontierDepth:u,parent:a,wrap:p};if(a&&h.matchType(a.type))break}}}openMore(){let{content:e,openStart:n,openEnd:i}=this.unplaced,s=Uh(e,n);return!s.childCount||s.firstChild.isLeaf?!1:(this.unplaced=new te(e,n+1,Math.max(i,s.size+n>=e.size-i?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:i}=this.unplaced,s=Uh(e,n);if(s.childCount<=1&&n>0){let a=e.size-n<=n+s.size;this.unplaced=new te(fa(e,n-1,1),n-1,a?n-1:i)}else this.unplaced=new te(fa(e,n,1),n,i)}placeNodes({sliceDepth:e,frontierDepth:n,parent:i,inject:s,wrap:a}){for(;this.depth>n;)this.closeFrontierNode();if(a)for(let k=0;k<a.length;k++)this.openFrontierNode(a[k]);let c=this.unplaced,u=i?i.content:c.content,f=c.openStart-e,h=0,p=[],{match:g,type:x}=this.frontier[n];if(s){for(let k=0;k<s.childCount;k++)p.push(s.child(k));g=g.matchFragment(s)}let v=u.size+e-(c.content.size-c.openEnd);for(;h<u.childCount;){let k=u.child(h),E=g.matchType(k.type);if(!E)break;h++,(h>1||f==0||k.content.size)&&(g=E,p.push(Aw(k.mark(x.allowedMarks(k.marks)),h==1?f:0,h==u.childCount?v:-1)))}let w=h==u.childCount;w||(v=-1),this.placed=ha(this.placed,n,J.from(p)),this.frontier[n].match=g,w&&v<0&&i&&i.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let k=0,E=u;k<v;k++){let T=E.lastChild;this.frontier.push({type:T.type,match:T.contentMatchAt(T.childCount)}),E=T.content}this.unplaced=w?e==0?te.empty:new te(fa(c.content,e-1,1),e-1,v<0?c.openEnd:e-1):new te(fa(c.content,e,h),c.openStart,c.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!qh(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:i}=this.$to,s=this.$to.after(i);for(;i>1&&s==this.$to.end(--i);)++s;return s}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:i,type:s}=this.frontier[n],a=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),c=qh(e,n,s,i,a);if(c){for(let u=n-1;u>=0;u--){let{match:f,type:h}=this.frontier[u],p=qh(e,u,h,f,!0);if(!p||p.childCount)continue e}return{depth:n,fit:c,move:a?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=ha(this.placed,n.depth,n.fit)),e=n.move;for(let i=n.depth+1;i<=e.depth;i++){let s=e.node(i),a=s.type.contentMatch.fillBefore(s.content,!0,e.index(i));this.openFrontierNode(s.type,s.attrs,a)}return e}openFrontierNode(e,n=null,i){let s=this.frontier[this.depth];s.match=s.match.matchType(e),this.placed=ha(this.placed,this.depth,J.from(e.create(n,i))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(J.empty,!0);n.childCount&&(this.placed=ha(this.placed,this.frontier.length,n))}}function fa(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(fa(t.firstChild.content,e-1,n)))}function ha(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(ha(t.lastChild.content,e-1,n)))}function Uh(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function Aw(t,e,n){if(e<=0)return t;let i=t.content;return e>1&&(i=i.replaceChild(0,Aw(i.firstChild,e-1,i.childCount==1?n-1:0))),e>0&&(i=t.type.contentMatch.fillBefore(i).append(i),n<=0&&(i=i.append(t.type.contentMatch.matchFragment(i).fillBefore(J.empty,!0)))),t.copy(i)}function qh(t,e,n,i,s){let a=t.node(e),c=s?t.indexAfter(e):t.index(e);if(c==a.childCount&&!n.compatibleContent(a.type))return null;let u=i.fillBefore(a.content,!0,c);return u&&!QM(n,a.content,c)?u:null}function QM(t,e,n){for(let i=n;i<e.childCount;i++)if(!t.allowsMarks(e.child(i).marks))return!0;return!1}function ZM(t){return t.spec.defining||t.spec.definingForContent}function eO(t,e,n,i){if(!i.size)return t.deleteRange(e,n);let s=t.doc.resolve(e),a=t.doc.resolve(n);if(Cw(s,a,i))return t.step(new vt(e,n,i));let c=Ow(s,a);c[c.length-1]==0&&c.pop();let u=-(s.depth+1);c.unshift(u);for(let x=s.depth,v=s.pos-1;x>0;x--,v--){let w=s.node(x).type.spec;if(w.defining||w.definingAsContext||w.isolating)break;c.indexOf(x)>-1?u=x:s.before(x)==v&&c.splice(1,0,-x)}let f=c.indexOf(u),h=[],p=i.openStart;for(let x=i.content,v=0;;v++){let w=x.firstChild;if(h.push(w),v==i.openStart)break;x=w.content}for(let x=p-1;x>=0;x--){let v=h[x],w=ZM(v.type);if(w&&!v.sameMarkup(s.node(Math.abs(u)-1)))p=x;else if(w||!v.type.isTextblock)break}for(let x=i.openStart;x>=0;x--){let v=(x+p+1)%(i.openStart+1),w=h[v];if(w)for(let k=0;k<c.length;k++){let E=c[(k+f)%c.length],T=!0;E<0&&(T=!1,E=-E);let M=s.node(E-1),z=s.index(E-1);if(M.canReplaceWith(z,z,w.type,w.marks))return t.replace(s.before(E),T?a.after(E):n,new te(Mw(i.content,0,i.openStart,v),v,i.openEnd))}}let g=t.steps.length;for(let x=c.length-1;x>=0&&(t.replace(e,n,i),!(t.steps.length>g));x--){let v=c[x];v<0||(e=s.before(v),n=a.after(v))}}function Mw(t,e,n,i,s){if(e<n){let a=t.firstChild;t=t.replaceChild(0,a.copy(Mw(a.content,e+1,n,i,a)))}if(e>i){let a=s.contentMatchAt(0),c=a.fillBefore(t).append(t);t=c.append(a.matchFragment(c).fillBefore(J.empty,!0))}return t}function tO(t,e,n,i){if(!i.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let s=XM(t.doc,e,i.type);s!=null&&(e=n=s)}t.replaceRange(e,n,new te(J.from(i),0,0))}function nO(t,e,n){let i=t.doc.resolve(e),s=t.doc.resolve(n),a=Ow(i,s);for(let c=0;c<a.length;c++){let u=a[c],f=c==a.length-1;if(f&&u==0||i.node(u).type.contentMatch.validEnd)return t.delete(i.start(u),s.end(u));if(u>0&&(f||i.node(u-1).canReplace(i.index(u-1),s.indexAfter(u-1))))return t.delete(i.before(u),s.after(u))}for(let c=1;c<=i.depth&&c<=s.depth;c++)if(e-i.start(c)==i.depth-c&&n>i.end(c)&&s.end(c)-n!=s.depth-c&&i.start(c-1)==s.start(c-1)&&i.node(c-1).canReplace(i.index(c-1),s.index(c-1)))return t.delete(i.before(c),n);t.delete(e,n)}function Ow(t,e){let n=[],i=Math.min(t.depth,e.depth);for(let s=i;s>=0;s--){let a=t.start(s);if(a<t.pos-(t.depth-s)||e.end(s)>e.pos+(e.depth-s)||t.node(s).type.spec.isolating||e.node(s).type.spec.isolating)break;(a==e.start(s)||s==t.depth&&s==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&s&&e.start(s-1)==a-1)&&n.push(s)}return n}class Ws extends Bt{constructor(e,n,i){super(),this.pos=e,this.attr=n,this.value=i}apply(e){let n=e.nodeAt(this.pos);if(!n)return ht.fail("No node at attribute step's position");let i=Object.create(null);for(let a in n.attrs)i[a]=n.attrs[a];i[this.attr]=this.value;let s=n.type.create(i,null,n.marks);return ht.fromReplace(e,this.pos,this.pos+1,new te(J.from(s),0,n.isLeaf?0:1))}getMap(){return dn.empty}invert(e){return new Ws(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Ws(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new Ws(n.pos,n.attr,n.value)}}Bt.jsonID("attr",Ws);class Ra extends Bt{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let s in e.attrs)n[s]=e.attrs[s];n[this.attr]=this.value;let i=e.type.create(n,e.content,e.marks);return ht.ok(i)}getMap(){return dn.empty}invert(e){return new Ra(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Ra(n.attr,n.value)}}Bt.jsonID("docAttr",Ra);let el=class extends Error{};el=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};el.prototype=Object.create(Error.prototype);el.prototype.constructor=el;el.prototype.name="TransformError";class Rw{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new Oa}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new el(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}changedRange(){let e=1e9,n=-1e9;for(let i=0;i<this.mapping.maps.length;i++){let s=this.mapping.maps[i];i&&(e=s.map(e,1),n=s.map(n,-1)),s.forEach((a,c,u,f)=>{e=Math.min(e,u),n=Math.max(n,f)})}return e==1e9?null:{from:e,to:n}}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,i=te.empty){let s=$u(this.doc,e,n,i);return s&&this.step(s),this}replaceWith(e,n,i){return this.replace(e,n,new te(J.from(i),0,0))}delete(e,n){return this.replace(e,n,te.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,i){return eO(this,e,n,i),this}replaceRangeWith(e,n,i){return tO(this,e,n,i),this}deleteRange(e,n){return nO(this,e,n),this}lift(e,n){return qM(this,e,n),this}join(e,n=1){return JM(this,e,n),this}wrap(e,n){return VM(this,e,n),this}setBlockType(e,n=e,i,s=null){return $M(this,e,n,i,s),this}setNodeMarkup(e,n,i=null,s){return KM(this,e,n,i,s),this}setNodeAttribute(e,n,i){return this.step(new Ws(e,n,i)),this}setDocAttribute(e,n){return this.step(new Ra(e,n)),this}addNodeMark(e,n){return this.step(new lr(e,n)),this}removeNodeMark(e,n){let i=this.doc.nodeAt(e);if(!i)throw new RangeError("No node at position "+e);if(n instanceof Pe)n.isInSet(i.marks)&&this.step(new Qr(e,n));else{let s=i.marks,a,c=[];for(;a=n.isInSet(s);)c.push(new Qr(e,a)),s=a.removeFromSet(s);for(let u=c.length-1;u>=0;u--)this.step(c[u])}return this}split(e,n=1,i){return GM(this,e,n,i),this}addMark(e,n,i){return BM(this,e,n,i),this}removeMark(e,n,i){return HM(this,e,n,i),this}clearIncompatible(e,n,i){return sm(this,e,n,i),this}}const Ih=Object.create(null);class we{constructor(e,n,i){this.$anchor=e,this.$head=n,this.ranges=i||[new iO(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=te.empty){let i=n.content.lastChild,s=null;for(let u=0;u<n.openEnd;u++)s=i,i=i.lastChild;let a=e.steps.length,c=this.ranges;for(let u=0;u<c.length;u++){let{$from:f,$to:h}=c[u],p=e.mapping.slice(a);e.replaceRange(p.map(f.pos),p.map(h.pos),u?te.empty:n),u==0&&Px(e,a,(i?i.isInline:s&&s.isTextblock)?-1:1)}}replaceWith(e,n){let i=e.steps.length,s=this.ranges;for(let a=0;a<s.length;a++){let{$from:c,$to:u}=s[a],f=e.mapping.slice(i),h=f.map(c.pos),p=f.map(u.pos);a?e.deleteRange(h,p):(e.replaceRangeWith(h,p,n),Px(e,i,n.isInline?-1:1))}}static findFrom(e,n,i=!1){let s=e.parent.inlineContent?new me(e):Gs(e.node(0),e.parent,e.pos,e.index(),n,i);if(s)return s;for(let a=e.depth-1;a>=0;a--){let c=n<0?Gs(e.node(0),e.node(a),e.before(a+1),e.index(a),n,i):Gs(e.node(0),e.node(a),e.after(a+1),e.index(a)+1,n,i);if(c)return c}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new fn(e.node(0))}static atStart(e){return Gs(e,e,0,0,1)||new fn(e)}static atEnd(e){return Gs(e,e,e.content.size,e.childCount,-1)||new fn(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let i=Ih[n.type];if(!i)throw new RangeError(`No selection type ${n.type} defined`);return i.fromJSON(e,n)}static jsonID(e,n){if(e in Ih)throw new RangeError("Duplicate use of selection JSON ID "+e);return Ih[e]=n,n.prototype.jsonID=e,n}getBookmark(){return me.between(this.$anchor,this.$head).getBookmark()}}we.prototype.visible=!0;class iO{constructor(e,n){this.$from=e,this.$to=n}}let qx=!1;function Ix(t){!qx&&!t.parent.inlineContent&&(qx=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class me extends we{constructor(e,n=e){Ix(e),Ix(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let i=e.resolve(n.map(this.head));if(!i.parent.inlineContent)return we.near(i);let s=e.resolve(n.map(this.anchor));return new me(s.parent.inlineContent?s:i,i)}replace(e,n=te.empty){if(super.replace(e,n),n==te.empty){let i=this.$from.marksAcross(this.$to);i&&e.ensureMarks(i)}}eq(e){return e instanceof me&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new Fu(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new me(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,i=n){let s=e.resolve(n);return new this(s,i==n?s:e.resolve(i))}static between(e,n,i){let s=e.pos-n.pos;if((!i||s)&&(i=s>=0?1:-1),!n.parent.inlineContent){let a=we.findFrom(n,i,!0)||we.findFrom(n,-i,!0);if(a)n=a.$head;else return we.near(n,i)}return e.parent.inlineContent||(s==0?e=n:(e=(we.findFrom(e,-i,!0)||we.findFrom(e,i,!0)).$anchor,e.pos<n.pos!=s<0&&(e=n))),new me(e,n)}}we.jsonID("text",me);class Fu{constructor(e,n){this.anchor=e,this.head=n}map(e){return new Fu(e.map(this.anchor),e.map(this.head))}resolve(e){return me.between(e.resolve(this.anchor),e.resolve(this.head))}}class ce extends we{constructor(e){let n=e.nodeAfter,i=e.node(0).resolve(e.pos+n.nodeSize);super(e,i),this.node=n}map(e,n){let{deleted:i,pos:s}=n.mapResult(this.anchor),a=e.resolve(s);return i?we.near(a):new ce(a)}content(){return new te(J.from(this.node),0,0)}eq(e){return e instanceof ce&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new am(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new ce(e.resolve(n.anchor))}static create(e,n){return new ce(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}ce.prototype.visible=!1;we.jsonID("node",ce);class am{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:i}=e.mapResult(this.anchor);return n?new Fu(i,i):new am(i)}resolve(e){let n=e.resolve(this.anchor),i=n.nodeAfter;return i&&ce.isSelectable(i)?new ce(n):we.near(n)}}class fn extends we{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=te.empty){if(n==te.empty){e.delete(0,e.doc.content.size);let i=we.atStart(e.doc);i.eq(e.selection)||e.setSelection(i)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new fn(e)}map(e){return new fn(e)}eq(e){return e instanceof fn}getBookmark(){return rO}}we.jsonID("all",fn);const rO={map(){return this},resolve(t){return new fn(t)}};function Gs(t,e,n,i,s,a=!1){if(e.inlineContent)return me.create(t,n);for(let c=i-(s>0?0:1);s>0?c<e.childCount:c>=0;c+=s){let u=e.child(c);if(u.isAtom){if(!a&&ce.isSelectable(u))return ce.create(t,n-(s<0?u.nodeSize:0))}else{let f=Gs(t,u,n+s,s<0?u.childCount:0,s,a);if(f)return f}n+=u.nodeSize*s}return null}function Px(t,e,n){let i=t.steps.length-1;if(i<e)return;let s=t.steps[i];if(!(s instanceof vt||s instanceof St))return;let a=t.mapping.maps[i],c;a.forEach((u,f,h,p)=>{c==null&&(c=p)}),t.setSelection(we.near(t.doc.resolve(c),n))}const Vx=1,Sc=2,$x=4;class sO extends Rw{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|Vx)&~Sc,this.storedMarks=null,this}get selectionSet(){return(this.updated&Vx)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=Sc,this}ensureMarks(e){return Pe.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&Sc)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&~Sc,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let i=this.selection;return n&&(e=e.mark(this.storedMarks||(i.empty?i.$from.marks():i.$from.marksAcross(i.$to)||Pe.none))),i.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,i){let s=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(s.text(e),!0):this.deleteSelection();{if(i==null&&(i=n),!e)return this.deleteRange(n,i);let a=this.storedMarks;if(!a){let c=this.doc.resolve(n);a=i==n?c.marks():c.marksAcross(this.doc.resolve(i))}return this.replaceRangeWith(n,i,s.text(e,a)),!this.selection.empty&&this.selection.to==n+e.length&&this.setSelection(we.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=$x,this}get scrolledIntoView(){return(this.updated&$x)>0}}function Fx(t,e){return!e||!t?t:t.bind(e)}class pa{constructor(e,n,i){this.name=e,this.init=Fx(n.init,i),this.apply=Fx(n.apply,i)}}const lO=[new pa("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new pa("selection",{init(t,e){return t.selection||we.atStart(e.doc)},apply(t){return t.selection}}),new pa("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,i){return i.selection.$cursor?t.storedMarks:null}}),new pa("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class Ph{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=lO.slice(),n&&n.forEach(i=>{if(this.pluginsByKey[i.key])throw new RangeError("Adding different instances of a keyed plugin ("+i.key+")");this.plugins.push(i),this.pluginsByKey[i.key]=i,i.spec.state&&this.fields.push(new pa(i.key,i.spec.state,i))})}}class Xs{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let i=0;i<this.config.plugins.length;i++)if(i!=n){let s=this.config.plugins[i];if(s.spec.filterTransaction&&!s.spec.filterTransaction.call(s,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],i=this.applyInner(e),s=null;for(;;){let a=!1;for(let c=0;c<this.config.plugins.length;c++){let u=this.config.plugins[c];if(u.spec.appendTransaction){let f=s?s[c].n:0,h=s?s[c].state:this,p=f<n.length&&u.spec.appendTransaction.call(u,f?n.slice(f):n,h,i);if(p&&i.filterTransaction(p,c)){if(p.setMeta("appendedTransaction",e),!s){s=[];for(let g=0;g<this.config.plugins.length;g++)s.push(g<c?{state:i,n:n.length}:{state:this,n:0})}n.push(p),i=i.applyInner(p),a=!0}s&&(s[c]={state:i,n:n.length})}}if(!a)return{state:i,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new Xs(this.config),i=this.config.fields;for(let s=0;s<i.length;s++){let a=i[s];n[a.name]=a.apply(e,this[a.name],this,n)}return n}get tr(){return new sO(this)}static create(e){let n=new Ph(e.doc?e.doc.type.schema:e.schema,e.plugins),i=new Xs(n);for(let s=0;s<n.fields.length;s++)i[n.fields[s].name]=n.fields[s].init(e,i);return i}reconfigure(e){let n=new Ph(this.schema,e.plugins),i=n.fields,s=new Xs(n);for(let a=0;a<i.length;a++){let c=i[a].name;s[c]=this.hasOwnProperty(c)?this[c]:i[a].init(e,s)}return s}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(i=>i.toJSON())),e&&typeof e=="object")for(let i in e){if(i=="doc"||i=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let s=e[i],a=s.spec.state;a&&a.toJSON&&(n[i]=a.toJSON.call(s,this[s.key]))}return n}static fromJSON(e,n,i){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let s=new Ph(e.schema,e.plugins),a=new Xs(s);return s.fields.forEach(c=>{if(c.name=="doc")a.doc=_n.fromJSON(e.schema,n.doc);else if(c.name=="selection")a.selection=we.fromJSON(a.doc,n.selection);else if(c.name=="storedMarks")n.storedMarks&&(a.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(i)for(let u in i){let f=i[u],h=f.spec.state;if(f.key==c.name&&h&&h.fromJSON&&Object.prototype.hasOwnProperty.call(n,u)){a[c.name]=h.fromJSON.call(f,e,n[u],a);return}}a[c.name]=c.init(e,a)}}),a}}function jw(t,e,n){for(let i in t){let s=t[i];s instanceof Function?s=s.bind(e):i=="handleDOMEvents"&&(s=jw(s,e,{})),n[i]=s}return n}class Qe{constructor(e){this.spec=e,this.props={},e.props&&jw(e.props,this,this.props),this.key=e.key?e.key.key:Dw("plugin")}getState(e){return e[this.key]}}const Vh=Object.create(null);function Dw(t){return t in Vh?t+"$"+ ++Vh[t]:(Vh[t]=0,t+"$")}class yt{constructor(e="key"){this.key=Dw(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const om=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function zw(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const Lw=(t,e,n)=>{let i=zw(t,n);if(!i)return!1;let s=cm(i);if(!s){let c=i.blockRange(),u=c&&ul(c);return u==null?!1:(e&&e(t.tr.lift(c,u).scrollIntoView()),!0)}let a=s.nodeBefore;if($w(t,s,e,-1))return!0;if(i.parent.content.size==0&&(tl(a,"end")||ce.isSelectable(a)))for(let c=i.depth;;c--){let u=$u(t.doc,i.before(c),i.after(c),te.empty);if(u&&u.slice.size<u.to-u.from){if(e){let f=t.tr.step(u);f.setSelection(tl(a,"end")?we.findFrom(f.doc.resolve(f.mapping.map(s.pos,-1)),-1):ce.create(f.doc,s.pos-a.nodeSize)),e(f.scrollIntoView())}return!0}if(c==1||i.node(c-1).childCount>1)break}return a.isAtom&&s.depth==i.depth-1?(e&&e(t.tr.delete(s.pos-a.nodeSize,s.pos).scrollIntoView()),!0):!1},aO=(t,e,n)=>{let i=zw(t,n);if(!i)return!1;let s=cm(i);return s?_w(t,s,e):!1},oO=(t,e,n)=>{let i=Hw(t,n);if(!i)return!1;let s=um(i);return s?_w(t,s,e):!1};function _w(t,e,n){let i=e.nodeBefore,s=i,a=e.pos-1;for(;!s.isTextblock;a--){if(s.type.spec.isolating)return!1;let p=s.lastChild;if(!p)return!1;s=p}let c=e.nodeAfter,u=c,f=e.pos+1;for(;!u.isTextblock;f++){if(u.type.spec.isolating)return!1;let p=u.firstChild;if(!p)return!1;u=p}let h=$u(t.doc,a,f,te.empty);if(!h||h.from!=a||h instanceof vt&&h.slice.size>=f-a)return!1;if(n){let p=t.tr.step(h);p.setSelection(me.create(p.doc,a)),n(p.scrollIntoView())}return!0}function tl(t,e,n=!1){for(let i=t;i;i=e=="start"?i.firstChild:i.lastChild){if(i.isTextblock)return!0;if(n&&i.childCount!=1)return!1}return!1}const Bw=(t,e,n)=>{let{$head:i,empty:s}=t.selection,a=i;if(!s)return!1;if(i.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):i.parentOffset>0)return!1;a=cm(i)}let c=a&&a.nodeBefore;return!c||!ce.isSelectable(c)?!1:(e&&e(t.tr.setSelection(ce.create(t.doc,a.pos-c.nodeSize)).scrollIntoView()),!0)};function cm(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function Hw(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const Uw=(t,e,n)=>{let i=Hw(t,n);if(!i)return!1;let s=um(i);if(!s)return!1;let a=s.nodeAfter;if($w(t,s,e,1))return!0;if(i.parent.content.size==0&&(tl(a,"start")||ce.isSelectable(a))){let c=$u(t.doc,i.before(),i.after(),te.empty);if(c&&c.slice.size<c.to-c.from){if(e){let u=t.tr.step(c);u.setSelection(tl(a,"start")?we.findFrom(u.doc.resolve(u.mapping.map(s.pos)),1):ce.create(u.doc,u.mapping.map(s.pos))),e(u.scrollIntoView())}return!0}}return a.isAtom&&s.depth==i.depth-1?(e&&e(t.tr.delete(s.pos,s.pos+a.nodeSize).scrollIntoView()),!0):!1},qw=(t,e,n)=>{let{$head:i,empty:s}=t.selection,a=i;if(!s)return!1;if(i.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):i.parentOffset<i.parent.content.size)return!1;a=um(i)}let c=a&&a.nodeAfter;return!c||!ce.isSelectable(c)?!1:(e&&e(t.tr.setSelection(ce.create(t.doc,a.pos)).scrollIntoView()),!0)};function um(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const cO=(t,e)=>{let n=t.selection,i=n instanceof ce,s;if(i){if(n.node.isTextblock||!pr(t.doc,n.from))return!1;s=n.from}else if(s=Vu(t.doc,n.from,-1),s==null)return!1;if(e){let a=t.tr.join(s);i&&a.setSelection(ce.create(a.doc,s-t.doc.resolve(s).nodeBefore.nodeSize)),e(a.scrollIntoView())}return!0},uO=(t,e)=>{let n=t.selection,i;if(n instanceof ce){if(n.node.isTextblock||!pr(t.doc,n.to))return!1;i=n.to}else if(i=Vu(t.doc,n.to,1),i==null)return!1;return e&&e(t.tr.join(i).scrollIntoView()),!0},dO=(t,e)=>{let{$from:n,$to:i}=t.selection,s=n.blockRange(i),a=s&&ul(s);return a==null?!1:(e&&e(t.tr.lift(s,a).scrollIntoView()),!0)},Iw=(t,e)=>{let{$head:n,$anchor:i}=t.selection;return!n.parent.type.spec.code||!n.sameParent(i)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function dm(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const fO=(t,e)=>{let{$head:n,$anchor:i}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(i))return!1;let s=n.node(-1),a=n.indexAfter(-1),c=dm(s.contentMatchAt(a));if(!c||!s.canReplaceWith(a,a,c))return!1;if(e){let u=n.after(),f=t.tr.replaceWith(u,u,c.createAndFill());f.setSelection(we.near(f.doc.resolve(u),1)),e(f.scrollIntoView())}return!0},Pw=(t,e)=>{let n=t.selection,{$from:i,$to:s}=n;if(n instanceof fn||i.parent.inlineContent||s.parent.inlineContent)return!1;let a=dm(s.parent.contentMatchAt(s.indexAfter()));if(!a||!a.isTextblock)return!1;if(e){let c=(!i.parentOffset&&s.index()<s.parent.childCount?i:s).pos,u=t.tr.insert(c,a.createAndFill());u.setSelection(me.create(u.doc,c+1)),e(u.scrollIntoView())}return!0},Vw=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let a=n.before();if(Si(t.doc,a))return e&&e(t.tr.split(a).scrollIntoView()),!0}let i=n.blockRange(),s=i&&ul(i);return s==null?!1:(e&&e(t.tr.lift(i,s).scrollIntoView()),!0)};function hO(t){return(e,n)=>{let{$from:i,$to:s}=e.selection;if(e.selection instanceof ce&&e.selection.node.isBlock)return!i.parentOffset||!Si(e.doc,i.pos)?!1:(n&&n(e.tr.split(i.pos).scrollIntoView()),!0);if(!i.depth)return!1;let a=[],c,u,f=!1,h=!1;for(let v=i.depth;;v--)if(i.node(v).isBlock){f=i.end(v)==i.pos+(i.depth-v),h=i.start(v)==i.pos-(i.depth-v),u=dm(i.node(v-1).contentMatchAt(i.indexAfter(v-1))),a.unshift(f&&u?{type:u}:null),c=v;break}else{if(v==1)return!1;a.unshift(null)}let p=e.tr;(e.selection instanceof me||e.selection instanceof fn)&&p.deleteSelection();let g=p.mapping.map(i.pos),x=Si(p.doc,g,a.length,a);if(x||(a[0]=u?{type:u}:null,x=Si(p.doc,g,a.length,a)),!x)return!1;if(p.split(g,a.length,a),!f&&h&&i.node(c).type!=u){let v=p.mapping.map(i.before(c)),w=p.doc.resolve(v);u&&i.node(c-1).canReplaceWith(w.index(),w.index()+1,u)&&p.setNodeMarkup(p.mapping.map(i.before(c)),u)}return n&&n(p.scrollIntoView()),!0}}const pO=hO(),mO=(t,e)=>{let{$from:n,to:i}=t.selection,s,a=n.sharedDepth(i);return a==0?!1:(s=n.before(a),e&&e(t.tr.setSelection(ce.create(t.doc,s))),!0)};function gO(t,e,n){let i=e.nodeBefore,s=e.nodeAfter,a=e.index();return!i||!s||!i.type.compatibleContent(s.type)?!1:!i.content.size&&e.parent.canReplace(a-1,a)?(n&&n(t.tr.delete(e.pos-i.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(a,a+1)||!(s.isTextblock||pr(t.doc,e.pos))?!1:(n&&n(t.tr.join(e.pos).scrollIntoView()),!0)}function $w(t,e,n,i){let s=e.nodeBefore,a=e.nodeAfter,c,u,f=s.type.spec.isolating||a.type.spec.isolating;if(!f&&gO(t,e,n))return!0;let h=!f&&e.parent.canReplace(e.index(),e.index()+1);if(h&&(c=(u=s.contentMatchAt(s.childCount)).findWrapping(a.type))&&u.matchType(c[0]||a.type).validEnd){if(n){let v=e.pos+a.nodeSize,w=J.empty;for(let T=c.length-1;T>=0;T--)w=J.from(c[T].create(null,w));w=J.from(s.copy(w));let k=t.tr.step(new St(e.pos-1,v,e.pos,v,new te(w,1,0),c.length,!0)),E=k.doc.resolve(v+2*c.length);E.nodeAfter&&E.nodeAfter.type==s.type&&pr(k.doc,E.pos)&&k.join(E.pos),n(k.scrollIntoView())}return!0}let p=a.type.spec.isolating||i>0&&f?null:we.findFrom(e,1),g=p&&p.$from.blockRange(p.$to),x=g&&ul(g);if(x!=null&&x>=e.depth)return n&&n(t.tr.lift(g,x).scrollIntoView()),!0;if(h&&tl(a,"start",!0)&&tl(s,"end")){let v=s,w=[];for(;w.push(v),!v.isTextblock;)v=v.lastChild;let k=a,E=1;for(;!k.isTextblock;k=k.firstChild)E++;if(v.canReplace(v.childCount,v.childCount,k.content)){if(n){let T=J.empty;for(let z=w.length-1;z>=0;z--)T=J.from(w[z].copy(T));let M=t.tr.step(new St(e.pos-w.length,e.pos+a.nodeSize,e.pos+E,e.pos+a.nodeSize-E,new te(T,w.length,0),0,!0));n(M.scrollIntoView())}return!0}}return!1}function Fw(t){return function(e,n){let i=e.selection,s=t<0?i.$from:i.$to,a=s.depth;for(;s.node(a).isInline;){if(!a)return!1;a--}return s.node(a).isTextblock?(n&&n(e.tr.setSelection(me.create(e.doc,t<0?s.start(a):s.end(a)))),!0):!1}}const yO=Fw(-1),bO=Fw(1);function xO(t,e=null){return function(n,i){let{$from:s,$to:a}=n.selection,c=s.blockRange(a),u=c&&lm(c,t,e);return u?(i&&i(n.tr.wrap(c,u).scrollIntoView()),!0):!1}}function Kx(t,e=null){return function(n,i){let s=!1;for(let a=0;a<n.selection.ranges.length&&!s;a++){let{$from:{pos:c},$to:{pos:u}}=n.selection.ranges[a];n.doc.nodesBetween(c,u,(f,h)=>{if(s)return!1;if(!(!f.isTextblock||f.hasMarkup(t,e)))if(f.type==t)s=!0;else{let p=n.doc.resolve(h),g=p.index();s=p.parent.canReplaceWith(g,g+1,t)}})}if(!s)return!1;if(i){let a=n.tr;for(let c=0;c<n.selection.ranges.length;c++){let{$from:{pos:u},$to:{pos:f}}=n.selection.ranges[c];a.setBlockType(u,f,t,e)}i(a.scrollIntoView())}return!0}}function fm(...t){return function(e,n,i){for(let s=0;s<t.length;s++)if(t[s](e,n,i))return!0;return!1}}fm(om,Lw,Bw);fm(om,Uw,qw);fm(Iw,Pw,Vw,pO);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function vO(t,e=null){return function(n,i){let{$from:s,$to:a}=n.selection,c=s.blockRange(a);if(!c)return!1;let u=i?n.tr:null;return wO(u,c,t,e)?(i&&i(u.scrollIntoView()),!0):!1}}function wO(t,e,n,i=null){let s=!1,a=e,c=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(n)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let f=c.resolve(e.start-2);a=new Yc(f,f,e.depth),e.endIndex<e.parent.childCount&&(e=new Yc(e.$from,c.resolve(e.$to.end(e.depth)),e.depth)),s=!0}let u=lm(a,n,i,e);return u?(t&&SO(t,e,u,s,n),!0):!1}function SO(t,e,n,i,s){let a=J.empty;for(let p=n.length-1;p>=0;p--)a=J.from(n[p].type.create(n[p].attrs,a));t.step(new St(e.start-(i?2:0),e.end,e.start,e.end,new te(a,0,0),n.length,!0));let c=0;for(let p=0;p<n.length;p++)n[p].type==s&&(c=p+1);let u=n.length-c,f=e.start+n.length-(i?2:0),h=e.parent;for(let p=e.startIndex,g=e.endIndex,x=!0;p<g;p++,x=!1)!x&&Si(t.doc,f,u)&&(t.split(f,u),f+=2*u),f+=h.child(p).nodeSize;return t}function kO(t){return function(e,n){let{$from:i,$to:s}=e.selection,a=i.blockRange(s,c=>c.childCount>0&&c.firstChild.type==t);return a?n?i.node(a.depth-1).type==t?EO(e,n,t,a):NO(e,n,a):!0:!1}}function EO(t,e,n,i){let s=t.tr,a=i.end,c=i.$to.end(i.depth);a<c&&(s.step(new St(a-1,c,a,c,new te(J.from(n.create(null,i.parent.copy())),1,0),1,!0)),i=new Yc(s.doc.resolve(i.$from.pos),s.doc.resolve(c),i.depth));const u=ul(i);if(u==null)return!1;s.lift(i,u);let f=s.doc.resolve(s.mapping.map(a,-1)-1);return pr(s.doc,f.pos)&&f.nodeBefore.type==f.nodeAfter.type&&s.join(f.pos),e(s.scrollIntoView()),!0}function NO(t,e,n){let i=t.tr,s=n.parent;for(let v=n.end,w=n.endIndex-1,k=n.startIndex;w>k;w--)v-=s.child(w).nodeSize,i.delete(v-1,v+1);let a=i.doc.resolve(n.start),c=a.nodeAfter;if(i.mapping.map(n.end)!=n.start+a.nodeAfter.nodeSize)return!1;let u=n.startIndex==0,f=n.endIndex==s.childCount,h=a.node(-1),p=a.index(-1);if(!h.canReplace(p+(u?0:1),p+1,c.content.append(f?J.empty:J.from(s))))return!1;let g=a.pos,x=g+c.nodeSize;return i.step(new St(g-(u?1:0),x+(f?1:0),g+1,x-1,new te((u?J.empty:J.from(s.copy(J.empty))).append(f?J.empty:J.from(s.copy(J.empty))),u?0:1,f?0:1),u?0:1)),e(i.scrollIntoView()),!0}function TO(t){return function(e,n){let{$from:i,$to:s}=e.selection,a=i.blockRange(s,h=>h.childCount>0&&h.firstChild.type==t);if(!a)return!1;let c=a.startIndex;if(c==0)return!1;let u=a.parent,f=u.child(c-1);if(f.type!=t)return!1;if(n){let h=f.lastChild&&f.lastChild.type==u.type,p=J.from(h?t.create():null),g=new te(J.from(t.create(null,J.from(u.type.create(null,p)))),h?3:1,0),x=a.start,v=a.end;n(e.tr.step(new St(x-(h?3:1),v,x,v,g,1,!0)).scrollIntoView())}return!0}}const Rt=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},nl=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let kp=null;const xi=function(t,e,n){let i=kp||(kp=document.createRange());return i.setEnd(t,n??t.nodeValue.length),i.setStart(t,e||0),i},CO=function(){kp=null},Zr=function(t,e,n,i){return n&&(Gx(t,e,n,i,-1)||Gx(t,e,n,i,1))},AO=/^(img|br|input|textarea|hr)$/i;function Gx(t,e,n,i,s){for(var a;;){if(t==n&&e==i)return!0;if(e==(s<0?0:Tn(t))){let c=t.parentNode;if(!c||c.nodeType!=1||Ya(t)||AO.test(t.nodeName)||t.contentEditable=="false")return!1;e=Rt(t)+(s<0?0:1),t=c}else if(t.nodeType==1){let c=t.childNodes[e+(s<0?-1:0)];if(c.nodeType==1&&c.contentEditable=="false")if(!((a=c.pmViewDesc)===null||a===void 0)&&a.ignoreForSelection)e+=s;else return!1;else t=c,e=s<0?Tn(t):0}else return!1}}function Tn(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function MO(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=Tn(t)}else if(t.parentNode&&!Ya(t))e=Rt(t),t=t.parentNode;else return null}}function OO(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!Ya(t))e=Rt(t)+1,t=t.parentNode;else return null}}function RO(t,e,n){for(let i=e==0,s=e==Tn(t);i||s;){if(t==n)return!0;let a=Rt(t);if(t=t.parentNode,!t)return!1;i=i&&a==0,s=s&&a==Tn(t)}}function Ya(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const Ku=function(t){return t.focusNode&&Zr(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function Br(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function jO(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function DO(t,e,n){if(t.caretPositionFromPoint)try{let i=t.caretPositionFromPoint(e,n);if(i)return{node:i.offsetNode,offset:Math.min(Tn(i.offsetNode),i.offset)}}catch{}if(t.caretRangeFromPoint){let i=t.caretRangeFromPoint(e,n);if(i)return{node:i.startContainer,offset:Math.min(Tn(i.startContainer),i.startOffset)}}}const Yn=typeof navigator<"u"?navigator:null,Yx=typeof document<"u"?document:null,mr=Yn&&Yn.userAgent||"",Ep=/Edge\/(\d+)/.exec(mr),Kw=/MSIE \d/.exec(mr),Np=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(mr),Zt=!!(Kw||Np||Ep),cr=Kw?document.documentMode:Np?+Np[1]:Ep?+Ep[1]:0,Cn=!Zt&&/gecko\/(\d+)/i.test(mr);Cn&&+(/Firefox\/(\d+)/.exec(mr)||[0,0])[1];const Tp=!Zt&&/Chrome\/(\d+)/.exec(mr),wt=!!Tp,Gw=Tp?+Tp[1]:0,Dt=!Zt&&!!Yn&&/Apple Computer/.test(Yn.vendor),il=Dt&&(/Mobile\/\w+/.test(mr)||!!Yn&&Yn.maxTouchPoints>2),Nn=il||(Yn?/Mac/.test(Yn.platform):!1),Yw=Yn?/Win/.test(Yn.platform):!1,vi=/Android \d/.test(mr),Ja=!!Yx&&"webkitFontSmoothing"in Yx.documentElement.style,zO=Ja?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function LO(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function mi(t,e){return typeof t=="number"?t:t[e]}function _O(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,i=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*i}}function Jx(t,e,n){let i=t.someProp("scrollThreshold")||0,s=t.someProp("scrollMargin")||5,a=t.dom.ownerDocument;for(let c=n||t.dom;c;){if(c.nodeType!=1){c=nl(c);continue}let u=c,f=u==a.body,h=f?LO(a):_O(u),p=0,g=0;if(e.top<h.top+mi(i,"top")?g=-(h.top-e.top+mi(s,"top")):e.bottom>h.bottom-mi(i,"bottom")&&(g=e.bottom-e.top>h.bottom-h.top?e.top+mi(s,"top")-h.top:e.bottom-h.bottom+mi(s,"bottom")),e.left<h.left+mi(i,"left")?p=-(h.left-e.left+mi(s,"left")):e.right>h.right-mi(i,"right")&&(p=e.right-h.right+mi(s,"right")),p||g)if(f)a.defaultView.scrollBy(p,g);else{let v=u.scrollLeft,w=u.scrollTop;g&&(u.scrollTop+=g),p&&(u.scrollLeft+=p);let k=u.scrollLeft-v,E=u.scrollTop-w;e={left:e.left-k,top:e.top-E,right:e.right-k,bottom:e.bottom-E}}let x=f?"fixed":getComputedStyle(c).position;if(/^(fixed|sticky)$/.test(x))break;c=x=="absolute"?c.offsetParent:nl(c)}}function BO(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),i,s;for(let a=(e.left+e.right)/2,c=n+1;c<Math.min(innerHeight,e.bottom);c+=5){let u=t.root.elementFromPoint(a,c);if(!u||u==t.dom||!t.dom.contains(u))continue;let f=u.getBoundingClientRect();if(f.top>=n-20){i=u,s=f.top;break}}return{refDOM:i,refTop:s,stack:Jw(t.dom)}}function Jw(t){let e=[],n=t.ownerDocument;for(let i=t;i&&(e.push({dom:i,top:i.scrollTop,left:i.scrollLeft}),t!=n);i=nl(i));return e}function HO({refDOM:t,refTop:e,stack:n}){let i=t?t.getBoundingClientRect().top:0;Xw(n,i==0?0:i-e)}function Xw(t,e){for(let n=0;n<t.length;n++){let{dom:i,top:s,left:a}=t[n];i.scrollTop!=s+e&&(i.scrollTop=s+e),i.scrollLeft!=a&&(i.scrollLeft=a)}}let Fs=null;function UO(t){if(t.setActive)return t.setActive();if(Fs)return t.focus(Fs);let e=Jw(t);t.focus(Fs==null?{get preventScroll(){return Fs={preventScroll:!0},!0}}:void 0),Fs||(Fs=!1,Xw(e,0))}function Ww(t,e){let n,i=2e8,s,a=0,c=e.top,u=e.top,f,h;for(let p=t.firstChild,g=0;p;p=p.nextSibling,g++){let x;if(p.nodeType==1)x=p.getClientRects();else if(p.nodeType==3)x=xi(p).getClientRects();else continue;for(let v=0;v<x.length;v++){let w=x[v];if(w.top<=c&&w.bottom>=u){c=Math.max(w.bottom,c),u=Math.min(w.top,u);let k=w.left>e.left?w.left-e.left:w.right<e.left?e.left-w.right:0;if(k<i){n=p,i=k,s=k&&n.nodeType==3?{left:w.right<e.left?w.right:w.left,top:e.top}:e,p.nodeType==1&&k&&(a=g+(e.left>=(w.left+w.right)/2?1:0));continue}}else w.top>e.top&&!f&&w.left<=e.left&&w.right>=e.left&&(f=p,h={left:Math.max(w.left,Math.min(w.right,e.left)),top:w.top});!n&&(e.left>=w.right&&e.top>=w.top||e.left>=w.left&&e.top>=w.bottom)&&(a=g+1)}}return!n&&f&&(n=f,s=h,i=0),n&&n.nodeType==3?qO(n,s):!n||i&&n.nodeType==1?{node:t,offset:a}:Ww(n,s)}function qO(t,e){let n=t.nodeValue.length,i=document.createRange(),s;for(let a=0;a<n;a++){i.setEnd(t,a+1),i.setStart(t,a);let c=Zi(i,1);if(c.top!=c.bottom&&hm(e,c)){s={node:t,offset:a+(e.left>=(c.left+c.right)/2?1:0)};break}}return i.detach(),s||{node:t,offset:0}}function hm(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function IO(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function PO(t,e,n){let{node:i,offset:s}=Ww(e,n),a=-1;if(i.nodeType==1&&!i.firstChild){let c=i.getBoundingClientRect();a=c.left!=c.right&&n.left>(c.left+c.right)/2?1:-1}return t.docView.posFromDOM(i,s,a)}function VO(t,e,n,i){let s=-1;for(let a=e,c=!1;a!=t.dom;){let u=t.docView.nearestDesc(a,!0),f;if(!u)return null;if(u.dom.nodeType==1&&(u.node.isBlock&&u.parent||!u.contentDOM)&&((f=u.dom.getBoundingClientRect()).width||f.height)&&(u.node.isBlock&&u.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(u.dom.nodeName)&&(!c&&f.left>i.left||f.top>i.top?s=u.posBefore:(!c&&f.right<i.left||f.bottom<i.top)&&(s=u.posAfter),c=!0),!u.contentDOM&&s<0&&!u.node.isText))return(u.node.isBlock?i.top<(f.top+f.bottom)/2:i.left<(f.left+f.right)/2)?u.posBefore:u.posAfter;a=u.dom.parentNode}return s>-1?s:t.docView.posFromDOM(e,n,-1)}function Qw(t,e,n){let i=t.childNodes.length;if(i&&n.top<n.bottom)for(let s=Math.max(0,Math.min(i-1,Math.floor(i*(e.top-n.top)/(n.bottom-n.top))-2)),a=s;;){let c=t.childNodes[a];if(c.nodeType==1){let u=c.getClientRects();for(let f=0;f<u.length;f++){let h=u[f];if(hm(e,h))return Qw(c,e,h)}}if((a=(a+1)%i)==s)break}return t}function $O(t,e){let n=t.dom.ownerDocument,i,s=0,a=DO(n,e.left,e.top);a&&({node:i,offset:s}=a);let c=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),u;if(!c||!t.dom.contains(c.nodeType!=1?c.parentNode:c)){let h=t.dom.getBoundingClientRect();if(!hm(e,h)||(c=Qw(t.dom,e,h),!c))return null}if(Dt)for(let h=c;i&&h;h=nl(h))h.draggable&&(i=void 0);if(c=IO(c,e),i){if(Cn&&i.nodeType==1&&(s=Math.min(s,i.childNodes.length),s<i.childNodes.length)){let p=i.childNodes[s],g;p.nodeName=="IMG"&&(g=p.getBoundingClientRect()).right<=e.left&&g.bottom>e.top&&s++}let h;Ja&&s&&i.nodeType==1&&(h=i.childNodes[s-1]).nodeType==1&&h.contentEditable=="false"&&h.getBoundingClientRect().top>=e.top&&s--,i==t.dom&&s==i.childNodes.length-1&&i.lastChild.nodeType==1&&e.top>i.lastChild.getBoundingClientRect().bottom?u=t.state.doc.content.size:(s==0||i.nodeType!=1||i.childNodes[s-1].nodeName!="BR")&&(u=VO(t,i,s,e))}u==null&&(u=PO(t,c,e));let f=t.docView.nearestDesc(c,!0);return{pos:u,inside:f?f.posAtStart-f.border:-1}}function Xx(t){return t.top<t.bottom||t.left<t.right}function Zi(t,e){let n=t.getClientRects();if(n.length){let i=n[e<0?0:n.length-1];if(Xx(i))return i}return Array.prototype.find.call(n,Xx)||t.getBoundingClientRect()}const FO=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function Zw(t,e,n){let{node:i,offset:s,atom:a}=t.docView.domFromPos(e,n<0?-1:1),c=Ja||Cn;if(i.nodeType==3)if(c&&(FO.test(i.nodeValue)||(n<0?!s:s==i.nodeValue.length))){let f=Zi(xi(i,s,s),n);if(Cn&&s&&/\s/.test(i.nodeValue[s-1])&&s<i.nodeValue.length){let h=Zi(xi(i,s-1,s-1),-1);if(h.top==f.top){let p=Zi(xi(i,s,s+1),-1);if(p.top!=f.top)return oa(p,p.left<h.left)}}return f}else{let f=s,h=s,p=n<0?1:-1;return n<0&&!s?(h++,p=-1):n>=0&&s==i.nodeValue.length?(f--,p=1):n<0?f--:h++,oa(Zi(xi(i,f,h),p),p<0)}if(!t.state.doc.resolve(e-(a||0)).parent.inlineContent){if(a==null&&s&&(n<0||s==Tn(i))){let f=i.childNodes[s-1];if(f.nodeType==1)return $h(f.getBoundingClientRect(),!1)}if(a==null&&s<Tn(i)){let f=i.childNodes[s];if(f.nodeType==1)return $h(f.getBoundingClientRect(),!0)}return $h(i.getBoundingClientRect(),n>=0)}if(a==null&&s&&(n<0||s==Tn(i))){let f=i.childNodes[s-1],h=f.nodeType==3?xi(f,Tn(f)-(c?0:1)):f.nodeType==1&&(f.nodeName!="BR"||!f.nextSibling)?f:null;if(h)return oa(Zi(h,1),!1)}if(a==null&&s<Tn(i)){let f=i.childNodes[s];for(;f.pmViewDesc&&f.pmViewDesc.ignoreForCoords;)f=f.nextSibling;let h=f?f.nodeType==3?xi(f,0,c?0:1):f.nodeType==1?f:null:null;if(h)return oa(Zi(h,-1),!0)}return oa(Zi(i.nodeType==3?xi(i):i,-n),n>=0)}function oa(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function $h(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function eS(t,e,n){let i=t.state,s=t.root.activeElement;i!=e&&t.updateState(e),s!=t.dom&&t.focus();try{return n()}finally{i!=e&&t.updateState(i),s!=t.dom&&s&&s.focus()}}function KO(t,e,n){let i=e.selection,s=n=="up"?i.$from:i.$to;return eS(t,e,()=>{let{node:a}=t.docView.domFromPos(s.pos,n=="up"?-1:1);for(;;){let u=t.docView.nearestDesc(a,!0);if(!u)break;if(u.node.isBlock){a=u.contentDOM||u.dom;break}a=u.dom.parentNode}let c=Zw(t,s.pos,1);for(let u=a.firstChild;u;u=u.nextSibling){let f;if(u.nodeType==1)f=u.getClientRects();else if(u.nodeType==3)f=xi(u,0,u.nodeValue.length).getClientRects();else continue;for(let h=0;h<f.length;h++){let p=f[h];if(p.bottom>p.top+1&&(n=="up"?c.top-p.top>(p.bottom-c.top)*2:p.bottom-c.bottom>(c.bottom-p.top)*2))return!1}}return!0})}const GO=/[\u0590-\u08ac]/;function YO(t,e,n){let{$head:i}=e.selection;if(!i.parent.isTextblock)return!1;let s=i.parentOffset,a=!s,c=s==i.parent.content.size,u=t.domSelection();return u?!GO.test(i.parent.textContent)||!u.modify?n=="left"||n=="backward"?a:c:eS(t,e,()=>{let{focusNode:f,focusOffset:h,anchorNode:p,anchorOffset:g}=t.domSelectionRange(),x=u.caretBidiLevel;u.modify("move",n,"character");let v=i.depth?t.docView.domAfterPos(i.before()):t.dom,{focusNode:w,focusOffset:k}=t.domSelectionRange(),E=w&&!v.contains(w.nodeType==1?w:w.parentNode)||f==w&&h==k;try{u.collapse(p,g),f&&(f!=p||h!=g)&&u.extend&&u.extend(f,h)}catch{}return x!=null&&(u.caretBidiLevel=x),E}):i.pos==i.start()||i.pos==i.end()}let Wx=null,Qx=null,Zx=!1;function JO(t,e,n){return Wx==e&&Qx==n?Zx:(Wx=e,Qx=n,Zx=n=="up"||n=="down"?KO(t,e,n):YO(t,e,n))}const An=0,ev=1,Ur=2,Jn=3;class Xa{constructor(e,n,i,s){this.parent=e,this.children=n,this.dom=i,this.contentDOM=s,this.dirty=An,i.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,i){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,i=this.posAtStart;;n++){let s=this.children[n];if(s==e)return i;i+=s.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,i){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(i<0){let a,c;if(e==this.contentDOM)a=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;a=e.previousSibling}for(;a&&!((c=a.pmViewDesc)&&c.parent==this);)a=a.previousSibling;return a?this.posBeforeChild(c)+c.size:this.posAtStart}else{let a,c;if(e==this.contentDOM)a=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;a=e.nextSibling}for(;a&&!((c=a.pmViewDesc)&&c.parent==this);)a=a.nextSibling;return a?this.posBeforeChild(c):this.posAtEnd}let s;if(e==this.dom&&this.contentDOM)s=n>Rt(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))s=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let a=e;;a=a.parentNode){if(a==this.dom){s=!1;break}if(a.previousSibling)break}if(s==null&&n==e.childNodes.length)for(let a=e;;a=a.parentNode){if(a==this.dom){s=!0;break}if(a.nextSibling)break}}return s??i>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let i=!0,s=e;s;s=s.parentNode){let a=this.getDesc(s),c;if(a&&(!n||a.node))if(i&&(c=a.nodeDOM)&&!(c.nodeType==1?c.contains(e.nodeType==1?e:e.parentNode):c==e))i=!1;else return a}}getDesc(e){let n=e.pmViewDesc;for(let i=n;i;i=i.parent)if(i==this)return n}posFromDOM(e,n,i){for(let s=e;s;s=s.parentNode){let a=this.getDesc(s);if(a)return a.localPosFromDOM(e,n,i)}return-1}descAt(e){for(let n=0,i=0;n<this.children.length;n++){let s=this.children[n],a=i+s.size;if(i==e&&a!=i){for(;!s.border&&s.children.length;)for(let c=0;c<s.children.length;c++){let u=s.children[c];if(u.size){s=u;break}}return s}if(e<a)return s.descAt(e-i-s.border);i=a}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let i=0,s=0;for(let a=0;i<this.children.length;i++){let c=this.children[i],u=a+c.size;if(u>e||c instanceof nS){s=e-a;break}a=u}if(s)return this.children[i].domFromPos(s-this.children[i].border,n);for(let a;i&&!(a=this.children[i-1]).size&&a instanceof tS&&a.side>=0;i--);if(n<=0){let a,c=!0;for(;a=i?this.children[i-1]:null,!(!a||a.dom.parentNode==this.contentDOM);i--,c=!1);return a&&n&&c&&!a.border&&!a.domAtom?a.domFromPos(a.size,n):{node:this.contentDOM,offset:a?Rt(a.dom)+1:0}}else{let a,c=!0;for(;a=i<this.children.length?this.children[i]:null,!(!a||a.dom.parentNode==this.contentDOM);i++,c=!1);return a&&c&&!a.border&&!a.domAtom?a.domFromPos(0,n):{node:this.contentDOM,offset:a?Rt(a.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,i=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let s=-1,a=-1;for(let c=i,u=0;;u++){let f=this.children[u],h=c+f.size;if(s==-1&&e<=h){let p=c+f.border;if(e>=p&&n<=h-f.border&&f.node&&f.contentDOM&&this.contentDOM.contains(f.contentDOM))return f.parseRange(e,n,p);e=c;for(let g=u;g>0;g--){let x=this.children[g-1];if(x.size&&x.dom.parentNode==this.contentDOM&&!x.emptyChildAt(1)){s=Rt(x.dom)+1;break}e-=x.size}s==-1&&(s=0)}if(s>-1&&(h>n||u==this.children.length-1)){n=h;for(let p=u+1;p<this.children.length;p++){let g=this.children[p];if(g.size&&g.dom.parentNode==this.contentDOM&&!g.emptyChildAt(-1)){a=Rt(g.dom);break}n+=g.size}a==-1&&(a=this.contentDOM.childNodes.length);break}c=h}return{node:this.contentDOM,from:e,to:n,fromOffset:s,toOffset:a}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:i}=this.domFromPos(e,0);if(n.nodeType!=1||i==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[i]}setSelection(e,n,i,s=!1){let a=Math.min(e,n),c=Math.max(e,n);for(let v=0,w=0;v<this.children.length;v++){let k=this.children[v],E=w+k.size;if(a>w&&c<E)return k.setSelection(e-w-k.border,n-w-k.border,i,s);w=E}let u=this.domFromPos(e,e?-1:1),f=n==e?u:this.domFromPos(n,n?-1:1),h=i.root.getSelection(),p=i.domSelectionRange(),g=!1;if((Cn||Dt)&&e==n){let{node:v,offset:w}=u;if(v.nodeType==3){if(g=!!(w&&v.nodeValue[w-1]==`
`),g&&w==v.nodeValue.length)for(let k=v,E;k;k=k.parentNode){if(E=k.nextSibling){E.nodeName=="BR"&&(u=f={node:E.parentNode,offset:Rt(E)+1});break}let T=k.pmViewDesc;if(T&&T.node&&T.node.isBlock)break}}else{let k=v.childNodes[w-1];g=k&&(k.nodeName=="BR"||k.contentEditable=="false")}}if(Cn&&p.focusNode&&p.focusNode!=f.node&&p.focusNode.nodeType==1){let v=p.focusNode.childNodes[p.focusOffset];v&&v.contentEditable=="false"&&(s=!0)}if(!(s||g&&Dt)&&Zr(u.node,u.offset,p.anchorNode,p.anchorOffset)&&Zr(f.node,f.offset,p.focusNode,p.focusOffset))return;let x=!1;if((h.extend||e==n)&&!(g&&Cn)){h.collapse(u.node,u.offset);try{e!=n&&h.extend(f.node,f.offset),x=!0}catch{}}if(!x){if(e>n){let w=u;u=f,f=w}let v=document.createRange();v.setEnd(f.node,f.offset),v.setStart(u.node,u.offset),h.removeAllRanges(),h.addRange(v)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let i=0,s=0;s<this.children.length;s++){let a=this.children[s],c=i+a.size;if(i==c?e<=c&&n>=i:e<c&&n>i){let u=i+a.border,f=c-a.border;if(e>=u&&n<=f){this.dirty=e==i||n==c?Ur:ev,e==u&&n==f&&(a.contentLost||a.dom.parentNode!=this.contentDOM)?a.dirty=Jn:a.markDirty(e-u,n-u);return}else a.dirty=a.dom==a.contentDOM&&a.dom.parentNode==this.contentDOM&&!a.children.length?Ur:Jn}i=c}this.dirty=Ur}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let i=e==1?Ur:ev;n.dirty<i&&(n.dirty=i)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class tS extends Xa{constructor(e,n,i,s){let a,c=n.type.toDOM;if(typeof c=="function"&&(c=c(i,()=>{if(!a)return s;if(a.parent)return a.parent.posBeforeChild(a)})),!n.type.spec.raw){if(c.nodeType!=1){let u=document.createElement("span");u.appendChild(c),c=u}c.contentEditable="false",c.classList.add("ProseMirror-widget")}super(e,[],c,null),this.widget=n,this.widget=n,a=this}matchesWidget(e){return this.dirty==An&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class XO extends Xa{constructor(e,n,i,s){super(e,[],n,null),this.textDOM=i,this.text=s}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class es extends Xa{constructor(e,n,i,s,a){super(e,[],i,s),this.mark=n,this.spec=a}static create(e,n,i,s){let a=s.nodeViews[n.type.name],c=a&&a(n,s,i);return(!c||!c.dom)&&(c=is.renderSpec(document,n.type.spec.toDOM(n,i),null,n.attrs)),new es(e,n,c.dom,c.contentDOM||c.dom,c)}parseRule(){return this.dirty&Jn||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=Jn&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=An){let i=this.parent;for(;!i.node;)i=i.parent;i.dirty<this.dirty&&(i.dirty=this.dirty),this.dirty=An}}slice(e,n,i){let s=es.create(this.parent,this.mark,!0,i),a=this.children,c=this.size;n<c&&(a=Ap(a,n,c,i)),e>0&&(a=Ap(a,0,e,i));for(let u=0;u<a.length;u++)a[u].parent=s;return s.children=a,s}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class ur extends Xa{constructor(e,n,i,s,a,c,u,f,h){super(e,[],a,c),this.node=n,this.outerDeco=i,this.innerDeco=s,this.nodeDOM=u}static create(e,n,i,s,a,c){let u=a.nodeViews[n.type.name],f,h=u&&u(n,a,()=>{if(!f)return c;if(f.parent)return f.parent.posBeforeChild(f)},i,s),p=h&&h.dom,g=h&&h.contentDOM;if(n.isText){if(!p)p=document.createTextNode(n.text);else if(p.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else p||({dom:p,contentDOM:g}=is.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!g&&!n.isText&&p.nodeName!="BR"&&(p.hasAttribute("contenteditable")||(p.contentEditable="false"),n.type.spec.draggable&&(p.draggable=!0));let x=p;return p=sS(p,i,n),h?f=new WO(e,n,i,s,p,g||null,x,h,a,c+1):n.isText?new Gu(e,n,i,s,p,x,a):new ur(e,n,i,s,p,g||null,x,a,c+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let i=this.children[n];if(this.dom.contains(i.dom.parentNode)){e.contentElement=i.dom.parentNode;break}}e.contentElement||(e.getContent=()=>J.empty)}return e}matchesNode(e,n,i){return this.dirty==An&&e.eq(this.node)&&Xc(n,this.outerDeco)&&i.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let i=this.node.inlineContent,s=n,a=e.composing?this.localCompositionInfo(e,n):null,c=a&&a.pos>-1?a:null,u=a&&a.pos<0,f=new ZO(this,c&&c.node,e);nR(this.node,this.innerDeco,(h,p,g)=>{h.spec.marks?f.syncToMarks(h.spec.marks,i,e,p):h.type.side>=0&&!g&&f.syncToMarks(p==this.node.childCount?Pe.none:this.node.child(p).marks,i,e,p),f.placeWidget(h,e,s)},(h,p,g,x)=>{f.syncToMarks(h.marks,i,e,x);let v;f.findNodeMatch(h,p,g,x)||u&&e.state.selection.from>s&&e.state.selection.to<s+h.nodeSize&&(v=f.findIndexWithChild(a.node))>-1&&f.updateNodeAt(h,p,g,v,e)||f.updateNextNode(h,p,g,e,x,s)||f.addNode(h,p,g,e,s),s+=h.nodeSize}),f.syncToMarks([],i,e,0),this.node.isTextblock&&f.addTextblockHacks(),f.destroyRest(),(f.changed||this.dirty==Ur)&&(c&&this.protectLocalComposition(e,c),iS(this.contentDOM,this.children,e),il&&iR(this.dom))}localCompositionInfo(e,n){let{from:i,to:s}=e.state.selection;if(!(e.state.selection instanceof me)||i<n||s>n+this.node.content.size)return null;let a=e.input.compositionNode;if(!a||!this.dom.contains(a.parentNode))return null;if(this.node.inlineContent){let c=a.nodeValue,u=rR(this.node.content,c,i-n,s-n);return u<0?null:{node:a,pos:u,text:c}}else return{node:a,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:i,text:s}){if(this.getDesc(n))return;let a=n;for(;a.parentNode!=this.contentDOM;a=a.parentNode){for(;a.previousSibling;)a.parentNode.removeChild(a.previousSibling);for(;a.nextSibling;)a.parentNode.removeChild(a.nextSibling);a.pmViewDesc&&(a.pmViewDesc=void 0)}let c=new XO(this,a,n,s);e.input.compositionNodes.push(c),this.children=Ap(this.children,i,i+s.length,e,c)}update(e,n,i,s){return this.dirty==Jn||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,i,s),!0)}updateInner(e,n,i,s){this.updateOuterDeco(n),this.node=e,this.innerDeco=i,this.contentDOM&&this.updateChildren(s,this.posAtStart),this.dirty=An}updateOuterDeco(e){if(Xc(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,i=this.dom;this.dom=rS(this.dom,this.nodeDOM,Cp(this.outerDeco,this.node,n),Cp(e,this.node,n)),this.dom!=i&&(i.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function tv(t,e,n,i,s){sS(i,e,t);let a=new ur(void 0,t,e,n,i,i,i,s,0);return a.contentDOM&&a.updateChildren(s,0),a}class Gu extends ur{constructor(e,n,i,s,a,c,u){super(e,n,i,s,a,null,c,u,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,i,s){return this.dirty==Jn||this.dirty!=An&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=An||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,s.trackWrites==this.nodeDOM&&(s.trackWrites=null)),this.node=e,this.dirty=An,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,i){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,i)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,i){let s=this.node.cut(e,n),a=document.createTextNode(s.text);return new Gu(this.parent,s,this.outerDeco,this.innerDeco,a,a,i)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=Jn)}get domAtom(){return!1}isText(e){return this.node.text==e}}class nS extends Xa{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==An&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class WO extends ur{constructor(e,n,i,s,a,c,u,f,h,p){super(e,n,i,s,a,c,u,h,p),this.spec=f}update(e,n,i,s){if(this.dirty==Jn)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let a=this.spec.update(e,n,i);return a&&this.updateInner(e,n,i,s),a}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,i,s)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,i,s){this.spec.setSelection?this.spec.setSelection(e,n,i.root):super.setSelection(e,n,i,s)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function iS(t,e,n){let i=t.firstChild,s=!1;for(let a=0;a<e.length;a++){let c=e[a],u=c.dom;if(u.parentNode==t){for(;u!=i;)i=nv(i),s=!0;i=i.nextSibling}else s=!0,t.insertBefore(u,i);if(c instanceof es){let f=i?i.previousSibling:t.lastChild;iS(c.contentDOM,c.children,n),i=f?f.nextSibling:t.firstChild}}for(;i;)i=nv(i),s=!0;s&&n.trackWrites==t&&(n.trackWrites=null)}const xa=function(t){t&&(this.nodeName=t)};xa.prototype=Object.create(null);const qr=[new xa];function Cp(t,e,n){if(t.length==0)return qr;let i=n?qr[0]:new xa,s=[i];for(let a=0;a<t.length;a++){let c=t[a].type.attrs;if(c){c.nodeName&&s.push(i=new xa(c.nodeName));for(let u in c){let f=c[u];f!=null&&(n&&s.length==1&&s.push(i=new xa(e.isInline?"span":"div")),u=="class"?i.class=(i.class?i.class+" ":"")+f:u=="style"?i.style=(i.style?i.style+";":"")+f:u!="nodeName"&&(i[u]=f))}}}return s}function rS(t,e,n,i){if(n==qr&&i==qr)return e;let s=e;for(let a=0;a<i.length;a++){let c=i[a],u=n[a];if(a){let f;u&&u.nodeName==c.nodeName&&s!=t&&(f=s.parentNode)&&f.nodeName.toLowerCase()==c.nodeName||(f=document.createElement(c.nodeName),f.pmIsDeco=!0,f.appendChild(s),u=qr[0]),s=f}QO(s,u||qr[0],c)}return s}function QO(t,e,n){for(let i in e)i!="class"&&i!="style"&&i!="nodeName"&&!(i in n)&&t.removeAttribute(i);for(let i in n)i!="class"&&i!="style"&&i!="nodeName"&&n[i]!=e[i]&&t.setAttribute(i,n[i]);if(e.class!=n.class){let i=e.class?e.class.split(" ").filter(Boolean):[],s=n.class?n.class.split(" ").filter(Boolean):[];for(let a=0;a<i.length;a++)s.indexOf(i[a])==-1&&t.classList.remove(i[a]);for(let a=0;a<s.length;a++)i.indexOf(s[a])==-1&&t.classList.add(s[a]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let i=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,s;for(;s=i.exec(e.style);)t.style.removeProperty(s[1])}n.style&&(t.style.cssText+=n.style)}}function sS(t,e,n){return rS(t,t,qr,Cp(e,n,t.nodeType!=1))}function Xc(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function nv(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class ZO{constructor(e,n,i){this.lock=n,this.view=i,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=eR(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let i=e;i<n;i++)this.top.children[i].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,i,s){let a=0,c=this.stack.length>>1,u=Math.min(c,e.length);for(;a<u&&(a==c-1?this.top:this.stack[a+1<<1]).matchesMark(e[a])&&e[a].type.spec.spanning!==!1;)a++;for(;a<c;)this.destroyRest(),this.top.dirty=An,this.index=this.stack.pop(),this.top=this.stack.pop(),c--;for(;c<e.length;){this.stack.push(this.top,this.index+1);let f=-1,h=this.top.children.length;s<this.preMatch.index&&(h=Math.min(this.index+3,h));for(let p=this.index;p<h;p++){let g=this.top.children[p];if(g.matchesMark(e[c])&&!this.isLocked(g.dom)){f=p;break}}if(f>-1)f>this.index&&(this.changed=!0,this.destroyBetween(this.index,f)),this.top=this.top.children[this.index];else{let p=es.create(this.top,e[c],n,i);this.top.children.splice(this.index,0,p),this.top=p,this.changed=!0}this.index=0,c++}}findNodeMatch(e,n,i,s){let a=-1,c;if(s>=this.preMatch.index&&(c=this.preMatch.matches[s-this.preMatch.index]).parent==this.top&&c.matchesNode(e,n,i))a=this.top.children.indexOf(c,this.index);else for(let u=this.index,f=Math.min(this.top.children.length,u+5);u<f;u++){let h=this.top.children[u];if(h.matchesNode(e,n,i)&&!this.preMatch.matched.has(h)){a=u;break}}return a<0?!1:(this.destroyBetween(this.index,a),this.index++,!0)}updateNodeAt(e,n,i,s,a){let c=this.top.children[s];return c.dirty==Jn&&c.dom==c.contentDOM&&(c.dirty=Ur),c.update(e,n,i,a)?(this.destroyBetween(this.index,s),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let i=e.pmViewDesc;if(i){for(let s=this.index;s<this.top.children.length;s++)if(this.top.children[s]==i)return s}return-1}e=n}}updateNextNode(e,n,i,s,a,c){for(let u=this.index;u<this.top.children.length;u++){let f=this.top.children[u];if(f instanceof ur){let h=this.preMatch.matched.get(f);if(h!=null&&h!=a)return!1;let p=f.dom,g,x=this.isLocked(p)&&!(e.isText&&f.node&&f.node.isText&&f.nodeDOM.nodeValue==e.text&&f.dirty!=Jn&&Xc(n,f.outerDeco));if(!x&&f.update(e,n,i,s))return this.destroyBetween(this.index,u),f.dom!=p&&(this.changed=!0),this.index++,!0;if(!x&&(g=this.recreateWrapper(f,e,n,i,s,c)))return this.destroyBetween(this.index,u),this.top.children[this.index]=g,g.contentDOM&&(g.dirty=Ur,g.updateChildren(s,c+1),g.dirty=An),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,i,s,a,c){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content)||!Xc(i,e.outerDeco)||!s.eq(e.innerDeco))return null;let u=ur.create(this.top,n,i,s,a,c);if(u.contentDOM){u.children=e.children,e.children=[];for(let f of u.children)f.parent=u}return e.destroy(),u}addNode(e,n,i,s,a){let c=ur.create(this.top,e,n,i,s,a);c.contentDOM&&c.updateChildren(s,a+1),this.top.children.splice(this.index++,0,c),this.changed=!0}placeWidget(e,n,i){let s=this.index<this.top.children.length?this.top.children[this.index]:null;if(s&&s.matchesWidget(e)&&(e==s.widget||!s.widget.type.toDOM.parentNode))this.index++;else{let a=new tS(this.top,e,n,i);this.top.children.splice(this.index++,0,a),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof es;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof Gu)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((Dt||wt)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let i=document.createElement(e);e=="IMG"&&(i.className="ProseMirror-separator",i.alt=""),e=="BR"&&(i.className="ProseMirror-trailingBreak");let s=new nS(this.top,[],i,null);n!=this.top?n.children.push(s):n.children.splice(this.index++,0,s),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function eR(t,e){let n=e,i=n.children.length,s=t.childCount,a=new Map,c=[];e:for(;s>0;){let u;for(;;)if(i){let h=n.children[i-1];if(h instanceof es)n=h,i=h.children.length;else{u=h,i--;break}}else{if(n==e)break e;i=n.parent.children.indexOf(n),n=n.parent}let f=u.node;if(f){if(f!=t.child(s-1))break;--s,a.set(u,s),c.push(u)}}return{index:s,matched:a,matches:c.reverse()}}function tR(t,e){return t.type.side-e.type.side}function nR(t,e,n,i){let s=e.locals(t),a=0;if(s.length==0){for(let h=0;h<t.childCount;h++){let p=t.child(h);i(p,s,e.forChild(a,p),h),a+=p.nodeSize}return}let c=0,u=[],f=null;for(let h=0;;){let p,g;for(;c<s.length&&s[c].to==a;){let E=s[c++];E.widget&&(p?(g||(g=[p])).push(E):p=E)}if(p)if(g){g.sort(tR);for(let E=0;E<g.length;E++)n(g[E],h,!!f)}else n(p,h,!!f);let x,v;if(f)v=-1,x=f,f=null;else if(h<t.childCount)v=h,x=t.child(h++);else break;for(let E=0;E<u.length;E++)u[E].to<=a&&u.splice(E--,1);for(;c<s.length&&s[c].from<=a&&s[c].to>a;)u.push(s[c++]);let w=a+x.nodeSize;if(x.isText){let E=w;c<s.length&&s[c].from<E&&(E=s[c].from);for(let T=0;T<u.length;T++)u[T].to<E&&(E=u[T].to);E<w&&(f=x.cut(E-a),x=x.cut(0,E-a),w=E,v=-1)}else for(;c<s.length&&s[c].to<w;)c++;let k=x.isInline&&!x.isLeaf?u.filter(E=>!E.inline):u.slice();i(x,k,e.forChild(a,x),v),a=w}}function iR(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function rR(t,e,n,i){for(let s=0,a=0;s<t.childCount&&a<=i;){let c=t.child(s++),u=a;if(a+=c.nodeSize,!c.isText)continue;let f=c.text;for(;s<t.childCount;){let h=t.child(s++);if(a+=h.nodeSize,!h.isText)break;f+=h.text}if(a>=n){if(a>=i&&f.slice(i-e.length-u,i-u)==e)return i-e.length;let h=u<i?f.lastIndexOf(e,i-u-1):-1;if(h>=0&&h+e.length+u>=n)return u+h;if(n==i&&f.length>=i+e.length-u&&f.slice(i-u,i-u+e.length)==e)return i}}return-1}function Ap(t,e,n,i,s){let a=[];for(let c=0,u=0;c<t.length;c++){let f=t[c],h=u,p=u+=f.size;h>=n||p<=e?a.push(f):(h<e&&a.push(f.slice(0,e-h,i)),s&&(a.push(s),s=void 0),p>n&&a.push(f.slice(n-h,f.size,i)))}return a}function pm(t,e=null){let n=t.domSelectionRange(),i=t.state.doc;if(!n.focusNode)return null;let s=t.docView.nearestDesc(n.focusNode),a=s&&s.size==0,c=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(c<0)return null;let u=i.resolve(c),f,h;if(Ku(n)){for(f=c;s&&!s.node;)s=s.parent;let g=s.node;if(s&&g.isAtom&&ce.isSelectable(g)&&s.parent&&!(g.isInline&&RO(n.focusNode,n.focusOffset,s.dom))){let x=s.posBefore;h=new ce(c==x?u:i.resolve(x))}}else{if(n instanceof t.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let g=c,x=c;for(let v=0;v<n.rangeCount;v++){let w=n.getRangeAt(v);g=Math.min(g,t.docView.posFromDOM(w.startContainer,w.startOffset,1)),x=Math.max(x,t.docView.posFromDOM(w.endContainer,w.endOffset,-1))}if(g<0)return null;[f,c]=x==t.state.selection.anchor?[x,g]:[g,x],u=i.resolve(c)}else f=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(f<0)return null}let p=i.resolve(f);if(!h){let g=e=="pointer"||t.state.selection.head<u.pos&&!a?1:-1;h=mm(t,p,u,g)}return h}function lS(t){return t.editable?t.hasFocus():oS(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function ki(t,e=!1){let n=t.state.selection;if(aS(t,n),!!lS(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&wt){let i=t.domSelectionRange(),s=t.domObserver.currentSelection;if(i.anchorNode&&s.anchorNode&&Zr(i.anchorNode,i.anchorOffset,s.anchorNode,s.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)lR(t);else{let{anchor:i,head:s}=n,a,c;iv&&!(n instanceof me)&&(n.$from.parent.inlineContent||(a=rv(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(c=rv(t,n.to))),t.docView.setSelection(i,s,t,e),iv&&(a&&sv(a),c&&sv(c)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&sR(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const iv=Dt||wt&&Gw<63;function rv(t,e){let{node:n,offset:i}=t.docView.domFromPos(e,0),s=i<n.childNodes.length?n.childNodes[i]:null,a=i?n.childNodes[i-1]:null;if(Dt&&s&&s.contentEditable=="false")return Fh(s);if((!s||s.contentEditable=="false")&&(!a||a.contentEditable=="false")){if(s)return Fh(s);if(a)return Fh(a)}}function Fh(t){return t.contentEditable="true",Dt&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function sv(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function sR(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),i=n.anchorNode,s=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=i||n.anchorOffset!=s)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!lS(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function lR(t){let e=t.domSelection();if(!e)return;let n=t.cursorWrapper.dom,i=n.nodeName=="IMG";i?e.collapse(n.parentNode,Rt(n)+1):e.collapse(n,0),!i&&!t.state.selection.visible&&Zt&&cr<=11&&(n.disabled=!0,n.disabled=!1)}function aS(t,e){if(e instanceof ce){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(lv(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else lv(t)}function lv(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function mm(t,e,n,i){return t.someProp("createSelectionBetween",s=>s(t,e,n))||me.between(e,n,i)}function av(t){return t.editable&&!t.hasFocus()?!1:oS(t)}function oS(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function aR(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return Zr(e.node,e.offset,n.anchorNode,n.anchorOffset)}function Mp(t,e){let{$anchor:n,$head:i}=t.selection,s=e>0?n.max(i):n.min(i),a=s.parent.inlineContent?s.depth?t.doc.resolve(e>0?s.after():s.before()):null:s;return a&&we.findFrom(a,e)}function er(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function ov(t,e,n){let i=t.state.selection;if(i instanceof me)if(n.indexOf("s")>-1){let{$head:s}=i,a=s.textOffset?null:e<0?s.nodeBefore:s.nodeAfter;if(!a||a.isText||!a.isLeaf)return!1;let c=t.state.doc.resolve(s.pos+a.nodeSize*(e<0?-1:1));return er(t,new me(i.$anchor,c))}else if(i.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let s=Mp(t.state,e);return s&&s instanceof ce?er(t,s):!1}else if(!(Nn&&n.indexOf("m")>-1)){let s=i.$head,a=s.textOffset?null:e<0?s.nodeBefore:s.nodeAfter,c;if(!a||a.isText)return!1;let u=e<0?s.pos-a.nodeSize:s.pos;return a.isAtom||(c=t.docView.descAt(u))&&!c.contentDOM?ce.isSelectable(a)?er(t,new ce(e<0?t.state.doc.resolve(s.pos-a.nodeSize):s)):Ja?er(t,new me(t.state.doc.resolve(e<0?u:u+a.nodeSize))):!1:!1}}else return!1;else{if(i instanceof ce&&i.node.isInline)return er(t,new me(e>0?i.$to:i.$from));{let s=Mp(t.state,e);return s?er(t,s):!1}}}function Wc(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function va(t,e){let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function Ks(t,e){return e<0?oR(t):cR(t)}function oR(t){let e=t.domSelectionRange(),n=e.focusNode,i=e.focusOffset;if(!n)return;let s,a,c=!1;for(Cn&&n.nodeType==1&&i<Wc(n)&&va(n.childNodes[i],-1)&&(c=!0);;)if(i>0){if(n.nodeType!=1)break;{let u=n.childNodes[i-1];if(va(u,-1))s=n,a=--i;else if(u.nodeType==3)n=u,i=n.nodeValue.length;else break}}else{if(cS(n))break;{let u=n.previousSibling;for(;u&&va(u,-1);)s=n.parentNode,a=Rt(u),u=u.previousSibling;if(u)n=u,i=Wc(n);else{if(n=n.parentNode,n==t.dom)break;i=0}}}c?Op(t,n,i):s&&Op(t,s,a)}function cR(t){let e=t.domSelectionRange(),n=e.focusNode,i=e.focusOffset;if(!n)return;let s=Wc(n),a,c;for(;;)if(i<s){if(n.nodeType!=1)break;let u=n.childNodes[i];if(va(u,1))a=n,c=++i;else break}else{if(cS(n))break;{let u=n.nextSibling;for(;u&&va(u,1);)a=u.parentNode,c=Rt(u)+1,u=u.nextSibling;if(u)n=u,i=0,s=Wc(n);else{if(n=n.parentNode,n==t.dom)break;i=s=0}}}a&&Op(t,a,c)}function cS(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function uR(t,e){for(;t&&e==t.childNodes.length&&!Ya(t);)e=Rt(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=0}}function dR(t,e){for(;t&&!e&&!Ya(t);)e=Rt(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=t.childNodes.length}}function Op(t,e,n){if(e.nodeType!=3){let a,c;(c=uR(e,n))?(e=c,n=0):(a=dR(e,n))&&(e=a,n=a.nodeValue.length)}let i=t.domSelection();if(!i)return;if(Ku(i)){let a=document.createRange();a.setEnd(e,n),a.setStart(e,n),i.removeAllRanges(),i.addRange(a)}else i.extend&&i.extend(e,n);t.domObserver.setCurSelection();let{state:s}=t;setTimeout(()=>{t.state==s&&ki(t)},50)}function cv(t,e){let n=t.state.doc.resolve(e);if(!(wt||Yw)&&n.parent.inlineContent){let s=t.coordsAtPos(e);if(e>n.start()){let a=t.coordsAtPos(e-1),c=(a.top+a.bottom)/2;if(c>s.top&&c<s.bottom&&Math.abs(a.left-s.left)>1)return a.left<s.left?"ltr":"rtl"}if(e<n.end()){let a=t.coordsAtPos(e+1),c=(a.top+a.bottom)/2;if(c>s.top&&c<s.bottom&&Math.abs(a.left-s.left)>1)return a.left>s.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function uv(t,e,n){let i=t.state.selection;if(i instanceof me&&!i.empty||n.indexOf("s")>-1||Nn&&n.indexOf("m")>-1)return!1;let{$from:s,$to:a}=i;if(!s.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let c=Mp(t.state,e);if(c&&c instanceof ce)return er(t,c)}if(!s.parent.inlineContent){let c=e<0?s:a,u=i instanceof fn?we.near(c,e):we.findFrom(c,e);return u?er(t,u):!1}return!1}function dv(t,e){if(!(t.state.selection instanceof me))return!0;let{$head:n,$anchor:i,empty:s}=t.state.selection;if(!n.sameParent(i))return!0;if(!s)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let a=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(a&&!a.isText){let c=t.state.tr;return e<0?c.delete(n.pos-a.nodeSize,n.pos):c.delete(n.pos,n.pos+a.nodeSize),t.dispatch(c),!0}return!1}function fv(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function fR(t){if(!Dt||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let i=e.firstChild;fv(t,i,"true"),setTimeout(()=>fv(t,i,"false"),20)}return!1}function hR(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function pR(t,e){let n=e.keyCode,i=hR(e);if(n==8||Nn&&n==72&&i=="c")return dv(t,-1)||Ks(t,-1);if(n==46&&!e.shiftKey||Nn&&n==68&&i=="c")return dv(t,1)||Ks(t,1);if(n==13||n==27)return!0;if(n==37||Nn&&n==66&&i=="c"){let s=n==37?cv(t,t.state.selection.from)=="ltr"?-1:1:-1;return ov(t,s,i)||Ks(t,s)}else if(n==39||Nn&&n==70&&i=="c"){let s=n==39?cv(t,t.state.selection.from)=="ltr"?1:-1:1;return ov(t,s,i)||Ks(t,s)}else{if(n==38||Nn&&n==80&&i=="c")return uv(t,-1,i)||Ks(t,-1);if(n==40||Nn&&n==78&&i=="c")return fR(t)||uv(t,1,i)||Ks(t,1);if(i==(Nn?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function gm(t,e){t.someProp("transformCopied",v=>{e=v(e,t)});let n=[],{content:i,openStart:s,openEnd:a}=e;for(;s>1&&a>1&&i.childCount==1&&i.firstChild.childCount==1;){s--,a--;let v=i.firstChild;n.push(v.type.name,v.attrs!=v.type.defaultAttrs?v.attrs:null),i=v.content}let c=t.someProp("clipboardSerializer")||is.fromSchema(t.state.schema),u=mS(),f=u.createElement("div");f.appendChild(c.serializeFragment(i,{document:u}));let h=f.firstChild,p,g=0;for(;h&&h.nodeType==1&&(p=pS[h.nodeName.toLowerCase()]);){for(let v=p.length-1;v>=0;v--){let w=u.createElement(p[v]);for(;f.firstChild;)w.appendChild(f.firstChild);f.appendChild(w),g++}h=f.firstChild}h&&h.nodeType==1&&h.setAttribute("data-pm-slice",`${s} ${a}${g?` -${g}`:""} ${JSON.stringify(n)}`);let x=t.someProp("clipboardTextSerializer",v=>v(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:f,text:x,slice:e}}function uS(t,e,n,i,s){let a=s.parent.type.spec.code,c,u;if(!n&&!e)return null;let f=!!e&&(i||a||!n);if(f){if(t.someProp("transformPastedText",x=>{e=x(e,a||i,t)}),a)return u=new te(J.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0),t.someProp("transformPasted",x=>{u=x(u,t,!0)}),u;let g=t.someProp("clipboardTextParser",x=>x(e,s,i,t));if(g)u=g;else{let x=s.marks(),{schema:v}=t.state,w=is.fromSchema(v);c=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(k=>{let E=c.appendChild(document.createElement("p"));k&&E.appendChild(w.serializeNode(v.text(k,x)))})}}else t.someProp("transformPastedHTML",g=>{n=g(n,t)}),c=bR(n),Ja&&xR(c);let h=c&&c.querySelector("[data-pm-slice]"),p=h&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(h.getAttribute("data-pm-slice")||"");if(p&&p[3])for(let g=+p[3];g>0;g--){let x=c.firstChild;for(;x&&x.nodeType!=1;)x=x.nextSibling;if(!x)break;c=x}if(u||(u=(t.someProp("clipboardParser")||t.someProp("domParser")||or.fromSchema(t.state.schema)).parseSlice(c,{preserveWhitespace:!!(f||p),context:s,ruleFromNode(x){return x.nodeName=="BR"&&!x.nextSibling&&x.parentNode&&!mR.test(x.parentNode.nodeName)?{ignore:!0}:null}})),p)u=vR(hv(u,+p[1],+p[2]),p[4]);else if(u=te.maxOpen(gR(u.content,s),!0),u.openStart||u.openEnd){let g=0,x=0;for(let v=u.content.firstChild;g<u.openStart&&!v.type.spec.isolating;g++,v=v.firstChild);for(let v=u.content.lastChild;x<u.openEnd&&!v.type.spec.isolating;x++,v=v.lastChild);u=hv(u,g,x)}return t.someProp("transformPasted",g=>{u=g(u,t,f)}),u}const mR=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function gR(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let s=e.node(n).contentMatchAt(e.index(n)),a,c=[];if(t.forEach(u=>{if(!c)return;let f=s.findWrapping(u.type),h;if(!f)return c=null;if(h=c.length&&a.length&&fS(f,a,u,c[c.length-1],0))c[c.length-1]=h;else{c.length&&(c[c.length-1]=hS(c[c.length-1],a.length));let p=dS(u,f);c.push(p),s=s.matchType(p.type),a=f}}),c)return J.from(c)}return t}function dS(t,e,n=0){for(let i=e.length-1;i>=n;i--)t=e[i].create(null,J.from(t));return t}function fS(t,e,n,i,s){if(s<t.length&&s<e.length&&t[s]==e[s]){let a=fS(t,e,n,i.lastChild,s+1);if(a)return i.copy(i.content.replaceChild(i.childCount-1,a));if(i.contentMatchAt(i.childCount).matchType(s==t.length-1?n.type:t[s+1]))return i.copy(i.content.append(J.from(dS(n,t,s+1))))}}function hS(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,hS(t.lastChild,e-1)),i=t.contentMatchAt(t.childCount).fillBefore(J.empty,!0);return t.copy(n.append(i))}function Rp(t,e,n,i,s,a){let c=e<0?t.firstChild:t.lastChild,u=c.content;return t.childCount>1&&(a=0),s<i-1&&(u=Rp(u,e,n,i,s+1,a)),s>=n&&(u=e<0?c.contentMatchAt(0).fillBefore(u,a<=s).append(u):u.append(c.contentMatchAt(c.childCount).fillBefore(J.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,c.copy(u))}function hv(t,e,n){return e<t.openStart&&(t=new te(Rp(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new te(Rp(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const pS={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let pv=null;function mS(){return pv||(pv=document.implementation.createHTMLDocument("title"))}let Kh=null;function yR(t){let e=window.trustedTypes;return e?(Kh||(Kh=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),Kh.createHTML(t)):t}function bR(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=mS().createElement("div"),i=/<([a-z][^>\s]+)/i.exec(t),s;if((s=i&&pS[i[1].toLowerCase()])&&(t=s.map(a=>"<"+a+">").join("")+t+s.map(a=>"</"+a+">").reverse().join("")),n.innerHTML=yR(t),s)for(let a=0;a<s.length;a++)n=n.querySelector(s[a])||n;return n}function xR(t){let e=t.querySelectorAll(wt?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let i=e[n];i.childNodes.length==1&&i.textContent==""&&i.parentNode&&i.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),i)}}function vR(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,i;try{i=JSON.parse(e)}catch{return t}let{content:s,openStart:a,openEnd:c}=t;for(let u=i.length-2;u>=0;u-=2){let f=n.nodes[i[u]];if(!f||f.hasRequiredAttrs())break;s=J.from(f.create(i[u+1],s)),a++,c++}return new te(s,a,c)}const It={},Pt={},wR={touchstart:!0,touchmove:!0};class SR{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.badSafariComposition=!1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function kR(t){for(let e in It){let n=It[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=i=>{NR(t,i)&&!ym(t,i)&&(t.editable||!(i.type in Pt))&&n(t,i)},wR[e]?{passive:!0}:void 0)}Dt&&t.dom.addEventListener("input",()=>null),jp(t)}function ar(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function ER(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function jp(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=i=>ym(t,i))})}function ym(t,e){return t.someProp("handleDOMEvents",n=>{let i=n[e.type];return i?i(t,e)||e.defaultPrevented:!1})}function NR(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function TR(t,e){!ym(t,e)&&It[e.type]&&(t.editable||!(e.type in Pt))&&It[e.type](t,e)}Pt.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!yS(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(vi&&wt&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),il&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let i=Date.now();t.input.lastIOSEnter=i,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==i&&(t.someProp("handleKeyDown",s=>s(t,Br(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",i=>i(t,n))||pR(t,n)?n.preventDefault():ar(t,"key")};Pt.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};Pt.keypress=(t,e)=>{let n=e;if(yS(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||Nn&&n.metaKey)return;if(t.someProp("handleKeyPress",s=>s(t,n))){n.preventDefault();return}let i=t.state.selection;if(!(i instanceof me)||!i.$from.sameParent(i.$to)){let s=String.fromCharCode(n.charCode),a=()=>t.state.tr.insertText(s).scrollIntoView();!/[\r\n]/.test(s)&&!t.someProp("handleTextInput",c=>c(t,i.$from.pos,i.$to.pos,s,a))&&t.dispatch(a()),n.preventDefault()}};function Yu(t){return{left:t.clientX,top:t.clientY}}function CR(t,e){let n=e.x-t.clientX,i=e.y-t.clientY;return n*n+i*i<100}function bm(t,e,n,i,s){if(i==-1)return!1;let a=t.state.doc.resolve(i);for(let c=a.depth+1;c>0;c--)if(t.someProp(e,u=>c>a.depth?u(t,n,a.nodeAfter,a.before(c),s,!0):u(t,n,a.node(c),a.before(c),s,!1)))return!0;return!1}function Qs(t,e,n){if(t.focused||t.focus(),t.state.selection.eq(e))return;let i=t.state.tr.setSelection(e);i.setMeta("pointer",!0),t.dispatch(i)}function AR(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),i=n.nodeAfter;return i&&i.isAtom&&ce.isSelectable(i)?(Qs(t,new ce(n)),!0):!1}function MR(t,e){if(e==-1)return!1;let n=t.state.selection,i,s;n instanceof ce&&(i=n.node);let a=t.state.doc.resolve(e);for(let c=a.depth+1;c>0;c--){let u=c>a.depth?a.nodeAfter:a.node(c);if(ce.isSelectable(u)){i&&n.$from.depth>0&&c>=n.$from.depth&&a.before(n.$from.depth+1)==n.$from.pos?s=a.before(n.$from.depth):s=a.before(c);break}}return s!=null?(Qs(t,ce.create(t.state.doc,s)),!0):!1}function OR(t,e,n,i,s){return bm(t,"handleClickOn",e,n,i)||t.someProp("handleClick",a=>a(t,e,i))||(s?MR(t,n):AR(t,n))}function RR(t,e,n,i){return bm(t,"handleDoubleClickOn",e,n,i)||t.someProp("handleDoubleClick",s=>s(t,e,i))}function jR(t,e,n,i){return bm(t,"handleTripleClickOn",e,n,i)||t.someProp("handleTripleClick",s=>s(t,e,i))||DR(t,n,i)}function DR(t,e,n){if(n.button!=0)return!1;let i=t.state.doc;if(e==-1)return i.inlineContent?(Qs(t,me.create(i,0,i.content.size)),!0):!1;let s=i.resolve(e);for(let a=s.depth+1;a>0;a--){let c=a>s.depth?s.nodeAfter:s.node(a),u=s.before(a);if(c.inlineContent)Qs(t,me.create(i,u+1,u+1+c.content.size));else if(ce.isSelectable(c))Qs(t,ce.create(i,u));else continue;return!0}}function xm(t){return Qc(t)}const gS=Nn?"metaKey":"ctrlKey";It.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let i=xm(t),s=Date.now(),a="singleClick";s-t.input.lastClick.time<500&&CR(n,t.input.lastClick)&&!n[gS]&&t.input.lastClick.button==n.button&&(t.input.lastClick.type=="singleClick"?a="doubleClick":t.input.lastClick.type=="doubleClick"&&(a="tripleClick")),t.input.lastClick={time:s,x:n.clientX,y:n.clientY,type:a,button:n.button};let c=t.posAtCoords(Yu(n));c&&(a=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new zR(t,c,n,!!i)):(a=="doubleClick"?RR:jR)(t,c.pos,c.inside,n)?n.preventDefault():ar(t,"pointer"))};class zR{constructor(e,n,i,s){this.view=e,this.pos=n,this.event=i,this.flushed=s,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!i[gS],this.allowDefault=i.shiftKey;let a,c;if(n.inside>-1)a=e.state.doc.nodeAt(n.inside),c=n.inside;else{let p=e.state.doc.resolve(n.pos);a=p.parent,c=p.depth?p.before():0}const u=s?null:i.target,f=u?e.docView.nearestDesc(u,!0):null;this.target=f&&f.nodeDOM.nodeType==1?f.nodeDOM:null;let{selection:h}=e.state;(i.button==0&&a.type.spec.draggable&&a.type.spec.selectable!==!1||h instanceof ce&&h.from<=c&&h.to>c)&&(this.mightDrag={node:a,pos:c,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Cn&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),ar(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>ki(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(Yu(e))),this.updateAllowDefault(e),this.allowDefault||!n?ar(this.view,"pointer"):OR(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||Dt&&this.mightDrag&&!this.mightDrag.node.isAtom||wt&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(Qs(this.view,we.near(this.view.state.doc.resolve(n.pos))),e.preventDefault()):ar(this.view,"pointer")}move(e){this.updateAllowDefault(e),ar(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}It.touchstart=t=>{t.input.lastTouch=Date.now(),xm(t),ar(t,"pointer")};It.touchmove=t=>{t.input.lastTouch=Date.now(),ar(t,"pointer")};It.contextmenu=t=>xm(t);function yS(t,e){return t.composing?!0:Dt&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const LR=vi?5e3:-1;Pt.compositionstart=Pt.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$to;if(e.selection instanceof me&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(i=>i.type.spec.inclusive===!1)||wt&&Yw&&_R(t)))t.markCursor=t.state.storedMarks||n.marks(),Qc(t,!0),t.markCursor=null;else if(Qc(t,!e.selection.empty),Cn&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let i=t.domSelectionRange();for(let s=i.focusNode,a=i.focusOffset;s&&s.nodeType==1&&a!=0;){let c=a<0?s.lastChild:s.childNodes[a-1];if(!c)break;if(c.nodeType==3){let u=t.domSelection();u&&u.collapse(c,c.nodeValue.length);break}else s=c,a=-1}}t.input.composing=!0}bS(t,LR)};function _R(t){let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(!e||e.nodeType!=1||n>=e.childNodes.length)return!1;let i=e.childNodes[n];return i.nodeType==1&&i.contentEditable=="false"}Pt.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.badSafariComposition?t.domObserver.forceFlush():t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,bS(t,20))};function bS(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>Qc(t),e))}function xS(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=HR());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function BR(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let n=MO(e.focusNode,e.focusOffset),i=OO(e.focusNode,e.focusOffset);if(n&&i&&n!=i){let s=i.pmViewDesc,a=t.domObserver.lastChangedTextNode;if(n==a||i==a)return a;if(!s||!s.isText(i.nodeValue))return i;if(t.input.compositionNode==i){let c=n.pmViewDesc;if(!(!c||!c.isText(n.nodeValue)))return i}}return n||i}function HR(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function Qc(t,e=!1){if(!(vi&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),xS(t),e||t.docView&&t.docView.dirty){let n=pm(t),i=t.state.selection;return n&&!n.eq(i)?t.dispatch(t.state.tr.setSelection(n)):(t.markCursor||e)&&!i.$from.node(i.$from.sharedDepth(i.to)).inlineContent?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function UR(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let i=getSelection(),s=document.createRange();s.selectNodeContents(e),t.dom.blur(),i.removeAllRanges(),i.addRange(s),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const ja=Zt&&cr<15||il&&zO<604;It.copy=Pt.cut=(t,e)=>{let n=e,i=t.state.selection,s=n.type=="cut";if(i.empty)return;let a=ja?null:n.clipboardData,c=i.content(),{dom:u,text:f}=gm(t,c);a?(n.preventDefault(),a.clearData(),a.setData("text/html",u.innerHTML),a.setData("text/plain",f)):UR(t,u),s&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function qR(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function IR(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,i=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(i.contentEditable="true"),i.style.cssText="position: fixed; left: -10000px; top: 10px",i.focus();let s=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),i.parentNode&&i.parentNode.removeChild(i),n?Da(t,i.value,null,s,e):Da(t,i.textContent,i.innerHTML,s,e)},50)}function Da(t,e,n,i,s){let a=uS(t,e,n,i,t.state.selection.$from);if(t.someProp("handlePaste",f=>f(t,s,a||te.empty)))return!0;if(!a)return!1;let c=qR(a),u=c?t.state.tr.replaceSelectionWith(c,i):t.state.tr.replaceSelection(a);return t.dispatch(u.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function vS(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let n=t.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}Pt.paste=(t,e)=>{let n=e;if(t.composing&&!vi)return;let i=ja?null:n.clipboardData,s=t.input.shiftKey&&t.input.lastKeyCode!=45;i&&Da(t,vS(i),i.getData("text/html"),s,n)?n.preventDefault():IR(t,n)};class wS{constructor(e,n,i){this.slice=e,this.move=n,this.node=i}}const PR=Nn?"altKey":"ctrlKey";function SS(t,e){let n=t.someProp("dragCopies",i=>!i(e));return n??!e[PR]}It.dragstart=(t,e)=>{let n=e,i=t.input.mouseDown;if(i&&i.done(),!n.dataTransfer)return;let s=t.state.selection,a=s.empty?null:t.posAtCoords(Yu(n)),c;if(!(a&&a.pos>=s.from&&a.pos<=(s instanceof ce?s.to-1:s.to))){if(i&&i.mightDrag)c=ce.create(t.state.doc,i.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let g=t.docView.nearestDesc(n.target,!0);g&&g.node.type.spec.draggable&&g!=t.docView&&(c=ce.create(t.state.doc,g.posBefore))}}let u=(c||t.state.selection).content(),{dom:f,text:h,slice:p}=gm(t,u);(!n.dataTransfer.files.length||!wt||Gw>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(ja?"Text":"text/html",f.innerHTML),n.dataTransfer.effectAllowed="copyMove",ja||n.dataTransfer.setData("text/plain",h),t.dragging=new wS(p,SS(t,n),c)};It.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};Pt.dragover=Pt.dragenter=(t,e)=>e.preventDefault();Pt.drop=(t,e)=>{try{VR(t,e,t.dragging)}finally{t.dragging=null}};function VR(t,e,n){if(!e.dataTransfer)return;let i=t.posAtCoords(Yu(e));if(!i)return;let s=t.state.doc.resolve(i.pos),a=n&&n.slice;a?t.someProp("transformPasted",v=>{a=v(a,t,!1)}):a=uS(t,vS(e.dataTransfer),ja?null:e.dataTransfer.getData("text/html"),!1,s);let c=!!(n&&SS(t,e));if(t.someProp("handleDrop",v=>v(t,e,a||te.empty,c))){e.preventDefault();return}if(!a)return;e.preventDefault();let u=a?Tw(t.state.doc,s.pos,a):s.pos;u==null&&(u=s.pos);let f=t.state.tr;if(c){let{node:v}=n;v?v.replace(f):f.deleteSelection()}let h=f.mapping.map(u),p=a.openStart==0&&a.openEnd==0&&a.content.childCount==1,g=f.doc;if(p?f.replaceRangeWith(h,h,a.content.firstChild):f.replaceRange(h,h,a),f.doc.eq(g))return;let x=f.doc.resolve(h);if(p&&ce.isSelectable(a.content.firstChild)&&x.nodeAfter&&x.nodeAfter.sameMarkup(a.content.firstChild))f.setSelection(new ce(x));else{let v=f.mapping.map(u);f.mapping.maps[f.mapping.maps.length-1].forEach((w,k,E,T)=>v=T),f.setSelection(mm(t,x,f.doc.resolve(v)))}t.focus(),t.dispatch(f.setMeta("uiEvent","drop"))}It.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&ki(t)},20))};It.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};It.beforeinput=(t,e)=>{if(wt&&vi&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:i}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=i||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",a=>a(t,Br(8,"Backspace")))))return;let{$cursor:s}=t.state.selection;s&&s.pos>0&&t.dispatch(t.state.tr.delete(s.pos-1,s.pos).scrollIntoView())},50)}};for(let t in Pt)It[t]=Pt[t];function za(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class Zc{constructor(e,n){this.toDOM=e,this.spec=n||Kr,this.side=this.spec.side||0}map(e,n,i,s){let{pos:a,deleted:c}=e.mapResult(n.from+s,this.side<0?-1:1);return c?null:new qt(a-i,a-i,this)}valid(){return!0}eq(e){return this==e||e instanceof Zc&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&za(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class dr{constructor(e,n){this.attrs=e,this.spec=n||Kr}map(e,n,i,s){let a=e.map(n.from+s,this.spec.inclusiveStart?-1:1)-i,c=e.map(n.to+s,this.spec.inclusiveEnd?1:-1)-i;return a>=c?null:new qt(a,c,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof dr&&za(this.attrs,e.attrs)&&za(this.spec,e.spec)}static is(e){return e.type instanceof dr}destroy(){}}class vm{constructor(e,n){this.attrs=e,this.spec=n||Kr}map(e,n,i,s){let a=e.mapResult(n.from+s,1);if(a.deleted)return null;let c=e.mapResult(n.to+s,-1);return c.deleted||c.pos<=a.pos?null:new qt(a.pos-i,c.pos-i,this)}valid(e,n){let{index:i,offset:s}=e.content.findIndex(n.from),a;return s==n.from&&!(a=e.child(i)).isText&&s+a.nodeSize==n.to}eq(e){return this==e||e instanceof vm&&za(this.attrs,e.attrs)&&za(this.spec,e.spec)}destroy(){}}class qt{constructor(e,n,i){this.from=e,this.to=n,this.type=i}copy(e,n){return new qt(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,i){return this.type.map(e,this,n,i)}static widget(e,n,i){return new qt(e,e,new Zc(n,i))}static inline(e,n,i,s){return new qt(e,n,new dr(i,s))}static node(e,n,i,s){return new qt(e,n,new vm(i,s))}get spec(){return this.type.spec}get inline(){return this.type instanceof dr}get widget(){return this.type instanceof Zc}}const Ys=[],Kr={};class Xe{constructor(e,n){this.local=e.length?e:Ys,this.children=n.length?n:Ys}static create(e,n){return n.length?eu(n,e,0,Kr):Lt}find(e,n,i){let s=[];return this.findInner(e??0,n??1e9,s,0,i),s}findInner(e,n,i,s,a){for(let c=0;c<this.local.length;c++){let u=this.local[c];u.from<=n&&u.to>=e&&(!a||a(u.spec))&&i.push(u.copy(u.from+s,u.to+s))}for(let c=0;c<this.children.length;c+=3)if(this.children[c]<n&&this.children[c+1]>e){let u=this.children[c]+1;this.children[c+2].findInner(e-u,n-u,i,s+u,a)}}map(e,n,i){return this==Lt||e.maps.length==0?this:this.mapInner(e,n,0,0,i||Kr)}mapInner(e,n,i,s,a){let c;for(let u=0;u<this.local.length;u++){let f=this.local[u].map(e,i,s);f&&f.type.valid(n,f)?(c||(c=[])).push(f):a.onRemove&&a.onRemove(this.local[u].spec)}return this.children.length?$R(this.children,c||[],e,n,i,s,a):c?new Xe(c.sort(Gr),Ys):Lt}add(e,n){return n.length?this==Lt?Xe.create(e,n):this.addInner(e,n,0):this}addInner(e,n,i){let s,a=0;e.forEach((u,f)=>{let h=f+i,p;if(p=ES(n,u,h)){for(s||(s=this.children.slice());a<s.length&&s[a]<f;)a+=3;s[a]==f?s[a+2]=s[a+2].addInner(u,p,h+1):s.splice(a,0,f,f+u.nodeSize,eu(p,u,h+1,Kr)),a+=3}});let c=kS(a?NS(n):n,-i);for(let u=0;u<c.length;u++)c[u].type.valid(e,c[u])||c.splice(u--,1);return new Xe(c.length?this.local.concat(c).sort(Gr):this.local,s||this.children)}remove(e){return e.length==0||this==Lt?this:this.removeInner(e,0)}removeInner(e,n){let i=this.children,s=this.local;for(let a=0;a<i.length;a+=3){let c,u=i[a]+n,f=i[a+1]+n;for(let p=0,g;p<e.length;p++)(g=e[p])&&g.from>u&&g.to<f&&(e[p]=null,(c||(c=[])).push(g));if(!c)continue;i==this.children&&(i=this.children.slice());let h=i[a+2].removeInner(c,u+1);h!=Lt?i[a+2]=h:(i.splice(a,3),a-=3)}if(s.length){for(let a=0,c;a<e.length;a++)if(c=e[a])for(let u=0;u<s.length;u++)s[u].eq(c,n)&&(s==this.local&&(s=this.local.slice()),s.splice(u--,1))}return i==this.children&&s==this.local?this:s.length||i.length?new Xe(s,i):Lt}forChild(e,n){if(this==Lt)return this;if(n.isLeaf)return Xe.empty;let i,s;for(let u=0;u<this.children.length;u+=3)if(this.children[u]>=e){this.children[u]==e&&(i=this.children[u+2]);break}let a=e+1,c=a+n.content.size;for(let u=0;u<this.local.length;u++){let f=this.local[u];if(f.from<c&&f.to>a&&f.type instanceof dr){let h=Math.max(a,f.from)-a,p=Math.min(c,f.to)-a;h<p&&(s||(s=[])).push(f.copy(h,p))}}if(s){let u=new Xe(s.sort(Gr),Ys);return i?new ir([u,i]):u}return i||Lt}eq(e){if(this==e)return!0;if(!(e instanceof Xe)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return wm(this.localsInner(e))}localsInner(e){if(this==Lt)return Ys;if(e.inlineContent||!this.local.some(dr.is))return this.local;let n=[];for(let i=0;i<this.local.length;i++)this.local[i].type instanceof dr||n.push(this.local[i]);return n}forEachSet(e){e(this)}}Xe.empty=new Xe([],[]);Xe.removeOverlap=wm;const Lt=Xe.empty;class ir{constructor(e){this.members=e}map(e,n){const i=this.members.map(s=>s.map(e,n,Kr));return ir.from(i)}forChild(e,n){if(n.isLeaf)return Xe.empty;let i=[];for(let s=0;s<this.members.length;s++){let a=this.members[s].forChild(e,n);a!=Lt&&(a instanceof ir?i=i.concat(a.members):i.push(a))}return ir.from(i)}eq(e){if(!(e instanceof ir)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,i=!0;for(let s=0;s<this.members.length;s++){let a=this.members[s].localsInner(e);if(a.length)if(!n)n=a;else{i&&(n=n.slice(),i=!1);for(let c=0;c<a.length;c++)n.push(a[c])}}return n?wm(i?n:n.sort(Gr)):Ys}static from(e){switch(e.length){case 0:return Lt;case 1:return e[0];default:return new ir(e.every(n=>n instanceof Xe)?e:e.reduce((n,i)=>n.concat(i instanceof Xe?i:i.members),[]))}}forEachSet(e){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(e)}}function $R(t,e,n,i,s,a,c){let u=t.slice();for(let h=0,p=a;h<n.maps.length;h++){let g=0;n.maps[h].forEach((x,v,w,k)=>{let E=k-w-(v-x);for(let T=0;T<u.length;T+=3){let M=u[T+1];if(M<0||x>M+p-g)continue;let z=u[T]+p-g;v>=z?u[T+1]=x<=z?-2:-1:x>=p&&E&&(u[T]+=E,u[T+1]+=E)}g+=E}),p=n.maps[h].map(p,-1)}let f=!1;for(let h=0;h<u.length;h+=3)if(u[h+1]<0){if(u[h+1]==-2){f=!0,u[h+1]=-1;continue}let p=n.map(t[h]+a),g=p-s;if(g<0||g>=i.content.size){f=!0;continue}let x=n.map(t[h+1]+a,-1),v=x-s,{index:w,offset:k}=i.content.findIndex(g),E=i.maybeChild(w);if(E&&k==g&&k+E.nodeSize==v){let T=u[h+2].mapInner(n,E,p+1,t[h]+a+1,c);T!=Lt?(u[h]=g,u[h+1]=v,u[h+2]=T):(u[h+1]=-2,f=!0)}else f=!0}if(f){let h=FR(u,t,e,n,s,a,c),p=eu(h,i,0,c);e=p.local;for(let g=0;g<u.length;g+=3)u[g+1]<0&&(u.splice(g,3),g-=3);for(let g=0,x=0;g<p.children.length;g+=3){let v=p.children[g];for(;x<u.length&&u[x]<v;)x+=3;u.splice(x,0,p.children[g],p.children[g+1],p.children[g+2])}}return new Xe(e.sort(Gr),u)}function kS(t,e){if(!e||!t.length)return t;let n=[];for(let i=0;i<t.length;i++){let s=t[i];n.push(new qt(s.from+e,s.to+e,s.type))}return n}function FR(t,e,n,i,s,a,c){function u(f,h){for(let p=0;p<f.local.length;p++){let g=f.local[p].map(i,s,h);g?n.push(g):c.onRemove&&c.onRemove(f.local[p].spec)}for(let p=0;p<f.children.length;p+=3)u(f.children[p+2],f.children[p]+h+1)}for(let f=0;f<t.length;f+=3)t[f+1]==-1&&u(t[f+2],e[f]+a+1);return n}function ES(t,e,n){if(e.isLeaf)return null;let i=n+e.nodeSize,s=null;for(let a=0,c;a<t.length;a++)(c=t[a])&&c.from>n&&c.to<i&&((s||(s=[])).push(c),t[a]=null);return s}function NS(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function eu(t,e,n,i){let s=[],a=!1;e.forEach((u,f)=>{let h=ES(t,u,f+n);if(h){a=!0;let p=eu(h,u,n+f+1,i);p!=Lt&&s.push(f,f+u.nodeSize,p)}});let c=kS(a?NS(t):t,-n).sort(Gr);for(let u=0;u<c.length;u++)c[u].type.valid(e,c[u])||(i.onRemove&&i.onRemove(c[u].spec),c.splice(u--,1));return c.length||s.length?new Xe(c,s):Lt}function Gr(t,e){return t.from-e.from||t.to-e.to}function wm(t){let e=t;for(let n=0;n<e.length-1;n++){let i=e[n];if(i.from!=i.to)for(let s=n+1;s<e.length;s++){let a=e[s];if(a.from==i.from){a.to!=i.to&&(e==t&&(e=t.slice()),e[s]=a.copy(a.from,i.to),mv(e,s+1,a.copy(i.to,a.to)));continue}else{a.from<i.to&&(e==t&&(e=t.slice()),e[n]=i.copy(i.from,a.from),mv(e,s,i.copy(a.from,i.to)));break}}}return e}function mv(t,e,n){for(;e<t.length&&Gr(n,t[e])>0;)e++;t.splice(e,0,n)}function Gh(t){let e=[];return t.someProp("decorations",n=>{let i=n(t.state);i&&i!=Lt&&e.push(i)}),t.cursorWrapper&&e.push(Xe.create(t.state.doc,[t.cursorWrapper.deco])),ir.from(e)}const KR={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},GR=Zt&&cr<=11;class YR{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class JR{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new YR,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(i=>{for(let s=0;s<i.length;s++)this.queue.push(i[s]);Zt&&cr<=11&&i.some(s=>s.type=="childList"&&s.removedNodes.length||s.type=="characterData"&&s.oldValue.length>s.target.nodeValue.length)?this.flushSoon():Dt&&e.composing&&i.some(s=>s.type=="childList"&&s.target.nodeName=="TR")?(e.input.badSafariComposition=!0,this.flushSoon()):this.flush()}),GR&&(this.onCharData=i=>{this.queue.push({target:i.target,type:"characterData",oldValue:i.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,KR)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(av(this.view)){if(this.suppressingSelectionUpdates)return ki(this.view);if(Zt&&cr<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&Zr(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,i;for(let a=e.focusNode;a;a=nl(a))n.add(a);for(let a=e.anchorNode;a;a=nl(a))if(n.has(a)){i=a;break}let s=i&&this.view.docView.nearestDesc(i);if(s&&s.ignoreMutation({type:"selection",target:i.nodeType==3?i.parentNode:i}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let i=e.domSelectionRange(),s=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(i)&&av(e)&&!this.ignoreSelectionChange(i),a=-1,c=-1,u=!1,f=[];if(e.editable)for(let p=0;p<n.length;p++){let g=this.registerMutation(n[p],f);g&&(a=a<0?g.from:Math.min(g.from,a),c=c<0?g.to:Math.max(g.to,c),g.typeOver&&(u=!0))}if(Cn&&f.length){let p=f.filter(g=>g.nodeName=="BR");if(p.length==2){let[g,x]=p;g.parentNode&&g.parentNode.parentNode==x.parentNode?x.remove():g.remove()}else{let{focusNode:g}=this.currentSelection;for(let x of p){let v=x.parentNode;v&&v.nodeName=="LI"&&(!g||QR(e,g)!=v)&&x.remove()}}}else if((wt||Dt)&&f.some(p=>p.nodeName=="BR")&&(e.input.lastKeyCode==8||e.input.lastKeyCode==46)){for(let p of f)if(p.nodeName=="BR"&&p.parentNode){let g=p.nextSibling;g&&g.nodeType==1&&g.contentEditable=="false"&&p.parentNode.removeChild(p)}}let h=null;a<0&&s&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&Ku(i)&&(h=pm(e))&&h.eq(we.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,ki(e),this.currentSelection.set(i),e.scrollToSelection()):(a>-1||s)&&(a>-1&&(e.docView.markDirty(a,c),XR(e)),e.input.badSafariComposition&&(e.input.badSafariComposition=!1,ZR(e,f)),this.handleDOMChange(a,c,u,f),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(i)||ki(e),this.currentSelection.set(i))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let i=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(i==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!i||i.ignoreMutation(e))return null;if(e.type=="childList"){for(let p=0;p<e.addedNodes.length;p++){let g=e.addedNodes[p];n.push(g),g.nodeType==3&&(this.lastChangedTextNode=g)}if(i.contentDOM&&i.contentDOM!=i.dom&&!i.contentDOM.contains(e.target))return{from:i.posBefore,to:i.posAfter};let s=e.previousSibling,a=e.nextSibling;if(Zt&&cr<=11&&e.addedNodes.length)for(let p=0;p<e.addedNodes.length;p++){let{previousSibling:g,nextSibling:x}=e.addedNodes[p];(!g||Array.prototype.indexOf.call(e.addedNodes,g)<0)&&(s=g),(!x||Array.prototype.indexOf.call(e.addedNodes,x)<0)&&(a=x)}let c=s&&s.parentNode==e.target?Rt(s)+1:0,u=i.localPosFromDOM(e.target,c,-1),f=a&&a.parentNode==e.target?Rt(a):e.target.childNodes.length,h=i.localPosFromDOM(e.target,f,1);return{from:u,to:h}}else return e.type=="attributes"?{from:i.posAtStart-i.border,to:i.posAtEnd+i.border}:(this.lastChangedTextNode=e.target,{from:i.posAtStart,to:i.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let gv=new WeakMap,yv=!1;function XR(t){if(!gv.has(t)&&(gv.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=Cn,yv)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),yv=!0}}function bv(t,e){let n=e.startContainer,i=e.startOffset,s=e.endContainer,a=e.endOffset,c=t.domAtPos(t.state.selection.anchor);return Zr(c.node,c.offset,s,a)&&([n,i,s,a]=[s,a,n,i]),{anchorNode:n,anchorOffset:i,focusNode:s,focusOffset:a}}function WR(t,e){if(e.getComposedRanges){let s=e.getComposedRanges(t.root)[0];if(s)return bv(t,s)}let n;function i(s){s.preventDefault(),s.stopImmediatePropagation(),n=s.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",i,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",i,!0),n?bv(t,n):null}function QR(t,e){for(let n=e.parentNode;n&&n!=t.dom;n=n.parentNode){let i=t.docView.nearestDesc(n,!0);if(i&&i.node.isBlock)return n}return null}function ZR(t,e){var n;let{focusNode:i,focusOffset:s}=t.domSelectionRange();for(let a of e)if(((n=a.parentNode)===null||n===void 0?void 0:n.nodeName)=="TR"){let c=a.nextSibling;for(;c&&c.nodeName!="TD"&&c.nodeName!="TH";)c=c.nextSibling;if(c){let u=c;for(;;){let f=u.firstChild;if(!f||f.nodeType!=1||f.contentEditable=="false"||/^(BR|IMG)$/.test(f.nodeName))break;u=f}u.insertBefore(a,u.firstChild),i==a&&t.domSelection().collapse(a,s)}else a.parentNode.removeChild(a)}}function ej(t,e,n){let{node:i,fromOffset:s,toOffset:a,from:c,to:u}=t.docView.parseRange(e,n),f=t.domSelectionRange(),h,p=f.anchorNode;if(p&&t.dom.contains(p.nodeType==1?p:p.parentNode)&&(h=[{node:p,offset:f.anchorOffset}],Ku(f)||h.push({node:f.focusNode,offset:f.focusOffset})),wt&&t.input.lastKeyCode===8)for(let E=a;E>s;E--){let T=i.childNodes[E-1],M=T.pmViewDesc;if(T.nodeName=="BR"&&!M){a=E;break}if(!M||M.size)break}let g=t.state.doc,x=t.someProp("domParser")||or.fromSchema(t.state.schema),v=g.resolve(c),w=null,k=x.parse(i,{topNode:v.parent,topMatch:v.parent.contentMatchAt(v.index()),topOpen:!0,from:s,to:a,preserveWhitespace:v.parent.type.whitespace=="pre"?"full":!0,findPositions:h,ruleFromNode:tj,context:v});if(h&&h[0].pos!=null){let E=h[0].pos,T=h[1]&&h[1].pos;T==null&&(T=E),w={anchor:E+c,head:T+c}}return{doc:k,sel:w,from:c,to:u}}function tj(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(Dt&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||Dt&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const nj=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function ij(t,e,n,i,s){let a=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let L=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,G=pm(t,L);if(G&&!t.state.selection.eq(G)){if(wt&&vi&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",ue=>ue(t,Br(13,"Enter"))))return;let Z=t.state.tr.setSelection(G);L=="pointer"?Z.setMeta("pointer",!0):L=="key"&&Z.scrollIntoView(),a&&Z.setMeta("composition",a),t.dispatch(Z)}return}let c=t.state.doc.resolve(e),u=c.sharedDepth(n);e=c.before(u+1),n=t.state.doc.resolve(n).after(u+1);let f=t.state.selection,h=ej(t,e,n),p=t.state.doc,g=p.slice(h.from,h.to),x,v;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(x=t.state.selection.to,v="end"):(x=t.state.selection.from,v="start"),t.input.lastKeyCode=null;let w=lj(g.content,h.doc.content,h.from,x,v);if(w&&t.input.domChangeCount++,(il&&t.input.lastIOSEnter>Date.now()-225||vi)&&s.some(L=>L.nodeType==1&&!nj.test(L.nodeName))&&(!w||w.endA>=w.endB)&&t.someProp("handleKeyDown",L=>L(t,Br(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!w)if(i&&f instanceof me&&!f.empty&&f.$head.sameParent(f.$anchor)&&!t.composing&&!(h.sel&&h.sel.anchor!=h.sel.head))w={start:f.from,endA:f.to,endB:f.to};else{if(h.sel){let L=xv(t,t.state.doc,h.sel);if(L&&!L.eq(t.state.selection)){let G=t.state.tr.setSelection(L);a&&G.setMeta("composition",a),t.dispatch(G)}}return}t.state.selection.from<t.state.selection.to&&w.start==w.endB&&t.state.selection instanceof me&&(w.start>t.state.selection.from&&w.start<=t.state.selection.from+2&&t.state.selection.from>=h.from?w.start=t.state.selection.from:w.endA<t.state.selection.to&&w.endA>=t.state.selection.to-2&&t.state.selection.to<=h.to&&(w.endB+=t.state.selection.to-w.endA,w.endA=t.state.selection.to)),Zt&&cr<=11&&w.endB==w.start+1&&w.endA==w.start&&w.start>h.from&&h.doc.textBetween(w.start-h.from-1,w.start-h.from+1)==" "&&(w.start--,w.endA--,w.endB--);let k=h.doc.resolveNoCache(w.start-h.from),E=h.doc.resolveNoCache(w.endB-h.from),T=p.resolve(w.start),M=k.sameParent(E)&&k.parent.inlineContent&&T.end()>=w.endA;if((il&&t.input.lastIOSEnter>Date.now()-225&&(!M||s.some(L=>L.nodeName=="DIV"||L.nodeName=="P"))||!M&&k.pos<h.doc.content.size&&(!k.sameParent(E)||!k.parent.inlineContent)&&k.pos<E.pos&&!/\S/.test(h.doc.textBetween(k.pos,E.pos,"","")))&&t.someProp("handleKeyDown",L=>L(t,Br(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>w.start&&sj(p,w.start,w.endA,k,E)&&t.someProp("handleKeyDown",L=>L(t,Br(8,"Backspace")))){vi&&wt&&t.domObserver.suppressSelectionUpdates();return}wt&&w.endB==w.start&&(t.input.lastChromeDelete=Date.now()),vi&&!M&&k.start()!=E.start()&&E.parentOffset==0&&k.depth==E.depth&&h.sel&&h.sel.anchor==h.sel.head&&h.sel.head==w.endA&&(w.endB-=2,E=h.doc.resolveNoCache(w.endB-h.from),setTimeout(()=>{t.someProp("handleKeyDown",function(L){return L(t,Br(13,"Enter"))})},20));let z=w.start,P=w.endA,D=L=>{let G=L||t.state.tr.replace(z,P,h.doc.slice(w.start-h.from,w.endB-h.from));if(h.sel){let Z=xv(t,G.doc,h.sel);Z&&!(wt&&t.composing&&Z.empty&&(w.start!=w.endB||t.input.lastChromeDelete<Date.now()-100)&&(Z.head==z||Z.head==G.mapping.map(P)-1)||Zt&&Z.empty&&Z.head==z)&&G.setSelection(Z)}return a&&G.setMeta("composition",a),G.scrollIntoView()},$;if(M)if(k.pos==E.pos){Zt&&cr<=11&&k.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>ki(t),20));let L=D(t.state.tr.delete(z,P)),G=p.resolve(w.start).marksAcross(p.resolve(w.endA));G&&L.ensureMarks(G),t.dispatch(L)}else if(w.endA==w.endB&&($=rj(k.parent.content.cut(k.parentOffset,E.parentOffset),T.parent.content.cut(T.parentOffset,w.endA-T.start())))){let L=D(t.state.tr);$.type=="add"?L.addMark(z,P,$.mark):L.removeMark(z,P,$.mark),t.dispatch(L)}else if(k.parent.child(k.index()).isText&&k.index()==E.index()-(E.textOffset?0:1)){let L=k.parent.textBetween(k.parentOffset,E.parentOffset),G=()=>D(t.state.tr.insertText(L,z,P));t.someProp("handleTextInput",Z=>Z(t,z,P,L,G))||t.dispatch(G())}else t.dispatch(D());else t.dispatch(D())}function xv(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:mm(t,e.resolve(n.anchor),e.resolve(n.head))}function rj(t,e){let n=t.firstChild.marks,i=e.firstChild.marks,s=n,a=i,c,u,f;for(let p=0;p<i.length;p++)s=i[p].removeFromSet(s);for(let p=0;p<n.length;p++)a=n[p].removeFromSet(a);if(s.length==1&&a.length==0)u=s[0],c="add",f=p=>p.mark(u.addToSet(p.marks));else if(s.length==0&&a.length==1)u=a[0],c="remove",f=p=>p.mark(u.removeFromSet(p.marks));else return null;let h=[];for(let p=0;p<e.childCount;p++)h.push(f(e.child(p)));if(J.from(h).eq(t))return{mark:u,type:c}}function sj(t,e,n,i,s){if(n-e<=s.pos-i.pos||Yh(i,!0,!1)<s.pos)return!1;let a=t.resolve(e);if(!i.parent.isTextblock){let u=a.nodeAfter;return u!=null&&n==e+u.nodeSize}if(a.parentOffset<a.parent.content.size||!a.parent.isTextblock)return!1;let c=t.resolve(Yh(a,!0,!0));return!c.parent.isTextblock||c.pos>n||Yh(c,!0,!1)<n?!1:i.parent.content.cut(i.parentOffset).eq(c.parent.content)}function Yh(t,e,n){let i=t.depth,s=e?t.end():t.pos;for(;i>0&&(e||t.indexAfter(i)==t.node(i).childCount);)i--,s++,e=!1;if(n){let a=t.node(i).maybeChild(t.indexAfter(i));for(;a&&!a.isLeaf;)a=a.firstChild,s++}return s}function lj(t,e,n,i,s){let a=t.findDiffStart(e,n);if(a==null)return null;let{a:c,b:u}=t.findDiffEnd(e,n+t.size,n+e.size);if(s=="end"){let f=Math.max(0,a-Math.min(c,u));i-=c+f-a}if(c<a&&t.size<e.size){let f=i<=a&&i>=c?a-i:0;a-=f,a&&a<e.size&&vv(e.textBetween(a-1,a+1))&&(a+=f?1:-1),u=a+(u-c),c=a}else if(u<a){let f=i<=a&&i>=u?a-i:0;a-=f,a&&a<t.size&&vv(t.textBetween(a-1,a+1))&&(a+=f?1:-1),c=a+(c-u),u=a}return{start:a,endA:c,endB:u}}function vv(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),n=t.charCodeAt(1);return e>=56320&&e<=57343&&n>=55296&&n<=56319}class TS{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new SR,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(Nv),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=kv(this),Sv(this),this.nodeViews=Ev(this),this.docView=tv(this.state.doc,wv(this),Gh(this),this.dom,this),this.domObserver=new JR(this,(i,s,a,c)=>ij(this,i,s,a,c)),this.domObserver.start(),kR(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&jp(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(Nv),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let i in this._props)n[i]=this._props[i];n.state=this.state;for(let i in e)n[i]=e[i];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){var i;let s=this.state,a=!1,c=!1;e.storedMarks&&this.composing&&(xS(this),c=!0),this.state=e;let u=s.plugins!=e.plugins||this._props.plugins!=n.plugins;if(u||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let v=Ev(this);oj(v,this.nodeViews)&&(this.nodeViews=v,a=!0)}(u||n.handleDOMEvents!=this._props.handleDOMEvents)&&jp(this),this.editable=kv(this),Sv(this);let f=Gh(this),h=wv(this),p=s.plugins!=e.plugins&&!s.doc.eq(e.doc)?"reset":e.scrollToSelection>s.scrollToSelection?"to selection":"preserve",g=a||!this.docView.matchesNode(e.doc,h,f);(g||!e.selection.eq(s.selection))&&(c=!0);let x=p=="preserve"&&c&&this.dom.style.overflowAnchor==null&&BO(this);if(c){this.domObserver.stop();let v=g&&(Zt||wt)&&!this.composing&&!s.selection.empty&&!e.selection.empty&&aj(s.selection,e.selection);if(g){let w=wt?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=BR(this)),(a||!this.docView.update(e.doc,h,f,this))&&(this.docView.updateOuterDeco(h),this.docView.destroy(),this.docView=tv(e.doc,h,f,this.dom,this)),w&&(!this.trackWrites||!this.dom.contains(this.trackWrites))&&(v=!0)}v||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&aR(this))?ki(this,v):(aS(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(s),!((i=this.dragging)===null||i===void 0)&&i.node&&!s.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,s),p=="reset"?this.dom.scrollTop=0:p=="to selection"?this.scrollToSelection():x&&HO(x)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof ce){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&Jx(this,n.getBoundingClientRect(),e)}else Jx(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let i=this.directPlugins[n];i.spec.view&&this.pluginViews.push(i.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let i=this.state.plugins[n];i.spec.view&&this.pluginViews.push(i.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let i=this.pluginViews[n];i.update&&i.update(this,e)}}updateDraggedNode(e,n){let i=e.node,s=-1;if(this.state.doc.nodeAt(i.from)==i.node)s=i.from;else{let a=i.from+(this.state.doc.content.size-n.doc.content.size);(a>0&&this.state.doc.nodeAt(a))==i.node&&(s=a)}this.dragging=new wS(e.slice,e.move,s<0?void 0:ce.create(this.state.doc,s))}someProp(e,n){let i=this._props&&this._props[e],s;if(i!=null&&(s=n?n(i):i))return s;for(let c=0;c<this.directPlugins.length;c++){let u=this.directPlugins[c].props[e];if(u!=null&&(s=n?n(u):u))return s}let a=this.state.plugins;if(a)for(let c=0;c<a.length;c++){let u=a[c].props[e];if(u!=null&&(s=n?n(u):u))return s}}hasFocus(){if(Zt){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&UO(this.dom),ki(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}updateRoot(){this._root=null}posAtCoords(e){return $O(this,e)}coordsAtPos(e,n=1){return Zw(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,i=-1){let s=this.docView.posFromDOM(e,n,i);if(s==null)throw new RangeError("DOM position not inside the editor");return s}endOfTextblock(e,n){return JO(this,n||this.state,e)}pasteHTML(e,n){return Da(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return Da(this,e,null,!0,n||new ClipboardEvent("paste"))}serializeForClipboard(e){return gm(this,e)}destroy(){this.docView&&(ER(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Gh(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,CO())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return TR(this,e)}domSelectionRange(){let e=this.domSelection();return e?Dt&&this.root.nodeType===11&&jO(this.dom.ownerDocument)==this.dom&&WR(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}TS.prototype.dispatch=function(t){let e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))};function wv(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let i in n)i=="class"?e.class+=" "+n[i]:i=="style"?e.style=(e.style?e.style+";":"")+n[i]:!e[i]&&i!="contenteditable"&&i!="nodeName"&&(e[i]=String(n[i]))}),e.translate||(e.translate="no"),[qt.node(0,t.state.doc.content.size,e)]}function Sv(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:qt.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function kv(t){return!t.someProp("editable",e=>e(t.state)===!1)}function aj(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function Ev(t){let e=Object.create(null);function n(i){for(let s in i)Object.prototype.hasOwnProperty.call(e,s)||(e[s]=i[s])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function oj(t,e){let n=0,i=0;for(let s in t){if(t[s]!=e[s])return!0;n++}for(let s in e)i++;return n!=i}function Nv(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var fr={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},tu={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},cj=typeof navigator<"u"&&/Mac/.test(navigator.platform),uj=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var jt=0;jt<10;jt++)fr[48+jt]=fr[96+jt]=String(jt);for(var jt=1;jt<=24;jt++)fr[jt+111]="F"+jt;for(var jt=65;jt<=90;jt++)fr[jt]=String.fromCharCode(jt+32),tu[jt]=String.fromCharCode(jt);for(var Jh in fr)tu.hasOwnProperty(Jh)||(tu[Jh]=fr[Jh]);function dj(t){var e=cj&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||uj&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?tu:fr)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const fj=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),hj=typeof navigator<"u"&&/Win/.test(navigator.platform);function pj(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let i,s,a,c;for(let u=0;u<e.length-1;u++){let f=e[u];if(/^(cmd|meta|m)$/i.test(f))c=!0;else if(/^a(lt)?$/i.test(f))i=!0;else if(/^(c|ctrl|control)$/i.test(f))s=!0;else if(/^s(hift)?$/i.test(f))a=!0;else if(/^mod$/i.test(f))fj?c=!0:s=!0;else throw new Error("Unrecognized modifier name: "+f)}return i&&(n="Alt-"+n),s&&(n="Ctrl-"+n),c&&(n="Meta-"+n),a&&(n="Shift-"+n),n}function mj(t){let e=Object.create(null);for(let n in t)e[pj(n)]=t[n];return e}function Xh(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function gj(t){return new Qe({props:{handleKeyDown:CS(t)}})}function CS(t){let e=mj(t);return function(n,i){let s=dj(i),a,c=e[Xh(s,i)];if(c&&c(n.state,n.dispatch,n))return!0;if(s.length==1&&s!=" "){if(i.shiftKey){let u=e[Xh(s,i,!1)];if(u&&u(n.state,n.dispatch,n))return!0}if((i.altKey||i.metaKey||i.ctrlKey)&&!(hj&&i.ctrlKey&&i.altKey)&&(a=fr[i.keyCode])&&a!=s){let u=e[Xh(a,i)];if(u&&u(n.state,n.dispatch,n))return!0}}return!1}}var yj=Object.defineProperty,Sm=(t,e)=>{for(var n in e)yj(t,n,{get:e[n],enumerable:!0})};function Ju(t){const{state:e,transaction:n}=t;let{selection:i}=n,{doc:s}=n,{storedMarks:a}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return a},get selection(){return i},get doc(){return s},get tr(){return i=n.selection,s=n.doc,a=n.storedMarks,n}}}var Xu=class{constructor(t){this.editor=t.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=t.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:t,editor:e,state:n}=this,{view:i}=e,{tr:s}=n,a=this.buildProps(s);return Object.fromEntries(Object.entries(t).map(([c,u])=>[c,(...h)=>{const p=u(...h)(a);return!s.getMeta("preventDispatch")&&!this.hasCustomState&&i.dispatch(s),p}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(t,e=!0){const{rawCommands:n,editor:i,state:s}=this,{view:a}=i,c=[],u=!!t,f=t||s.tr,h=()=>(!u&&e&&!f.getMeta("preventDispatch")&&!this.hasCustomState&&a.dispatch(f),c.every(g=>g===!0)),p={...Object.fromEntries(Object.entries(n).map(([g,x])=>[g,(...w)=>{const k=this.buildProps(f,e),E=x(...w)(k);return c.push(E),p}])),run:h};return p}createCan(t){const{rawCommands:e,state:n}=this,i=!1,s=t||n.tr,a=this.buildProps(s,i);return{...Object.fromEntries(Object.entries(e).map(([u,f])=>[u,(...h)=>f(...h)({...a,dispatch:void 0})])),chain:()=>this.createChain(s,i)}}buildProps(t,e=!0){const{rawCommands:n,editor:i,state:s}=this,{view:a}=i,c={tr:t,editor:i,view:a,state:Ju({state:s,transaction:t}),dispatch:e?()=>{}:void 0,chain:()=>this.createChain(t,e),can:()=>this.createCan(t),get commands(){return Object.fromEntries(Object.entries(n).map(([u,f])=>[u,(...h)=>f(...h)(c)]))}};return c}},AS={};Sm(AS,{blur:()=>bj,clearContent:()=>xj,clearNodes:()=>vj,command:()=>wj,createParagraphNear:()=>Sj,cut:()=>kj,deleteCurrentNode:()=>Ej,deleteNode:()=>Nj,deleteRange:()=>Tj,deleteSelection:()=>Cj,enter:()=>Aj,exitCode:()=>Mj,extendMarkRange:()=>Oj,first:()=>Rj,focus:()=>Dj,forEach:()=>zj,insertContent:()=>Lj,insertContentAt:()=>Hj,joinBackward:()=>Ij,joinDown:()=>qj,joinForward:()=>Pj,joinItemBackward:()=>Vj,joinItemForward:()=>$j,joinTextblockBackward:()=>Fj,joinTextblockForward:()=>Kj,joinUp:()=>Uj,keyboardShortcut:()=>Yj,lift:()=>Jj,liftEmptyBlock:()=>Xj,liftListItem:()=>Wj,newlineInCode:()=>Qj,resetAttributes:()=>Zj,scrollIntoView:()=>eD,selectAll:()=>tD,selectNodeBackward:()=>nD,selectNodeForward:()=>iD,selectParentNode:()=>rD,selectTextblockEnd:()=>sD,selectTextblockStart:()=>lD,setContent:()=>aD,setMark:()=>CD,setMeta:()=>AD,setNode:()=>MD,setNodeSelection:()=>OD,setTextDirection:()=>RD,setTextSelection:()=>jD,sinkListItem:()=>DD,splitBlock:()=>zD,splitListItem:()=>LD,toggleList:()=>_D,toggleMark:()=>BD,toggleNode:()=>HD,toggleWrap:()=>UD,undoInputRule:()=>qD,unsetAllMarks:()=>ID,unsetMark:()=>PD,unsetTextDirection:()=>VD,updateAttributes:()=>$D,wrapIn:()=>FD,wrapInList:()=>KD});var bj=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window?.getSelection())==null||n.removeAllRanges())}),!0),xj=(t=!0)=>({commands:e})=>e.setContent("",{emitUpdate:t}),vj=()=>({state:t,tr:e,dispatch:n})=>{const{selection:i}=e,{ranges:s}=i;return n&&s.forEach(({$from:a,$to:c})=>{t.doc.nodesBetween(a.pos,c.pos,(u,f)=>{if(u.type.isText)return;const{doc:h,mapping:p}=e,g=h.resolve(p.map(f)),x=h.resolve(p.map(f+u.nodeSize)),v=g.blockRange(x);if(!v)return;const w=ul(v);if(u.type.isTextblock){const{defaultType:k}=g.parent.contentMatchAt(g.index());e.setNodeMarkup(v.start,k)}(w||w===0)&&e.lift(v,w)})}),!0},wj=t=>e=>t(e),Sj=()=>({state:t,dispatch:e})=>Pw(t,e),kj=(t,e)=>({editor:n,tr:i})=>{const{state:s}=n,a=s.doc.slice(t.from,t.to);i.deleteRange(t.from,t.to);const c=i.mapping.map(e);return i.insert(c,a.content),i.setSelection(new me(i.doc.resolve(Math.max(c-1,0)))),!0},Ej=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,i=n.$anchor.node();if(i.content.size>0)return!1;const s=t.selection.$anchor;for(let a=s.depth;a>0;a-=1)if(s.node(a).type===i.type){if(e){const u=s.before(a),f=s.after(a);t.delete(u,f).scrollIntoView()}return!0}return!1};function pt(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}var Nj=t=>({tr:e,state:n,dispatch:i})=>{const s=pt(t,n.schema),a=e.selection.$anchor;for(let c=a.depth;c>0;c-=1)if(a.node(c).type===s){if(i){const f=a.before(c),h=a.after(c);e.delete(f,h).scrollIntoView()}return!0}return!1},Tj=t=>({tr:e,dispatch:n})=>{const{from:i,to:s}=t;return n&&e.delete(i,s),!0},Cj=()=>({state:t,dispatch:e})=>om(t,e),Aj=()=>({commands:t})=>t.keyboardShortcut("Enter"),Mj=()=>({state:t,dispatch:e})=>fO(t,e);function km(t){return Object.prototype.toString.call(t)==="[object RegExp]"}function nu(t,e,n={strict:!0}){const i=Object.keys(e);return i.length?i.every(s=>n.strict?e[s]===t[s]:km(e[s])?e[s].test(t[s]):e[s]===t[s]):!0}function MS(t,e,n={}){return t.find(i=>i.type===e&&nu(Object.fromEntries(Object.keys(n).map(s=>[s,i.attrs[s]])),n))}function Tv(t,e,n={}){return!!MS(t,e,n)}function Em(t,e,n){var i;if(!t||!e)return;let s=t.parent.childAfter(t.parentOffset);if((!s.node||!s.node.marks.some(p=>p.type===e))&&(s=t.parent.childBefore(t.parentOffset)),!s.node||!s.node.marks.some(p=>p.type===e)||(n=n||((i=s.node.marks[0])==null?void 0:i.attrs),!MS([...s.node.marks],e,n)))return;let c=s.index,u=t.start()+s.offset,f=c+1,h=u+s.node.nodeSize;for(;c>0&&Tv([...t.parent.child(c-1).marks],e,n);)c-=1,u-=t.parent.child(c).nodeSize;for(;f<t.parent.childCount&&Tv([...t.parent.child(f).marks],e,n);)h+=t.parent.child(f).nodeSize,f+=1;return{from:u,to:h}}function Ti(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}var Oj=(t,e={})=>({tr:n,state:i,dispatch:s})=>{const a=Ti(t,i.schema),{doc:c,selection:u}=n,{$from:f,from:h,to:p}=u;if(s){const g=Em(f,a,e);if(g&&g.from<=h&&g.to>=p){const x=me.create(c,g.from,g.to);n.setSelection(x)}}return!0},Rj=t=>e=>{const n=typeof t=="function"?t(e):t;for(let i=0;i<n.length;i+=1)if(n[i](e))return!0;return!1};function OS(t){return t instanceof me}function Ir(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function RS(t,e=null){if(!e)return null;const n=we.atStart(t),i=we.atEnd(t);if(e==="start"||e===!0)return n;if(e==="end")return i;const s=n.from,a=i.to;return e==="all"?me.create(t,Ir(0,s,a),Ir(t.content.size,s,a)):me.create(t,Ir(e,s,a),Ir(e,s,a))}function Cv(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function iu(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}function jj(){return typeof navigator<"u"?/^((?!chrome|android).)*safari/i.test(navigator.userAgent):!1}var Dj=(t=null,e={})=>({editor:n,view:i,tr:s,dispatch:a})=>{e={scrollIntoView:!0,...e};const c=()=>{(iu()||Cv())&&i.dom.focus(),jj()&&!iu()&&!Cv()&&i.dom.focus({preventScroll:!0}),requestAnimationFrame(()=>{n.isDestroyed||(i.focus(),e?.scrollIntoView&&n.commands.scrollIntoView())})};try{if(i.hasFocus()&&t===null||t===!1)return!0}catch{return!1}if(a&&t===null&&!OS(n.state.selection))return c(),!0;const u=RS(s.doc,t)||n.state.selection,f=n.state.selection.eq(u);return a&&(f||s.setSelection(u),f&&s.storedMarks&&s.setStoredMarks(s.storedMarks),c()),!0},zj=(t,e)=>n=>t.every((i,s)=>e(i,{...n,index:s})),Lj=(t,e)=>({tr:n,commands:i})=>i.insertContentAt({from:n.selection.from,to:n.selection.to},t,e),jS=t=>{const e=t.childNodes;for(let n=e.length-1;n>=0;n-=1){const i=e[n];i.nodeType===3&&i.nodeValue&&/^(\n\s\s|\n)$/.test(i.nodeValue)?t.removeChild(i):i.nodeType===1&&jS(i)}return t};function kc(t){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const e=`<body>${t}</body>`,n=new window.DOMParser().parseFromString(e,"text/html").body;return jS(n)}function La(t,e,n){if(t instanceof _n||t instanceof J)return t;n={slice:!0,parseOptions:{},...n};const i=typeof t=="object"&&t!==null,s=typeof t=="string";if(i)try{if(Array.isArray(t)&&t.length>0)return J.fromArray(t.map(u=>e.nodeFromJSON(u)));const c=e.nodeFromJSON(t);return n.errorOnInvalidContent&&c.check(),c}catch(a){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:a});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",a),La("",e,n)}if(s){if(n.errorOnInvalidContent){let c=!1,u="";const f=new mw({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:h=>(c=!0,u=typeof h=="string"?h:h.outerHTML,null)}]}})});if(n.slice?or.fromSchema(f).parseSlice(kc(t),n.parseOptions):or.fromSchema(f).parse(kc(t),n.parseOptions),n.errorOnInvalidContent&&c)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${u}`)})}const a=or.fromSchema(e);return n.slice?a.parseSlice(kc(t),n.parseOptions).content:a.parse(kc(t),n.parseOptions)}return La("",e,n)}function _j(t,e,n){const i=t.steps.length-1;if(i<e)return;const s=t.steps[i];if(!(s instanceof vt||s instanceof St))return;const a=t.mapping.maps[i];let c=0;a.forEach((u,f,h,p)=>{c===0&&(c=p)}),t.setSelection(we.near(t.doc.resolve(c),n))}var Bj=t=>!("type"in t),Hj=(t,e,n)=>({tr:i,dispatch:s,editor:a})=>{var c;if(s){n={parseOptions:a.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let u;const f=E=>{a.emit("contentError",{editor:a,error:E,disableCollaboration:()=>{"collaboration"in a.storage&&typeof a.storage.collaboration=="object"&&a.storage.collaboration&&(a.storage.collaboration.isDisabled=!0)}})},h={preserveWhitespace:"full",...n.parseOptions};if(!n.errorOnInvalidContent&&!a.options.enableContentCheck&&a.options.emitContentError)try{La(e,a.schema,{parseOptions:h,errorOnInvalidContent:!0})}catch(E){f(E)}try{u=La(e,a.schema,{parseOptions:h,errorOnInvalidContent:(c=n.errorOnInvalidContent)!=null?c:a.options.enableContentCheck})}catch(E){return f(E),!1}let{from:p,to:g}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},x=!0,v=!0;if((Bj(u)?u:[u]).forEach(E=>{E.check(),x=x?E.isText&&E.marks.length===0:!1,v=v?E.isBlock:!1}),p===g&&v){const{parent:E}=i.doc.resolve(p);E.isTextblock&&!E.type.spec.code&&!E.childCount&&(p-=1,g+=1)}let k;if(x){if(Array.isArray(e))k=e.map(E=>E.text||"").join("");else if(e instanceof J){let E="";e.forEach(T=>{T.text&&(E+=T.text)}),k=E}else typeof e=="object"&&e&&e.text?k=e.text:k=e;i.insertText(k,p,g)}else{k=u;const E=i.doc.resolve(p),T=E.node(),M=E.parentOffset===0,z=T.isText||T.isTextblock,P=T.content.size>0;M&&z&&P&&(p=Math.max(0,p-1)),i.replaceWith(p,g,k)}n.updateSelection&&_j(i,i.steps.length-1,-1),n.applyInputRules&&i.setMeta("applyInputRules",{from:p,text:k}),n.applyPasteRules&&i.setMeta("applyPasteRules",{from:p,text:k})}return!0},Uj=()=>({state:t,dispatch:e})=>cO(t,e),qj=()=>({state:t,dispatch:e})=>uO(t,e),Ij=()=>({state:t,dispatch:e})=>Lw(t,e),Pj=()=>({state:t,dispatch:e})=>Uw(t,e),Vj=()=>({state:t,dispatch:e,tr:n})=>{try{const i=Vu(t.doc,t.selection.$from.pos,-1);return i==null?!1:(n.join(i,2),e&&e(n),!0)}catch{return!1}},$j=()=>({state:t,dispatch:e,tr:n})=>{try{const i=Vu(t.doc,t.selection.$from.pos,1);return i==null?!1:(n.join(i,2),e&&e(n),!0)}catch{return!1}},Fj=()=>({state:t,dispatch:e})=>aO(t,e),Kj=()=>({state:t,dispatch:e})=>oO(t,e);function DS(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function Gj(t){const e=t.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let i,s,a,c;for(let u=0;u<e.length-1;u+=1){const f=e[u];if(/^(cmd|meta|m)$/i.test(f))c=!0;else if(/^a(lt)?$/i.test(f))i=!0;else if(/^(c|ctrl|control)$/i.test(f))s=!0;else if(/^s(hift)?$/i.test(f))a=!0;else if(/^mod$/i.test(f))iu()||DS()?c=!0:s=!0;else throw new Error(`Unrecognized modifier name: ${f}`)}return i&&(n=`Alt-${n}`),s&&(n=`Ctrl-${n}`),c&&(n=`Meta-${n}`),a&&(n=`Shift-${n}`),n}var Yj=t=>({editor:e,view:n,tr:i,dispatch:s})=>{const a=Gj(t).split(/-(?!$)/),c=a.find(h=>!["Alt","Ctrl","Meta","Shift"].includes(h)),u=new KeyboardEvent("keydown",{key:c==="Space"?" ":c,altKey:a.includes("Alt"),ctrlKey:a.includes("Ctrl"),metaKey:a.includes("Meta"),shiftKey:a.includes("Shift"),bubbles:!0,cancelable:!0}),f=e.captureTransaction(()=>{n.someProp("handleKeyDown",h=>h(n,u))});return f?.steps.forEach(h=>{const p=h.map(i.mapping);p&&s&&i.maybeStep(p)}),!0};function hr(t,e,n={}){const{from:i,to:s,empty:a}=t.selection,c=e?pt(e,t.schema):null,u=[];t.doc.nodesBetween(i,s,(g,x)=>{if(g.isText)return;const v=Math.max(i,x),w=Math.min(s,x+g.nodeSize);u.push({node:g,from:v,to:w})});const f=s-i,h=u.filter(g=>c?c.name===g.node.type.name:!0).filter(g=>nu(g.node.attrs,n,{strict:!1}));return a?!!h.length:h.reduce((g,x)=>g+x.to-x.from,0)>=f}var Jj=(t,e={})=>({state:n,dispatch:i})=>{const s=pt(t,n.schema);return hr(n,s,e)?dO(n,i):!1},Xj=()=>({state:t,dispatch:e})=>Vw(t,e),Wj=t=>({state:e,dispatch:n})=>{const i=pt(t,e.schema);return kO(i)(e,n)},Qj=()=>({state:t,dispatch:e})=>Iw(t,e);function Wu(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function Av(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((i,s)=>(n.includes(s)||(i[s]=t[s]),i),{})}var Zj=(t,e)=>({tr:n,state:i,dispatch:s})=>{let a=null,c=null;const u=Wu(typeof t=="string"?t:t.name,i.schema);if(!u)return!1;u==="node"&&(a=pt(t,i.schema)),u==="mark"&&(c=Ti(t,i.schema));let f=!1;return n.selection.ranges.forEach(h=>{i.doc.nodesBetween(h.$from.pos,h.$to.pos,(p,g)=>{a&&a===p.type&&(f=!0,s&&n.setNodeMarkup(g,void 0,Av(p.attrs,e))),c&&p.marks.length&&p.marks.forEach(x=>{c===x.type&&(f=!0,s&&n.addMark(g,g+p.nodeSize,c.create(Av(x.attrs,e))))})})}),f},eD=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),tD=()=>({tr:t,dispatch:e})=>{if(e){const n=new fn(t.doc);t.setSelection(n)}return!0},nD=()=>({state:t,dispatch:e})=>Bw(t,e),iD=()=>({state:t,dispatch:e})=>qw(t,e),rD=()=>({state:t,dispatch:e})=>mO(t,e),sD=()=>({state:t,dispatch:e})=>bO(t,e),lD=()=>({state:t,dispatch:e})=>yO(t,e);function Dp(t,e,n={},i={}){return La(t,e,{slice:!1,parseOptions:n,errorOnInvalidContent:i.errorOnInvalidContent})}var aD=(t,{errorOnInvalidContent:e,emitUpdate:n=!0,parseOptions:i={}}={})=>({editor:s,tr:a,dispatch:c,commands:u})=>{const{doc:f}=a;if(i.preserveWhitespace!=="full"){const h=Dp(t,s.schema,i,{errorOnInvalidContent:e??s.options.enableContentCheck});return c&&a.replaceWith(0,f.content.size,h).setMeta("preventUpdate",!n),!0}return c&&a.setMeta("preventUpdate",!n),u.insertContentAt({from:0,to:f.content.size},t,{parseOptions:i,errorOnInvalidContent:e??s.options.enableContentCheck})};function zS(t,e){const n=Ti(e,t.schema),{from:i,to:s,empty:a}=t.selection,c=[];a?(t.storedMarks&&c.push(...t.storedMarks),c.push(...t.selection.$head.marks())):t.doc.nodesBetween(i,s,f=>{c.push(...f.marks)});const u=c.find(f=>f.type.name===n.name);return u?{...u.attrs}:{}}function LS(t,e){const n=new Rw(t);return e.forEach(i=>{i.steps.forEach(s=>{n.step(s)})}),n}function oD(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function cD(t,e,n){const i=[];return t.nodesBetween(e.from,e.to,(s,a)=>{n(s)&&i.push({node:s,pos:a})}),i}function uD(t,e){for(let n=t.depth;n>0;n-=1){const i=t.node(n);if(e(i))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:i}}}function Qu(t){return e=>uD(e.$from,t)}function le(t,e,n){return t.config[e]===void 0&&t.parent?le(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind({...n,parent:t.parent?le(t.parent,e,n):null}):t.config[e]}function Nm(t){return t.map(e=>{const n={name:e.name,options:e.options,storage:e.storage},i=le(e,"addExtensions",n);return i?[e,...Nm(i())]:e}).flat(10)}function Tm(t,e){const n=is.fromSchema(e).serializeFragment(t),s=document.implementation.createHTMLDocument().createElement("div");return s.appendChild(n),s.innerHTML}function _S(t){return typeof t=="function"}function ze(t,e=void 0,...n){return _S(t)?e?t.bind(e)(...n):t(...n):t}function dD(t={}){return Object.keys(t).length===0&&t.constructor===Object}function rl(t){const e=t.filter(s=>s.type==="extension"),n=t.filter(s=>s.type==="node"),i=t.filter(s=>s.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:i}}function BS(t){const e=[],{nodeExtensions:n,markExtensions:i}=rl(t),s=[...n,...i],a={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(c=>{const u={name:c.name,options:c.options,storage:c.storage,extensions:s},f=le(c,"addGlobalAttributes",u);if(!f)return;f().forEach(p=>{p.types.forEach(g=>{Object.entries(p.attributes).forEach(([x,v])=>{e.push({type:g,name:x,attribute:{...a,...v}})})})})}),s.forEach(c=>{const u={name:c.name,options:c.options,storage:c.storage},f=le(c,"addAttributes",u);if(!f)return;const h=f();Object.entries(h).forEach(([p,g])=>{const x={...a,...g};typeof x?.default=="function"&&(x.default=x.default()),x?.isRequired&&x?.default===void 0&&delete x.default,e.push({type:c.name,name:p,attribute:x})})}),e}function Je(...t){return t.filter(e=>!!e).reduce((e,n)=>{const i={...e};return Object.entries(n).forEach(([s,a])=>{if(!i[s]){i[s]=a;return}if(s==="class"){const u=a?String(a).split(" "):[],f=i[s]?i[s].split(" "):[],h=u.filter(p=>!f.includes(p));i[s]=[...f,...h].join(" ")}else if(s==="style"){const u=a?a.split(";").map(p=>p.trim()).filter(Boolean):[],f=i[s]?i[s].split(";").map(p=>p.trim()).filter(Boolean):[],h=new Map;f.forEach(p=>{const[g,x]=p.split(":").map(v=>v.trim());h.set(g,x)}),u.forEach(p=>{const[g,x]=p.split(":").map(v=>v.trim());h.set(g,x)}),i[s]=Array.from(h.entries()).map(([p,g])=>`${p}: ${g}`).join("; ")}else i[s]=a}),i},{})}function _a(t,e){return e.filter(n=>n.type===t.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(t.attrs)||{}:{[n.name]:t.attrs[n.name]}).reduce((n,i)=>Je(n,i),{})}function fD(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function Mv(t,e){return"style"in t?t:{...t,getAttrs:n=>{const i=t.getAttrs?t.getAttrs(n):t.attrs;if(i===!1)return!1;const s=e.reduce((a,c)=>{const u=c.attribute.parseHTML?c.attribute.parseHTML(n):fD(n.getAttribute(c.name));return u==null?a:{...a,[c.name]:u}},{});return{...i,...s}}}}function Ov(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>e==="attrs"&&dD(n)?!1:n!=null))}function Rv(t){var e,n;const i={};return!((e=t?.attribute)!=null&&e.isRequired)&&"default"in(t?.attribute||{})&&(i.default=t.attribute.default),((n=t?.attribute)==null?void 0:n.validate)!==void 0&&(i.validate=t.attribute.validate),[t.name,i]}function hD(t,e){var n;const i=BS(t),{nodeExtensions:s,markExtensions:a}=rl(t),c=(n=s.find(h=>le(h,"topNode")))==null?void 0:n.name,u=Object.fromEntries(s.map(h=>{const p=i.filter(T=>T.type===h.name),g={name:h.name,options:h.options,storage:h.storage,editor:e},x=t.reduce((T,M)=>{const z=le(M,"extendNodeSchema",g);return{...T,...z?z(h):{}}},{}),v=Ov({...x,content:ze(le(h,"content",g)),marks:ze(le(h,"marks",g)),group:ze(le(h,"group",g)),inline:ze(le(h,"inline",g)),atom:ze(le(h,"atom",g)),selectable:ze(le(h,"selectable",g)),draggable:ze(le(h,"draggable",g)),code:ze(le(h,"code",g)),whitespace:ze(le(h,"whitespace",g)),linebreakReplacement:ze(le(h,"linebreakReplacement",g)),defining:ze(le(h,"defining",g)),isolating:ze(le(h,"isolating",g)),attrs:Object.fromEntries(p.map(Rv))}),w=ze(le(h,"parseHTML",g));w&&(v.parseDOM=w.map(T=>Mv(T,p)));const k=le(h,"renderHTML",g);k&&(v.toDOM=T=>k({node:T,HTMLAttributes:_a(T,p)}));const E=le(h,"renderText",g);return E&&(v.toText=E),[h.name,v]})),f=Object.fromEntries(a.map(h=>{const p=i.filter(E=>E.type===h.name),g={name:h.name,options:h.options,storage:h.storage,editor:e},x=t.reduce((E,T)=>{const M=le(T,"extendMarkSchema",g);return{...E,...M?M(h):{}}},{}),v=Ov({...x,inclusive:ze(le(h,"inclusive",g)),excludes:ze(le(h,"excludes",g)),group:ze(le(h,"group",g)),spanning:ze(le(h,"spanning",g)),code:ze(le(h,"code",g)),attrs:Object.fromEntries(p.map(Rv))}),w=ze(le(h,"parseHTML",g));w&&(v.parseDOM=w.map(E=>Mv(E,p)));const k=le(h,"renderHTML",g);return k&&(v.toDOM=E=>k({mark:E,HTMLAttributes:_a(E,p)})),[h.name,v]}));return new mw({topNode:c,nodes:u,marks:f})}function pD(t){const e=t.filter((n,i)=>t.indexOf(n)!==i);return Array.from(new Set(e))}function ru(t){return t.sort((n,i)=>{const s=le(n,"priority")||100,a=le(i,"priority")||100;return s>a?-1:s<a?1:0})}function HS(t){const e=ru(Nm(t)),n=pD(e.map(i=>i.name));return n.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${n.map(i=>`'${i}'`).join(", ")}]. This can lead to issues.`),e}function US(t,e,n){const{from:i,to:s}=e,{blockSeparator:a=`

`,textSerializers:c={}}=n||{};let u="";return t.nodesBetween(i,s,(f,h,p,g)=>{var x;f.isBlock&&h>i&&(u+=a);const v=c?.[f.type.name];if(v)return p&&(u+=v({node:f,pos:h,parent:p,index:g,range:e})),!1;f.isText&&(u+=(x=f?.text)==null?void 0:x.slice(Math.max(i,h)-h,s-h))}),u}function mD(t,e){const n={from:0,to:t.content.size};return US(t,n,e)}function qS(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}function gD(t,e){const n=pt(e,t.schema),{from:i,to:s}=t.selection,a=[];t.doc.nodesBetween(i,s,u=>{a.push(u)});const c=a.reverse().find(u=>u.type.name===n.name);return c?{...c.attrs}:{}}function IS(t,e){const n=Wu(typeof e=="string"?e:e.name,t.schema);return n==="node"?gD(t,e):n==="mark"?zS(t,e):{}}function yD(t,e=JSON.stringify){const n={};return t.filter(i=>{const s=e(i);return Object.prototype.hasOwnProperty.call(n,s)?!1:n[s]=!0})}function bD(t){const e=yD(t);return e.length===1?e:e.filter((n,i)=>!e.filter((a,c)=>c!==i).some(a=>n.oldRange.from>=a.oldRange.from&&n.oldRange.to<=a.oldRange.to&&n.newRange.from>=a.newRange.from&&n.newRange.to<=a.newRange.to))}function PS(t){const{mapping:e,steps:n}=t,i=[];return e.maps.forEach((s,a)=>{const c=[];if(s.ranges.length)s.forEach((u,f)=>{c.push({from:u,to:f})});else{const{from:u,to:f}=n[a];if(u===void 0||f===void 0)return;c.push({from:u,to:f})}c.forEach(({from:u,to:f})=>{const h=e.slice(a).map(u,-1),p=e.slice(a).map(f),g=e.invert().map(h,-1),x=e.invert().map(p);i.push({oldRange:{from:g,to:x},newRange:{from:h,to:p}})})}),bD(i)}function Cm(t,e,n){const i=[];return t===e?n.resolve(t).marks().forEach(s=>{const a=n.resolve(t),c=Em(a,s.type);c&&i.push({mark:s,...c})}):n.nodesBetween(t,e,(s,a)=>{!s||s?.nodeSize===void 0||i.push(...s.marks.map(c=>({from:a,to:a+s.nodeSize,mark:c})))}),i}var xD=(t,e,n,i=20)=>{const s=t.doc.resolve(n);let a=i,c=null;for(;a>0&&c===null;){const u=s.node(a);u?.type.name===e?c=u:a-=1}return[c,a]};function Ec(t,e){return e.nodes[t]||e.marks[t]||null}function qc(t,e,n){return Object.fromEntries(Object.entries(n).filter(([i])=>{const s=t.find(a=>a.type===e&&a.name===i);return s?s.attribute.keepOnSplit:!1}))}var vD=(t,e=500)=>{let n="";const i=t.parentOffset;return t.parent.nodesBetween(Math.max(0,i-e),i,(s,a,c,u)=>{var f,h;const p=((h=(f=s.type.spec).toText)==null?void 0:h.call(f,{node:s,pos:a,parent:c,index:u}))||s.textContent||"%leaf%";n+=s.isAtom&&!s.isText?p:p.slice(0,Math.max(0,i-a))}),n};function zp(t,e,n={}){const{empty:i,ranges:s}=t.selection,a=e?Ti(e,t.schema):null;if(i)return!!(t.storedMarks||t.selection.$from.marks()).filter(g=>a?a.name===g.type.name:!0).find(g=>nu(g.attrs,n,{strict:!1}));let c=0;const u=[];if(s.forEach(({$from:g,$to:x})=>{const v=g.pos,w=x.pos;t.doc.nodesBetween(v,w,(k,E)=>{if(!k.isText&&!k.marks.length)return;const T=Math.max(v,E),M=Math.min(w,E+k.nodeSize),z=M-T;c+=z,u.push(...k.marks.map(P=>({mark:P,from:T,to:M})))})}),c===0)return!1;const f=u.filter(g=>a?a.name===g.mark.type.name:!0).filter(g=>nu(g.mark.attrs,n,{strict:!1})).reduce((g,x)=>g+x.to-x.from,0),h=u.filter(g=>a?g.mark.type!==a&&g.mark.type.excludes(a):!0).reduce((g,x)=>g+x.to-x.from,0);return(f>0?f+h:f)>=c}function wD(t,e,n={}){if(!e)return hr(t,null,n)||zp(t,null,n);const i=Wu(e,t.schema);return i==="node"?hr(t,e,n):i==="mark"?zp(t,e,n):!1}var SD=(t,e)=>{const{$from:n,$to:i,$anchor:s}=t.selection;if(e){const a=Qu(u=>u.type.name===e)(t.selection);if(!a)return!1;const c=t.doc.resolve(a.pos+1);return s.pos+1===c.end()}return!(i.parentOffset<i.parent.nodeSize-2||n.pos!==i.pos)},kD=t=>{const{$from:e,$to:n}=t.selection;return!(e.parentOffset>0||e.pos!==n.pos)};function jv(t,e){return Array.isArray(e)?e.some(n=>(typeof n=="string"?n:n.name)===t.name):e}function Dv(t,e){const{nodeExtensions:n}=rl(e),i=n.find(c=>c.name===t);if(!i)return!1;const s={name:i.name,options:i.options,storage:i.storage},a=ze(le(i,"group",s));return typeof a!="string"?!1:a.split(" ").includes("list")}function Zu(t,{checkChildren:e=!0,ignoreWhitespace:n=!1}={}){var i;if(n){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((i=t.text)!=null?i:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(e){let s=!0;return t.content.forEach(a=>{s!==!1&&(Zu(a,{ignoreWhitespace:n,checkChildren:e})||(s=!1))}),s}return!1}function VS(t){return t instanceof ce}var $S=class FS{constructor(e){this.position=e}static fromJSON(e){return new FS(e.position)}toJSON(){return{position:this.position}}};function ED(t,e){const n=e.mapping.mapResult(t.position);return{position:new $S(n.pos),mapResult:n}}function ND(t){return new $S(t)}function TD(t,e,n){var i;const{selection:s}=e;let a=null;if(OS(s)&&(a=s.$cursor),a){const u=(i=t.storedMarks)!=null?i:a.marks();return a.parent.type.allowsMarkType(n)&&(!!n.isInSet(u)||!u.some(h=>h.type.excludes(n)))}const{ranges:c}=s;return c.some(({$from:u,$to:f})=>{let h=u.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(n):!1;return t.doc.nodesBetween(u.pos,f.pos,(p,g,x)=>{if(h)return!1;if(p.isInline){const v=!x||x.type.allowsMarkType(n),w=!!n.isInSet(p.marks)||!p.marks.some(k=>k.type.excludes(n));h=v&&w}return!h}),h})}var CD=(t,e={})=>({tr:n,state:i,dispatch:s})=>{const{selection:a}=n,{empty:c,ranges:u}=a,f=Ti(t,i.schema);if(s)if(c){const h=zS(i,f);n.addStoredMark(f.create({...h,...e}))}else u.forEach(h=>{const p=h.$from.pos,g=h.$to.pos;i.doc.nodesBetween(p,g,(x,v)=>{const w=Math.max(v,p),k=Math.min(v+x.nodeSize,g);x.marks.find(T=>T.type===f)?x.marks.forEach(T=>{f===T.type&&n.addMark(w,k,f.create({...T.attrs,...e}))}):n.addMark(w,k,f.create(e))})});return TD(i,n,f)},AD=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),MD=(t,e={})=>({state:n,dispatch:i,chain:s})=>{const a=pt(t,n.schema);let c;return n.selection.$anchor.sameParent(n.selection.$head)&&(c=n.selection.$anchor.parent.attrs),a.isTextblock?s().command(({commands:u})=>Kx(a,{...c,...e})(n)?!0:u.clearNodes()).command(({state:u})=>Kx(a,{...c,...e})(u,i)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},OD=t=>({tr:e,dispatch:n})=>{if(n){const{doc:i}=e,s=Ir(t,0,i.content.size),a=ce.create(i,s);e.setSelection(a)}return!0},RD=(t,e)=>({tr:n,state:i,dispatch:s})=>{const{selection:a}=i;let c,u;return typeof e=="number"?(c=e,u=e):e&&"from"in e&&"to"in e?(c=e.from,u=e.to):(c=a.from,u=a.to),s&&n.doc.nodesBetween(c,u,(f,h)=>{f.isText||n.setNodeMarkup(h,void 0,{...f.attrs,dir:t})}),!0},jD=t=>({tr:e,dispatch:n})=>{if(n){const{doc:i}=e,{from:s,to:a}=typeof t=="number"?{from:t,to:t}:t,c=me.atStart(i).from,u=me.atEnd(i).to,f=Ir(s,c,u),h=Ir(a,c,u),p=me.create(i,f,h);e.setSelection(p)}return!0},DD=t=>({state:e,dispatch:n})=>{const i=pt(t,e.schema);return TO(i)(e,n)};function zv(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const i=n.filter(s=>e?.includes(s.type.name));t.tr.ensureMarks(i)}}var zD=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:i,editor:s})=>{const{selection:a,doc:c}=e,{$from:u,$to:f}=a,h=s.extensionManager.attributes,p=qc(h,u.node().type.name,u.node().attrs);if(a instanceof ce&&a.node.isBlock)return!u.parentOffset||!Si(c,u.pos)?!1:(i&&(t&&zv(n,s.extensionManager.splittableMarks),e.split(u.pos).scrollIntoView()),!0);if(!u.parent.isBlock)return!1;const g=f.parentOffset===f.parent.content.size,x=u.depth===0?void 0:oD(u.node(-1).contentMatchAt(u.indexAfter(-1)));let v=g&&x?[{type:x,attrs:p}]:void 0,w=Si(e.doc,e.mapping.map(u.pos),1,v);if(!v&&!w&&Si(e.doc,e.mapping.map(u.pos),1,x?[{type:x}]:void 0)&&(w=!0,v=x?[{type:x,attrs:p}]:void 0),i){if(w&&(a instanceof me&&e.deleteSelection(),e.split(e.mapping.map(u.pos),1,v),x&&!g&&!u.parentOffset&&u.parent.type!==x)){const k=e.mapping.map(u.before()),E=e.doc.resolve(k);u.node(-1).canReplaceWith(E.index(),E.index()+1,x)&&e.setNodeMarkup(e.mapping.map(u.before()),x)}t&&zv(n,s.extensionManager.splittableMarks),e.scrollIntoView()}return w},LD=(t,e={})=>({tr:n,state:i,dispatch:s,editor:a})=>{var c;const u=pt(t,i.schema),{$from:f,$to:h}=i.selection,p=i.selection.node;if(p&&p.isBlock||f.depth<2||!f.sameParent(h))return!1;const g=f.node(-1);if(g.type!==u)return!1;const x=a.extensionManager.attributes;if(f.parent.content.size===0&&f.node(-1).childCount===f.indexAfter(-1)){if(f.depth===2||f.node(-3).type!==u||f.index(-2)!==f.node(-2).childCount-1)return!1;if(s){let T=J.empty;const M=f.index(-1)?1:f.index(-2)?2:3;for(let G=f.depth-M;G>=f.depth-3;G-=1)T=J.from(f.node(G).copy(T));const z=f.indexAfter(-1)<f.node(-2).childCount?1:f.indexAfter(-2)<f.node(-3).childCount?2:3,P={...qc(x,f.node().type.name,f.node().attrs),...e},D=((c=u.contentMatch.defaultType)==null?void 0:c.createAndFill(P))||void 0;T=T.append(J.from(u.createAndFill(null,D)||void 0));const $=f.before(f.depth-(M-1));n.replace($,f.after(-z),new te(T,4-M,0));let L=-1;n.doc.nodesBetween($,n.doc.content.size,(G,Z)=>{if(L>-1)return!1;G.isTextblock&&G.content.size===0&&(L=Z+1)}),L>-1&&n.setSelection(me.near(n.doc.resolve(L))),n.scrollIntoView()}return!0}const v=h.pos===f.end()?g.contentMatchAt(0).defaultType:null,w={...qc(x,g.type.name,g.attrs),...e},k={...qc(x,f.node().type.name,f.node().attrs),...e};n.delete(f.pos,h.pos);const E=v?[{type:u,attrs:w},{type:v,attrs:k}]:[{type:u,attrs:w}];if(!Si(n.doc,f.pos,2))return!1;if(s){const{selection:T,storedMarks:M}=i,{splittableMarks:z}=a.extensionManager,P=M||T.$to.parentOffset&&T.$from.marks();if(n.split(f.pos,2,E).scrollIntoView(),!P||!s)return!0;const D=P.filter($=>z.includes($.type.name));n.ensureMarks(D)}return!0},Wh=(t,e)=>{const n=Qu(c=>c.type===e)(t.selection);if(!n)return!0;const i=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(i===void 0)return!0;const s=t.doc.nodeAt(i);return n.node.type===s?.type&&pr(t.doc,n.pos)&&t.join(n.pos),!0},Qh=(t,e)=>{const n=Qu(c=>c.type===e)(t.selection);if(!n)return!0;const i=t.doc.resolve(n.start).after(n.depth);if(i===void 0)return!0;const s=t.doc.nodeAt(i);return n.node.type===s?.type&&pr(t.doc,i)&&t.join(i),!0},_D=(t,e,n,i={})=>({editor:s,tr:a,state:c,dispatch:u,chain:f,commands:h,can:p})=>{const{extensions:g,splittableMarks:x}=s.extensionManager,v=pt(t,c.schema),w=pt(e,c.schema),{selection:k,storedMarks:E}=c,{$from:T,$to:M}=k,z=T.blockRange(M),P=E||k.$to.parentOffset&&k.$from.marks();if(!z)return!1;const D=Qu($=>Dv($.type.name,g))(k);if(z.depth>=1&&D&&z.depth-D.depth<=1){if(D.node.type===v)return h.liftListItem(w);if(Dv(D.node.type.name,g)&&v.validContent(D.node.content)&&u)return f().command(()=>(a.setNodeMarkup(D.pos,v),!0)).command(()=>Wh(a,v)).command(()=>Qh(a,v)).run()}return!n||!P||!u?f().command(()=>p().wrapInList(v,i)?!0:h.clearNodes()).wrapInList(v,i).command(()=>Wh(a,v)).command(()=>Qh(a,v)).run():f().command(()=>{const $=p().wrapInList(v,i),L=P.filter(G=>x.includes(G.type.name));return a.ensureMarks(L),$?!0:h.clearNodes()}).wrapInList(v,i).command(()=>Wh(a,v)).command(()=>Qh(a,v)).run()},BD=(t,e={},n={})=>({state:i,commands:s})=>{const{extendEmptyMarkRange:a=!1}=n,c=Ti(t,i.schema);return zp(i,c,e)?s.unsetMark(c,{extendEmptyMarkRange:a}):s.setMark(c,e)},HD=(t,e,n={})=>({state:i,commands:s})=>{const a=pt(t,i.schema),c=pt(e,i.schema),u=hr(i,a,n);let f;return i.selection.$anchor.sameParent(i.selection.$head)&&(f=i.selection.$anchor.parent.attrs),u?s.setNode(c,f):s.setNode(a,{...f,...n})},UD=(t,e={})=>({state:n,commands:i})=>{const s=pt(t,n.schema);return hr(n,s,e)?i.lift(s):i.wrapIn(s,e)},qD=()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let i=0;i<n.length;i+=1){const s=n[i];let a;if(s.spec.isInputRules&&(a=s.getState(t))){if(e){const c=t.tr,u=a.transform;for(let f=u.steps.length-1;f>=0;f-=1)c.step(u.steps[f].invert(u.docs[f]));if(a.text){const f=c.doc.resolve(a.from).marks();c.replaceWith(a.from,a.to,t.schema.text(a.text,f))}else c.delete(a.from,a.to)}return!0}}return!1},ID=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:i,ranges:s}=n;return i||e&&s.forEach(a=>{t.removeMark(a.$from.pos,a.$to.pos)}),!0},PD=(t,e={})=>({tr:n,state:i,dispatch:s})=>{var a;const{extendEmptyMarkRange:c=!1}=e,{selection:u}=n,f=Ti(t,i.schema),{$from:h,empty:p,ranges:g}=u;if(!s)return!0;if(p&&c){let{from:x,to:v}=u;const w=(a=h.marks().find(E=>E.type===f))==null?void 0:a.attrs,k=Em(h,f,w);k&&(x=k.from,v=k.to),n.removeMark(x,v,f)}else g.forEach(x=>{n.removeMark(x.$from.pos,x.$to.pos,f)});return n.removeStoredMark(f),!0},VD=t=>({tr:e,state:n,dispatch:i})=>{const{selection:s}=n;let a,c;return typeof t=="number"?(a=t,c=t):t&&"from"in t&&"to"in t?(a=t.from,c=t.to):(a=s.from,c=s.to),i&&e.doc.nodesBetween(a,c,(u,f)=>{if(u.isText)return;const h={...u.attrs};delete h.dir,e.setNodeMarkup(f,void 0,h)}),!0},$D=(t,e={})=>({tr:n,state:i,dispatch:s})=>{let a=null,c=null;const u=Wu(typeof t=="string"?t:t.name,i.schema);if(!u)return!1;u==="node"&&(a=pt(t,i.schema)),u==="mark"&&(c=Ti(t,i.schema));let f=!1;return n.selection.ranges.forEach(h=>{const p=h.$from.pos,g=h.$to.pos;let x,v,w,k;n.selection.empty?i.doc.nodesBetween(p,g,(E,T)=>{a&&a===E.type&&(f=!0,w=Math.max(T,p),k=Math.min(T+E.nodeSize,g),x=T,v=E)}):i.doc.nodesBetween(p,g,(E,T)=>{T<p&&a&&a===E.type&&(f=!0,w=Math.max(T,p),k=Math.min(T+E.nodeSize,g),x=T,v=E),T>=p&&T<=g&&(a&&a===E.type&&(f=!0,s&&n.setNodeMarkup(T,void 0,{...E.attrs,...e})),c&&E.marks.length&&E.marks.forEach(M=>{if(c===M.type&&(f=!0,s)){const z=Math.max(T,p),P=Math.min(T+E.nodeSize,g);n.addMark(z,P,c.create({...M.attrs,...e}))}}))}),v&&(x!==void 0&&s&&n.setNodeMarkup(x,void 0,{...v.attrs,...e}),c&&v.marks.length&&v.marks.forEach(E=>{c===E.type&&s&&n.addMark(w,k,c.create({...E.attrs,...e}))}))}),f},FD=(t,e={})=>({state:n,dispatch:i})=>{const s=pt(t,n.schema);return xO(s,e)(n,i)},KD=(t,e={})=>({state:n,dispatch:i})=>{const s=pt(t,n.schema);return vO(s,e)(n,i)},GD=class{constructor(){this.callbacks={}}on(t,e){return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(e),this}emit(t,...e){const n=this.callbacks[t];return n&&n.forEach(i=>i.apply(this,e)),this}off(t,e){const n=this.callbacks[t];return n&&(e?this.callbacks[t]=n.filter(i=>i!==e):delete this.callbacks[t]),this}once(t,e){const n=(...i)=>{this.off(t,n),e.apply(this,i)};return this.on(t,n)}removeAllListeners(){this.callbacks={}}},ed=class{constructor(t){var e;this.find=t.find,this.handler=t.handler,this.undoable=(e=t.undoable)!=null?e:!0}},YD=(t,e)=>{if(km(e))return e.exec(t);const n=e(t);if(!n)return null;const i=[n.text];return i.index=n.index,i.input=t,i.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),i.push(n.replaceWith)),i};function Nc(t){var e;const{editor:n,from:i,to:s,text:a,rules:c,plugin:u}=t,{view:f}=n;if(f.composing)return!1;const h=f.state.doc.resolve(i);if(h.parent.type.spec.code||(e=h.nodeBefore||h.nodeAfter)!=null&&e.marks.find(x=>x.type.spec.code))return!1;let p=!1;const g=vD(h)+a;return c.forEach(x=>{if(p)return;const v=YD(g,x.find);if(!v)return;const w=f.state.tr,k=Ju({state:f.state,transaction:w}),E={from:i-(v[0].length-a.length),to:s},{commands:T,chain:M,can:z}=new Xu({editor:n,state:k});x.handler({state:k,range:E,match:v,commands:T,chain:M,can:z})===null||!w.steps.length||(x.undoable&&w.setMeta(u,{transform:w,from:i,to:s,text:a}),f.dispatch(w),p=!0)}),p}function JD(t){const{editor:e,rules:n}=t,i=new Qe({state:{init(){return null},apply(s,a,c){const u=s.getMeta(i);if(u)return u;const f=s.getMeta("applyInputRules");return f&&setTimeout(()=>{let{text:p}=f;typeof p=="string"?p=p:p=Tm(J.from(p),c.schema);const{from:g}=f,x=g+p.length;Nc({editor:e,from:g,to:x,text:p,rules:n,plugin:i})}),s.selectionSet||s.docChanged?null:a}},props:{handleTextInput(s,a,c,u){return Nc({editor:e,from:a,to:c,text:u,rules:n,plugin:i})},handleDOMEvents:{compositionend:s=>(setTimeout(()=>{const{$cursor:a}=s.state.selection;a&&Nc({editor:e,from:a.pos,to:a.pos,text:"",rules:n,plugin:i})}),!1)},handleKeyDown(s,a){if(a.key!=="Enter")return!1;const{$cursor:c}=s.state.selection;return c?Nc({editor:e,from:c.pos,to:c.pos,text:`
`,rules:n,plugin:i}):!1}},isInputRules:!0});return i}function XD(t){return Object.prototype.toString.call(t).slice(8,-1)}function Tc(t){return XD(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function KS(t,e){const n={...t};return Tc(t)&&Tc(e)&&Object.keys(e).forEach(i=>{Tc(e[i])&&Tc(t[i])?n[i]=KS(t[i],e[i]):n[i]=e[i]}),n}var Am=class{constructor(t={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...t},this.name=this.config.name}get options(){return{...ze(le(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...ze(le(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(t={}){const e=this.extend({...this.config,addOptions:()=>KS(this.options,t)});return e.name=this.name,e.parent=this.parent,e}extend(t={}){const e=new this.constructor({...this.config,...t});return e.parent=this,this.child=e,e.name="name"in t?t.name:e.parent.name,e}},rs=class GS extends Am{constructor(){super(...arguments),this.type="mark"}static create(e={}){const n=typeof e=="function"?e():e;return new GS(n)}static handleExit({editor:e,mark:n}){const{tr:i}=e.state,s=e.state.selection.$from;if(s.pos===s.end()){const c=s.marks();if(!!!c.find(h=>h?.type.name===n.name))return!1;const f=c.find(h=>h?.type.name===n.name);return f&&i.removeStoredMark(f),i.insertText(" ",s.pos),e.view.dispatch(i),!0}return!1}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}};function WD(t){return typeof t=="number"}var YS=class{constructor(t){this.find=t.find,this.handler=t.handler}},QD=(t,e,n)=>{if(km(e))return[...t.matchAll(e)];const i=e(t,n);return i?i.map(s=>{const a=[s.text];return a.index=s.index,a.input=t,a.data=s.data,s.replaceWith&&(s.text.includes(s.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),a.push(s.replaceWith)),a}):[]};function ZD(t){const{editor:e,state:n,from:i,to:s,rule:a,pasteEvent:c,dropEvent:u}=t,{commands:f,chain:h,can:p}=new Xu({editor:e,state:n}),g=[];return n.doc.nodesBetween(i,s,(v,w)=>{var k,E,T,M,z;if((E=(k=v.type)==null?void 0:k.spec)!=null&&E.code||!(v.isText||v.isTextblock||v.isInline))return;const P=(z=(M=(T=v.content)==null?void 0:T.size)!=null?M:v.nodeSize)!=null?z:0,D=Math.max(i,w),$=Math.min(s,w+P);if(D>=$)return;const L=v.isText?v.text||"":v.textBetween(D-w,$-w,void 0,"");QD(L,a.find,c).forEach(Z=>{if(Z.index===void 0)return;const ue=D+Z.index+1,Ve=ue+Z[0].length,ie={from:n.tr.mapping.map(ue),to:n.tr.mapping.map(Ve)},Me=a.handler({state:n,range:ie,match:Z,commands:f,chain:h,can:p,pasteEvent:c,dropEvent:u});g.push(Me)})}),g.every(v=>v!==null)}var Cc=null,e4=t=>{var e;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=n.clipboardData)==null||e.setData("text/html",t),n};function t4(t){const{editor:e,rules:n}=t;let i=null,s=!1,a=!1,c=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,u;try{u=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{u=null}const f=({state:p,from:g,to:x,rule:v,pasteEvt:w})=>{const k=p.tr,E=Ju({state:p,transaction:k});if(!(!ZD({editor:e,state:E,from:Math.max(g-1,0),to:x.b-1,rule:v,pasteEvent:w,dropEvent:u})||!k.steps.length)){try{u=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{u=null}return c=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,k}};return n.map(p=>new Qe({view(g){const x=w=>{var k;i=(k=g.dom.parentElement)!=null&&k.contains(w.target)?g.dom.parentElement:null,i&&(Cc=e)},v=()=>{Cc&&(Cc=null)};return window.addEventListener("dragstart",x),window.addEventListener("dragend",v),{destroy(){window.removeEventListener("dragstart",x),window.removeEventListener("dragend",v)}}},props:{handleDOMEvents:{drop:(g,x)=>{if(a=i===g.dom.parentElement,u=x,!a){const v=Cc;v?.isEditable&&setTimeout(()=>{const w=v.state.selection;w&&v.commands.deleteRange({from:w.from,to:w.to})},10)}return!1},paste:(g,x)=>{var v;const w=(v=x.clipboardData)==null?void 0:v.getData("text/html");return c=x,s=!!w?.includes("data-pm-slice"),!1}}},appendTransaction:(g,x,v)=>{const w=g[0],k=w.getMeta("uiEvent")==="paste"&&!s,E=w.getMeta("uiEvent")==="drop"&&!a,T=w.getMeta("applyPasteRules"),M=!!T;if(!k&&!E&&!M)return;if(M){let{text:D}=T;typeof D=="string"?D=D:D=Tm(J.from(D),v.schema);const{from:$}=T,L=$+D.length,G=e4(D);return f({rule:p,state:v,from:$,to:{b:L},pasteEvt:G})}const z=x.doc.content.findDiffStart(v.doc.content),P=x.doc.content.findDiffEnd(v.doc.content);if(!(!WD(z)||!P||z===P.b))return f({rule:p,state:v,from:z,to:P,pasteEvt:c})}}))}var td=class{constructor(t,e){this.splittableMarks=[],this.editor=e,this.baseExtensions=t,this.extensions=HS(t),this.schema=hD(this.extensions,e),this.setupExtensions()}get commands(){return this.extensions.reduce((t,e)=>{const n={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:Ec(e.name,this.schema)},i=le(e,"addCommands",n);return i?{...t,...i()}:t},{})}get plugins(){const{editor:t}=this;return ru([...this.extensions].reverse()).flatMap(i=>{const s={name:i.name,options:i.options,storage:this.editor.extensionStorage[i.name],editor:t,type:Ec(i.name,this.schema)},a=[],c=le(i,"addKeyboardShortcuts",s);let u={};if(i.type==="mark"&&le(i,"exitable",s)&&(u.ArrowRight=()=>rs.handleExit({editor:t,mark:i})),c){const x=Object.fromEntries(Object.entries(c()).map(([v,w])=>[v,()=>w({editor:t})]));u={...u,...x}}const f=gj(u);a.push(f);const h=le(i,"addInputRules",s);if(jv(i,t.options.enableInputRules)&&h){const x=h();if(x&&x.length){const v=JD({editor:t,rules:x}),w=Array.isArray(v)?v:[v];a.push(...w)}}const p=le(i,"addPasteRules",s);if(jv(i,t.options.enablePasteRules)&&p){const x=p();if(x&&x.length){const v=t4({editor:t,rules:x});a.push(...v)}}const g=le(i,"addProseMirrorPlugins",s);if(g){const x=g();a.push(...x)}return a})}get attributes(){return BS(this.extensions)}get nodeViews(){const{editor:t}=this,{nodeExtensions:e}=rl(this.extensions);return Object.fromEntries(e.filter(n=>!!le(n,"addNodeView")).map(n=>{const i=this.attributes.filter(f=>f.type===n.name),s={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:pt(n.name,this.schema)},a=le(n,"addNodeView",s);if(!a)return[];const c=a();if(!c)return[];const u=(f,h,p,g,x)=>{const v=_a(f,i);return c({node:f,view:h,getPos:p,decorations:g,innerDecorations:x,editor:t,extension:n,HTMLAttributes:v})};return[n.name,u]}))}dispatchTransaction(t){const{editor:e}=this;return ru([...this.extensions].reverse()).reduceRight((i,s)=>{const a={name:s.name,options:s.options,storage:this.editor.extensionStorage[s.name],editor:e,type:Ec(s.name,this.schema)},c=le(s,"dispatchTransaction",a);return c?u=>{c.call(a,{transaction:u,next:i})}:i},t)}get markViews(){const{editor:t}=this,{markExtensions:e}=rl(this.extensions);return Object.fromEntries(e.filter(n=>!!le(n,"addMarkView")).map(n=>{const i=this.attributes.filter(u=>u.type===n.name),s={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:Ti(n.name,this.schema)},a=le(n,"addMarkView",s);if(!a)return[];const c=(u,f,h)=>{const p=_a(u,i);return a()({mark:u,view:f,inline:h,editor:t,extension:n,HTMLAttributes:p,updateAttributes:g=>{m4(u,t,g)}})};return[n.name,c]}))}setupExtensions(){const t=this.extensions;this.editor.extensionStorage=Object.fromEntries(t.map(e=>[e.name,e.storage])),t.forEach(e=>{var n;const i={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:Ec(e.name,this.schema)};e.type==="mark"&&((n=ze(le(e,"keepOnSplit",i)))==null||n)&&this.splittableMarks.push(e.name);const s=le(e,"onBeforeCreate",i),a=le(e,"onCreate",i),c=le(e,"onUpdate",i),u=le(e,"onSelectionUpdate",i),f=le(e,"onTransaction",i),h=le(e,"onFocus",i),p=le(e,"onBlur",i),g=le(e,"onDestroy",i);s&&this.editor.on("beforeCreate",s),a&&this.editor.on("create",a),c&&this.editor.on("update",c),u&&this.editor.on("selectionUpdate",u),f&&this.editor.on("transaction",f),h&&this.editor.on("focus",h),p&&this.editor.on("blur",p),g&&this.editor.on("destroy",g)})}};td.resolve=HS;td.sort=ru;td.flatten=Nm;var n4={};Sm(n4,{ClipboardTextSerializer:()=>XS,Commands:()=>WS,Delete:()=>QS,Drop:()=>ZS,Editable:()=>ek,FocusEvents:()=>nk,Keymap:()=>ik,Paste:()=>rk,Tabindex:()=>sk,TextDirection:()=>lk,focusEventsPluginKey:()=>tk});var ot=class JS extends Am{constructor(){super(...arguments),this.type="extension"}static create(e={}){const n=typeof e=="function"?e():e;return new JS(n)}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}},XS=ot.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Qe({key:new yt("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:i,selection:s}=e,{ranges:a}=s,c=Math.min(...a.map(p=>p.$from.pos)),u=Math.max(...a.map(p=>p.$to.pos)),f=qS(n);return US(i,{from:c,to:u},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:f})}}})]}}),WS=ot.create({name:"commands",addCommands(){return{...AS}}}),QS=ot.create({name:"delete",onUpdate({transaction:t,appendedTransactions:e}){var n,i,s;const a=()=>{var c,u,f,h;if((h=(f=(u=(c=this.editor.options.coreExtensionOptions)==null?void 0:c.delete)==null?void 0:u.filterTransaction)==null?void 0:f.call(u,t))!=null?h:t.getMeta("y-sync$"))return;const p=LS(t.before,[t,...e]);PS(p).forEach(v=>{p.mapping.mapResult(v.oldRange.from).deletedAfter&&p.mapping.mapResult(v.oldRange.to).deletedBefore&&p.before.nodesBetween(v.oldRange.from,v.oldRange.to,(w,k)=>{const E=k+w.nodeSize-2,T=v.oldRange.from<=k&&E<=v.oldRange.to;this.editor.emit("delete",{type:"node",node:w,from:k,to:E,newFrom:p.mapping.map(k),newTo:p.mapping.map(E),deletedRange:v.oldRange,newRange:v.newRange,partial:!T,editor:this.editor,transaction:t,combinedTransform:p})})});const x=p.mapping;p.steps.forEach((v,w)=>{var k,E;if(v instanceof Ln){const T=x.slice(w).map(v.from,-1),M=x.slice(w).map(v.to),z=x.invert().map(T,-1),P=x.invert().map(M),D=(k=p.doc.nodeAt(T-1))==null?void 0:k.marks.some(L=>L.eq(v.mark)),$=(E=p.doc.nodeAt(M))==null?void 0:E.marks.some(L=>L.eq(v.mark));this.editor.emit("delete",{type:"mark",mark:v.mark,from:v.from,to:v.to,deletedRange:{from:z,to:P},newRange:{from:T,to:M},partial:!!($||D),editor:this.editor,transaction:t,combinedTransform:p})}})};(s=(i=(n=this.editor.options.coreExtensionOptions)==null?void 0:n.delete)==null?void 0:i.async)==null||s?setTimeout(a,0):a()}}),ZS=ot.create({name:"drop",addProseMirrorPlugins(){return[new Qe({key:new yt("tiptapDrop"),props:{handleDrop:(t,e,n,i)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:n,moved:i})}}})]}}),ek=ot.create({name:"editable",addProseMirrorPlugins(){return[new Qe({key:new yt("editable"),props:{editable:()=>this.editor.options.editable}})]}}),tk=new yt("focusEvents"),nk=ot.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new Qe({key:tk,props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const i=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(i),!1},blur:(e,n)=>{t.isFocused=!1;const i=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(i),!1}}}})]}}),ik=ot.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:c})=>[()=>c.undoInputRule(),()=>c.command(({tr:u})=>{const{selection:f,doc:h}=u,{empty:p,$anchor:g}=f,{pos:x,parent:v}=g,w=g.parent.isTextblock&&x>0?u.doc.resolve(x-1):g,k=w.parent.type.spec.isolating,E=g.pos-g.parentOffset,T=k&&w.parent.childCount===1?E===g.pos:we.atStart(h).from===x;return!p||!v.type.isTextblock||v.textContent.length||!T||T&&g.parent.type.name==="paragraph"?!1:c.clearNodes()}),()=>c.deleteSelection(),()=>c.joinBackward(),()=>c.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:c})=>[()=>c.deleteSelection(),()=>c.deleteCurrentNode(),()=>c.joinForward(),()=>c.selectNodeForward()]),i={Enter:()=>this.editor.commands.first(({commands:c})=>[()=>c.newlineInCode(),()=>c.createParagraphNear(),()=>c.liftEmptyBlock(),()=>c.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},s={...i},a={...i,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return iu()||DS()?a:s},addProseMirrorPlugins(){return[new Qe({key:new yt("clearDocument"),appendTransaction:(t,e,n)=>{if(t.some(k=>k.getMeta("composition")))return;const i=t.some(k=>k.docChanged)&&!e.doc.eq(n.doc),s=t.some(k=>k.getMeta("preventClearDocument"));if(!i||s)return;const{empty:a,from:c,to:u}=e.selection,f=we.atStart(e.doc).from,h=we.atEnd(e.doc).to;if(a||!(c===f&&u===h)||!Zu(n.doc))return;const x=n.tr,v=Ju({state:n,transaction:x}),{commands:w}=new Xu({editor:this.editor,state:v});if(w.clearNodes(),!!x.steps.length)return x}})]}}),rk=ot.create({name:"paste",addProseMirrorPlugins(){return[new Qe({key:new yt("tiptapPaste"),props:{handlePaste:(t,e,n)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:n})}}})]}}),sk=ot.create({name:"tabindex",addProseMirrorPlugins(){return[new Qe({key:new yt("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),lk=ot.create({name:"textDirection",addOptions(){return{direction:void 0}},addGlobalAttributes(){if(!this.options.direction)return[];const{nodeExtensions:t}=rl(this.extensions);return[{types:t.filter(e=>e.name!=="text").map(e=>e.name),attributes:{dir:{default:this.options.direction,parseHTML:e=>{const n=e.getAttribute("dir");return n&&(n==="ltr"||n==="rtl"||n==="auto")?n:this.options.direction},renderHTML:e=>e.dir?{dir:e.dir}:{}}}}]},addProseMirrorPlugins(){return[new Qe({key:new yt("textDirection"),props:{attributes:()=>{const t=this.options.direction;return t?{dir:t}:{}}}})]}}),i4=class ma{constructor(e,n,i=!1,s=null){this.currentNode=null,this.actualDepth=null,this.isBlock=i,this.resolvedPos=e,this.editor=n,this.currentNode=s}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!=null?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let n=this.from,i=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,i=this.to-1}this.editor.commands.insertContentAt({from:n,to:i},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(e);return new ma(n,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new ma(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new ma(e,this.editor)}get children(){const e=[];return this.node.content.forEach((n,i)=>{const s=n.isBlock&&!n.isTextblock,a=n.isAtom&&!n.isText,c=n.isInline,u=this.pos+i+(a?0:1);if(u<0||u>this.resolvedPos.doc.nodeSize-2)return;const f=this.resolvedPos.doc.resolve(u);if(!s&&!c&&f.depth<=this.depth)return;const h=new ma(f,this.editor,s,s||c?n:null);s&&(h.actualDepth=this.depth+1),e.push(h)}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,n={}){let i=null,s=this.parent;for(;s&&!i;){if(s.node.type.name===e)if(Object.keys(n).length>0){const a=s.node.attrs,c=Object.keys(n);for(let u=0;u<c.length;u+=1){const f=c[u];if(a[f]!==n[f])break}}else i=s;s=s.parent}return i}querySelector(e,n={}){return this.querySelectorAll(e,n,!0)[0]||null}querySelectorAll(e,n={},i=!1){let s=[];if(!this.children||this.children.length===0)return s;const a=Object.keys(n);return this.children.forEach(c=>{i&&s.length>0||(c.node.type.name===e&&a.every(f=>n[f]===c.node.attrs[f])&&s.push(c),!(i&&s.length>0)&&(s=s.concat(c.querySelectorAll(e,n,i))))}),s}setAttribute(e){const{tr:n}=this.editor.state;n.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(n)}},r4=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function s4(t,e,n){const i=document.querySelector("style[data-tiptap-style]");if(i!==null)return i;const s=document.createElement("style");return e&&s.setAttribute("nonce",e),s.setAttribute("data-tiptap-style",""),s.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(s),s}var l4=class extends GD{constructor(t={}){super(),this.css=null,this.className="tiptap",this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document<"u"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,textDirection:void 0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onMount:()=>null,onUnmount:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:i})=>{throw i},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null,enableExtensionDispatchTransaction:!0},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.utils={getUpdatedPosition:ED,createMappablePosition:ND},this.setOptions(t),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("mount",this.options.onMount),this.on("unmount",this.options.onUnmount),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:i,slice:s,moved:a})=>this.options.onDrop(i,s,a)),this.on("paste",({event:i,slice:s})=>this.options.onPaste(i,s)),this.on("delete",this.options.onDelete);const e=this.createDoc(),n=RS(e,this.options.autofocus);this.editorState=Xs.create({doc:e,schema:this.schema,selection:n||void 0}),this.options.element&&this.mount(this.options.element)}mount(t){if(typeof document>"u")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(t),this.emit("mount",{editor:this}),this.css&&!document.head.contains(this.css)&&document.head.appendChild(this.css),window.setTimeout(()=>{this.isDestroyed||(this.options.autofocus!==!1&&this.options.autofocus!==null&&this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){const t=this.editorView.dom;t?.editor&&delete t.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css&&!document.querySelectorAll(`.${this.className}`).length)try{typeof this.css.remove=="function"?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(t){console.warn("Failed to remove CSS element:",t)}this.css=null,this.emit("unmount",{editor:this})}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document<"u"&&(this.css=s4(r4,this.options.injectNonce))}setOptions(t={}){this.options={...this.options,...t},!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(t,e=!0){this.setOptions({editable:t}),e&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:t=>{this.editorState=t},dispatch:t=>{this.dispatchTransaction(t)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(t,e)=>{if(this.editorView)return this.editorView[e];if(e==="state")return this.editorState;if(e in t)return Reflect.get(t,e);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${e}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(t,e){const n=_S(e)?e(t,[...this.state.plugins]):[...this.state.plugins,t],i=this.state.reconfigure({plugins:n});return this.view.updateState(i),i}unregisterPlugin(t){if(this.isDestroyed)return;const e=this.state.plugins;let n=e;if([].concat(t).forEach(s=>{const a=typeof s=="string"?`${s}$`:s.key;n=n.filter(c=>!c.key.startsWith(a))}),e.length===n.length)return;const i=this.state.reconfigure({plugins:n});return this.view.updateState(i),i}createExtensionManager(){var t,e;const i=[...this.options.enableCoreExtensions?[ek,XS.configure({blockSeparator:(e=(t=this.options.coreExtensionOptions)==null?void 0:t.clipboardTextSerializer)==null?void 0:e.blockSeparator}),WS,nk,ik,sk,ZS,rk,QS,lk.configure({direction:this.options.textDirection})].filter(s=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[s.name]!==!1:!0):[],...this.options.extensions].filter(s=>["extension","node","mark"].includes(s?.type));this.extensionManager=new td(i,this)}createCommandManager(){this.commandManager=new Xu({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let t;try{t=Dp(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(e){if(!(e instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(e.message))throw e;this.emit("contentError",{editor:this,error:e,disableCollaboration:()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(n=>n.name!=="collaboration"),this.createExtensionManager()}}),t=Dp(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return t}createView(t){const{editorProps:e,enableExtensionDispatchTransaction:n}=this.options,i=e.dispatchTransaction||this.dispatchTransaction.bind(this),s=n?this.extensionManager.dispatchTransaction(i):i;this.editorView=new TS(t,{...e,attributes:{role:"textbox",...e?.attributes},dispatchTransaction:s,state:this.editorState,markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews});const a=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(a),this.prependClass(),this.injectCSS();const c=this.view.dom;c.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`${this.className} ${this.view.dom.className}`}captureTransaction(t){this.isCapturingTransaction=!0,t(),this.isCapturingTransaction=!1;const e=this.capturedTransaction;return this.capturedTransaction=null,e}dispatchTransaction(t){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=t;return}t.steps.forEach(h=>{var p;return(p=this.capturedTransaction)==null?void 0:p.step(h)});return}const{state:e,transactions:n}=this.state.applyTransaction(t),i=!this.state.selection.eq(e.selection),s=n.includes(t),a=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:t,nextState:e}),!s)return;this.view.updateState(e),this.emit("transaction",{editor:this,transaction:t,appendedTransactions:n.slice(1)}),i&&this.emit("selectionUpdate",{editor:this,transaction:t});const c=n.findLast(h=>h.getMeta("focus")||h.getMeta("blur")),u=c?.getMeta("focus"),f=c?.getMeta("blur");u&&this.emit("focus",{editor:this,event:u.event,transaction:c}),f&&this.emit("blur",{editor:this,event:f.event,transaction:c}),!(t.getMeta("preventUpdate")||!n.some(h=>h.docChanged)||a.doc.eq(e.doc))&&this.emit("update",{editor:this,transaction:t,appendedTransactions:n.slice(1)})}getAttributes(t){return IS(this.state,t)}isActive(t,e){const n=typeof t=="string"?t:null,i=typeof t=="string"?e:t;return wD(this.state,n,i)}getJSON(){return this.state.doc.toJSON()}getHTML(){return Tm(this.state.doc.content,this.schema)}getText(t){const{blockSeparator:e=`

`,textSerializers:n={}}=t||{};return mD(this.state.doc,{blockSeparator:e,textSerializers:{...qS(this.schema),...n}})}get isEmpty(){return Zu(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var t,e;return(e=(t=this.editorView)==null?void 0:t.isDestroyed)!=null?e:!0}$node(t,e){var n;return((n=this.$doc)==null?void 0:n.querySelector(t,e))||null}$nodes(t,e){var n;return((n=this.$doc)==null?void 0:n.querySelectorAll(t,e))||null}$pos(t){const e=this.state.doc.resolve(t);return new i4(e,this)}get $doc(){return this.$pos(0)}};function sl(t){return new ed({find:t.find,handler:({state:e,range:n,match:i})=>{const s=ze(t.getAttributes,void 0,i);if(s===!1||s===null)return null;const{tr:a}=e,c=i[i.length-1],u=i[0];if(c){const f=u.search(/\S/),h=n.from+u.indexOf(c),p=h+c.length;if(Cm(n.from,n.to,e.doc).filter(v=>v.mark.type.excluded.find(k=>k===t.type&&k!==v.mark.type)).filter(v=>v.to>h).length)return null;p<n.to&&a.delete(p,n.to),h>n.from&&a.delete(n.from+f,h);const x=n.from+f+c.length;a.addMark(n.from+f,x,t.type.create(s||{})),a.removeStoredMark(t.type)}},undoable:t.undoable})}function Wa(t){return new ed({find:t.find,handler:({state:e,range:n,match:i})=>{const s=ze(t.getAttributes,void 0,i)||{},{tr:a}=e,c=n.from;let u=n.to;const f=t.type.create(s);if(i[1]){const h=i[0].lastIndexOf(i[1]);let p=c+h;p>u?p=u:u=p+i[1].length;const g=i[0][i[0].length-1];a.insertText(g,c+i[0].length-1),a.replaceWith(p,u,f)}else if(i[0]){const h=t.type.isInline?c:c-1;a.insert(h,t.type.create(s)).delete(a.mapping.map(c),a.mapping.map(u))}a.scrollIntoView()},undoable:t.undoable})}function Lp(t){return new ed({find:t.find,handler:({state:e,range:n,match:i})=>{const s=e.doc.resolve(n.from),a=ze(t.getAttributes,void 0,i)||{};if(!s.node(-1).canReplaceWith(s.index(-1),s.indexAfter(-1),t.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,t.type,a)},undoable:t.undoable})}function ll(t){return new ed({find:t.find,handler:({state:e,range:n,match:i,chain:s})=>{const a=ze(t.getAttributes,void 0,i)||{},c=e.tr.delete(n.from,n.to),f=c.doc.resolve(n.from).blockRange(),h=f&&lm(f,t.type,a);if(!h)return null;if(c.wrap(f,h),t.keepMarks&&t.editor){const{selection:g,storedMarks:x}=e,{splittableMarks:v}=t.editor.extensionManager,w=x||g.$to.parentOffset&&g.$from.marks();if(w){const k=w.filter(E=>v.includes(E.type.name));c.ensureMarks(k)}}if(t.keepAttributes){const g=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";s().updateAttributes(g,a).run()}const p=c.doc.resolve(n.from-1).nodeBefore;p&&p.type===t.type&&pr(c.doc,n.from-1)&&(!t.joinPredicate||t.joinPredicate(i,p))&&c.join(n.from-1)},undoable:t.undoable})}var a4=t=>"touches"in t,o4=class{constructor(t){this.directions=["bottom-left","bottom-right","top-left","top-right"],this.minSize={height:8,width:8},this.preserveAspectRatio=!1,this.classNames={container:"",wrapper:"",handle:"",resizing:""},this.initialWidth=0,this.initialHeight=0,this.aspectRatio=1,this.isResizing=!1,this.activeHandle=null,this.startX=0,this.startY=0,this.startWidth=0,this.startHeight=0,this.isShiftKeyPressed=!1,this.lastEditableState=void 0,this.handleMap=new Map,this.handleMouseMove=u=>{if(!this.isResizing||!this.activeHandle)return;const f=u.clientX-this.startX,h=u.clientY-this.startY;this.handleResize(f,h)},this.handleTouchMove=u=>{if(!this.isResizing||!this.activeHandle)return;const f=u.touches[0];if(!f)return;const h=f.clientX-this.startX,p=f.clientY-this.startY;this.handleResize(h,p)},this.handleMouseUp=()=>{if(!this.isResizing)return;const u=this.element.offsetWidth,f=this.element.offsetHeight;this.onCommit(u,f),this.isResizing=!1,this.activeHandle=null,this.container.dataset.resizeState="false",this.classNames.resizing&&this.container.classList.remove(this.classNames.resizing),document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp)},this.handleKeyDown=u=>{u.key==="Shift"&&(this.isShiftKeyPressed=!0)},this.handleKeyUp=u=>{u.key==="Shift"&&(this.isShiftKeyPressed=!1)};var e,n,i,s,a,c;this.node=t.node,this.editor=t.editor,this.element=t.element,this.contentElement=t.contentElement,this.getPos=t.getPos,this.onResize=t.onResize,this.onCommit=t.onCommit,this.onUpdate=t.onUpdate,(e=t.options)!=null&&e.min&&(this.minSize={...this.minSize,...t.options.min}),(n=t.options)!=null&&n.max&&(this.maxSize=t.options.max),(i=t?.options)!=null&&i.directions&&(this.directions=t.options.directions),(s=t.options)!=null&&s.preserveAspectRatio&&(this.preserveAspectRatio=t.options.preserveAspectRatio),(a=t.options)!=null&&a.className&&(this.classNames={container:t.options.className.container||"",wrapper:t.options.className.wrapper||"",handle:t.options.className.handle||"",resizing:t.options.className.resizing||""}),(c=t.options)!=null&&c.createCustomHandle&&(this.createCustomHandle=t.options.createCustomHandle),this.wrapper=this.createWrapper(),this.container=this.createContainer(),this.applyInitialSize(),this.attachHandles(),this.editor.on("update",this.handleEditorUpdate.bind(this))}get dom(){return this.container}get contentDOM(){var t;return(t=this.contentElement)!=null?t:null}handleEditorUpdate(){const t=this.editor.isEditable;t!==this.lastEditableState&&(this.lastEditableState=t,t?t&&this.handleMap.size===0&&this.attachHandles():this.removeHandles())}update(t,e,n){return t.type!==this.node.type?!1:(this.node=t,this.onUpdate?this.onUpdate(t,e,n):!0)}destroy(){this.isResizing&&(this.container.dataset.resizeState="false",this.classNames.resizing&&this.container.classList.remove(this.classNames.resizing),document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp),this.isResizing=!1,this.activeHandle=null),this.editor.off("update",this.handleEditorUpdate.bind(this)),this.container.remove()}createContainer(){const t=document.createElement("div");return t.dataset.resizeContainer="",t.dataset.node=this.node.type.name,t.style.display="flex",this.classNames.container&&(t.className=this.classNames.container),t.appendChild(this.wrapper),t}createWrapper(){const t=document.createElement("div");return t.style.position="relative",t.style.display="block",t.dataset.resizeWrapper="",this.classNames.wrapper&&(t.className=this.classNames.wrapper),t.appendChild(this.element),t}createHandle(t){const e=document.createElement("div");return e.dataset.resizeHandle=t,e.style.position="absolute",this.classNames.handle&&(e.className=this.classNames.handle),e}positionHandle(t,e){const n=e.includes("top"),i=e.includes("bottom"),s=e.includes("left"),a=e.includes("right");n&&(t.style.top="0"),i&&(t.style.bottom="0"),s&&(t.style.left="0"),a&&(t.style.right="0"),(e==="top"||e==="bottom")&&(t.style.left="0",t.style.right="0"),(e==="left"||e==="right")&&(t.style.top="0",t.style.bottom="0")}attachHandles(){this.directions.forEach(t=>{let e;this.createCustomHandle?e=this.createCustomHandle(t):e=this.createHandle(t),e instanceof HTMLElement||(console.warn(`[ResizableNodeView] createCustomHandle("${t}") did not return an HTMLElement. Falling back to default handle.`),e=this.createHandle(t)),this.createCustomHandle||this.positionHandle(e,t),e.addEventListener("mousedown",n=>this.handleResizeStart(n,t)),e.addEventListener("touchstart",n=>this.handleResizeStart(n,t)),this.handleMap.set(t,e),this.wrapper.appendChild(e)})}removeHandles(){this.handleMap.forEach(t=>t.remove()),this.handleMap.clear()}applyInitialSize(){const t=this.node.attrs.width,e=this.node.attrs.height;t?(this.element.style.width=`${t}px`,this.initialWidth=t):this.initialWidth=this.element.offsetWidth,e?(this.element.style.height=`${e}px`,this.initialHeight=e):this.initialHeight=this.element.offsetHeight,this.initialWidth>0&&this.initialHeight>0&&(this.aspectRatio=this.initialWidth/this.initialHeight)}handleResizeStart(t,e){t.preventDefault(),t.stopPropagation(),this.isResizing=!0,this.activeHandle=e,a4(t)?(this.startX=t.touches[0].clientX,this.startY=t.touches[0].clientY):(this.startX=t.clientX,this.startY=t.clientY),this.startWidth=this.element.offsetWidth,this.startHeight=this.element.offsetHeight,this.startWidth>0&&this.startHeight>0&&(this.aspectRatio=this.startWidth/this.startHeight),this.getPos(),this.container.dataset.resizeState="true",this.classNames.resizing&&this.container.classList.add(this.classNames.resizing),document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("touchmove",this.handleTouchMove),document.addEventListener("mouseup",this.handleMouseUp),document.addEventListener("keydown",this.handleKeyDown),document.addEventListener("keyup",this.handleKeyUp)}handleResize(t,e){if(!this.activeHandle)return;const n=this.preserveAspectRatio||this.isShiftKeyPressed,{width:i,height:s}=this.calculateNewDimensions(this.activeHandle,t,e),a=this.applyConstraints(i,s,n);this.element.style.width=`${a.width}px`,this.element.style.height=`${a.height}px`,this.onResize&&this.onResize(a.width,a.height)}calculateNewDimensions(t,e,n){let i=this.startWidth,s=this.startHeight;const a=t.includes("right"),c=t.includes("left"),u=t.includes("bottom"),f=t.includes("top");return a?i=this.startWidth+e:c&&(i=this.startWidth-e),u?s=this.startHeight+n:f&&(s=this.startHeight-n),(t==="right"||t==="left")&&(i=this.startWidth+(a?e:-e)),(t==="top"||t==="bottom")&&(s=this.startHeight+(u?n:-n)),this.preserveAspectRatio||this.isShiftKeyPressed?this.applyAspectRatio(i,s,t):{width:i,height:s}}applyConstraints(t,e,n){var i,s,a,c;if(!n){let h=Math.max(this.minSize.width,t),p=Math.max(this.minSize.height,e);return(i=this.maxSize)!=null&&i.width&&(h=Math.min(this.maxSize.width,h)),(s=this.maxSize)!=null&&s.height&&(p=Math.min(this.maxSize.height,p)),{width:h,height:p}}let u=t,f=e;return u<this.minSize.width&&(u=this.minSize.width,f=u/this.aspectRatio),f<this.minSize.height&&(f=this.minSize.height,u=f*this.aspectRatio),(a=this.maxSize)!=null&&a.width&&u>this.maxSize.width&&(u=this.maxSize.width,f=u/this.aspectRatio),(c=this.maxSize)!=null&&c.height&&f>this.maxSize.height&&(f=this.maxSize.height,u=f*this.aspectRatio),{width:u,height:f}}applyAspectRatio(t,e,n){const i=n==="left"||n==="right",s=n==="top"||n==="bottom";return i?{width:t,height:t/this.aspectRatio}:s?{width:e*this.aspectRatio,height:e}:{width:t,height:t/this.aspectRatio}}};function c4(t,e){const{selection:n}=t,{$from:i}=n;if(n instanceof ce){const a=i.index();return i.parent.canReplaceWith(a,a+1,e)}let s=i.depth;for(;s>=0;){const a=i.index(s);if(i.node(s).contentMatchAt(a).matchType(e))return!0;s-=1}return!1}var u4={};Sm(u4,{createAtomBlockMarkdownSpec:()=>ak,createBlockMarkdownSpec:()=>d4,createInlineMarkdownSpec:()=>p4,parseAttributes:()=>Mm,parseIndentedBlocks:()=>_p,renderNestedMarkdownContent:()=>Rm,serializeAttributes:()=>Om});function Mm(t){if(!t?.trim())return{};const e={},n=[],i=t.replace(/["']([^"']*)["']/g,h=>(n.push(h),`__QUOTED_${n.length-1}__`)),s=i.match(/(?:^|\s)\.([a-zA-Z][\w-]*)/g);if(s){const h=s.map(p=>p.trim().slice(1));e.class=h.join(" ")}const a=i.match(/(?:^|\s)#([a-zA-Z][\w-]*)/);a&&(e.id=a[1]);const c=/([a-zA-Z][\w-]*)\s*=\s*(__QUOTED_\d+__)/g;Array.from(i.matchAll(c)).forEach(([,h,p])=>{var g;const x=parseInt(((g=p.match(/__QUOTED_(\d+)__/))==null?void 0:g[1])||"0",10),v=n[x];v&&(e[h]=v.slice(1,-1))});const f=i.replace(/(?:^|\s)\.([a-zA-Z][\w-]*)/g,"").replace(/(?:^|\s)#([a-zA-Z][\w-]*)/g,"").replace(/([a-zA-Z][\w-]*)\s*=\s*__QUOTED_\d+__/g,"").trim();return f&&f.split(/\s+/).filter(Boolean).forEach(p=>{p.match(/^[a-zA-Z][\w-]*$/)&&(e[p]=!0)}),e}function Om(t){if(!t||Object.keys(t).length===0)return"";const e=[];return t.class&&String(t.class).split(/\s+/).filter(Boolean).forEach(i=>e.push(`.${i}`)),t.id&&e.push(`#${t.id}`),Object.entries(t).forEach(([n,i])=>{n==="class"||n==="id"||(i===!0?e.push(n):i!==!1&&i!=null&&e.push(`${n}="${String(i)}"`))}),e.join(" ")}function ak(t){const{nodeName:e,name:n,parseAttributes:i=Mm,serializeAttributes:s=Om,defaultAttributes:a={},requiredAttributes:c=[],allowedAttributes:u}=t,f=n||e,h=p=>{if(!u)return p;const g={};return u.forEach(x=>{x in p&&(g[x]=p[x])}),g};return{parseMarkdown:(p,g)=>{const x={...a,...p.attributes};return g.createNode(e,x,[])},markdownTokenizer:{name:e,level:"block",start(p){var g;const x=new RegExp(`^:::${f}(?:\\s|$)`,"m"),v=(g=p.match(x))==null?void 0:g.index;return v!==void 0?v:-1},tokenize(p,g,x){const v=new RegExp(`^:::${f}(?:\\s+\\{([^}]*)\\})?\\s*:::(?:\\n|$)`),w=p.match(v);if(!w)return;const k=w[1]||"",E=i(k);if(!c.find(M=>!(M in E)))return{type:e,raw:w[0],attributes:E}}},renderMarkdown:p=>{const g=h(p.attrs||{}),x=s(g),v=x?` {${x}}`:"";return`:::${f}${v} :::`}}}function d4(t){const{nodeName:e,name:n,getContent:i,parseAttributes:s=Mm,serializeAttributes:a=Om,defaultAttributes:c={},content:u="block",allowedAttributes:f}=t,h=n||e,p=g=>{if(!f)return g;const x={};return f.forEach(v=>{v in g&&(x[v]=g[v])}),x};return{parseMarkdown:(g,x)=>{let v;if(i){const k=i(g);v=typeof k=="string"?[{type:"text",text:k}]:k}else u==="block"?v=x.parseChildren(g.tokens||[]):v=x.parseInline(g.tokens||[]);const w={...c,...g.attributes};return x.createNode(e,w,v)},markdownTokenizer:{name:e,level:"block",start(g){var x;const v=new RegExp(`^:::${h}`,"m"),w=(x=g.match(v))==null?void 0:x.index;return w!==void 0?w:-1},tokenize(g,x,v){var w;const k=new RegExp(`^:::${h}(?:\\s+\\{([^}]*)\\})?\\s*\\n`),E=g.match(k);if(!E)return;const[T,M=""]=E,z=s(M);let P=1;const D=T.length;let $="";const L=/^:::([\w-]*)(\s.*)?/gm,G=g.slice(D);for(L.lastIndex=0;;){const Z=L.exec(G);if(Z===null)break;const ue=Z.index,Ve=Z[1];if(!((w=Z[2])!=null&&w.endsWith(":::"))){if(Ve)P+=1;else if(P-=1,P===0){const ie=G.slice(0,ue);$=ie.trim();const Me=g.slice(0,D+ue+Z[0].length);let Se=[];if($)if(u==="block")for(Se=v.blockTokens(ie),Se.forEach(ae=>{ae.text&&(!ae.tokens||ae.tokens.length===0)&&(ae.tokens=v.inlineTokens(ae.text))});Se.length>0;){const ae=Se[Se.length-1];if(ae.type==="paragraph"&&(!ae.text||ae.text.trim()===""))Se.pop();else break}else Se=v.inlineTokens($);return{type:e,raw:Me,attributes:z,content:$,tokens:Se}}}}}},renderMarkdown:(g,x)=>{const v=p(g.attrs||{}),w=a(v),k=w?` {${w}}`:"",E=x.renderChildren(g.content||[],`

`);return`:::${h}${k}

${E}

:::`}}}function f4(t){if(!t.trim())return{};const e={},n=/(\w+)=(?:"([^"]*)"|'([^']*)')/g;let i=n.exec(t);for(;i!==null;){const[,s,a,c]=i;e[s]=a||c,i=n.exec(t)}return e}function h4(t){return Object.entries(t).filter(([,e])=>e!=null).map(([e,n])=>`${e}="${n}"`).join(" ")}function p4(t){const{nodeName:e,name:n,getContent:i,parseAttributes:s=f4,serializeAttributes:a=h4,defaultAttributes:c={},selfClosing:u=!1,allowedAttributes:f}=t,h=n||e,p=x=>{if(!f)return x;const v={};return f.forEach(w=>{const k=typeof w=="string"?w:w.name,E=typeof w=="string"?void 0:w.skipIfDefault;if(k in x){const T=x[k];if(E!==void 0&&T===E)return;v[k]=T}}),v},g=h.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return{parseMarkdown:(x,v)=>{const w={...c,...x.attributes};if(u)return v.createNode(e,w);const k=i?i(x):x.content||"";return k?v.createNode(e,w,[v.createTextNode(k)]):v.createNode(e,w,[])},markdownTokenizer:{name:e,level:"inline",start(x){const v=u?new RegExp(`\\[${g}\\s*[^\\]]*\\]`):new RegExp(`\\[${g}\\s*[^\\]]*\\][\\s\\S]*?\\[\\/${g}\\]`),w=x.match(v),k=w?.index;return k!==void 0?k:-1},tokenize(x,v,w){const k=u?new RegExp(`^\\[${g}\\s*([^\\]]*)\\]`):new RegExp(`^\\[${g}\\s*([^\\]]*)\\]([\\s\\S]*?)\\[\\/${g}\\]`),E=x.match(k);if(!E)return;let T="",M="";if(u){const[,P]=E;M=P}else{const[,P,D]=E;M=P,T=D||""}const z=s(M.trim());return{type:e,raw:E[0],content:T.trim(),attributes:z}}},renderMarkdown:x=>{let v="";i?v=i(x):x.content&&x.content.length>0&&(v=x.content.filter(T=>T.type==="text").map(T=>T.text).join(""));const w=p(x.attrs||{}),k=a(w),E=k?` ${k}`:"";return u?`[${h}${E}]`:`[${h}${E}]${v}[/${h}]`}}}function _p(t,e,n){var i,s,a,c;const u=t.split(`
`),f=[];let h="",p=0;const g=e.baseIndentSize||2;for(;p<u.length;){const x=u[p],v=x.match(e.itemPattern);if(!v){if(f.length>0)break;if(x.trim()===""){p+=1,h=`${h}${x}
`;continue}else return}const w=e.extractItemData(v),{indentLevel:k,mainContent:E}=w;h=`${h}${x}
`;const T=[E];for(p+=1;p<u.length;){const D=u[p];if(D.trim()===""){const L=u.slice(p+1).findIndex(ue=>ue.trim()!=="");if(L===-1)break;if((((s=(i=u[p+1+L].match(/^(\s*)/))==null?void 0:i[1])==null?void 0:s.length)||0)>k){T.push(D),h=`${h}${D}
`,p+=1;continue}else break}if((((c=(a=D.match(/^(\s*)/))==null?void 0:a[1])==null?void 0:c.length)||0)>k)T.push(D),h=`${h}${D}
`,p+=1;else break}let M;const z=T.slice(1);if(z.length>0){const D=z.map($=>$.slice(k+g)).join(`
`);D.trim()&&(e.customNestedParser?M=e.customNestedParser(D):M=n.blockTokens(D))}const P=e.createToken(w,M);f.push(P)}if(f.length!==0)return{items:f,raw:h}}function Rm(t,e,n,i){if(!t||!Array.isArray(t.content))return"";const s=typeof n=="function"?n(i):n,[a,...c]=t.content,u=e.renderChildren([a]),f=[`${s}${u}`];return c&&c.length>0&&c.forEach(h=>{const p=e.renderChildren([h]);if(p){const g=p.split(`
`).map(x=>x?e.indent(x):"").join(`
`);f.push(g)}}),f.join(`
`)}function m4(t,e,n={}){const{state:i}=e,{doc:s,tr:a}=i,c=t;s.descendants((u,f)=>{const h=a.mapping.map(f),p=a.mapping.map(f)+u.nodeSize;let g=null;if(u.marks.forEach(v=>{if(v!==c)return!1;g=v}),!g)return;let x=!1;if(Object.keys(n).forEach(v=>{n[v]!==g.attrs[v]&&(x=!0)}),x){const v=t.type.create({...t.attrs,...n});a.removeMark(h,p,t.type),a.addMark(h,p,v)}}),a.docChanged&&e.view.dispatch(a)}var Et=class ok extends Am{constructor(){super(...arguments),this.type="node"}static create(e={}){const n=typeof e=="function"?e():e;return new ok(n)}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}};function ts(t){return new YS({find:t.find,handler:({state:e,range:n,match:i,pasteEvent:s})=>{const a=ze(t.getAttributes,void 0,i,s);if(a===!1||a===null)return null;const{tr:c}=e,u=i[i.length-1],f=i[0];let h=n.to;if(u){const p=f.search(/\S/),g=n.from+f.indexOf(u),x=g+u.length;if(Cm(n.from,n.to,e.doc).filter(w=>w.mark.type.excluded.find(E=>E===t.type&&E!==w.mark.type)).filter(w=>w.to>g).length)return null;x<n.to&&c.delete(x,n.to),g>n.from&&c.delete(n.from+p,g),h=n.from+p+u.length,c.addMark(n.from+p,h,t.type.create(a||{})),c.removeStoredMark(t.type)}}})}function g4(t){return new YS({find:t.find,handler({match:e,chain:n,range:i,pasteEvent:s}){const a=ze(t.getAttributes,void 0,e,s),c=ze(t.getContent,void 0,a);if(a===!1||a===null)return null;const u={type:t.type.name,attrs:a};c&&(u.content=c),e.input&&n().deleteRange(i).insertContentAt(i.from,u)}})}const{getOwnPropertyNames:y4,getOwnPropertySymbols:b4}=Object,{hasOwnProperty:x4}=Object.prototype;function Zh(t,e){return function(i,s,a){return t(i,s,a)&&e(i,s,a)}}function Ac(t){return function(n,i,s){if(!n||!i||typeof n!="object"||typeof i!="object")return t(n,i,s);const{cache:a}=s,c=a.get(n),u=a.get(i);if(c&&u)return c===i&&u===n;a.set(n,i),a.set(i,n);const f=t(n,i,s);return a.delete(n),a.delete(i),f}}function v4(t){return t?.[Symbol.toStringTag]}function Lv(t){return y4(t).concat(b4(t))}const w4=Object.hasOwn||((t,e)=>x4.call(t,e));function ss(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const S4="__v",k4="__o",E4="_owner",{getOwnPropertyDescriptor:_v,keys:Bv}=Object;function N4(t,e){return t.byteLength===e.byteLength&&su(new Uint8Array(t),new Uint8Array(e))}function T4(t,e,n){let i=t.length;if(e.length!==i)return!1;for(;i-- >0;)if(!n.equals(t[i],e[i],i,i,t,e,n))return!1;return!0}function C4(t,e){return t.byteLength===e.byteLength&&su(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function A4(t,e){return ss(t.getTime(),e.getTime())}function M4(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function O4(t,e){return t===e}function Hv(t,e,n){const i=t.size;if(i!==e.size)return!1;if(!i)return!0;const s=new Array(i),a=t.entries();let c,u,f=0;for(;(c=a.next())&&!c.done;){const h=e.entries();let p=!1,g=0;for(;(u=h.next())&&!u.done;){if(s[g]){g++;continue}const x=c.value,v=u.value;if(n.equals(x[0],v[0],f,g,t,e,n)&&n.equals(x[1],v[1],x[0],v[0],t,e,n)){p=s[g]=!0;break}g++}if(!p)return!1;f++}return!0}const R4=ss;function j4(t,e,n){const i=Bv(t);let s=i.length;if(Bv(e).length!==s)return!1;for(;s-- >0;)if(!ck(t,e,n,i[s]))return!1;return!0}function ca(t,e,n){const i=Lv(t);let s=i.length;if(Lv(e).length!==s)return!1;let a,c,u;for(;s-- >0;)if(a=i[s],!ck(t,e,n,a)||(c=_v(t,a),u=_v(e,a),(c||u)&&(!c||!u||c.configurable!==u.configurable||c.enumerable!==u.enumerable||c.writable!==u.writable)))return!1;return!0}function D4(t,e){return ss(t.valueOf(),e.valueOf())}function z4(t,e){return t.source===e.source&&t.flags===e.flags}function Uv(t,e,n){const i=t.size;if(i!==e.size)return!1;if(!i)return!0;const s=new Array(i),a=t.values();let c,u;for(;(c=a.next())&&!c.done;){const f=e.values();let h=!1,p=0;for(;(u=f.next())&&!u.done;){if(!s[p]&&n.equals(c.value,u.value,c.value,u.value,t,e,n)){h=s[p]=!0;break}p++}if(!h)return!1}return!0}function su(t,e){let n=t.byteLength;if(e.byteLength!==n||t.byteOffset!==e.byteOffset)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function L4(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function ck(t,e,n,i){return(i===E4||i===k4||i===S4)&&(t.$$typeof||e.$$typeof)?!0:w4(e,i)&&n.equals(t[i],e[i],i,i,t,e,n)}const _4="[object ArrayBuffer]",B4="[object Arguments]",H4="[object Boolean]",U4="[object DataView]",q4="[object Date]",I4="[object Error]",P4="[object Map]",V4="[object Number]",$4="[object Object]",F4="[object RegExp]",K4="[object Set]",G4="[object String]",Y4={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},J4="[object URL]",X4=Object.prototype.toString;function W4({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:n,areDatesEqual:i,areErrorsEqual:s,areFunctionsEqual:a,areMapsEqual:c,areNumbersEqual:u,areObjectsEqual:f,arePrimitiveWrappersEqual:h,areRegExpsEqual:p,areSetsEqual:g,areTypedArraysEqual:x,areUrlsEqual:v,unknownTagComparators:w}){return function(E,T,M){if(E===T)return!0;if(E==null||T==null)return!1;const z=typeof E;if(z!==typeof T)return!1;if(z!=="object")return z==="number"?u(E,T,M):z==="function"?a(E,T,M):!1;const P=E.constructor;if(P!==T.constructor)return!1;if(P===Object)return f(E,T,M);if(Array.isArray(E))return e(E,T,M);if(P===Date)return i(E,T,M);if(P===RegExp)return p(E,T,M);if(P===Map)return c(E,T,M);if(P===Set)return g(E,T,M);const D=X4.call(E);if(D===q4)return i(E,T,M);if(D===F4)return p(E,T,M);if(D===P4)return c(E,T,M);if(D===K4)return g(E,T,M);if(D===$4)return typeof E.then!="function"&&typeof T.then!="function"&&f(E,T,M);if(D===J4)return v(E,T,M);if(D===I4)return s(E,T,M);if(D===B4)return f(E,T,M);if(Y4[D])return x(E,T,M);if(D===_4)return t(E,T,M);if(D===U4)return n(E,T,M);if(D===H4||D===V4||D===G4)return h(E,T,M);if(w){let $=w[D];if(!$){const L=v4(E);L&&($=w[L])}if($)return $(E,T,M)}return!1}}function Q4({circular:t,createCustomConfig:e,strict:n}){let i={areArrayBuffersEqual:N4,areArraysEqual:n?ca:T4,areDataViewsEqual:C4,areDatesEqual:A4,areErrorsEqual:M4,areFunctionsEqual:O4,areMapsEqual:n?Zh(Hv,ca):Hv,areNumbersEqual:R4,areObjectsEqual:n?ca:j4,arePrimitiveWrappersEqual:D4,areRegExpsEqual:z4,areSetsEqual:n?Zh(Uv,ca):Uv,areTypedArraysEqual:n?Zh(su,ca):su,areUrlsEqual:L4,unknownTagComparators:void 0};if(e&&(i=Object.assign({},i,e(i))),t){const s=Ac(i.areArraysEqual),a=Ac(i.areMapsEqual),c=Ac(i.areObjectsEqual),u=Ac(i.areSetsEqual);i=Object.assign({},i,{areArraysEqual:s,areMapsEqual:a,areObjectsEqual:c,areSetsEqual:u})}return i}function Z4(t){return function(e,n,i,s,a,c,u){return t(e,n,u)}}function e3({circular:t,comparator:e,createState:n,equals:i,strict:s}){if(n)return function(u,f){const{cache:h=t?new WeakMap:void 0,meta:p}=n();return e(u,f,{cache:h,equals:i,meta:p,strict:s})};if(t)return function(u,f){return e(u,f,{cache:new WeakMap,equals:i,meta:void 0,strict:s})};const a={cache:void 0,equals:i,meta:void 0,strict:s};return function(u,f){return e(u,f,a)}}const t3=gr();gr({strict:!0});gr({circular:!0});gr({circular:!0,strict:!0});gr({createInternalComparator:()=>ss});gr({strict:!0,createInternalComparator:()=>ss});gr({circular:!0,createInternalComparator:()=>ss});gr({circular:!0,createInternalComparator:()=>ss,strict:!0});function gr(t={}){const{circular:e=!1,createInternalComparator:n,createState:i,strict:s=!1}=t,a=Q4(t),c=W4(a),u=n?n(c):Z4(c);return e3({circular:e,comparator:c,createState:i,equals:u,strict:s})}var ep={exports:{}},tp={};var qv;function n3(){if(qv)return tp;qv=1;var t=Ua(),e=Q1();function n(h,p){return h===p&&(h!==0||1/h===1/p)||h!==h&&p!==p}var i=typeof Object.is=="function"?Object.is:n,s=e.useSyncExternalStore,a=t.useRef,c=t.useEffect,u=t.useMemo,f=t.useDebugValue;return tp.useSyncExternalStoreWithSelector=function(h,p,g,x,v){var w=a(null);if(w.current===null){var k={hasValue:!1,value:null};w.current=k}else k=w.current;w=u(function(){function T($){if(!M){if(M=!0,z=$,$=x($),v!==void 0&&k.hasValue){var L=k.value;if(v(L,$))return P=L}return P=$}if(L=P,i(z,$))return L;var G=x($);return v!==void 0&&v(L,G)?(z=$,L):(z=$,P=G)}var M=!1,z,P,D=g===void 0?null:g;return[function(){return T(p())},D===null?void 0:function(){return T(D())}]},[p,g,x,v]);var E=s(h,w[0],w[1]);return c(function(){k.hasValue=!0,k.value=E},[E]),f(E),E},tp}var Iv;function i3(){return Iv||(Iv=1,ep.exports=n3()),ep.exports}var r3=i3(),s3=(...t)=>e=>{t.forEach(n=>{typeof n=="function"?n(e):n&&(n.current=e)})},l3=({contentComponent:t})=>{const e=Z1.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getServerSnapshot);return b.jsx(b.Fragment,{children:Object.values(e)})};function a3(){const t=new Set;let e={};return{subscribe(n){return t.add(n),()=>{t.delete(n)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(n,i){e={...e,[n]:i2.createPortal(i.reactElement,i.element,n)},t.forEach(s=>s())},removeRenderer(n){const i={...e};delete i[n],e=i,t.forEach(s=>s())}}}var o3=class extends Jr.Component{constructor(t){var e;super(t),this.editorContentRef=Jr.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!((e=t.editor)!=null&&e.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){var t;const e=this.props.editor;if(e&&!e.isDestroyed&&((t=e.view.dom)!=null&&t.parentNode)){if(e.contentComponent)return;const n=this.editorContentRef.current;n.append(...e.view.dom.parentNode.childNodes),e.setOptions({element:n}),e.contentComponent=a3(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(i=>i.hasContentComponentInitialized?i:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var t;const e=this.props.editor;if(e){this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null;try{if(!((t=e.view.dom)!=null&&t.parentNode))return;const n=document.createElement("div");n.append(...e.view.dom.parentNode.childNodes),e.setOptions({element:n})}catch{}}}render(){const{editor:t,innerRef:e,...n}=this.props;return b.jsxs(b.Fragment,{children:[b.jsx("div",{ref:s3(e,this.editorContentRef),...n}),t?.contentComponent&&b.jsx(l3,{contentComponent:t.contentComponent})]})}},c3=C.forwardRef((t,e)=>{const n=Jr.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[t.editor]);return Jr.createElement(o3,{key:n,innerRef:e,...t})}),uk=Jr.memo(c3),u3=typeof window<"u"?C.useLayoutEffect:C.useEffect,d3=class{constructor(t){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=t,this.lastSnapshot={editor:t,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(t){return this.subscribers.add(t),()=>{this.subscribers.delete(t)}}watch(t){if(this.editor=t,this.editor){const e=()=>{this.transactionNumber+=1,this.subscribers.forEach(i=>i())},n=this.editor;return n.on("transaction",e),()=>{n.off("transaction",e)}}}};function f3(t){var e;const[n]=C.useState(()=>new d3(t.editor)),i=r3.useSyncExternalStoreWithSelector(n.subscribe,n.getSnapshot,n.getServerSnapshot,t.selector,(e=t.equalityFn)!=null?e:t3);return u3(()=>n.watch(t.editor),[t.editor,n]),C.useDebugValue(i),i}var h3=!1,Bp=typeof window>"u",p3=Bp||!!(typeof window<"u"&&window.next),m3=class dk{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(n=>n())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?Bp||p3?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...i)=>{var s,a;return(a=(s=this.options.current).onBeforeCreate)==null?void 0:a.call(s,...i)},onBlur:(...i)=>{var s,a;return(a=(s=this.options.current).onBlur)==null?void 0:a.call(s,...i)},onCreate:(...i)=>{var s,a;return(a=(s=this.options.current).onCreate)==null?void 0:a.call(s,...i)},onDestroy:(...i)=>{var s,a;return(a=(s=this.options.current).onDestroy)==null?void 0:a.call(s,...i)},onFocus:(...i)=>{var s,a;return(a=(s=this.options.current).onFocus)==null?void 0:a.call(s,...i)},onSelectionUpdate:(...i)=>{var s,a;return(a=(s=this.options.current).onSelectionUpdate)==null?void 0:a.call(s,...i)},onTransaction:(...i)=>{var s,a;return(a=(s=this.options.current).onTransaction)==null?void 0:a.call(s,...i)},onUpdate:(...i)=>{var s,a;return(a=(s=this.options.current).onUpdate)==null?void 0:a.call(s,...i)},onContentError:(...i)=>{var s,a;return(a=(s=this.options.current).onContentError)==null?void 0:a.call(s,...i)},onDrop:(...i)=>{var s,a;return(a=(s=this.options.current).onDrop)==null?void 0:a.call(s,...i)},onPaste:(...i)=>{var s,a;return(a=(s=this.options.current).onPaste)==null?void 0:a.call(s,...i)},onDelete:(...i)=>{var s,a;return(a=(s=this.options.current).onDelete)==null?void 0:a.call(s,...i)}};return new l4(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,n){return Object.keys(e).every(i=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(i)?!0:i==="extensions"&&e.extensions&&n.extensions?e.extensions.length!==n.extensions.length?!1:e.extensions.every((s,a)=>{var c;return s===((c=n.extensions)==null?void 0:c[a])}):e[i]===n[i])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?dk.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((i,s)=>i===e[s]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,n=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){n&&n.setOptions(this.options.current);return}n&&!n.isDestroyed&&(n.destroy(),this.instanceId===e&&this.setEditor(null))},1)}};function g3(t={},e=[]){const n=C.useRef(t);n.current=t;const[i]=C.useState(()=>new m3(n)),s=Z1.useSyncExternalStore(i.subscribe,i.getEditor,i.getServerSnapshot);return C.useDebugValue(s),C.useEffect(i.onRender(e)),f3({editor:s,selector:({transactionNumber:a})=>t.shouldRerenderOnTransaction===!1||t.shouldRerenderOnTransaction===void 0?null:t.immediatelyRender&&a===0?0:a+1}),s}var fk=C.createContext({editor:null});fk.Consumer;var y3=C.createContext({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}}),b3=()=>C.useContext(y3);Jr.forwardRef((t,e)=>{const{onDragStart:n}=b3(),i=t.as||"div";return b.jsx(i,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...t.style}})});Jr.createContext({markViewContentRef:()=>{}});var jm=C.createContext({get editor(){throw new Error("useTiptap must be used within a <Tiptap> provider")}});jm.displayName="TiptapContext";var x3=()=>C.useContext(jm);function hk({editor:t,instance:e,children:n}){const i=t??e;if(!i)throw new Error("Tiptap: An editor instance is required. Pass a non-null `editor` prop.");const s=C.useMemo(()=>({editor:i}),[i]),a=C.useMemo(()=>({editor:i}),[i]);return b.jsx(fk.Provider,{value:a,children:b.jsx(jm.Provider,{value:s,children:n})})}hk.displayName="Tiptap";function pk({...t}){const{editor:e}=x3();return b.jsx(uk,{editor:e,...t})}pk.displayName="Tiptap.Content";Object.assign(hk,{Content:pk});var lu=(t,e)=>{if(t==="slot")return 0;if(t instanceof Function)return t(e);const{children:n,...i}=e??{};if(t==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[t,i,n]},v3=/^\s*>\s$/,w3=Et.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return lu("blockquote",{...Je(this.options.HTMLAttributes,t),children:lu("slot",{})})},parseMarkdown:(t,e)=>e.createNode("blockquote",void 0,e.parseChildren(t.tokens||[])),renderMarkdown:(t,e)=>{if(!t.content)return"";const n=">",i=[];return t.content.forEach(s=>{const u=e.renderChildren([s]).split(`
`).map(f=>f.trim()===""?n:`${n} ${f}`);i.push(u.join(`
`))}),i.join(`
${n}
`)},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[ll({find:v3,type:this.type})]}}),S3=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,k3=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,E3=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,N3=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,T3=rs.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return lu("strong",{...Je(this.options.HTMLAttributes,t),children:lu("slot",{})})},markdownTokenName:"strong",parseMarkdown:(t,e)=>e.applyMark("bold",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`**${e.renderChildren(t)}**`,addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[sl({find:S3,type:this.type}),sl({find:E3,type:this.type})]},addPasteRules(){return[ts({find:k3,type:this.type}),ts({find:N3,type:this.type})]}}),C3=/(^|[^`])`([^`]+)`(?!`)$/,A3=/(^|[^`])`([^`]+)`(?!`)/g,M3=rs.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",Je(this.options.HTMLAttributes,t),0]},markdownTokenName:"codespan",parseMarkdown:(t,e)=>e.applyMark("code",[{type:"text",text:t.text||""}]),renderMarkdown:(t,e)=>t.content?`\`${e.renderChildren(t.content)}\``:"",addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[sl({find:C3,type:this.type})]},addPasteRules(){return[ts({find:A3,type:this.type})]}}),np=4,O3=/^```([a-z]+)?[\s\n]$/,R3=/^~~~([a-z]+)?[\s\n]$/,j3=Et.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,enableTabIndentation:!1,tabSize:np,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:t=>{var e;const{languageClassPrefix:n}=this.options;if(!n)return null;const a=[...((e=t.firstElementChild)==null?void 0:e.classList)||[]].filter(c=>c.startsWith(n)).map(c=>c.replace(n,""))[0];return a||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",Je(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},markdownTokenName:"code",parseMarkdown:(t,e)=>{var n;return((n=t.raw)==null?void 0:n.startsWith("```"))===!1&&t.codeBlockStyle!=="indented"?[]:e.createNode("codeBlock",{language:t.lang||null},t.text?[e.createTextNode(t.text)]:[])},renderMarkdown:(t,e)=>{var n;let i="";const s=((n=t.attrs)==null?void 0:n.language)||"";return t.content?i=[`\`\`\`${s}`,e.renderChildren(t.content),"```"].join(`
`):i=`\`\`\`${s}

\`\`\``,i},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,n=e.pos===1;return!t||e.parent.type.name!==this.name?!1:n||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Tab:({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;const n=(e=this.options.tabSize)!=null?e:np,{state:i}=t,{selection:s}=i,{$from:a,empty:c}=s;if(a.parent.type!==this.type)return!1;const u=" ".repeat(n);return c?t.commands.insertContent(u):t.commands.command(({tr:f})=>{const{from:h,to:p}=s,v=i.doc.textBetween(h,p,`
`,`
`).split(`
`).map(w=>u+w).join(`
`);return f.replaceWith(h,p,i.schema.text(v)),!0})},"Shift-Tab":({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;const n=(e=this.options.tabSize)!=null?e:np,{state:i}=t,{selection:s}=i,{$from:a,empty:c}=s;return a.parent.type!==this.type?!1:c?t.commands.command(({tr:u})=>{var f;const{pos:h}=a,p=a.start(),g=a.end(),v=i.doc.textBetween(p,g,`
`,`
`).split(`
`);let w=0,k=0;const E=h-p;for(let $=0;$<v.length;$+=1){if(k+v[$].length>=E){w=$;break}k+=v[$].length+1}const M=((f=v[w].match(/^ */))==null?void 0:f[0])||"",z=Math.min(M.length,n);if(z===0)return!0;let P=p;for(let $=0;$<w;$+=1)P+=v[$].length+1;return u.delete(P,P+z),h-P<=z&&u.setSelection(me.create(u.doc,P)),!0}):t.commands.command(({tr:u})=>{const{from:f,to:h}=s,x=i.doc.textBetween(f,h,`
`,`
`).split(`
`).map(v=>{var w;const k=((w=v.match(/^ */))==null?void 0:w[0])||"",E=Math.min(k.length,n);return v.slice(E)}).join(`
`);return u.replaceWith(f,h,i.schema.text(x)),!0})},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:n}=e,{$from:i,empty:s}=n;if(!s||i.parent.type!==this.type)return!1;const a=i.parentOffset===i.parent.nodeSize-2,c=i.parent.textContent.endsWith(`

`);return!a||!c?!1:t.chain().command(({tr:u})=>(u.delete(i.pos-2,i.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:n,doc:i}=e,{$from:s,empty:a}=n;if(!a||s.parent.type!==this.type||!(s.parentOffset===s.parent.nodeSize-2))return!1;const u=s.after();return u===void 0?!1:i.nodeAt(u)?t.commands.command(({tr:h})=>(h.setSelection(we.near(i.resolve(u))),!0)):t.commands.exitCode()}}},addInputRules(){return[Lp({find:O3,type:this.type,getAttributes:t=>({language:t[1]})}),Lp({find:R3,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new Qe({key:new yt("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const n=e.clipboardData.getData("text/plain"),i=e.clipboardData.getData("vscode-editor-data"),s=i?JSON.parse(i):void 0,a=s?.mode;if(!n||!a)return!1;const{tr:c,schema:u}=t.state,f=u.text(n.replace(/\r\n?/g,`
`));return c.replaceSelectionWith(this.type.create({language:a},f)),c.selection.$from.parent.type!==this.type&&c.setSelection(me.near(c.doc.resolve(Math.max(0,c.selection.from-2)))),c.setMeta("paste",!0),t.dispatch(c),!0}}})]}}),D3=Et.create({name:"doc",topNode:!0,content:"block+",renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`

`):""}),z3=Et.create({name:"hardBreak",markdownTokenName:"br",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",Je(this.options.HTMLAttributes,t)]},renderText(){return`
`},renderMarkdown:()=>`  
`,parseMarkdown:()=>({type:"hardBreak"}),addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:i})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:s,storedMarks:a}=n;if(s.$from.parent.type.spec.isolating)return!1;const{keepMarks:c}=this.options,{splittableMarks:u}=i.extensionManager,f=a||s.$to.parentOffset&&s.$from.marks();return e().insertContent({type:this.name}).command(({tr:h,dispatch:p})=>{if(p&&f&&c){const g=f.filter(x=>u.includes(x.type.name));h.ensureMarks(g)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),L3=Et.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,Je(this.options.HTMLAttributes,e),0]},parseMarkdown:(t,e)=>e.createNode("heading",{level:t.depth||1},e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>{var n;const i=(n=t.attrs)!=null&&n.level?parseInt(t.attrs.level,10):1,s="#".repeat(i);return t.content?`${s} ${e.renderChildren(t.content)}`:""},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>Lp({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}}),_3=Et.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{},nextNodeType:"paragraph"}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",Je(this.options.HTMLAttributes,t)]},markdownTokenName:"hr",parseMarkdown:(t,e)=>e.createNode("horizontalRule"),renderMarkdown:()=>"---",addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{if(!c4(e,e.schema.nodes[this.name]))return!1;const{selection:n}=e,{$to:i}=n,s=t();return VS(n)?s.insertContentAt(i.pos,{type:this.name}):s.insertContent({type:this.name}),s.command(({state:a,tr:c,dispatch:u})=>{if(u){const{$to:f}=c.selection,h=f.end();if(f.nodeAfter)f.nodeAfter.isTextblock?c.setSelection(me.create(c.doc,f.pos+1)):f.nodeAfter.isBlock?c.setSelection(ce.create(c.doc,f.pos)):c.setSelection(me.create(c.doc,f.pos));else{const p=a.schema.nodes[this.options.nextNodeType]||f.parent.type.contentMatch.defaultType,g=p?.create();g&&(c.insert(h,g),c.setSelection(me.create(c.doc,h+1)))}c.scrollIntoView()}return!0}).run()}}},addInputRules(){return[Wa({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),B3=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,H3=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,U3=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,q3=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,I3=rs.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:t=>t.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",Je(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},markdownTokenName:"em",parseMarkdown:(t,e)=>e.applyMark("italic",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`*${e.renderChildren(t)}*`,addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[sl({find:B3,type:this.type}),sl({find:U3,type:this.type})]},addPasteRules(){return[ts({find:H3,type:this.type}),ts({find:q3,type:this.type})]}});const P3="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",V3="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",Hp="numeric",Up="ascii",qp="alpha",wa="asciinumeric",ga="alphanumeric",Ip="domain",mk="emoji",$3="scheme",F3="slashscheme",ip="whitespace";function K3(t,e){return t in e||(e[t]=[]),e[t]}function Pr(t,e,n){e[Hp]&&(e[wa]=!0,e[ga]=!0),e[Up]&&(e[wa]=!0,e[qp]=!0),e[wa]&&(e[ga]=!0),e[qp]&&(e[ga]=!0),e[ga]&&(e[Ip]=!0),e[mk]&&(e[Ip]=!0);for(const i in e){const s=K3(i,n);s.indexOf(t)<0&&s.push(t)}}function G3(t,e){const n={};for(const i in e)e[i].indexOf(t)>=0&&(n[i]=!0);return n}function Xt(t=null){this.j={},this.jr=[],this.jd=null,this.t=t}Xt.groups={};Xt.prototype={accepts(){return!!this.t},go(t){const e=this,n=e.j[t];if(n)return n;for(let i=0;i<e.jr.length;i++){const s=e.jr[i][0],a=e.jr[i][1];if(a&&s.test(t))return a}return e.jd},has(t,e=!1){return e?t in this.j:!!this.go(t)},ta(t,e,n,i){for(let s=0;s<t.length;s++)this.tt(t[s],e,n,i)},tr(t,e,n,i){i=i||Xt.groups;let s;return e&&e.j?s=e:(s=new Xt(e),n&&i&&Pr(e,n,i)),this.jr.push([t,s]),s},ts(t,e,n,i){let s=this;const a=t.length;if(!a)return s;for(let c=0;c<a-1;c++)s=s.tt(t[c]);return s.tt(t[a-1],e,n,i)},tt(t,e,n,i){i=i||Xt.groups;const s=this;if(e&&e.j)return s.j[t]=e,e;const a=e;let c,u=s.go(t);if(u?(c=new Xt,Object.assign(c.j,u.j),c.jr.push.apply(c.jr,u.jr),c.jd=u.jd,c.t=u.t):c=new Xt,a){if(i)if(c.t&&typeof c.t=="string"){const f=Object.assign(G3(c.t,i),n);Pr(a,f,i)}else n&&Pr(a,n,i);c.t=a}return s.j[t]=c,c}};const ve=(t,e,n,i,s)=>t.ta(e,n,i,s),tt=(t,e,n,i,s)=>t.tr(e,n,i,s),Pv=(t,e,n,i,s)=>t.ts(e,n,i,s),W=(t,e,n,i,s)=>t.tt(e,n,i,s),bi="WORD",Pp="UWORD",gk="ASCIINUMERICAL",yk="ALPHANUMERICAL",Ba="LOCALHOST",Vp="TLD",$p="UTLD",Ic="SCHEME",Js="SLASH_SCHEME",Dm="NUM",Fp="WS",zm="NL",Sa="OPENBRACE",ka="CLOSEBRACE",au="OPENBRACKET",ou="CLOSEBRACKET",cu="OPENPAREN",uu="CLOSEPAREN",du="OPENANGLEBRACKET",fu="CLOSEANGLEBRACKET",hu="FULLWIDTHLEFTPAREN",pu="FULLWIDTHRIGHTPAREN",mu="LEFTCORNERBRACKET",gu="RIGHTCORNERBRACKET",yu="LEFTWHITECORNERBRACKET",bu="RIGHTWHITECORNERBRACKET",xu="FULLWIDTHLESSTHAN",vu="FULLWIDTHGREATERTHAN",wu="AMPERSAND",Su="APOSTROPHE",ku="ASTERISK",tr="AT",Eu="BACKSLASH",Nu="BACKTICK",Tu="CARET",rr="COLON",Lm="COMMA",Cu="DOLLAR",Fn="DOT",Au="EQUALS",_m="EXCLAMATION",En="HYPHEN",Ea="PERCENT",Mu="PIPE",Ou="PLUS",Ru="POUND",Na="QUERY",Bm="QUOTE",bk="FULLWIDTHMIDDLEDOT",Hm="SEMI",Kn="SLASH",Ta="TILDE",ju="UNDERSCORE",xk="EMOJI",Du="SYM";var vk=Object.freeze({__proto__:null,ALPHANUMERICAL:yk,AMPERSAND:wu,APOSTROPHE:Su,ASCIINUMERICAL:gk,ASTERISK:ku,AT:tr,BACKSLASH:Eu,BACKTICK:Nu,CARET:Tu,CLOSEANGLEBRACKET:fu,CLOSEBRACE:ka,CLOSEBRACKET:ou,CLOSEPAREN:uu,COLON:rr,COMMA:Lm,DOLLAR:Cu,DOT:Fn,EMOJI:xk,EQUALS:Au,EXCLAMATION:_m,FULLWIDTHGREATERTHAN:vu,FULLWIDTHLEFTPAREN:hu,FULLWIDTHLESSTHAN:xu,FULLWIDTHMIDDLEDOT:bk,FULLWIDTHRIGHTPAREN:pu,HYPHEN:En,LEFTCORNERBRACKET:mu,LEFTWHITECORNERBRACKET:yu,LOCALHOST:Ba,NL:zm,NUM:Dm,OPENANGLEBRACKET:du,OPENBRACE:Sa,OPENBRACKET:au,OPENPAREN:cu,PERCENT:Ea,PIPE:Mu,PLUS:Ou,POUND:Ru,QUERY:Na,QUOTE:Bm,RIGHTCORNERBRACKET:gu,RIGHTWHITECORNERBRACKET:bu,SCHEME:Ic,SEMI:Hm,SLASH:Kn,SLASH_SCHEME:Js,SYM:Du,TILDE:Ta,TLD:Vp,UNDERSCORE:ju,UTLD:$p,UWORD:Pp,WORD:bi,WS:Fp});const gi=/[a-z]/,ua=new RegExp("\\p{L}","u"),rp=new RegExp("\\p{Emoji}","u"),yi=/\d/,sp=/\s/,Vv="\r",lp=`
`,Y3="",J3="",ap="";let Mc=null,Oc=null;function X3(t=[]){const e={};Xt.groups=e;const n=new Xt;Mc==null&&(Mc=$v(P3)),Oc==null&&(Oc=$v(V3)),W(n,"'",Su),W(n,"{",Sa),W(n,"}",ka),W(n,"[",au),W(n,"]",ou),W(n,"(",cu),W(n,")",uu),W(n,"<",du),W(n,">",fu),W(n,"",hu),W(n,"",pu),W(n,"",mu),W(n,"",gu),W(n,"",yu),W(n,"",bu),W(n,"",xu),W(n,"",vu),W(n,"&",wu),W(n,"*",ku),W(n,"@",tr),W(n,"`",Nu),W(n,"^",Tu),W(n,":",rr),W(n,",",Lm),W(n,"$",Cu),W(n,".",Fn),W(n,"=",Au),W(n,"!",_m),W(n,"-",En),W(n,"%",Ea),W(n,"|",Mu),W(n,"+",Ou),W(n,"#",Ru),W(n,"?",Na),W(n,'"',Bm),W(n,"/",Kn),W(n,";",Hm),W(n,"~",Ta),W(n,"_",ju),W(n,"\\",Eu),W(n,"",bk);const i=tt(n,yi,Dm,{[Hp]:!0});tt(i,yi,i);const s=tt(i,gi,gk,{[wa]:!0}),a=tt(i,ua,yk,{[ga]:!0}),c=tt(n,gi,bi,{[Up]:!0});tt(c,yi,s),tt(c,gi,c),tt(s,yi,s),tt(s,gi,s);const u=tt(n,ua,Pp,{[qp]:!0});tt(u,gi),tt(u,yi,a),tt(u,ua,u),tt(a,yi,a),tt(a,gi),tt(a,ua,a);const f=W(n,lp,zm,{[ip]:!0}),h=W(n,Vv,Fp,{[ip]:!0}),p=tt(n,sp,Fp,{[ip]:!0});W(n,ap,p),W(h,lp,f),W(h,ap,p),tt(h,sp,p),W(p,Vv),W(p,lp),tt(p,sp,p),W(p,ap,p);const g=tt(n,rp,xk,{[mk]:!0});W(g,"#"),tt(g,rp,g),W(g,Y3,g);const x=W(g,J3);W(x,"#"),tt(x,rp,g);const v=[[gi,c],[yi,s]],w=[[gi,null],[ua,u],[yi,a]];for(let k=0;k<Mc.length;k++)Qi(n,Mc[k],Vp,bi,v);for(let k=0;k<Oc.length;k++)Qi(n,Oc[k],$p,Pp,w);Pr(Vp,{tld:!0,ascii:!0},e),Pr($p,{utld:!0,alpha:!0},e),Qi(n,"file",Ic,bi,v),Qi(n,"mailto",Ic,bi,v),Qi(n,"http",Js,bi,v),Qi(n,"https",Js,bi,v),Qi(n,"ftp",Js,bi,v),Qi(n,"ftps",Js,bi,v),Pr(Ic,{scheme:!0,ascii:!0},e),Pr(Js,{slashscheme:!0,ascii:!0},e),t=t.sort((k,E)=>k[0]>E[0]?1:-1);for(let k=0;k<t.length;k++){const E=t[k][0],M=t[k][1]?{[$3]:!0}:{[F3]:!0};E.indexOf("-")>=0?M[Ip]=!0:gi.test(E)?yi.test(E)?M[wa]=!0:M[Up]=!0:M[Hp]=!0,Pv(n,E,E,M)}return Pv(n,"localhost",Ba,{ascii:!0}),n.jd=new Xt(Du),{start:n,tokens:Object.assign({groups:e},vk)}}function wk(t,e){const n=W3(e.replace(/[A-Z]/g,u=>u.toLowerCase())),i=n.length,s=[];let a=0,c=0;for(;c<i;){let u=t,f=null,h=0,p=null,g=-1,x=-1;for(;c<i&&(f=u.go(n[c]));)u=f,u.accepts()?(g=0,x=0,p=u):g>=0&&(g+=n[c].length,x++),h+=n[c].length,a+=n[c].length,c++;a-=g,c-=x,h-=g,s.push({t:p.t,v:e.slice(a-h,a),s:a-h,e:a})}return s}function W3(t){const e=[],n=t.length;let i=0;for(;i<n;){let s=t.charCodeAt(i),a,c=s<55296||s>56319||i+1===n||(a=t.charCodeAt(i+1))<56320||a>57343?t[i]:t.slice(i,i+2);e.push(c),i+=c.length}return e}function Qi(t,e,n,i,s){let a;const c=e.length;for(let u=0;u<c-1;u++){const f=e[u];t.j[f]?a=t.j[f]:(a=new Xt(i),a.jr=s.slice(),t.j[f]=a),t=a}return a=new Xt(n),a.jr=s.slice(),t.j[e[c-1]]=a,a}function $v(t){const e=[],n=[];let i=0,s="0123456789";for(;i<t.length;){let a=0;for(;s.indexOf(t[i+a])>=0;)a++;if(a>0){e.push(n.join(""));for(let c=parseInt(t.substring(i,i+a),10);c>0;c--)n.pop();i+=a}else n.push(t[i]),i++}return e}const Ha={defaultProtocol:"http",events:null,format:Fv,formatHref:Fv,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function Um(t,e=null){let n=Object.assign({},Ha);t&&(n=Object.assign(n,t instanceof Um?t.o:t));const i=n.ignoreTags,s=[];for(let a=0;a<i.length;a++)s.push(i[a].toUpperCase());this.o=n,e&&(this.defaultRender=e),this.ignoreTags=s}Um.prototype={o:Ha,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,e,n){const i=e!=null;let s=this.o[t];return s&&(typeof s=="object"?(s=n.t in s?s[n.t]:Ha[t],typeof s=="function"&&i&&(s=s(e,n))):typeof s=="function"&&i&&(s=s(e,n.t,n)),s)},getObj(t,e,n){let i=this.o[t];return typeof i=="function"&&e!=null&&(i=i(e,n.t,n)),i},render(t){const e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}};function Fv(t){return t}function Sk(t,e){this.t="token",this.v=t,this.tk=e}Sk.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),n=t.get("truncate",e,this),i=t.get("format",e,this);return n&&i.length>n?i.substring(0,n)+"":i},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t=Ha.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,n=this.toHref(t.get("defaultProtocol")),i=t.get("formatHref",n,this),s=t.get("tagName",n,e),a=this.toFormattedString(t),c={},u=t.get("className",n,e),f=t.get("target",n,e),h=t.get("rel",n,e),p=t.getObj("attributes",n,e),g=t.getObj("events",n,e);return c.href=i,u&&(c.class=u),f&&(c.target=f),h&&(c.rel=h),p&&Object.assign(c,p),{tagName:s,attributes:c,content:a,eventListeners:g}}};function nd(t,e){class n extends Sk{constructor(s,a){super(s,a),this.t=t}}for(const i in e)n.prototype[i]=e[i];return n.t=t,n}const Kv=nd("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),Gv=nd("text"),Q3=nd("nl"),Rc=nd("url",{isLink:!0,toHref(t=Ha.defaultProtocol){return this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==Ba&&t[1].t===rr}}),kn=t=>new Xt(t);function Z3({groups:t}){const e=t.domain.concat([wu,ku,tr,Eu,Nu,Tu,Cu,Au,En,Dm,Ea,Mu,Ou,Ru,Kn,Du,Ta,ju]),n=[Su,rr,Lm,Fn,_m,Ea,Na,Bm,Hm,du,fu,Sa,ka,ou,au,cu,uu,hu,pu,mu,gu,yu,bu,xu,vu],i=[wu,Su,ku,Eu,Nu,Tu,Cu,Au,En,Sa,ka,Ea,Mu,Ou,Ru,Na,Kn,Du,Ta,ju],s=kn(),a=W(s,Ta);ve(a,i,a),ve(a,t.domain,a);const c=kn(),u=kn(),f=kn();ve(s,t.domain,c),ve(s,t.scheme,u),ve(s,t.slashscheme,f),ve(c,i,a),ve(c,t.domain,c);const h=W(c,tr);W(a,tr,h),W(u,tr,h),W(f,tr,h);const p=W(a,Fn);ve(p,i,a),ve(p,t.domain,a);const g=kn();ve(h,t.domain,g),ve(g,t.domain,g);const x=W(g,Fn);ve(x,t.domain,g);const v=kn(Kv);ve(x,t.tld,v),ve(x,t.utld,v),W(h,Ba,v);const w=W(g,En);W(w,En,w),ve(w,t.domain,g),ve(v,t.domain,g),W(v,Fn,x),W(v,En,w);const k=W(v,rr);ve(k,t.numeric,Kv);const E=W(c,En),T=W(c,Fn);W(E,En,E),ve(E,t.domain,c),ve(T,i,a),ve(T,t.domain,c);const M=kn(Rc);ve(T,t.tld,M),ve(T,t.utld,M),ve(M,t.domain,c),ve(M,i,a),W(M,Fn,T),W(M,En,E),W(M,tr,h);const z=W(M,rr),P=kn(Rc);ve(z,t.numeric,P);const D=kn(Rc),$=kn();ve(D,e,D),ve(D,n,$),ve($,e,D),ve($,n,$),W(M,Kn,D),W(P,Kn,D);const L=W(u,rr),G=W(f,rr),Z=W(G,Kn),ue=W(Z,Kn);ve(u,t.domain,c),W(u,Fn,T),W(u,En,E),ve(f,t.domain,c),W(f,Fn,T),W(f,En,E),ve(L,t.domain,D),W(L,Kn,D),W(L,Na,D),ve(ue,t.domain,D),ve(ue,e,D),W(ue,Kn,D);const Ve=[[Sa,ka],[au,ou],[cu,uu],[du,fu],[hu,pu],[mu,gu],[yu,bu],[xu,vu]];for(let ie=0;ie<Ve.length;ie++){const[Me,Se]=Ve[ie],ae=W(D,Me);W($,Me,ae),W(ae,Se,D);const U=kn(Rc);ve(ae,e,U);const Q=kn();ve(ae,n),ve(U,e,U),ve(U,n,Q),ve(Q,e,U),ve(Q,n,Q),W(U,Se,D),W(Q,Se,D)}return W(s,Ba,M),W(s,zm,Q3),{start:s,tokens:vk}}function ez(t,e,n){let i=n.length,s=0,a=[],c=[];for(;s<i;){let u=t,f=null,h=null,p=0,g=null,x=-1;for(;s<i&&!(f=u.go(n[s].t));)c.push(n[s++]);for(;s<i&&(h=f||u.go(n[s].t));)f=null,u=h,u.accepts()?(x=0,g=u):x>=0&&x++,s++,p++;if(x<0)s-=p,s<i&&(c.push(n[s]),s++);else{c.length>0&&(a.push(op(Gv,e,c)),c=[]),s-=x,p-=x;const v=g.t,w=n.slice(s-p,s);a.push(op(v,e,w))}}return c.length>0&&a.push(op(Gv,e,c)),a}function op(t,e,n){const i=n[0].s,s=n[n.length-1].e,a=e.slice(i,s);return new t(a,n)}const tz=typeof console<"u"&&console&&console.warn||(()=>{}),nz="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",Ge={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function iz(){return Xt.groups={},Ge.scanner=null,Ge.parser=null,Ge.tokenQueue=[],Ge.pluginQueue=[],Ge.customSchemes=[],Ge.initialized=!1,Ge}function Yv(t,e=!1){if(Ge.initialized&&tz(`linkifyjs: already initialized - will not register custom scheme "${t}" ${nz}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(t))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);Ge.customSchemes.push([t,e])}function rz(){Ge.scanner=X3(Ge.customSchemes);for(let t=0;t<Ge.tokenQueue.length;t++)Ge.tokenQueue[t][1]({scanner:Ge.scanner});Ge.parser=Z3(Ge.scanner.tokens);for(let t=0;t<Ge.pluginQueue.length;t++)Ge.pluginQueue[t][1]({scanner:Ge.scanner,parser:Ge.parser});return Ge.initialized=!0,Ge}function qm(t){return Ge.initialized||rz(),ez(Ge.parser.start,t,wk(Ge.scanner.start,t))}qm.scan=wk;function kk(t,e=null,n=null){if(e&&typeof e=="object"){if(n)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);n=e,e=null}const i=new Um(n),s=qm(t),a=[];for(let c=0;c<s.length;c++){const u=s[c];u.isLink&&(!e||u.t===e)&&i.check(u)&&a.push(u.toFormattedObject(i))}return a}var Im="[\0- -\u2029]",sz=new RegExp(Im),lz=new RegExp(`${Im}$`),az=new RegExp(Im,"g");function oz(t){return t.length===1?t[0].isLink:t.length===3&&t[1].isLink?["()","[]"].includes(t[0].value+t[2].value):!1}function cz(t){return new Qe({key:new yt("autolink"),appendTransaction:(e,n,i)=>{const s=e.some(h=>h.docChanged)&&!n.doc.eq(i.doc),a=e.some(h=>h.getMeta("preventAutolink"));if(!s||a)return;const{tr:c}=i,u=LS(n.doc,[...e]);if(PS(u).forEach(({newRange:h})=>{const p=cD(i.doc,h,v=>v.isTextblock);let g,x;if(p.length>1)g=p[0],x=i.doc.textBetween(g.pos,g.pos+g.node.nodeSize,void 0," ");else if(p.length){const v=i.doc.textBetween(h.from,h.to," "," ");if(!lz.test(v))return;g=p[0],x=i.doc.textBetween(g.pos,h.to,void 0," ")}if(g&&x){const v=x.split(sz).filter(Boolean);if(v.length<=0)return!1;const w=v[v.length-1],k=g.pos+x.lastIndexOf(w);if(!w)return!1;const E=qm(w).map(T=>T.toObject(t.defaultProtocol));if(!oz(E))return!1;E.filter(T=>T.isLink).map(T=>({...T,from:k+T.start+1,to:k+T.end+1})).filter(T=>i.schema.marks.code?!i.doc.rangeHasMark(T.from,T.to,i.schema.marks.code):!0).filter(T=>t.validate(T.value)).filter(T=>t.shouldAutoLink(T.value)).forEach(T=>{Cm(T.from,T.to,i.doc).some(M=>M.mark.type===t.type)||c.addMark(T.from,T.to,t.type.create({href:T.href}))})}}),!!c.steps.length)return c}})}function uz(t){return new Qe({key:new yt("handleClickLink"),props:{handleClick:(e,n,i)=>{var s,a;if(i.button!==0||!e.editable)return!1;let c=null;if(i.target instanceof HTMLAnchorElement)c=i.target;else{const f=i.target;if(!f)return!1;const h=t.editor.view.dom;c=f.closest("a"),c&&!h.contains(c)&&(c=null)}if(!c)return!1;let u=!1;if(t.enableClickSelection&&(u=t.editor.commands.extendMarkRange(t.type.name)),t.openOnClick){const f=IS(e.state,t.type.name),h=(s=c.href)!=null?s:f.href,p=(a=c.target)!=null?a:f.target;h&&(window.open(h,p),u=!0)}return u}}})}function dz(t){return new Qe({key:new yt("handlePasteLink"),props:{handlePaste:(e,n,i)=>{const{shouldAutoLink:s}=t,{state:a}=e,{selection:c}=a,{empty:u}=c;if(u)return!1;let f="";i.content.forEach(p=>{f+=p.textContent});const h=kk(f,{defaultProtocol:t.defaultProtocol}).find(p=>p.isLink&&p.value===f);return!f||!h||s!==void 0&&!s(h.value)?!1:t.editor.commands.setMark(t.type,{href:h.href})}}})}function _r(t,e){const n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(i=>{const s=typeof i=="string"?i:i.scheme;s&&n.push(s)}),!t||t.replace(az,"").match(new RegExp(`^(?:(?:${n.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var Ek=rs.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(t=>{if(typeof t=="string"){Yv(t);return}Yv(t.scheme,t.optionalSlashes)})},onDestroy(){iz()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(t,e)=>!!_r(t,e.protocols),validate:t=>!!t,shouldAutoLink:t=>{const e=/^[a-z][a-z0-9+.-]*:\/\//i.test(t),n=/^[a-z][a-z0-9+.-]*:/i.test(t);if(e||n&&!t.includes("@"))return!0;const s=(t.includes("@")?t.split("@").pop():t).split(/[/?#:]/)[0];return!(/^\d{1,3}(\.\d{1,3}){3}$/.test(s)||!/\./.test(s))}}},addAttributes(){return{href:{default:null,parseHTML(t){return t.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class},title:{default:null}}},parseHTML(){return[{tag:"a[href]",getAttrs:t=>{const e=t.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:n=>!!_r(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:t}){return this.options.isAllowedUri(t.href,{defaultValidate:e=>!!_r(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",Je(this.options.HTMLAttributes,t),0]:["a",Je(this.options.HTMLAttributes,{...t,href:""}),0]},markdownTokenName:"link",parseMarkdown:(t,e)=>e.applyMark("link",e.parseInline(t.tokens||[]),{href:t.href,title:t.title||null}),renderMarkdown:(t,e)=>{var n,i,s,a;const c=(i=(n=t.attrs)==null?void 0:n.href)!=null?i:"",u=(a=(s=t.attrs)==null?void 0:s.title)!=null?a:"",f=e.renderChildren(t);return u?`[${f}](${c} "${u}")`:`[${f}](${c})`},addCommands(){return{setLink:t=>({chain:e})=>{const{href:n}=t;return this.options.isAllowedUri(n,{defaultValidate:i=>!!_r(i,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,t).setMeta("preventAutolink",!0).run():!1},toggleLink:t=>({chain:e})=>{const{href:n}=t||{};return n&&!this.options.isAllowedUri(n,{defaultValidate:i=>!!_r(i,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:e().toggleMark(this.name,t,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:t})=>t().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[ts({find:t=>{const e=[];if(t){const{protocols:n,defaultProtocol:i}=this.options,s=kk(t).filter(a=>a.isLink&&this.options.isAllowedUri(a.value,{defaultValidate:c=>!!_r(c,n),protocols:n,defaultProtocol:i}));s.length&&s.forEach(a=>{this.options.shouldAutoLink(a.value)&&e.push({text:a.value,data:{href:a.href},index:a.start})})}return e},type:this.type,getAttributes:t=>{var e;return{href:(e=t.data)==null?void 0:e.href}}})]},addProseMirrorPlugins(){const t=[],{protocols:e,defaultProtocol:n}=this.options;return this.options.autolink&&t.push(cz({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:i=>this.options.isAllowedUri(i,{defaultValidate:s=>!!_r(s,e),protocols:e,defaultProtocol:n}),shouldAutoLink:this.options.shouldAutoLink})),t.push(uz({type:this.type,editor:this.editor,openOnClick:this.options.openOnClick==="whenNotEditable"?!0:this.options.openOnClick,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&t.push(dz({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type,shouldAutoLink:this.options.shouldAutoLink})),t}}),fz=Ek,hz=Object.defineProperty,pz=(t,e)=>{for(var n in e)hz(t,n,{get:e[n],enumerable:!0})},mz="listItem",Jv="textStyle",Xv=/^\s*([-+*])\s$/,Nk=Et.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",Je(this.options.HTMLAttributes,t),0]},markdownTokenName:"list",parseMarkdown:(t,e)=>t.type!=="list"||t.ordered?[]:{type:"bulletList",content:t.items?e.parseChildren(t.items):[]},renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownOptions:{indentsContent:!0},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(mz,this.editor.getAttributes(Jv)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=ll({find:Xv,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=ll({find:Xv,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(Jv),editor:this.editor})),[t]}}),Tk=Et.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",Je(this.options.HTMLAttributes,t),0]},markdownTokenName:"list_item",parseMarkdown:(t,e)=>{if(t.type!=="list_item")return[];let n=[];if(t.tokens&&t.tokens.length>0)if(t.tokens.some(s=>s.type==="paragraph"))n=e.parseChildren(t.tokens);else{const s=t.tokens[0];if(s&&s.type==="text"&&s.tokens&&s.tokens.length>0){if(n=[{type:"paragraph",content:e.parseInline(s.tokens)}],t.tokens.length>1){const c=t.tokens.slice(1),u=e.parseChildren(c);n.push(...u)}}else n=e.parseChildren(t.tokens)}return n.length===0&&(n=[{type:"paragraph",content:[]}]),{type:"listItem",content:n}},renderMarkdown:(t,e,n)=>Rm(t,e,i=>{var s,a;return i.parentType==="bulletList"?"- ":i.parentType==="orderedList"?`${(((a=(s=i.meta)==null?void 0:s.parentAttrs)==null?void 0:a.start)||1)+i.index}. `:"- "},n),addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),gz={};pz(gz,{findListItemPos:()=>Qa,getNextListDepth:()=>Pm,handleBackspace:()=>Kp,handleDelete:()=>Gp,hasListBefore:()=>Ck,hasListItemAfter:()=>yz,hasListItemBefore:()=>Ak,listItemHasSubList:()=>Mk,nextListIsDeeper:()=>Ok,nextListIsHigher:()=>Rk});var Qa=(t,e)=>{const{$from:n}=e.selection,i=pt(t,e.schema);let s=null,a=n.depth,c=n.pos,u=null;for(;a>0&&u===null;)s=n.node(a),s.type===i?u=a:(a-=1,c-=1);return u===null?null:{$pos:e.doc.resolve(c),depth:u}},Pm=(t,e)=>{const n=Qa(t,e);if(!n)return!1;const[,i]=xD(e,t,n.$pos.pos+4);return i},Ck=(t,e,n)=>{const{$anchor:i}=t.selection,s=Math.max(0,i.pos-2),a=t.doc.resolve(s).node();return!(!a||!n.includes(a.type.name))},Ak=(t,e)=>{var n;const{$anchor:i}=e.selection,s=e.doc.resolve(i.pos-2);return!(s.index()===0||((n=s.nodeBefore)==null?void 0:n.type.name)!==t)},Mk=(t,e,n)=>{if(!n)return!1;const i=pt(t,e.schema);let s=!1;return n.descendants(a=>{a.type===i&&(s=!0)}),s},Kp=(t,e,n)=>{if(t.commands.undoInputRule())return!0;if(t.state.selection.from!==t.state.selection.to)return!1;if(!hr(t.state,e)&&Ck(t.state,e,n)){const{$anchor:u}=t.state.selection,f=t.state.doc.resolve(u.before()-1),h=[];f.node().descendants((x,v)=>{x.type.name===e&&h.push({node:x,pos:v})});const p=h.at(-1);if(!p)return!1;const g=t.state.doc.resolve(f.start()+p.pos+1);return t.chain().cut({from:u.start()-1,to:u.end()+1},g.end()).joinForward().run()}if(!hr(t.state,e)||!kD(t.state))return!1;const i=Qa(e,t.state);if(!i)return!1;const a=t.state.doc.resolve(i.$pos.pos-2).node(i.depth),c=Mk(e,t.state,a);return Ak(e,t.state)&&!c?t.commands.joinItemBackward():t.chain().liftListItem(e).run()},Ok=(t,e)=>{const n=Pm(t,e),i=Qa(t,e);return!i||!n?!1:n>i.depth},Rk=(t,e)=>{const n=Pm(t,e),i=Qa(t,e);return!i||!n?!1:n<i.depth},Gp=(t,e)=>{if(!hr(t.state,e)||!SD(t.state,e))return!1;const{selection:n}=t.state,{$from:i,$to:s}=n;return!n.empty&&i.sameParent(s)?!1:Ok(e,t.state)?t.chain().focus(t.state.selection.from+4).lift(e).joinBackward().run():Rk(e,t.state)?t.chain().joinForward().joinBackward().run():t.commands.joinItemForward()},yz=(t,e)=>{var n;const{$anchor:i}=e.selection,s=e.doc.resolve(i.pos-i.parentOffset-2);return!(s.index()===s.parent.childCount-1||((n=s.nodeAfter)==null?void 0:n.type.name)!==t)},jk=ot.create({name:"listKeymap",addOptions(){return{listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}},addKeyboardShortcuts(){return{Delete:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n})=>{t.state.schema.nodes[n]!==void 0&&Gp(t,n)&&(e=!0)}),e},"Mod-Delete":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n})=>{t.state.schema.nodes[n]!==void 0&&Gp(t,n)&&(e=!0)}),e},Backspace:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:i})=>{t.state.schema.nodes[n]!==void 0&&Kp(t,n,i)&&(e=!0)}),e},"Mod-Backspace":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:i})=>{t.state.schema.nodes[n]!==void 0&&Kp(t,n,i)&&(e=!0)}),e}}}}),Wv=/^(\s*)(\d+)\.\s+(.*)$/,bz=/^\s/;function xz(t){const e=[];let n=0,i=0;for(;n<t.length;){const s=t[n],a=s.match(Wv);if(!a)break;const[,c,u,f]=a,h=c.length;let p=f,g=n+1;const x=[s];for(;g<t.length;){const v=t[g];if(v.match(Wv))break;if(v.trim()==="")x.push(v),p+=`
`,g+=1;else if(v.match(bz))x.push(v),p+=`
${v.slice(h+2)}`,g+=1;else break}e.push({indent:h,number:parseInt(u,10),content:p.trim(),raw:x.join(`
`)}),i=g,n=g}return[e,i]}function Dk(t,e,n){var i;const s=[];let a=0;for(;a<t.length;){const c=t[a];if(c.indent===e){const u=c.content.split(`
`),f=((i=u[0])==null?void 0:i.trim())||"",h=[];f&&h.push({type:"paragraph",raw:f,tokens:n.inlineTokens(f)});const p=u.slice(1).join(`
`).trim();if(p){const v=n.blockTokens(p);h.push(...v)}let g=a+1;const x=[];for(;g<t.length&&t[g].indent>e;)x.push(t[g]),g+=1;if(x.length>0){const v=Math.min(...x.map(k=>k.indent)),w=Dk(x,v,n);h.push({type:"list",ordered:!0,start:x[0].number,items:w,raw:x.map(k=>k.raw).join(`
`)})}s.push({type:"list_item",raw:c.raw,tokens:h}),a=g}else a+=1}return s}function vz(t,e){return t.map(n=>{if(n.type!=="list_item")return e.parseChildren([n])[0];const i=[];return n.tokens&&n.tokens.length>0&&n.tokens.forEach(s=>{if(s.type==="paragraph"||s.type==="list"||s.type==="blockquote"||s.type==="code")i.push(...e.parseChildren([s]));else if(s.type==="text"&&s.tokens){const a=e.parseChildren([s]);i.push({type:"paragraph",content:a})}else{const a=e.parseChildren([s]);a.length>0&&i.push(...a)}}),{type:"listItem",content:i}})}var wz="listItem",Qv="textStyle",Zv=/^(\d+)\.\s$/,zk=Et.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1},type:{default:null,parseHTML:t=>t.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...n}=t;return e===1?["ol",Je(this.options.HTMLAttributes,n),0]:["ol",Je(this.options.HTMLAttributes,t),0]},markdownTokenName:"list",parseMarkdown:(t,e)=>{if(t.type!=="list"||!t.ordered)return[];const n=t.start||1,i=t.items?vz(t.items,e):[];return n!==1?{type:"orderedList",attrs:{start:n},content:i}:{type:"orderedList",content:i}},renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownTokenizer:{name:"orderedList",level:"block",start:t=>{const e=t.match(/^(\s*)(\d+)\.\s+/),n=e?.index;return n!==void 0?n:-1},tokenize:(t,e,n)=>{var i;const s=t.split(`
`),[a,c]=xz(s);if(a.length===0)return;const u=Dk(a,0,n);return u.length===0?void 0:{type:"list",ordered:!0,start:((i=a[0])==null?void 0:i.number)||1,items:u,raw:s.slice(0,c).join(`
`)}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(wz,this.editor.getAttributes(Qv)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=ll({find:Zv,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=ll({find:Zv,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(Qv)}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1],editor:this.editor})),[t]}}),Sz=/^\s*(\[([( |x])?\])\s$/,kz=Et.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:t=>{const e=t.getAttribute("data-checked");return e===""||e==="true"},renderHTML:t=>({"data-checked":t.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:t,HTMLAttributes:e}){return["li",Je(this.options.HTMLAttributes,e,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:t.attrs.checked?"checked":null}],["span"]],["div",0]]},parseMarkdown:(t,e)=>{const n=[];if(t.tokens&&t.tokens.length>0?n.push(e.createNode("paragraph",{},e.parseInline(t.tokens))):t.text?n.push(e.createNode("paragraph",{},[e.createNode("text",{text:t.text})])):n.push(e.createNode("paragraph",{},[])),t.nestedTokens&&t.nestedTokens.length>0){const i=e.parseChildren(t.nestedTokens);n.push(...i)}return e.createNode("taskItem",{checked:t.checked||!1},n)},renderMarkdown:(t,e)=>{var n;const s=`- [${(n=t.attrs)!=null&&n.checked?"x":" "}] `;return Rm(t,e,s)},addKeyboardShortcuts(){const t={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...t,Tab:()=>this.editor.commands.sinkListItem(this.name)}:t},addNodeView(){return({node:t,HTMLAttributes:e,getPos:n,editor:i})=>{const s=document.createElement("li"),a=document.createElement("label"),c=document.createElement("span"),u=document.createElement("input"),f=document.createElement("div"),h=g=>{var x,v;u.ariaLabel=((v=(x=this.options.a11y)==null?void 0:x.checkboxLabel)==null?void 0:v.call(x,g,u.checked))||`Task item checkbox for ${g.textContent||"empty task item"}`};h(t),a.contentEditable="false",u.type="checkbox",u.addEventListener("mousedown",g=>g.preventDefault()),u.addEventListener("change",g=>{if(!i.isEditable&&!this.options.onReadOnlyChecked){u.checked=!u.checked;return}const{checked:x}=g.target;i.isEditable&&typeof n=="function"&&i.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:v})=>{const w=n();if(typeof w!="number")return!1;const k=v.doc.nodeAt(w);return v.setNodeMarkup(w,void 0,{...k?.attrs,checked:x}),!0}).run(),!i.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(t,x)||(u.checked=!u.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([g,x])=>{s.setAttribute(g,x)}),s.dataset.checked=t.attrs.checked,u.checked=t.attrs.checked,a.append(u,c),s.append(a,f),Object.entries(e).forEach(([g,x])=>{s.setAttribute(g,x)});let p=new Set(Object.keys(e));return{dom:s,contentDOM:f,update:g=>{if(g.type!==this.type)return!1;s.dataset.checked=g.attrs.checked,u.checked=g.attrs.checked,h(g);const x=i.extensionManager.attributes,v=_a(g,x),w=new Set(Object.keys(v)),k=this.options.HTMLAttributes;return p.forEach(E=>{w.has(E)||(E in k?s.setAttribute(E,k[E]):s.removeAttribute(E))}),Object.entries(v).forEach(([E,T])=>{T==null?E in k?s.setAttribute(E,k[E]):s.removeAttribute(E):s.setAttribute(E,T)}),p=w,!0}}}},addInputRules(){return[ll({find:Sz,type:this.type,getAttributes:t=>({checked:t[t.length-1]==="x"})})]}}),Ez=Et.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:t}){return["ul",Je(this.options.HTMLAttributes,t,{"data-type":this.name}),0]},parseMarkdown:(t,e)=>e.createNode("taskList",{},e.parseChildren(t.items||[])),renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownTokenizer:{name:"taskList",level:"block",start(t){var e;const n=(e=t.match(/^\s*[-+*]\s+\[([ xX])\]\s+/))==null?void 0:e.index;return n!==void 0?n:-1},tokenize(t,e,n){const i=a=>{const c=_p(a,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:u=>({indentLevel:u[1].length,mainContent:u[4],checked:u[3].toLowerCase()==="x"}),createToken:(u,f)=>({type:"taskItem",raw:"",mainContent:u.mainContent,indentLevel:u.indentLevel,checked:u.checked,text:u.mainContent,tokens:n.inlineTokens(u.mainContent),nestedTokens:f}),customNestedParser:i},n);return c?[{type:"taskList",raw:c.raw,items:c.items}]:n.blockTokens(a)},s=_p(t,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:a=>({indentLevel:a[1].length,mainContent:a[4],checked:a[3].toLowerCase()==="x"}),createToken:(a,c)=>({type:"taskItem",raw:"",mainContent:a.mainContent,indentLevel:a.indentLevel,checked:a.checked,text:a.mainContent,tokens:n.inlineTokens(a.mainContent),nestedTokens:c}),customNestedParser:i},n);if(s)return{type:"taskList",raw:s.raw,items:s.items}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleTaskList:()=>({commands:t})=>t.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});ot.create({name:"listKit",addExtensions(){const t=[];return this.options.bulletList!==!1&&t.push(Nk.configure(this.options.bulletList)),this.options.listItem!==!1&&t.push(Tk.configure(this.options.listItem)),this.options.listKeymap!==!1&&t.push(jk.configure(this.options.listKeymap)),this.options.orderedList!==!1&&t.push(zk.configure(this.options.orderedList)),this.options.taskItem!==!1&&t.push(kz.configure(this.options.taskItem)),this.options.taskList!==!1&&t.push(Ez.configure(this.options.taskList)),t}});var e1="&nbsp;",Nz="",Tz=Et.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",Je(this.options.HTMLAttributes,t),0]},parseMarkdown:(t,e)=>{const n=t.tokens||[];if(n.length===1&&n[0].type==="image")return e.parseChildren([n[0]]);const i=e.parseInline(n);return i.length===1&&i[0].type==="text"&&(i[0].text===e1||i[0].text===Nz)?e.createNode("paragraph",void 0,[]):e.createNode("paragraph",void 0,i)},renderMarkdown:(t,e)=>{if(!t)return"";const n=Array.isArray(t.content)?t.content:[];return n.length===0?e1:e.renderChildren(n)},addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),Cz=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,Az=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,Mz=rs.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",Je(this.options.HTMLAttributes,t),0]},markdownTokenName:"del",parseMarkdown:(t,e)=>e.applyMark("strike",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`~~${e.renderChildren(t)}~~`,addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[sl({find:Cz,type:this.type})]},addPasteRules(){return[ts({find:Az,type:this.type})]}}),Oz=Et.create({name:"text",group:"inline",parseMarkdown:t=>({type:"text",text:t.text||""}),renderMarkdown:t=>t.text||""}),Rz=rs.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["u",Je(this.options.HTMLAttributes,t),0]},parseMarkdown(t,e){return e.applyMark(this.name||"underline",e.parseInline(t.tokens||[]))},renderMarkdown(t,e){return`++${e.renderChildren(t)}++`},markdownTokenizer:{name:"underline",level:"inline",start(t){return t.indexOf("++")},tokenize(t,e,n){const s=/^(\+\+)([\s\S]+?)(\+\+)/.exec(t);if(!s)return;const a=s[2].trim();return{type:"underline",raw:s[0],text:a,tokens:n.inlineTokens(a)}}},addCommands(){return{setUnderline:()=>({commands:t})=>t.setMark(this.name),toggleUnderline:()=>({commands:t})=>t.toggleMark(this.name),unsetUnderline:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}});function jz(t={}){return new Qe({view(e){return new Dz(e,t)}})}class Dz{constructor(e,n){var i;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(i=n.width)!==null&&i!==void 0?i:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(s=>{let a=c=>{this[s](c)};return e.dom.addEventListener(s,a),{name:s,handler:a}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,i,s=this.editorView.dom,a=s.getBoundingClientRect(),c=a.width/s.offsetWidth,u=a.height/s.offsetHeight;if(n){let g=e.nodeBefore,x=e.nodeAfter;if(g||x){let v=this.editorView.nodeDOM(this.cursorPos-(g?g.nodeSize:0));if(v){let w=v.getBoundingClientRect(),k=g?w.bottom:w.top;g&&x&&(k=(k+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let E=this.width/2*u;i={left:w.left,right:w.right,top:k-E,bottom:k+E}}}}if(!i){let g=this.editorView.coordsAtPos(this.cursorPos),x=this.width/2*c;i={left:g.left-x,right:g.left+x,top:g.top,bottom:g.bottom}}let f=this.editorView.dom.offsetParent;this.element||(this.element=f.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let h,p;if(!f||f==document.body&&getComputedStyle(f).position=="static")h=-pageXOffset,p=-pageYOffset;else{let g=f.getBoundingClientRect(),x=g.width/f.offsetWidth,v=g.height/f.offsetHeight;h=g.left-f.scrollLeft*x,p=g.top-f.scrollTop*v}this.element.style.left=(i.left-h)/c+"px",this.element.style.top=(i.top-p)/u+"px",this.element.style.width=(i.right-i.left)/c+"px",this.element.style.height=(i.bottom-i.top)/u+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),i=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),s=i&&i.type.spec.disableDropCursor,a=typeof s=="function"?s(this.editorView,n,e):s;if(n&&!a){let c=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let u=Tw(this.editorView.state.doc,c,this.editorView.dragging.slice);u!=null&&(c=u)}this.setCursor(c),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}class it extends we{constructor(e){super(e,e)}map(e,n){let i=e.resolve(n.map(this.head));return it.valid(i)?new it(i):we.near(i)}content(){return te.empty}eq(e){return e instanceof it&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new it(e.resolve(n.pos))}getBookmark(){return new Vm(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!zz(e)||!Lz(e))return!1;let i=n.type.spec.allowGapCursor;if(i!=null)return i;let s=n.contentMatchAt(e.index()).defaultType;return s&&s.isTextblock}static findGapCursorFrom(e,n,i=!1){e:for(;;){if(!i&&it.valid(e))return e;let s=e.pos,a=null;for(let c=e.depth;;c--){let u=e.node(c);if(n>0?e.indexAfter(c)<u.childCount:e.index(c)>0){a=u.child(n>0?e.indexAfter(c):e.index(c)-1);break}else if(c==0)return null;s+=n;let f=e.doc.resolve(s);if(it.valid(f))return f}for(;;){let c=n>0?a.firstChild:a.lastChild;if(!c){if(a.isAtom&&!a.isText&&!ce.isSelectable(a)){e=e.doc.resolve(s+a.nodeSize*n),i=!1;continue e}break}a=c,s+=n;let u=e.doc.resolve(s);if(it.valid(u))return u}return null}}}it.prototype.visible=!1;it.findFrom=it.findGapCursorFrom;we.jsonID("gapcursor",it);class Vm{constructor(e){this.pos=e}map(e){return new Vm(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return it.valid(n)?new it(n):we.near(n)}}function Lk(t){return t.isAtom||t.spec.isolating||t.spec.createGapCursor}function zz(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),i=t.node(e);if(n==0){if(i.type.spec.isolating)return!0;continue}for(let s=i.child(n-1);;s=s.lastChild){if(s.childCount==0&&!s.inlineContent||Lk(s.type))return!0;if(s.inlineContent)return!1}}return!0}function Lz(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),i=t.node(e);if(n==i.childCount){if(i.type.spec.isolating)return!0;continue}for(let s=i.child(n);;s=s.firstChild){if(s.childCount==0&&!s.inlineContent||Lk(s.type))return!0;if(s.inlineContent)return!1}}return!0}function _z(){return new Qe({props:{decorations:qz,createSelectionBetween(t,e,n){return e.pos==n.pos&&it.valid(n)?new it(n):null},handleClick:Hz,handleKeyDown:Bz,handleDOMEvents:{beforeinput:Uz}}})}const Bz=CS({ArrowLeft:jc("horiz",-1),ArrowRight:jc("horiz",1),ArrowUp:jc("vert",-1),ArrowDown:jc("vert",1)});function jc(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(i,s,a){let c=i.selection,u=e>0?c.$to:c.$from,f=c.empty;if(c instanceof me){if(!a.endOfTextblock(n)||u.depth==0)return!1;f=!1,u=i.doc.resolve(e>0?u.after():u.before())}let h=it.findGapCursorFrom(u,e,f);return h?(s&&s(i.tr.setSelection(new it(h))),!0):!1}}function Hz(t,e,n){if(!t||!t.editable)return!1;let i=t.state.doc.resolve(e);if(!it.valid(i))return!1;let s=t.posAtCoords({left:n.clientX,top:n.clientY});return s&&s.inside>-1&&ce.isSelectable(t.state.doc.nodeAt(s.inside))?!1:(t.dispatch(t.state.tr.setSelection(new it(i))),!0)}function Uz(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof it))return!1;let{$from:n}=t.state.selection,i=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!i)return!1;let s=J.empty;for(let c=i.length-1;c>=0;c--)s=J.from(i[c].createAndFill(null,s));let a=t.state.tr.replace(n.pos,n.pos,new te(s,0,0));return a.setSelection(me.near(a.doc.resolve(n.pos+1))),t.dispatch(a),!1}function qz(t){if(!(t.selection instanceof it))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",Xe.create(t.doc,[qt.widget(t.selection.head,e,{key:"gapcursor"})])}var zu=200,kt=function(){};kt.prototype.append=function(e){return e.length?(e=kt.from(e),!this.length&&e||e.length<zu&&this.leafAppend(e)||this.length<zu&&e.leafPrepend(this)||this.appendInner(e)):this};kt.prototype.prepend=function(e){return e.length?kt.from(e).append(this):this};kt.prototype.appendInner=function(e){return new Iz(this,e)};kt.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?kt.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};kt.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};kt.prototype.forEach=function(e,n,i){n===void 0&&(n=0),i===void 0&&(i=this.length),n<=i?this.forEachInner(e,n,i,0):this.forEachInvertedInner(e,n,i,0)};kt.prototype.map=function(e,n,i){n===void 0&&(n=0),i===void 0&&(i=this.length);var s=[];return this.forEach(function(a,c){return s.push(e(a,c))},n,i),s};kt.from=function(e){return e instanceof kt?e:e&&e.length?new _k(e):kt.empty};var _k=(function(t){function e(i){t.call(this),this.values=i}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(s,a){return s==0&&a==this.length?this:new e(this.values.slice(s,a))},e.prototype.getInner=function(s){return this.values[s]},e.prototype.forEachInner=function(s,a,c,u){for(var f=a;f<c;f++)if(s(this.values[f],u+f)===!1)return!1},e.prototype.forEachInvertedInner=function(s,a,c,u){for(var f=a-1;f>=c;f--)if(s(this.values[f],u+f)===!1)return!1},e.prototype.leafAppend=function(s){if(this.length+s.length<=zu)return new e(this.values.concat(s.flatten()))},e.prototype.leafPrepend=function(s){if(this.length+s.length<=zu)return new e(s.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e})(kt);kt.empty=new _k([]);var Iz=(function(t){function e(n,i){t.call(this),this.left=n,this.right=i,this.length=n.length+i.length,this.depth=Math.max(n.depth,i.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(i){return i<this.left.length?this.left.get(i):this.right.get(i-this.left.length)},e.prototype.forEachInner=function(i,s,a,c){var u=this.left.length;if(s<u&&this.left.forEachInner(i,s,Math.min(a,u),c)===!1||a>u&&this.right.forEachInner(i,Math.max(s-u,0),Math.min(this.length,a)-u,c+u)===!1)return!1},e.prototype.forEachInvertedInner=function(i,s,a,c){var u=this.left.length;if(s>u&&this.right.forEachInvertedInner(i,s-u,Math.max(a,u)-u,c+u)===!1||a<u&&this.left.forEachInvertedInner(i,Math.min(s,u),a,c)===!1)return!1},e.prototype.sliceInner=function(i,s){if(i==0&&s==this.length)return this;var a=this.left.length;return s<=a?this.left.slice(i,s):i>=a?this.right.slice(i-a,s-a):this.left.slice(i,a).append(this.right.slice(0,s-a))},e.prototype.leafAppend=function(i){var s=this.right.leafAppend(i);if(s)return new e(this.left,s)},e.prototype.leafPrepend=function(i){var s=this.left.leafPrepend(i);if(s)return new e(s,this.right)},e.prototype.appendInner=function(i){return this.left.depth>=Math.max(this.right.depth,i.depth)+1?new e(this.left,new e(this.right,i)):new e(this,i)},e})(kt);const Pz=500;class zn{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let i=this.items.length;for(;;i--)if(this.items.get(i-1).selection){--i;break}let s,a;n&&(s=this.remapping(i,this.items.length),a=s.maps.length);let c=e.tr,u,f,h=[],p=[];return this.items.forEach((g,x)=>{if(!g.step){s||(s=this.remapping(i,x+1),a=s.maps.length),a--,p.push(g);return}if(s){p.push(new Gn(g.map));let v=g.step.map(s.slice(a)),w;v&&c.maybeStep(v).doc&&(w=c.mapping.maps[c.mapping.maps.length-1],h.push(new Gn(w,void 0,void 0,h.length+p.length))),a--,w&&s.appendMap(w,a)}else c.maybeStep(g.step);if(g.selection)return u=s?g.selection.map(s.slice(a)):g.selection,f=new zn(this.items.slice(0,i).append(p.reverse().concat(h)),this.eventCount-1),!1},this.items.length,0),{remaining:f,transform:c,selection:u}}addTransform(e,n,i,s){let a=[],c=this.eventCount,u=this.items,f=!s&&u.length?u.get(u.length-1):null;for(let p=0;p<e.steps.length;p++){let g=e.steps[p].invert(e.docs[p]),x=new Gn(e.mapping.maps[p],g,n),v;(v=f&&f.merge(x))&&(x=v,p?a.pop():u=u.slice(0,u.length-1)),a.push(x),n&&(c++,n=void 0),s||(f=x)}let h=c-i.depth;return h>$z&&(u=Vz(u,h),c-=h),new zn(u.append(a),c)}remapping(e,n){let i=new Oa;return this.items.forEach((s,a)=>{let c=s.mirrorOffset!=null&&a-s.mirrorOffset>=e?i.maps.length-s.mirrorOffset:void 0;i.appendMap(s.map,c)},e,n),i}addMaps(e){return this.eventCount==0?this:new zn(this.items.append(e.map(n=>new Gn(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let i=[],s=Math.max(0,this.items.length-n),a=e.mapping,c=e.steps.length,u=this.eventCount;this.items.forEach(x=>{x.selection&&u--},s);let f=n;this.items.forEach(x=>{let v=a.getMirror(--f);if(v==null)return;c=Math.min(c,v);let w=a.maps[v];if(x.step){let k=e.steps[v].invert(e.docs[v]),E=x.selection&&x.selection.map(a.slice(f+1,v));E&&u++,i.push(new Gn(w,k,E))}else i.push(new Gn(w))},s);let h=[];for(let x=n;x<c;x++)h.push(new Gn(a.maps[x]));let p=this.items.slice(0,s).append(h).append(i),g=new zn(p,u);return g.emptyItemCount()>Pz&&(g=g.compress(this.items.length-i.length)),g}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),i=n.maps.length,s=[],a=0;return this.items.forEach((c,u)=>{if(u>=e)s.push(c),c.selection&&a++;else if(c.step){let f=c.step.map(n.slice(i)),h=f&&f.getMap();if(i--,h&&n.appendMap(h,i),f){let p=c.selection&&c.selection.map(n.slice(i));p&&a++;let g=new Gn(h.invert(),f,p),x,v=s.length-1;(x=s.length&&s[v].merge(g))?s[v]=x:s.push(g)}}else c.map&&i--},this.items.length,0),new zn(kt.from(s.reverse()),a)}}zn.empty=new zn(kt.empty,0);function Vz(t,e){let n;return t.forEach((i,s)=>{if(i.selection&&e--==0)return n=s,!1}),t.slice(n)}class Gn{constructor(e,n,i,s){this.map=e,this.step=n,this.selection=i,this.mirrorOffset=s}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new Gn(n.getMap().invert(),n,this.selection)}}}class nr{constructor(e,n,i,s,a){this.done=e,this.undone=n,this.prevRanges=i,this.prevTime=s,this.prevComposition=a}}const $z=20;function Fz(t,e,n,i){let s=n.getMeta(Yr),a;if(s)return s.historyState;n.getMeta(Yz)&&(t=new nr(t.done,t.undone,null,0,-1));let c=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(c&&c.getMeta(Yr))return c.getMeta(Yr).redo?new nr(t.done.addTransform(n,void 0,i,Pc(e)),t.undone,t1(n.mapping.maps),t.prevTime,t.prevComposition):new nr(t.done,t.undone.addTransform(n,void 0,i,Pc(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(c&&c.getMeta("addToHistory")===!1)){let u=n.getMeta("composition"),f=t.prevTime==0||!c&&t.prevComposition!=u&&(t.prevTime<(n.time||0)-i.newGroupDelay||!Kz(n,t.prevRanges)),h=c?cp(t.prevRanges,n.mapping):t1(n.mapping.maps);return new nr(t.done.addTransform(n,f?e.selection.getBookmark():void 0,i,Pc(e)),zn.empty,h,n.time,u??t.prevComposition)}else return(a=n.getMeta("rebased"))?new nr(t.done.rebased(n,a),t.undone.rebased(n,a),cp(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new nr(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),cp(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function Kz(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((i,s)=>{for(let a=0;a<e.length;a+=2)i<=e[a+1]&&s>=e[a]&&(n=!0)}),n}function t1(t){let e=[];for(let n=t.length-1;n>=0&&e.length==0;n--)t[n].forEach((i,s,a,c)=>e.push(a,c));return e}function cp(t,e){if(!t)return null;let n=[];for(let i=0;i<t.length;i+=2){let s=e.map(t[i],1),a=e.map(t[i+1],-1);s<=a&&n.push(s,a)}return n}function Gz(t,e,n){let i=Pc(e),s=Yr.get(e).spec.config,a=(n?t.undone:t.done).popEvent(e,i);if(!a)return null;let c=a.selection.resolve(a.transform.doc),u=(n?t.done:t.undone).addTransform(a.transform,e.selection.getBookmark(),s,i),f=new nr(n?u:a.remaining,n?a.remaining:u,null,0,-1);return a.transform.setSelection(c).setMeta(Yr,{redo:n,historyState:f})}let up=!1,n1=null;function Pc(t){let e=t.plugins;if(n1!=e){up=!1,n1=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){up=!0;break}}return up}const Yr=new yt("history"),Yz=new yt("closeHistory");function Jz(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new Qe({key:Yr,state:{init(){return new nr(zn.empty,zn.empty,null,0,-1)},apply(e,n,i){return Fz(n,i,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let i=n.inputType,s=i=="historyUndo"?Hk:i=="historyRedo"?Uk:null;return!s||!e.editable?!1:(n.preventDefault(),s(e.state,e.dispatch))}}}})}function Bk(t,e){return(n,i)=>{let s=Yr.getState(n);if(!s||(t?s.undone:s.done).eventCount==0)return!1;if(i){let a=Gz(s,n,t);a&&i(e?a.scrollIntoView():a)}return!0}}const Hk=Bk(!1,!0),Uk=Bk(!0,!0);ot.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:t=>t.length,wordCounter:t=>t.split(" ").filter(e=>e!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=t=>{const e=t?.node||this.editor.state.doc;if((t?.mode||this.options.mode)==="textSize"){const i=e.textBetween(0,e.content.size,void 0," ");return this.options.textCounter(i)}return e.nodeSize},this.storage.words=t=>{const e=t?.node||this.editor.state.doc,n=e.textBetween(0,e.content.size," "," ");return this.options.wordCounter(n)}},addProseMirrorPlugins(){let t=!1;return[new Qe({key:new yt("characterCount"),appendTransaction:(e,n,i)=>{if(t)return;const s=this.options.limit;if(s==null||s===0){t=!0;return}const a=this.storage.characters({node:i.doc});if(a>s){const c=a-s,u=0,f=c;console.warn(`[CharacterCount] Initial content exceeded limit of ${s} characters. Content was automatically trimmed.`);const h=i.tr.deleteRange(u,f);return t=!0,h}t=!0},filterTransaction:(e,n)=>{const i=this.options.limit;if(!e.docChanged||i===0||i===null||i===void 0)return!0;const s=this.storage.characters({node:n.doc}),a=this.storage.characters({node:e.doc});if(a<=i||s>i&&a>i&&a<=s)return!0;if(s>i&&a>i&&a>s||!e.getMeta("paste"))return!1;const u=e.selection.$head.pos,f=a-i,h=u-f,p=u;return e.deleteRange(h,p),!(this.storage.characters({node:e.doc})>i)}})]}});var Xz=ot.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[jz(this.options)]}});ot.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new Qe({key:new yt("focus"),props:{decorations:({doc:t,selection:e})=>{const{isEditable:n,isFocused:i}=this.editor,{anchor:s}=e,a=[];if(!n||!i)return Xe.create(t,[]);let c=0;this.options.mode==="deepest"&&t.descendants((f,h)=>{if(f.isText)return;if(!(s>=h&&s<=h+f.nodeSize-1))return!1;c+=1});let u=0;return t.descendants((f,h)=>{if(f.isText||!(s>=h&&s<=h+f.nodeSize-1))return!1;if(u+=1,this.options.mode==="deepest"&&c-u>0||this.options.mode==="shallowest"&&u>1)return this.options.mode==="deepest";a.push(qt.node(h,h+f.nodeSize,{class:this.options.className}))}),Xe.create(t,a)}}})]}});var Wz=ot.create({name:"gapCursor",addProseMirrorPlugins(){return[_z()]},extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=ze(le(t,"allowGapCursor",n)))!=null?e:null}}}),i1="placeholder";function Qz(t){return t.replace(/\s+/g,"-").replace(/[^a-zA-Z0-9-]/g,"").replace(/^[0-9-]+/,"").replace(/^-+/,"").toLowerCase()}ot.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",dataAttribute:i1,placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){const t=this.options.dataAttribute?`data-${Qz(this.options.dataAttribute)}`:`data-${i1}`;return[new Qe({key:new yt("placeholder"),props:{decorations:({doc:e,selection:n})=>{const i=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:s}=n,a=[];if(!i)return null;const c=this.editor.isEmpty;return e.descendants((u,f)=>{const h=s>=f&&s<=f+u.nodeSize,p=!u.isLeaf&&Zu(u);if((h||!this.options.showOnlyCurrent)&&p){const g=[this.options.emptyNodeClass];c&&g.push(this.options.emptyEditorClass);const x=qt.node(f,f+u.nodeSize,{class:g.join(" "),[t]:typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:u,pos:f,hasAnchor:h}):this.options.placeholder});a.push(x)}return this.options.includeChildren}),Xe.create(e,a)}}})]}});ot.create({name:"selection",addOptions(){return{className:"selection"}},addProseMirrorPlugins(){const{editor:t,options:e}=this;return[new Qe({key:new yt("selection"),props:{decorations(n){return n.selection.empty||t.isFocused||!t.isEditable||VS(n.selection)||t.view.dragging?null:Xe.create(n.doc,[qt.inline(n.selection.from,n.selection.to,{class:e.className})])}}})]}});function r1({types:t,node:e}){return e&&Array.isArray(t)&&t.includes(e.type)||e?.type===t}var Zz=ot.create({name:"trailingNode",addOptions(){return{node:void 0,notAfter:[]}},addProseMirrorPlugins(){var t;const e=new yt(this.name),n=this.options.node||((t=this.editor.schema.topNodeType.contentMatch.defaultType)==null?void 0:t.name)||"paragraph",i=Object.entries(this.editor.schema.nodes).map(([,s])=>s).filter(s=>(this.options.notAfter||[]).concat(n).includes(s.name));return[new Qe({key:e,appendTransaction:(s,a,c)=>{const{doc:u,tr:f,schema:h}=c,p=e.getState(c),g=u.content.size,x=h.nodes[n];if(p)return f.insert(g,x.create())},state:{init:(s,a)=>{const c=a.tr.doc.lastChild;return!r1({node:c,types:i})},apply:(s,a)=>{if(!s.docChanged||s.getMeta("__uniqueIDTransaction"))return a;const c=s.doc.lastChild;return!r1({node:c,types:i})}}})]}}),eL=ot.create({name:"undoRedo",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>Hk(t,e),redo:()=>({state:t,dispatch:e})=>Uk(t,e)}},addProseMirrorPlugins(){return[Jz(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),tL=ot.create({name:"starterKit",addExtensions(){var t,e,n,i;const s=[];return this.options.bold!==!1&&s.push(T3.configure(this.options.bold)),this.options.blockquote!==!1&&s.push(w3.configure(this.options.blockquote)),this.options.bulletList!==!1&&s.push(Nk.configure(this.options.bulletList)),this.options.code!==!1&&s.push(M3.configure(this.options.code)),this.options.codeBlock!==!1&&s.push(j3.configure(this.options.codeBlock)),this.options.document!==!1&&s.push(D3.configure(this.options.document)),this.options.dropcursor!==!1&&s.push(Xz.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&s.push(Wz.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&s.push(z3.configure(this.options.hardBreak)),this.options.heading!==!1&&s.push(L3.configure(this.options.heading)),this.options.undoRedo!==!1&&s.push(eL.configure(this.options.undoRedo)),this.options.horizontalRule!==!1&&s.push(_3.configure(this.options.horizontalRule)),this.options.italic!==!1&&s.push(I3.configure(this.options.italic)),this.options.listItem!==!1&&s.push(Tk.configure(this.options.listItem)),this.options.listKeymap!==!1&&s.push(jk.configure((t=this.options)==null?void 0:t.listKeymap)),this.options.link!==!1&&s.push(Ek.configure((e=this.options)==null?void 0:e.link)),this.options.orderedList!==!1&&s.push(zk.configure(this.options.orderedList)),this.options.paragraph!==!1&&s.push(Tz.configure(this.options.paragraph)),this.options.strike!==!1&&s.push(Mz.configure(this.options.strike)),this.options.text!==!1&&s.push(Oz.configure(this.options.text)),this.options.underline!==!1&&s.push(Rz.configure((n=this.options)==null?void 0:n.underline)),this.options.trailingNode!==!1&&s.push(Zz.configure((i=this.options)==null?void 0:i.trailingNode)),s}}),nL=tL,iL=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,rL=Et.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{},resize:!1}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null},width:{default:null},height:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:t}){return["img",Je(this.options.HTMLAttributes,t)]},parseMarkdown:(t,e)=>e.createNode("image",{src:t.href,title:t.title,alt:t.text}),renderMarkdown:t=>{var e,n,i,s,a,c;const u=(n=(e=t.attrs)==null?void 0:e.src)!=null?n:"",f=(s=(i=t.attrs)==null?void 0:i.alt)!=null?s:"",h=(c=(a=t.attrs)==null?void 0:a.title)!=null?c:"";return h?`![${f}](${u} "${h}")`:`![${f}](${u})`},addNodeView(){if(!this.options.resize||!this.options.resize.enabled||typeof document>"u")return null;const{directions:t,minWidth:e,minHeight:n,alwaysPreserveAspectRatio:i}=this.options.resize;return({node:s,getPos:a,HTMLAttributes:c,editor:u})=>{const f=document.createElement("img");Object.entries(c).forEach(([g,x])=>{if(x!=null)switch(g){case"width":case"height":break;default:f.setAttribute(g,x);break}}),f.src=c.src;const h=new o4({element:f,editor:u,node:s,getPos:a,onResize:(g,x)=>{f.style.width=`${g}px`,f.style.height=`${x}px`},onCommit:(g,x)=>{const v=a();v!==void 0&&this.editor.chain().setNodeSelection(v).updateAttributes(this.name,{width:g,height:x}).run()},onUpdate:(g,x,v)=>g.type===s.type,options:{directions:t,min:{width:e,height:n},preserveAspectRatio:i===!0}}),p=h.dom;return p.style.visibility="hidden",p.style.pointerEvents="none",f.onload=()=>{p.style.visibility="",p.style.pointerEvents=""},h}},addCommands(){return{setImage:t=>({commands:e})=>e.insertContent({type:this.name,attrs:t})}},addInputRules(){return[Wa({find:iL,type:this.type,getAttributes:t=>{const[,,e,n,i]=t;return{src:n,alt:e,title:i}}})]}}),sL=rL,lL=/^((?:https?:)?\/\/)?((?:www|m|music)\.)?((?:youtube\.com|youtu\.be|youtube-nocookie\.com))(\/(?:[\w-]+\?v=|embed\/|v\/)?)([\w-]+)(\S+)?$/,aL=/^((?:https?:)?\/\/)?((?:www|m|music)\.)?((?:youtube\.com|youtu\.be|youtube-nocookie\.com))(\/(?:[\w-]+\?v=|embed\/|v\/)?)([\w-]+)(\S+)?$/g,qk=t=>t.match(lL),s1=(t,e)=>e?"https://www.youtube-nocookie.com/embed/videoseries?list=":t?"https://www.youtube-nocookie.com/embed/":"https://www.youtube.com/embed/",oL=t=>{const{url:e,allowFullscreen:n,autoplay:i,ccLanguage:s,ccLoadPolicy:a,controls:c,disableKBcontrols:u,enableIFrameApi:f,endTime:h,interfaceLanguage:p,ivLoadPolicy:g,loop:x,modestBranding:v,nocookie:w,origin:k,playlist:E,progressBarColor:T,startAt:M,rel:z}=t;if(!qk(e))return null;if(e.includes("/embed/"))return e;if(e.includes("youtu.be")){const G=e.split("/").pop();return G?`${s1(w)}${G}`:null}const D=/(?:(v|list)=|shorts\/)([-\w]+)/gm.exec(e);if(!D||!D[2])return null;let $=`${s1(w,D[1]==="list")}${D[2]}`;const L=[];return n===!1&&L.push("fs=0"),i&&L.push("autoplay=1"),s&&L.push(`cc_lang_pref=${s}`),a&&L.push("cc_load_policy=1"),c||L.push("controls=0"),u&&L.push("disablekb=1"),f&&L.push("enablejsapi=1"),h&&L.push(`end=${h}`),p&&L.push(`hl=${p}`),g&&L.push(`iv_load_policy=${g}`),x&&L.push("loop=1"),v&&L.push("modestbranding=1"),k&&L.push(`origin=${k}`),E&&L.push(`playlist=${E}`),M&&L.push(`start=${M}`),T&&L.push(`color=${T}`),z!==void 0&&L.push(`rel=${z}`),L.length&&($+=`${D[1]==="list"?"&":"?"}${L.join("&")}`),$},cL=Et.create({name:"youtube",addOptions(){return{addPasteHandler:!0,allowFullscreen:!0,autoplay:!1,ccLanguage:void 0,ccLoadPolicy:void 0,controls:!0,disableKBcontrols:!1,enableIFrameApi:!1,endTime:0,height:480,interfaceLanguage:void 0,ivLoadPolicy:0,loop:!1,modestBranding:!1,HTMLAttributes:{},inline:!1,nocookie:!1,origin:"",playlist:"",progressBarColor:void 0,width:640,rel:1}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},start:{default:0},width:{default:this.options.width},height:{default:this.options.height}}},parseHTML(){return[{tag:"div[data-youtube-video] iframe"}]},addCommands(){return{setYoutubeVideo:t=>({commands:e})=>qk(t.src)?e.insertContent({type:this.name,attrs:t}):!1}},addPasteRules(){return this.options.addPasteHandler?[g4({find:aL,type:this.type,getAttributes:t=>({src:t.input})})]:[]},renderHTML({HTMLAttributes:t}){const e=oL({url:t.src,allowFullscreen:this.options.allowFullscreen,autoplay:this.options.autoplay,ccLanguage:this.options.ccLanguage,ccLoadPolicy:this.options.ccLoadPolicy,controls:this.options.controls,disableKBcontrols:this.options.disableKBcontrols,enableIFrameApi:this.options.enableIFrameApi,endTime:this.options.endTime,interfaceLanguage:this.options.interfaceLanguage,ivLoadPolicy:this.options.ivLoadPolicy,loop:this.options.loop,modestBranding:this.options.modestBranding,nocookie:this.options.nocookie,origin:this.options.origin,playlist:this.options.playlist,progressBarColor:this.options.progressBarColor,startAt:t.start||0,rel:this.options.rel});return t.src=e,["div",{"data-youtube-video":""},["iframe",Je(this.options.HTMLAttributes,{width:this.options.width,height:this.options.height,allowfullscreen:this.options.allowFullscreen,autoplay:this.options.autoplay,ccLanguage:this.options.ccLanguage,ccLoadPolicy:this.options.ccLoadPolicy,disableKBcontrols:this.options.disableKBcontrols,enableIFrameApi:this.options.enableIFrameApi,endTime:this.options.endTime,interfaceLanguage:this.options.interfaceLanguage,ivLoadPolicy:this.options.ivLoadPolicy,loop:this.options.loop,modestBranding:this.options.modestBranding,origin:this.options.origin,playlist:this.options.playlist,progressBarColor:this.options.progressBarColor,rel:this.options.rel},t)]]},...ak({nodeName:"youtube",allowedAttributes:["src","width","height","start"]})}),uL=cL;const Ik=/^https?:\/\/([a-zA-Z0-9-]+)\.substack\.com\/p\/([a-zA-Z0-9-]+)(?:\?.*)?$/;function dL(t){const e=t.trim().match(Ik);return e?`https://${e[1]}.substack.com/p/${e[2]}`:null}const fL=Et.create({name:"substackEmbed",group:"block",atom:!0,addAttributes(){return{src:{default:null,parseHTML:t=>t.getAttribute("data-src"),renderHTML:t=>t.src?{"data-src":t.src}:{}}}},parseHTML(){return[{tag:'div[data-type="substack-embed"]'}]},renderHTML({HTMLAttributes:t}){const e=t["data-src"]||t.src;return e?["div",{"data-type":"substack-embed",class:"substack-post-embed my-6"},["a",{"data-post-link":e,href:e,target:"_blank",rel:"noopener noreferrer"}]]:["div",{"data-type":"substack-embed"}]},addInputRules(){return[Wa({find:Ik,type:this.type,getAttributes:t=>({src:`https://${t[1]}.substack.com/p/${t[2]}`})})]}}),Pk=/^https?:\/\/(www\.)?instagram\.com\/(p|reel)\/([A-Za-z0-9_-]+)(?:\/)?(?:\?.*)?$/;function hL(t){const e=t.trim().match(Pk);if(!e)return null;const n=e[2],i=e[3];return`https://www.instagram.com/${n}/${i}/embed/`}const pL=Et.create({name:"instagramEmbed",group:"block",atom:!0,addAttributes(){return{src:{default:null,parseHTML:t=>t.getAttribute("data-src"),renderHTML:t=>t.src?{"data-src":t.src}:{}}}},parseHTML(){return[{tag:'div[data-type="instagram-embed"]'},{tag:"iframe[data-instagram-embed]"}]},renderHTML({HTMLAttributes:t}){const e=t["data-src"]||t.src;return e?["div",{"data-type":"instagram-embed",class:"my-6"},["iframe",Je({src:e,width:540,height:720,frameborder:0,scrolling:"no",allowtransparency:"true",class:"rounded max-w-full"},this.options.HTMLAttributes)]]:["div",{"data-type":"instagram-embed"}]},addOptions(){return{HTMLAttributes:{}}},addInputRules(){return[Wa({find:Pk,type:this.type,getAttributes:t=>({src:`https://www.instagram.com/${t[2]}/${t[3]}/embed/`})})]}}),Vk=/^https?:\/\/open\.spotify\.com\/(track|album|playlist|episode|show|artist)\/([a-zA-Z0-9]+)(?:\?.*)?$/;function mL(t){const e=t.trim().match(Vk);if(!e)return null;const n=e[1],i=e[2];return`https://open.spotify.com/embed/${n}/${i}`}const gL=Et.create({name:"spotifyEmbed",group:"block",atom:!0,addAttributes(){return{src:{default:null,parseHTML:t=>t.getAttribute("data-src"),renderHTML:t=>t.src?{"data-src":t.src}:{}}}},parseHTML(){return[{tag:'div[data-type="spotify-embed"]'}]},renderHTML({HTMLAttributes:t}){const e=t["data-src"]||t.src;return e?["div",{"data-type":"spotify-embed",class:"my-6"},["iframe",Je({src:e,width:"100%",height:352,frameborder:0,allow:"autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture",loading:"lazy",class:"rounded max-w-full",style:"border-radius: 12px"},this.options.HTMLAttributes)]]:["div",{"data-type":"spotify-embed"}]},addOptions(){return{HTMLAttributes:{}}},addInputRules(){return[Wa({find:Vk,type:this.type,getAttributes:t=>({src:`https://open.spotify.com/embed/${t[1]}/${t[2]}`})})]}});function $k({value:t,onChange:e,minHeight:n="200px",onImageUpload:i}){const s=C.useRef(null),[a,c]=C.useState(""),[u,f]=C.useState(""),[h,p]=C.useState(""),[g,x]=C.useState(""),[v,w]=C.useState(""),[k,E]=C.useState(""),[T,M]=C.useState(!1),[z,P]=C.useState(!1),[D,$]=C.useState(!1),[L,G]=C.useState(!1),[Z,ue]=C.useState(!1),[Ve,ie]=C.useState(!1),[Me,Se]=C.useState(!1),ae=g3({extensions:[nL,fz.configure({openOnClick:!1,HTMLAttributes:{class:"text-white underline hover:text-white/90"}}),sL.configure({HTMLAttributes:{class:"max-w-full h-auto rounded"}}),uL.configure({width:640,height:360,HTMLAttributes:{class:"rounded"}}),fL,pL.configure({HTMLAttributes:{class:"rounded"}}),gL.configure({HTMLAttributes:{class:"rounded"}})],content:t,editorProps:{attributes:{class:"text-white min-h-[240px] px-5 py-4 text-base focus:outline-none [&_h2]:text-xl [&_h2]:font-semibold [&_h3]:text-lg [&_h3]:font-medium [&_p]:my-2 [&_ul]:list-disc [&_ul]:pl-6 [&_ol]:list-decimal [&_ol]:pl-6 [&_blockquote]:border-l-2 [&_blockquote]:border-white/30 [&_blockquote]:pl-4 [&_blockquote]:italic [&_blockquote]:text-white/80 [&_a]:underline [&_img]:max-w-full [&_img]:h-auto"}},onUpdate:({editor:X})=>e(X.getHTML())});if(C.useEffect(()=>{ae&&ae.getHTML()!==t&&ae.commands.setContent(t,{emitUpdate:!1})},[t,ae]),!ae)return b.jsx("div",{className:"animate-pulse h-[200px] bg-white/5 rounded"});const U=()=>{a.trim()?ae.chain().focus().setLink({href:a.trim()}).run():ae.chain().focus().unsetLink().run(),c(""),M(!1)},Q=()=>{u.trim()&&ae.chain().focus().setImage({src:u.trim()}).run(),f(""),P(!1)},re=()=>{const X=h.trim();X&&ae.chain().focus().setYoutubeVideo({src:X}).run(),p(""),$(!1)},he=()=>{const X=dL(g.trim());X&&ae.chain().focus().insertContent({type:"substackEmbed",attrs:{src:X}}).run(),x(""),G(!1)},xe=()=>{const X=hL(v.trim());X&&ae.chain().focus().insertContent({type:"instagramEmbed",attrs:{src:X}}).run(),w(""),ue(!1)},A=()=>{const X=mL(k.trim());X&&ae.chain().focus().insertContent({type:"spotifyEmbed",attrs:{src:X}}).run(),E(""),ie(!1)},F=async X=>{const ee=X.target.files?.[0];if(!(!ee||!i)){Se(!0);try{const pe=await i(ee);ae.chain().focus().setImage({src:pe}).run()}finally{Se(!1),s.current&&(s.current.value="")}P(!1)}};return b.jsxs("div",{className:"border border-white/20 bg-white/5 rounded-lg focus-within:border-white/50 focus-within:ring-1 focus-within:ring-white/20 transition-colors overflow-hidden",style:{minHeight:n},children:[b.jsx(yL,{editor:ae,showLinkInput:T,setShowLinkInput:M,linkUrl:a,setLinkUrl:c,onSetLink:U,showImageInput:z,setShowImageInput:P,imageUrl:u,setImageUrl:f,onSetImage:Q,imageInputRef:s,onImageFile:F,onImageUpload:i,uploadingImage:Me,showYoutubeInput:D,setShowYoutubeInput:$,youtubeUrl:h,setYoutubeUrl:p,onSetYoutube:re,showSubstackInput:L,setShowSubstackInput:G,substackUrl:g,setSubstackUrl:x,onSetSubstack:he,showInstagramInput:Z,setShowInstagramInput:ue,instagramUrl:v,setInstagramUrl:w,onSetInstagram:xe,showSpotifyInput:Ve,setShowSpotifyInput:ie,spotifyUrl:k,setSpotifyUrl:E,onSetSpotify:A}),b.jsx(uk,{editor:ae})]})}function yL({editor:t,showLinkInput:e,setShowLinkInput:n,linkUrl:i,setLinkUrl:s,onSetLink:a,showImageInput:c,setShowImageInput:u,imageUrl:f,setImageUrl:h,onSetImage:p,imageInputRef:g,onImageFile:x,onImageUpload:v,uploadingImage:w,showYoutubeInput:k,setShowYoutubeInput:E,youtubeUrl:T,setYoutubeUrl:M,onSetYoutube:z,showSubstackInput:P,setShowSubstackInput:D,substackUrl:$,setSubstackUrl:L,onSetSubstack:G,showInstagramInput:Z,setShowInstagramInput:ue,instagramUrl:Ve,setInstagramUrl:ie,onSetInstagram:Me,showSpotifyInput:Se,setShowSpotifyInput:ae,spotifyUrl:U,setSpotifyUrl:Q,onSetSpotify:re}){const he="px-2 py-1 text-xs uppercase text-white/60 hover:text-white transition-colors",xe="bg-white/20 text-white";return b.jsxs("div",{className:"p-2 border-b border-white/10 space-y-2",children:[b.jsxs("div",{className:"flex flex-wrap gap-1",children:[b.jsx("button",{type:"button",onClick:()=>t.chain().focus().toggleBold().run(),className:`${he} ${t.isActive("bold")?xe:""}`,children:"Bold"}),b.jsx("button",{type:"button",onClick:()=>t.chain().focus().toggleItalic().run(),className:`${he} ${t.isActive("italic")?xe:""}`,children:"Italic"}),b.jsx("button",{type:"button",onClick:()=>t.chain().focus().toggleHeading({level:2}).run(),className:`${he} ${t.isActive("heading",{level:2})?xe:""}`,children:"H2"}),b.jsx("button",{type:"button",onClick:()=>t.chain().focus().toggleHeading({level:3}).run(),className:`${he} ${t.isActive("heading",{level:3})?xe:""}`,children:"H3"}),b.jsx("button",{type:"button",onClick:()=>t.chain().focus().toggleBulletList().run(),className:`${he} ${t.isActive("bulletList")?xe:""}`,children:"List"}),b.jsx("button",{type:"button",onClick:()=>t.chain().focus().toggleOrderedList().run(),className:`${he} ${t.isActive("orderedList")?xe:""}`,children:"Numbered"}),b.jsx("button",{type:"button",onClick:()=>t.chain().focus().toggleBlockquote().run(),className:`${he} ${t.isActive("blockquote")?xe:""}`,children:"Quote"}),b.jsx("span",{className:"w-px h-5 bg-white/20 mx-1"}),b.jsx("button",{type:"button",onClick:()=>{n(!e),u(!1),E(!1),D(!1),ue(!1),ae(!1)},className:`${he} ${t.isActive("link")?xe:""}`,children:"Link"}),b.jsx("button",{type:"button",onClick:()=>{u(!c),n(!1),E(!1),D(!1),ue(!1),ae(!1)},className:he,children:"Image"}),b.jsx("button",{type:"button",onClick:()=>{E(!k),n(!1),u(!1),D(!1),ue(!1),ae(!1)},className:he,children:"YouTube"}),b.jsx("button",{type:"button",onClick:()=>{D(!P),n(!1),u(!1),E(!1),ue(!1),ae(!1)},className:he,children:"Substack"}),b.jsx("button",{type:"button",onClick:()=>{ue(!Z),n(!1),u(!1),E(!1),D(!1),ae(!1)},className:he,children:"Instagram"}),b.jsx("button",{type:"button",onClick:()=>{ae(!Se),n(!1),u(!1),E(!1),D(!1),ue(!1)},className:he,children:"Spotify"})]}),e&&b.jsxs("div",{className:"flex gap-2 items-center flex-wrap",children:[b.jsx("input",{type:"url",value:i,onChange:A=>s(A.target.value),placeholder:"https://...",className:"flex-1 min-w-[280px] px-4 py-2 bg-white/5 border border-white/20 rounded text-white text-sm placeholder-white/40 focus:outline-none focus:border-white/50",onKeyDown:A=>A.key==="Enter"&&a()}),b.jsx("button",{type:"button",onClick:a,className:"px-3 py-1.5 bg-white/10 text-white text-xs uppercase hover:bg-white/20",children:"Set"}),b.jsx("button",{type:"button",onClick:()=>t.chain().focus().unsetLink().run(),className:"px-3 py-1.5 text-red-400/80 hover:text-red-400 text-xs",children:"Remove link"})]}),c&&b.jsxs("div",{className:"flex gap-2 items-center flex-wrap",children:[b.jsx("input",{type:"url",value:f,onChange:A=>h(A.target.value),placeholder:"Image URL",className:"flex-1 min-w-[280px] px-4 py-2 bg-white/5 border border-white/20 rounded text-white text-sm placeholder-white/40 focus:outline-none focus:border-white/50",onKeyDown:A=>A.key==="Enter"&&p()}),b.jsx("button",{type:"button",onClick:p,className:"px-3 py-1.5 bg-white/10 text-white text-xs uppercase hover:bg-white/20",children:"Insert"}),v&&b.jsxs(b.Fragment,{children:[b.jsx("input",{ref:g,type:"file",accept:"image/jpeg,image/png,image/gif,image/webp",onChange:x,className:"hidden"}),b.jsx("button",{type:"button",onClick:()=>g.current?.click(),disabled:w,className:"px-3 py-1.5 border border-white/30 text-white text-xs uppercase hover:border-white/50 disabled:opacity-50",children:w?"Uploading":"Upload"})]})]}),k&&b.jsxs("div",{className:"flex gap-2 items-center flex-wrap",children:[b.jsx("input",{type:"url",value:T,onChange:A=>M(A.target.value),placeholder:"YouTube URL (youtube.com/watch?v=... or youtu.be/...)",className:"flex-1 min-w-[320px] px-4 py-2 bg-white/5 border border-white/20 rounded text-white text-sm placeholder-white/40 focus:outline-none focus:border-white/50",onKeyDown:A=>A.key==="Enter"&&z()}),b.jsx("button",{type:"button",onClick:z,className:"px-3 py-1.5 bg-white/10 text-white text-xs uppercase hover:bg-white/20",children:"Embed"})]}),P&&b.jsxs("div",{className:"flex gap-2 items-center flex-wrap",children:[b.jsx("input",{type:"url",value:$,onChange:A=>L(A.target.value),placeholder:"Substack post URL (e.g. author.substack.com/p/post-slug)",className:"flex-1 min-w-[320px] px-4 py-2 bg-white/5 border border-white/20 rounded text-white text-sm placeholder-white/40 focus:outline-none focus:border-white/50",onKeyDown:A=>A.key==="Enter"&&G()}),b.jsx("button",{type:"button",onClick:G,className:"px-3 py-1.5 bg-white/10 text-white text-xs uppercase hover:bg-white/20",children:"Embed"})]}),Z&&b.jsxs("div",{className:"flex gap-2 items-center flex-wrap",children:[b.jsx("input",{type:"url",value:Ve,onChange:A=>ie(A.target.value),placeholder:"Instagram post or reel URL (instagram.com/p/... or /reel/...)",className:"flex-1 min-w-[320px] px-4 py-2 bg-white/5 border border-white/20 rounded text-white text-sm placeholder-white/40 focus:outline-none focus:border-white/50",onKeyDown:A=>A.key==="Enter"&&Me()}),b.jsx("button",{type:"button",onClick:Me,className:"px-3 py-1.5 bg-white/10 text-white text-xs uppercase hover:bg-white/20",children:"Embed"})]}),Se&&b.jsxs("div",{className:"flex gap-2 items-center flex-wrap",children:[b.jsx("input",{type:"url",value:U,onChange:A=>Q(A.target.value),placeholder:"Spotify URL (track, album, playlist, episode, show, artist)",className:"flex-1 min-w-[320px] px-4 py-2 bg-white/5 border border-white/20 rounded text-white text-sm placeholder-white/40 focus:outline-none focus:border-white/50",onKeyDown:A=>A.key==="Enter"&&re()}),b.jsx("button",{type:"button",onClick:re,className:"px-3 py-1.5 bg-white/10 text-white text-xs uppercase hover:bg-white/20",children:"Embed"})]})]})}function bL(){gt("Admin - Create Article");const t=ns(),e=C.useRef(null),[n,i]=C.useState(""),[s,a]=C.useState(""),[c,u]=C.useState(""),[f,h]=C.useState(""),[p,g]=C.useState(!1),[x,v]=C.useState(!1),[w,k]=C.useState(""),E=async M=>{const z=M.target.files?.[0];if(!z)return;if(!["image/jpeg","image/png","image/gif","image/webp"].includes(z.type)){k("Use JPEG, PNG, GIF, or WebP");return}if(z.size>5*1024*1024){k("Image must be under 5MB");return}k(""),g(!0);try{const D=new FormData;D.append("thumbnail",z);const{data:$}=await $e.post("/upload-thumbnail",D,{headers:{"Content-Type":"multipart/form-data"}});h($.url)}catch{k("Failed to upload thumbnail")}finally{g(!1),e.current&&(e.current.value="")}},T=async M=>{if(M.preventDefault(),k(""),!n.trim()){k("Title is required");return}if(!c.trim()){k("Short description is required");return}v(!0);try{await $e.post("/articles",{title:n.trim(),thumbnail:f,shortDescription:c.trim(),content:s}),t("/admin/articles")}catch(z){const P=z?.response?.data?.error;k(P||"Failed to create article")}finally{v(!1)}};return b.jsxs("div",{className:"p-8 md:p-12 lg:p-16 max-w-5xl mx-auto",children:[b.jsxs("div",{className:"flex items-center justify-between mb-10",children:[b.jsx("h1",{className:"font-serif text-3xl md:text-4xl font-normal text-white",children:"Create Article"}),b.jsx("button",{type:"button",onClick:()=>t("/admin/articles"),className:"text-white/60 hover:text-white text-sm uppercase tracking-wider transition-colors",children:" Back to list"})]}),b.jsxs("form",{onSubmit:T,className:"space-y-10",children:[w&&b.jsx("div",{className:"px-5 py-4 bg-red-500/10 border border-red-500/30 rounded text-red-400 text-sm",children:w}),b.jsxs("section",{className:"space-y-6",children:[b.jsx("h2",{className:"text-xs font-medium tracking-[0.2em] uppercase text-white/40 border-b border-white/10 pb-3",children:"Basics"}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-medium tracking-widest uppercase text-white/60 mb-3",children:"Title"}),b.jsx("input",{type:"text",value:n,onChange:M=>i(M.target.value),className:"w-full max-w-full px-5 py-4 text-base bg-white/5 border border-white/20 rounded text-white placeholder-white/40 focus:outline-none focus:border-white/50 focus:ring-1 focus:ring-white/20 transition-colors",placeholder:"Article title"})]}),b.jsxs("div",{children:[b.jsxs("label",{className:"block text-xs font-medium tracking-widest uppercase text-white/60 mb-3",children:["Short description ",b.jsx("span",{className:"text-red-400",children:"*"})]}),b.jsx("textarea",{value:c,onChange:M=>u(M.target.value),rows:4,required:!0,className:"w-full max-w-full px-5 py-4 text-base bg-white/5 border border-white/20 rounded text-white placeholder-white/40 focus:outline-none focus:border-white/50 focus:ring-1 focus:ring-white/20 resize-y transition-colors",placeholder:"Brief description (required)"})]})]}),b.jsxs("section",{className:"space-y-6",children:[b.jsx("h2",{className:"text-xs font-medium tracking-[0.2em] uppercase text-white/40 border-b border-white/10 pb-3",children:"Thumbnail"}),b.jsxs("div",{className:"flex flex-col sm:flex-row items-start gap-6",children:[b.jsx("div",{className:"shrink-0 w-full sm:w-48 h-36 bg-white/5 border border-white/20 rounded overflow-hidden flex items-center justify-center",children:f?b.jsx("img",{src:f,alt:"Thumbnail",className:"w-full h-full object-cover"}):p?b.jsx("span",{className:"text-white/50 text-sm",children:"Uploading"}):b.jsx("span",{className:"text-white/40 text-sm text-center px-4",children:"No image"})}),b.jsxs("div",{className:"flex flex-col gap-2",children:[b.jsx("input",{ref:e,type:"file",accept:"image/jpeg,image/png,image/gif,image/webp",onChange:E,className:"hidden"}),b.jsx("button",{type:"button",onClick:()=>e.current?.click(),disabled:p,className:"px-6 py-3 border border-white/30 text-white text-sm uppercase tracking-wider hover:border-white/50 hover:bg-white/5 rounded transition-colors disabled:opacity-50",children:p?"Uploading":"Choose image"}),f&&b.jsx("button",{type:"button",onClick:()=>h(""),className:"text-red-400/80 hover:text-red-400 text-sm",children:"Remove"}),b.jsx("p",{className:"text-white/40 text-xs",children:"JPEG, PNG, GIF, or WebP. Max 5MB."})]})]})]}),b.jsxs("section",{className:"space-y-6",children:[b.jsx("h2",{className:"text-xs font-medium tracking-[0.2em] uppercase text-white/40 border-b border-white/10 pb-3",children:"Content"}),b.jsx("div",{children:b.jsx($k,{value:s,onChange:a,onImageUpload:async M=>{const z=new FormData;z.append("image",M);const{data:P}=await $e.post("/upload-image",z,{headers:{"Content-Type":"multipart/form-data"}});return P.url}})})]}),b.jsxs("div",{className:"flex flex-wrap gap-4 pt-4 border-t border-white/10",children:[b.jsx("button",{type:"submit",disabled:x,className:"px-8 py-4 bg-white text-black text-sm font-medium tracking-widest uppercase hover:bg-white/90 disabled:opacity-50 rounded transition-colors",children:x?"Creating":"Create Article"}),b.jsx("button",{type:"button",onClick:()=>t("/admin/articles"),className:"px-8 py-4 border border-white/30 text-white text-sm font-medium tracking-widest uppercase hover:border-white/50 hover:bg-white/5 rounded transition-colors",children:"Cancel"})]})]})]})}function xL(){const t=ns(),{id:e}=v1(),n=C.useRef(null),[i,s]=C.useState(""),[a,c]=C.useState(""),[u,f]=C.useState(""),[h,p]=C.useState(""),[g,x]=C.useState(!0),[v,w]=C.useState(!1),[k,E]=C.useState(!1),[T,M]=C.useState("");gt(i?`Admin - Edit: ${i}`:"Admin - Edit Article"),C.useEffect(()=>{e&&$e.get(`/articles/${e}`).then(({data:D})=>{s(D.title),c(D.content||""),f(D.shortDescription||""),p(D.thumbnail||"")}).catch(()=>M("Article not found")).finally(()=>x(!1))},[e]);const z=async D=>{const $=D.target.files?.[0];if(!$)return;if(!["image/jpeg","image/png","image/gif","image/webp"].includes($.type)){M("Use JPEG, PNG, GIF, or WebP");return}if($.size>5*1024*1024){M("Image must be under 5MB");return}M(""),w(!0);try{const G=new FormData;G.append("thumbnail",$);const{data:Z}=await $e.post("/upload-thumbnail",G,{headers:{"Content-Type":"multipart/form-data"}});p(Z.url)}catch{M("Failed to upload thumbnail")}finally{w(!1),n.current&&(n.current.value="")}},P=async D=>{if(D.preventDefault(),M(""),!i.trim()){M("Title is required");return}if(!u.trim()){M("Short description is required");return}if(e){E(!0);try{await $e.put(`/articles/${e}`,{title:i.trim(),thumbnail:h,shortDescription:u.trim(),content:a}),t("/admin/articles")}catch($){const L=$?.response?.data?.error;M(L||"Failed to update article")}finally{E(!1)}}};return g?b.jsx("div",{className:"p-8 md:p-12 lg:p-16 max-w-5xl mx-auto",children:b.jsx("p",{className:"text-white/60",children:"Loading"})}):b.jsxs("div",{className:"p-8 md:p-12 lg:p-16 max-w-5xl mx-auto",children:[b.jsxs("div",{className:"flex items-center justify-between mb-10",children:[b.jsx("h1",{className:"font-serif text-3xl md:text-4xl font-normal text-white",children:"Edit Article"}),b.jsx("button",{type:"button",onClick:()=>t("/admin/articles"),className:"text-white/60 hover:text-white text-sm uppercase tracking-wider transition-colors",children:" Back to list"})]}),b.jsxs("form",{onSubmit:P,className:"space-y-10",children:[T&&b.jsx("div",{className:"px-5 py-4 bg-red-500/10 border border-red-500/30 rounded text-red-400 text-sm",children:T}),b.jsxs("section",{className:"space-y-6",children:[b.jsx("h2",{className:"text-xs font-medium tracking-[0.2em] uppercase text-white/40 border-b border-white/10 pb-3",children:"Basics"}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-medium tracking-widest uppercase text-white/60 mb-3",children:"Title"}),b.jsx("input",{type:"text",value:i,onChange:D=>s(D.target.value),className:"w-full max-w-full px-5 py-4 text-base bg-white/5 border border-white/20 rounded text-white placeholder-white/40 focus:outline-none focus:border-white/50 focus:ring-1 focus:ring-white/20 transition-colors",placeholder:"Article title"})]}),b.jsxs("div",{children:[b.jsxs("label",{className:"block text-xs font-medium tracking-widest uppercase text-white/60 mb-3",children:["Short description ",b.jsx("span",{className:"text-red-400",children:"*"})]}),b.jsx("textarea",{value:u,onChange:D=>f(D.target.value),rows:4,required:!0,className:"w-full max-w-full px-5 py-4 text-base bg-white/5 border border-white/20 rounded text-white placeholder-white/40 focus:outline-none focus:border-white/50 focus:ring-1 focus:ring-white/20 resize-y transition-colors",placeholder:"Brief description (required)"})]})]}),b.jsxs("section",{className:"space-y-6",children:[b.jsx("h2",{className:"text-xs font-medium tracking-[0.2em] uppercase text-white/40 border-b border-white/10 pb-3",children:"Thumbnail"}),b.jsxs("div",{className:"flex flex-col sm:flex-row items-start gap-6",children:[b.jsx("div",{className:"shrink-0 w-full sm:w-48 h-36 bg-white/5 border border-white/20 rounded overflow-hidden flex items-center justify-center",children:h?b.jsx("img",{src:h,alt:"Thumbnail",className:"w-full h-full object-cover"}):v?b.jsx("span",{className:"text-white/50 text-sm",children:"Uploading"}):b.jsx("span",{className:"text-white/40 text-sm text-center px-4",children:"No image"})}),b.jsxs("div",{className:"flex flex-col gap-2",children:[b.jsx("input",{ref:n,type:"file",accept:"image/jpeg,image/png,image/gif,image/webp",onChange:z,className:"hidden"}),b.jsx("button",{type:"button",onClick:()=>n.current?.click(),disabled:v,className:"px-6 py-3 border border-white/30 text-white text-sm uppercase tracking-wider hover:border-white/50 hover:bg-white/5 rounded transition-colors disabled:opacity-50",children:v?"Uploading":"Choose image"}),h&&b.jsx("button",{type:"button",onClick:()=>p(""),className:"text-red-400/80 hover:text-red-400 text-sm",children:"Remove"}),b.jsx("p",{className:"text-white/40 text-xs",children:"JPEG, PNG, GIF, or WebP. Max 5MB."})]})]})]}),b.jsxs("section",{className:"space-y-6",children:[b.jsx("h2",{className:"text-xs font-medium tracking-[0.2em] uppercase text-white/40 border-b border-white/10 pb-3",children:"Content"}),b.jsx("div",{children:b.jsx($k,{value:a,onChange:c,onImageUpload:async D=>{const $=new FormData;$.append("image",D);const{data:L}=await $e.post("/upload-image",$,{headers:{"Content-Type":"multipart/form-data"}});return L.url}})})]}),b.jsxs("div",{className:"flex flex-wrap gap-4 pt-4 border-t border-white/10",children:[b.jsx("button",{type:"submit",disabled:k,className:"px-8 py-4 bg-white text-black text-sm font-medium tracking-widest uppercase hover:bg-white/90 disabled:opacity-50 rounded transition-colors",children:k?"Saving":"Save Changes"}),b.jsx("button",{type:"button",onClick:()=>t("/admin/articles"),className:"px-8 py-4 border border-white/30 text-white text-sm font-medium tracking-widest uppercase hover:border-white/50 hover:bg-white/5 rounded transition-colors",children:"Cancel"})]})]})]})}const da=5;function vL(){gt("Admin - Testimonials");const t=C.useRef(null),[e,n]=C.useState([]),[i,s]=C.useState(!0),[a,c]=C.useState(null),[u,f]=C.useState(""),[h,p]=C.useState(""),[g,x]=C.useState(""),[v,w]=C.useState(!1),[k,E]=C.useState(!1),[T,M]=C.useState(""),z=async()=>{try{const{data:ie}=await $e.get("/testimonials");n(ie||[])}catch{n([])}finally{s(!1)}};C.useEffect(()=>{z()},[]);const P=()=>{c(null),f(""),p(""),x(""),M("")},D=async ie=>{const Me=ie.target.files?.[0];if(!Me)return;if(!["image/jpeg","image/png","image/gif","image/webp"].includes(Me.type)){M("Use JPEG, PNG, GIF, or WebP");return}if(Me.size>5*1024*1024){M("Image must be under 5MB");return}M(""),w(!0);try{const ae=new FormData;ae.append("image",Me);const{data:U}=await $e.post("/upload-testimonial-image",ae,{headers:{"Content-Type":"multipart/form-data"}});p(U.url)}catch{M("Failed to upload image")}finally{w(!1),t.current&&(t.current.value="")}},$=async ie=>{if(ie.preventDefault(),M(""),!u.trim()){M("Name is required");return}if(!g.trim()){M("Quote is required");return}E(!0);try{if(a)await $e.put(`/testimonials/${a}`,{name:u.trim(),image:h,quote:g.trim()}),await z(),P();else{if(e.length>=da){M(`Maximum of ${da} testimonials allowed.`);return}await $e.post("/testimonials",{name:u.trim(),image:h,quote:g.trim()}),await z(),P()}}catch(Me){const Se=Me?.response?.data?.error;M(Se||"Failed to save testimonial")}finally{E(!1)}},L=ie=>{c(ie._id),f(ie.name),p(ie.image),x(ie.quote),M("")},G=async ie=>{if(confirm("Delete this testimonial?"))try{await $e.delete(`/testimonials/${ie}`),await z(),a===ie&&P()}catch{M("Failed to delete")}},Z=e.length<da,ue=a?"Edit testimonial":"Add testimonial",Ve=a?"Update":"Add testimonial";return b.jsxs("div",{className:"p-8 md:p-12 lg:p-16 max-w-5xl mx-auto",children:[b.jsx("h1",{className:"font-serif text-3xl md:text-4xl font-normal text-white mb-2",children:"Testimonials"}),b.jsxs("p",{className:"text-white/60 text-sm mb-10",children:["Manage testimonials shown on the homepage. Maximum ",da," allowed."]}),(Z||a)&&b.jsxs("form",{onSubmit:$,className:"mb-12 p-6 border border-white/20 rounded-lg space-y-6",children:[b.jsx("h2",{className:"text-xs font-medium tracking-[0.2em] uppercase text-white/40",children:ue}),T&&b.jsx("div",{className:"px-5 py-4 bg-red-500/10 border border-red-500/30 rounded text-red-400 text-sm",children:T}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-medium tracking-widest uppercase text-white/60 mb-3",children:"Name"}),b.jsx("input",{type:"text",value:u,onChange:ie=>f(ie.target.value),className:"w-full px-5 py-4 text-base bg-white/5 border border-white/20 rounded text-white placeholder-white/40 focus:outline-none focus:border-white/50",placeholder:"e.g. Partner, Am Law 100",required:!0})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-medium tracking-widest uppercase text-white/60 mb-3",children:"Image"}),b.jsxs("div",{className:"flex flex-col sm:flex-row items-start gap-6",children:[b.jsx("div",{className:"shrink-0 w-20 h-20 bg-white/5 border border-white/20 rounded-full overflow-hidden flex items-center justify-center",children:h?b.jsx("img",{src:h,alt:"",className:"w-full h-full object-cover"}):v?b.jsx("span",{className:"text-white/50 text-xs",children:"Uploading"}):b.jsx("span",{className:"text-white/40 text-xs",children:"No image"})}),b.jsxs("div",{className:"flex flex-col gap-2",children:[b.jsx("input",{ref:t,type:"file",accept:"image/jpeg,image/png,image/gif,image/webp",onChange:D,className:"hidden"}),b.jsx("button",{type:"button",onClick:()=>t.current?.click(),disabled:v,className:"px-6 py-3 border border-white/30 text-white text-sm uppercase tracking-wider hover:border-white/50 hover:bg-white/5 rounded transition-colors disabled:opacity-50",children:v?"Uploading":"Choose image"}),h&&b.jsx("button",{type:"button",onClick:()=>p(""),className:"text-red-400/80 hover:text-red-400 text-sm",children:"Remove"}),b.jsx("p",{className:"text-white/40 text-xs",children:"JPEG, PNG, GIF, or WebP. Max 5MB."})]})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-medium tracking-widest uppercase text-white/60 mb-3",children:"Quote"}),b.jsx("textarea",{value:g,onChange:ie=>x(ie.target.value),rows:4,required:!0,className:"w-full px-5 py-4 text-base bg-white/5 border border-white/20 rounded text-white placeholder-white/40 focus:outline-none focus:border-white/50 resize-y",placeholder:"Testimonial quote"})]}),b.jsxs("div",{className:"flex gap-4",children:[b.jsx("button",{type:"submit",disabled:k,className:"px-8 py-4 bg-white text-black text-sm font-medium tracking-widest uppercase hover:bg-white/90 disabled:opacity-50 rounded",children:k?"Saving":Ve}),a&&b.jsx("button",{type:"button",onClick:P,className:"px-8 py-4 border border-white/30 text-white text-sm font-medium tracking-widest uppercase hover:border-white/50 hover:bg-white/5 rounded",children:"Cancel"})]})]}),!Z&&!a&&b.jsxs("div",{className:"mb-12 px-6 py-4 bg-amber-500/10 border border-amber-500/30 rounded text-amber-400 text-sm",children:["Maximum of ",da," testimonials reached. Delete one to add another."]}),b.jsxs("section",{children:[b.jsx("h2",{className:"text-xs font-medium tracking-[0.2em] uppercase text-white/40 mb-4",children:"Current testimonials"}),i?b.jsx("div",{className:"space-y-4",children:[1,2].map(ie=>b.jsx("div",{className:"h-24 bg-white/5 rounded animate-pulse"},ie))}):e.length===0?b.jsx("p",{className:"text-white/50 text-sm",children:"No testimonials yet."}):b.jsx("div",{className:"space-y-6",children:e.map(ie=>b.jsxs("div",{className:"flex gap-6 p-6 border border-white/20 rounded-lg items-start",children:[b.jsx("div",{className:"shrink-0 w-16 h-16 rounded-full overflow-hidden bg-white/5 border border-white/20 flex items-center justify-center",children:ie.image?b.jsx("img",{src:ie.image,alt:ie.name,className:"w-full h-full object-cover"}):b.jsx("span",{className:"text-white/40 text-xs",children:"No img"})}),b.jsxs("div",{className:"flex-1 min-w-0",children:[b.jsx("p",{className:"text-white font-medium",children:ie.name}),b.jsxs("p",{className:"text-white/70 text-sm mt-1 line-clamp-2",children:["",ie.quote,""]})]}),b.jsxs("div",{className:"shrink-0 flex gap-2",children:[b.jsx("button",{type:"button",onClick:()=>L(ie),className:"px-4 py-2 text-sm text-white/80 hover:text-white border border-white/30 hover:border-white/50 rounded transition-colors",children:"Edit"}),b.jsx("button",{type:"button",onClick:()=>G(ie._id),className:"px-4 py-2 text-sm text-red-400/80 hover:text-red-400 border border-red-500/30 hover:border-red-500/50 rounded transition-colors",children:"Delete"})]})]},ie._id))})]})]})}const wL=[{id:"",label:"All"},{id:"contact",label:"Contact"},{id:"private-work",label:"Private Work"},{id:"for-law-firms",label:"For Law Firms"}],SL={contact:"Contact","private-work":"Private Work","for-law-firms":"For Law Firms"};function kL(){gt("Admin - Inquiries");const[t,e]=C.useState([]),[n,i]=C.useState(!0),[s,a]=C.useState(""),c=async()=>{i(!0);try{const p=s?{source:s}:{},{data:g}=await $e.get("/inquiries",{params:p});e(g||[])}catch{e([])}finally{i(!1)}};C.useEffect(()=>{c()},[s]);const u=p=>{try{return new Date(p).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit"})}catch{return p}},f=async p=>{try{await $e.patch(`/inquiries/${p}/read`),e(g=>g.map(x=>x._id===p?{...x,read:!0}:x))}catch{}},h=async p=>{if(confirm("Delete this inquiry?"))try{await $e.delete(`/inquiries/${p}`),e(g=>g.filter(x=>x._id!==p))}catch{}};return b.jsxs("div",{className:"p-8 md:p-12 lg:p-16 max-w-5xl mx-auto",children:[b.jsx("h1",{className:"font-serif text-3xl md:text-4xl font-normal text-white mb-2",children:"Inquiries"}),b.jsx("p",{className:"text-white/60 text-sm mb-10",children:"Form submissions from Contact, Private Work, and For Law Firms pages."}),b.jsx("div",{className:"flex flex-wrap gap-2 border-b border-white/20 pb-6 mb-8",children:wL.map(({id:p,label:g})=>b.jsx("button",{type:"button",onClick:()=>a(p),className:`px-5 py-2.5 text-sm font-medium tracking-wide rounded transition-colors ${s===p?"bg-white text-black":"text-white/70 hover:text-white hover:bg-white/10"}`,children:g},p||"all"))}),n?b.jsx("div",{className:"space-y-4",children:[1,2,3].map(p=>b.jsx("div",{className:"h-32 bg-white/5 rounded animate-pulse"},p))}):t.length===0?b.jsx("p",{className:"text-white/50 text-sm",children:"No inquiries yet."}):b.jsx("div",{className:"space-y-6",children:t.map(p=>b.jsxs("div",{className:`p-6 border rounded-lg transition-colors ${p.read?"border-white/10 bg-white/5":"border-white/20 bg-white/[0.07]"}`,children:[b.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-4 mb-4",children:[b.jsxs("div",{children:[b.jsx("span",{className:"text-[10px] font-medium tracking-widest uppercase text-white/50 px-2 py-1 bg-white/10 rounded",children:SL[p.source]||p.source}),b.jsx("p",{className:"text-white font-medium mt-2",children:p.name}),b.jsx("a",{href:`mailto:${p.email}`,className:"text-sm text-white/60 hover:text-white transition-colors",children:p.email})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("span",{className:"text-white/40 text-xs",children:u(p.createdAt)}),!p.read&&b.jsx("button",{type:"button",onClick:()=>f(p._id),className:"text-xs text-white/60 hover:text-white uppercase tracking-wider",children:"Mark read"}),b.jsx("button",{type:"button",onClick:()=>h(p._id),className:"text-xs text-red-400/80 hover:text-red-400 uppercase tracking-wider",children:"Delete"})]})]}),p.message&&b.jsx("p",{className:"text-white/80 text-sm leading-relaxed whitespace-pre-wrap border-t border-white/10 pt-4",children:p.message})]},p._id))})]})}function EL(){return gt("Page not found"),b.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center px-6 bg-white",children:[b.jsx("p",{className:"text-xs font-medium tracking-[0.3em] uppercase text-black/50 mb-4",children:"404"}),b.jsx("h1",{className:"font-serif text-4xl md:text-5xl font-normal text-black tracking-tight text-center mb-6",children:"Page not found"}),b.jsx("p",{className:"text-black/60 text-center max-w-md mb-12",children:"The page you're looking for doesn't exist or has been moved."}),b.jsx(je,{to:"/",className:"inline-block px-8 py-4 border border-black text-black text-sm font-medium tracking-widest uppercase hover:bg-black hover:text-white transition-colors",children:"Back to home"})]})}function NL(){const[t,e]=C.useState("loading");return C.useEffect(()=>{fetch("http://localhost:3000/api/admin/verify",{credentials:"include"}).then(n=>n.ok?e("authorized"):e("unauthorized")).catch(()=>e("unauthorized"))},[]),t==="loading"?b.jsx("div",{className:"min-h-screen flex items-center justify-center bg-black",children:b.jsx("div",{className:"w-px h-12 bg-white/30 animate-pulse"})}):t==="unauthorized"?b.jsx(EL,{}):b.jsx(Wp,{})}const TL=[{to:"/admin",label:"Dashboard",icon:b.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-5 h-5 shrink-0",children:[b.jsx("rect",{x:"3",y:"3",width:"7",height:"7",rx:"1"}),b.jsx("rect",{x:"14",y:"3",width:"7",height:"7",rx:"1"}),b.jsx("rect",{x:"14",y:"14",width:"7",height:"7",rx:"1"}),b.jsx("rect",{x:"3",y:"14",width:"7",height:"7",rx:"1"})]})},{to:"/admin/inquiries",label:"Inquiries",icon:b.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-5 h-5 shrink-0",children:[b.jsx("path",{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}),b.jsx("polyline",{points:"22,6 12,13 2,6"})]})},{to:"/admin/testimonials",label:"Testimonials",icon:b.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-5 h-5 shrink-0",children:b.jsx("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})})},{to:"/admin/articles",label:"Articles",icon:b.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-5 h-5 shrink-0",children:[b.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),b.jsx("path",{d:"M14 2v6h6"}),b.jsx("path",{d:"M16 13H8"}),b.jsx("path",{d:"M16 17H8"}),b.jsx("path",{d:"M10 9H8"})]})},{to:"/admin/settings",label:"Settings",icon:b.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-5 h-5 shrink-0",children:[b.jsx("path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"}),b.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}];function CL(){const t=ns(),e=async()=>{try{await $e.post("/logout"),t("/mac-/adam/admin/69846d7f374584e675d7fa28")}catch{t("/mac-/adam/admin/69846d7f374584e675d7fa28")}};return b.jsxs("div",{className:"min-h-screen flex bg-black",children:[b.jsxs("aside",{className:"w-72 shrink-0 border-r border-white/10 flex flex-col",children:[b.jsx("div",{className:"p-6 border-b border-white/10",children:b.jsx("p",{className:"text-xs font-medium tracking-widest uppercase text-white/50",children:"Admin"})}),b.jsx("nav",{className:"flex-1 py-6",children:TL.map(({to:n,label:i,icon:s})=>b.jsxs(C1,{to:n,end:n==="/admin",className:({isActive:a})=>`flex items-center gap-4 px-6 py-4 mx-2 rounded-lg text-sm font-medium tracking-wide transition-all ${a?"bg-white/10 text-white":"text-white/60 hover:text-white hover:bg-white/5"}`,children:[s,i]},n))}),b.jsx("div",{className:"p-6 border-t border-white/10",children:b.jsxs("button",{type:"button",onClick:e,className:"flex items-center gap-4 w-full px-6 py-4 mx-2 rounded-lg text-sm font-medium tracking-widest uppercase text-white/60 hover:text-white hover:bg-white/5 transition-all",children:[b.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-5 h-5 shrink-0",children:[b.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),b.jsx("polyline",{points:"16 17 21 12 16 7"}),b.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),"Logout"]})})]}),b.jsx("main",{className:"flex-1 overflow-auto",children:b.jsx(Wp,{})})]})}function AL(){return b.jsxs(KC,{children:[b.jsx(a2,{}),b.jsxs(wC,{children:[b.jsxs(nt,{path:"/",element:b.jsx(s2,{}),children:[b.jsx(nt,{index:!0,element:b.jsx(VA,{})}),b.jsx(nt,{path:"regulation-reset",element:b.jsx($A,{})}),b.jsx(nt,{path:"courses",element:b.jsx(KA,{})}),b.jsx(nt,{path:"private-work",element:b.jsx(GA,{})}),b.jsx(nt,{path:"for-law-firms",element:b.jsx(JA,{})}),b.jsx(nt,{path:"about",element:b.jsx(XA,{})}),b.jsx(nt,{path:"contact",element:b.jsx(WA,{})}),b.jsx(nt,{path:"articles",element:b.jsx(QA,{})}),b.jsx(nt,{path:"articles/:id",element:b.jsx(eM,{})})]}),b.jsx(nt,{path:"/admin/signup",element:b.jsx(nM,{})}),b.jsx(nt,{path:"/mac-/adam/admin/69846d7f374584e675d7fa28",element:b.jsx(iM,{})}),b.jsx(nt,{path:"/admin",element:b.jsx(NL,{}),children:b.jsxs(nt,{element:b.jsx(CL,{}),children:[b.jsx(nt,{index:!0,element:b.jsx(rM,{})}),b.jsx(nt,{path:"settings",element:b.jsx(sM,{})}),b.jsx(nt,{path:"articles",element:b.jsx(uM,{})}),b.jsx(nt,{path:"articles/new",element:b.jsx(bL,{})}),b.jsx(nt,{path:"articles/:id/edit",element:b.jsx(xL,{})}),b.jsx(nt,{path:"testimonials",element:b.jsx(vL,{})}),b.jsx(nt,{path:"inquiries",element:b.jsx(kL,{})})]})})]})]})}ST.createRoot(document.getElementById("root")).render(b.jsx(C.StrictMode,{children:b.jsx(AL,{})}));
